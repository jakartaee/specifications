<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) -->
<title>TransactionSynchronizationRegistry (Jakarta EE Web Profile API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: module: jakarta.transaction, package: jakarta.transaction, interface: TransactionSynchronizationRegistry">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>Jakarta EE Web Profile API v11.0.0-M2</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/TransactionSynchronizationRegistry.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../module-summary.html">jakarta.transaction</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.transaction</a></div>
<h1 title="Interface TransactionSynchronizationRegistry" class="title">Interface TransactionSynchronizationRegistry</h1>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">TransactionSynchronizationRegistry</span></div>
<div class="block">This interface is intended for use by system level application server
 components such as persistence managers, resource adapters, as well as
 Jakarta Enterprise Beans and Web application components. This provides the ability to
 register synchronization objects with special ordering semantics,
 associate resource objects with the current transaction, get the
 transaction context of the current transaction, get current transaction
 status, and mark the current transaction for rollback.

 This interface is implemented by the application server by a
 stateless service object. The same object can be used by any number of
 components with thread safety.

 <P>In standard application server environments, an instance
 implementing this interface can be looked up by a standard name via JNDI.
 The standard name is java:comp/TransactionSynchronizationRegistry.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>JTA 1.1</dd>
<dt>Version:</dt>
<dd>Jakarta Transactions 2.0</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getResource(java.lang.Object)" class="member-name-link">getResource</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get an object from the Map of resources being managed for
 the transaction bound to the current thread at the time this 
 method is called.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getRollbackOnly()" class="member-name-link">getRollbackOnly</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the rollbackOnly status of the transaction bound to the
 current thread at the time this method is called.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTransactionKey()" class="member-name-link">getTransactionKey</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return an opaque object to represent the transaction bound to the
 current thread at the time this method is called.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTransactionStatus()" class="member-name-link">getTransactionStatus</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return the status of the transaction bound to the
 current thread at the time this method is called.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#putResource(java.lang.Object,java.lang.Object)" class="member-name-link">putResource</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Add or replace an object in the Map of resources being managed for
 the transaction bound to the current thread at the time this 
 method is called.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#registerInterposedSynchronization(jakarta.transaction.Synchronization)" class="member-name-link">registerInterposedSynchronization</a><wbr>(<a href="Synchronization.html" title="interface in jakarta.transaction">Synchronization</a>&nbsp;sync)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Register a Synchronization instance with special ordering
 semantics.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setRollbackOnly()" class="member-name-link">setRollbackOnly</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Set the rollbackOnly status of the transaction bound to the
 current thread at the time this method is called.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getTransactionKey()">
<h3>getTransactionKey</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getTransactionKey</span>()</div>
<div class="block">Return an opaque object to represent the transaction bound to the
 current thread at the time this method is called. This object
 overrides hashCode and equals to allow its use as the key in a
 hashMap for use by the caller. If there is no transaction currently
 active, return null.
 
 <P>This object will return the same hashCode and compare equal to
 all other objects returned by calling this method
 from any component executing in the same transaction context in the
 same application server.
 
 <P>The toString method returns a String that might be usable by a
 human reader to usefully understand the transaction context. The
 toString result is otherwise not defined. Specifically, there is no
 forward or backward compatibility guarantee of the results of
 toString.
 
 <P>The object is not necessarily serializable, and has no defined
 behavior outside the virtual machine whence it was obtained.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an opaque object representing the transaction bound to the 
 current thread at the time this method is called.</dd>
<dt>Since:</dt>
<dd>JTA 1.1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="putResource(java.lang.Object,java.lang.Object)">
<h3>putResource</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">putResource</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</span></div>
<div class="block">Add or replace an object in the Map of resources being managed for
 the transaction bound to the current thread at the time this 
 method is called. The supplied key should be of an caller-
 defined class so as not to conflict with other users. The class
 of the key must guarantee that the hashCode and equals methods are
 suitable for use as keys in a map. The key and value are not examined
 or used by the implementation. The general contract of this method
 is that of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#put(K,V)" title="class or interface in java.util" class="external-link"><code>Map.put(Object, Object)</code></a> for a Map that
 supports non-null keys and null values. For example, 
 if there is already an value associated with the key, it is replaced 
 by the value parameter.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key for the Map entry.</dd>
<dd><code>value</code> - the value for the Map entry.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if no transaction is active.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - if the parameter key is null.</dd>
<dt>Since:</dt>
<dd>JTA 1.1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getResource(java.lang.Object)">
<h3>getResource</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getResource</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block">Get an object from the Map of resources being managed for
 the transaction bound to the current thread at the time this 
 method is called. The key should have been supplied earlier
 by a call to putResouce in the same transaction. If the key 
 cannot be found in the current resource Map, null is returned.
 The general contract of this method
 is that of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#get(java.lang.Object)" title="class or interface in java.util" class="external-link"><code>Map.get(Object)</code></a> for a Map that
 supports non-null keys and null values. For example, 
 the returned value is null if there is no entry for the parameter
 key or if the value associated with the key is actually null.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key for the Map entry.</dd>
<dt>Returns:</dt>
<dd>the value associated with the key.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if no transaction is active.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - if the parameter key is null.</dd>
<dt>Since:</dt>
<dd>JTA 1.1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="registerInterposedSynchronization(jakarta.transaction.Synchronization)">
<h3>registerInterposedSynchronization</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">registerInterposedSynchronization</span><wbr><span class="parameters">(<a href="Synchronization.html" title="interface in jakarta.transaction">Synchronization</a>&nbsp;sync)</span></div>
<div class="block">Register a Synchronization instance with special ordering
 semantics. Its beforeCompletion will be called after all 
 SessionSynchronization beforeCompletion callbacks and callbacks 
 registered directly with the Transaction, but before the 2-phase
 commit process starts. Similarly, the afterCompletion
 callback will be called after 2-phase commit completes but before
 any SessionSynchronization and Transaction afterCompletion callbacks.
 
 <P>The beforeCompletion callback will be invoked in the transaction
 context of the transaction bound to the current thread at the time 
 this method is called. 
 Allowable methods include access to resources,
 e.g. Connectors. No access is allowed to "user components" (e.g. timer
 services or bean methods), as these might change the state of data
 being managed by the caller, and might change the state of data that
 has already been flushed by another caller of 
 registerInterposedSynchronization. 
 The general context is the component
 context of the caller of registerInterposedSynchronization.
 
 <P>The afterCompletion callback will be invoked in an undefined 
 context. No access is permitted to "user components"
 as defined above. Resources can be closed but no transactional
 work can be performed with them.
 
 <P>If this method is invoked without an active transaction context, an
 IllegalStateException is thrown.

 <P>If this method is invoked after the two-phase commit processing has
 started, an IllegalStateException is thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sync</code> - the Synchronization instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if no transaction is active.</dd>
<dt>Since:</dt>
<dd>JTA 1.1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getTransactionStatus()">
<h3>getTransactionStatus</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getTransactionStatus</span>()</div>
<div class="block">Return the status of the transaction bound to the
 current thread at the time this method is called.
 This is the result of executing TransactionManager.getStatus() in
 the context of the transaction bound to the current thread at the time
 this method is called.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the status of the transaction bound to the current thread 
 at the time this method is called.</dd>
<dt>Since:</dt>
<dd>JTA 1.1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setRollbackOnly()">
<h3>setRollbackOnly</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setRollbackOnly</span>()</div>
<div class="block">Set the rollbackOnly status of the transaction bound to the
 current thread at the time this method is called.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if no transaction is active.</dd>
<dt>Since:</dt>
<dd>JTA 1.1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getRollbackOnly()">
<h3>getRollbackOnly</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">getRollbackOnly</span>()</div>
<div class="block">Get the rollbackOnly status of the transaction bound to the
 current thread at the time this method is called.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the rollbackOnly status.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if no transaction is active.</dd>
<dt>Since:</dt>
<dd>JTA 1.1</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><p align="left">Copyright &#169; 2018, 2024 Eclipse Foundation.<br>Use is subject to
<a href="../../../doc-files/speclicense.html" target="_top">license terms</a>.</small></p>
</footer>
</body>
</html>
