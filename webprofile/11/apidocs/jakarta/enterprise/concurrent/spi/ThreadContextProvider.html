<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Mon Dec 18 16:46:03 UTC 2023 -->
<title>ThreadContextProvider (Jakarta EE Web Profile API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-12-18">
<meta name="description" content="declaration: package: jakarta.enterprise.concurrent.spi, interface: ThreadContextProvider">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>Jakarta EE Web Profile API v11.0.0-M1</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ThreadContextProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.enterprise.concurrent.spi</a></div>
<h1 title="Interface ThreadContextProvider" class="title">Interface ThreadContextProvider</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ThreadContextProvider</span></div>
<div class="block">Third party providers of thread context implement this interface to
 participate in thread context capture and propagation.
 <p>
 Application code must never access the classes within this <code>spi</code>
 package. Instead, application code uses the various interfaces that are defined
 by the Jakarta Concurrency specification, such as
 <a href="../ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a>
 and <a href="../ContextService.html" title="interface in jakarta.enterprise.concurrent"><code>ContextService</code></a>.
 <p>
 The <code>ThreadContextProvider</code> implementation and related classes are
 packaged within the third party provider's JAR file. The implementation is made
 discoverable via the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html" title="class or interface in java.util" class="external-link"><code>ServiceLoader</code></a> mechanism. The JAR file
 that packages it must include a file with the following name and location,
 <p>
 <code>META-INF/services/jakarta.enterprise.concurrent.spi.ThreadContextProvider</code>
 <p>
 The content of the aforementioned file must be one or more lines, each specifying
 the fully qualified name of a <code>ThreadContextProvider</code> implementation
 that is provided within the JAR file.
 <p>
 The Jakarta EE Product Provider must use the
 <code>ServiceLoader</code> to identify all available implementations of
 <code>ThreadContextProvider</code> that can participate in thread context capture
 and propagation and must invoke them either to capture current thread context or establish
 default thread context per the configuration of the
 <a href="../ContextServiceDefinition.html" title="annotation interface in jakarta.enterprise.concurrent"><code>ContextServiceDefinition</code></a>,
 or vendor-specific configuration, and execution properties such as
 <a href="../ManagedTask.html#TRANSACTION"><code>ManagedTask.TRANSACTION</code></a>
 that override context propagation configuration.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ThreadContextSnapshot.html" title="interface in jakarta.enterprise.concurrent.spi">ThreadContextSnapshot</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#clearedContext(java.util.Map)" class="member-name-link">clearedContext</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;props)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns empty/cleared context of the provided type.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ThreadContextSnapshot.html" title="interface in jakarta.enterprise.concurrent.spi">ThreadContextSnapshot</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#currentContext(java.util.Map)" class="member-name-link">currentContext</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;props)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Captures from the current thread a snapshot of the provided thread context type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getThreadContextType()" class="member-name-link">getThreadContextType</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a human readable identifier for the type of thread context that is
 captured by this <code>ThreadContextProvider</code> implementation.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="currentContext(java.util.Map)">
<h3>currentContext</h3>
<div class="member-signature"><span class="return-type"><a href="ThreadContextSnapshot.html" title="interface in jakarta.enterprise.concurrent.spi">ThreadContextSnapshot</a></span>&nbsp;<span class="element-name">currentContext</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;props)</span></div>
<div class="block">Captures from the current thread a snapshot of the provided thread context type.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>props</code> - execution properties, which are optionally provided
        by some types of tasks and contextual proxies.
        Thread context providers that do not supply or use execution properties
        can ignore this parameter.</dd>
<dt>Returns:</dt>
<dd>immutable snapshot of the provided type of context, captured from the
         current thread.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearedContext(java.util.Map)">
<h3>clearedContext</h3>
<div class="member-signature"><span class="return-type"><a href="ThreadContextSnapshot.html" title="interface in jakarta.enterprise.concurrent.spi">ThreadContextSnapshot</a></span>&nbsp;<span class="element-name">clearedContext</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;props)</span></div>
<div class="block">Returns empty/cleared context of the provided type. This context is not
 captured from the current thread, but instead represents the behavior that you
 get for this context type when no particular context has been applied to the
 thread.
 <p>
 This is used in cases where the provided type of thread context should not be
 propagated from the requesting thread or inherited from the thread of execution,
 in which case it is necessary to establish an empty/cleared context in its place,
 so that an action does not unintentionally inherit context of the thread that
 happens to run it.
 <p>
 For example, a security context provider's empty/cleared context ensures there
 is no authenticated user on the thread. A transaction context provider's
 empty/cleared context ensures that any active transaction is suspended.
 And so forth.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>props</code> - execution properties, which are optionally provided
        by some types of tasks and contextual proxies.
        Thread context providers that do not supply or use execution properties
        can ignore this parameter.</dd>
<dt>Returns:</dt>
<dd>immutable empty/default context of the provided type.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getThreadContextType()">
<h3>getThreadContextType</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getThreadContextType</span>()</div>
<div class="block">Returns a human readable identifier for the type of thread context that is
 captured by this <code>ThreadContextProvider</code> implementation.
 <p>
 To ensure portability of applications, this is typically be a keyword that
 is defined by the same specification that defines the thread context type.
 <p>
 <a href="../ContextServiceDefinition.html" title="annotation interface in jakarta.enterprise.concurrent"><code>ContextServiceDefinition</code></a>
 defines identifiers for built-in thread context types, including
 <a href="../ContextServiceDefinition.html#APPLICATION"><code>Application</code></a>,
 <a href="../ContextServiceDefinition.html#SECURITY"><code>Security</code></a>, and
 <a href="../ContextServiceDefinition.html#TRANSACTION"><code>Transaction</code></a>,
 as well as the
 <a href="../ContextServiceDefinition.html#ALL_REMAINING"><code>Remaining</code></a>
 identifer which covers all remaining context.
 These identifiers must not be returned from this method.
 <p>
 Applications use a combination of built-in identifiers and those that are
 defined by other specifications and third-party context
 types when configuring a <code>ContextServiceDefinition</code>
 to capture and propagate only specific types of thread context.
 <p>
 For example:
 <pre>
 <code>@ContextServiceDefinition(</code>
    name = "java:module/concurrent/MyCustomContext",
    propagated = MyCustomContextProvider.CONTEXT_NAME,
    cleared = { ContextServiceDefinition.SECURITY, ContextServiceDefinition.TRANSACTION },
    unchanged = ContextServiceDefinition.ALL_REMAINING)
 </pre>
 <p>
 It is an error for multiple thread context providers of an identical type to be
 simultaneously available.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>identifier for the provided type of thread context.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><p align="left">Copyright &#169; 2018,2023 Eclipse Foundation.<br>Use is subject to <a href="../../../../doc-files/speclicense.html" target="_top">license terms</a>.</small></p>
</footer>
</div>
</div>
</body>
</html>
