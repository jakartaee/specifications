<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>ZonedTrigger (Jakarta EE Web Profile API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: jakarta.enterprise.concurrent, interface: ZonedTrigger">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>Jakarta EE Web Profile API v11.0.0</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ZonedTrigger.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.enterprise.concurrent</a></div>
<h1 title="Interface ZonedTrigger" class="title">Interface ZonedTrigger</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="Trigger.html" title="interface in jakarta.enterprise.concurrent">Trigger</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="CronTrigger.html" title="class in jakarta.enterprise.concurrent">CronTrigger</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ZonedTrigger</span><span class="extends-implements">
extends <a href="Trigger.html" title="interface in jakarta.enterprise.concurrent">Trigger</a></span></div>
<div class="block">Triggers allow application developers to plug in rules for when
 and how often a task should run. The trigger can be as simple as
 a single, absolute date-time or can include Jakarta&trade; EE business
 calendar logic. A trigger implementation is created by the
 application developer (or may be supplied to the application
 externally) and is registered with a task when it is submitted
 to a <a href="ManagedScheduledExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedScheduledExecutorService</code></a> using any of the
 schedule methods. Each method will run with unspecified context.
 The methods can be made contextual through creating contextual
 proxy objects using <a href="ContextService.html" title="interface in jakarta.enterprise.concurrent"><code>ContextService</code></a>.
 <p>
 Each trigger instance will be invoked within the same process
 in which it was registered.
 <p>

 Example:
 <pre>
 &#47;**
  * A trigger that runs on the hour, Mon-Fri from 8am-8pm Central US time.
  *&#47;
  public class HourlyDuringBusinessHoursTrigger implements ZonedTrigger {
      static final ZoneId ZONE = ZoneId.of("America/Chicago");

      public ZoneId getZoneId() {
          return ZONE;
      }

      public ZonedDateTime getNextRunTime(LastExecution lastExec, ZonedDateTime taskScheduledTime) {
          ZonedDateTime prevTime = lastExec == null ? taskScheduledTime : lastExec.getRunEnd(ZONE);
          ZonedDateTime nextTime = prevTime.truncatedTo(ChronoUnit.HOURS).plusHours(1);
          DayOfWeek day = nextTime.getDayOfWeek();
          if (day.equals(DayOfWeek.SATURDAY) || day.equals(DayOfWeek.SUNDAY)) {
              nextTime = nextTime.truncatedTo(ChronoUnit.DAYS).plusDays(1).withHour(8);
          } else { // Mon-Fri 8am-8pm
              int hour = nextTime.getHour();
              if (hour&lt; 8)
                  nextTime = nextTime.plusHours(8 - hour);
              else if (hour&gt; 20)
                  nextTime = nextTime.truncatedTo(ChronoUnit.DAYS)
                                     .plusDays(day.equals(DayOfWeek.FRIDAY) ? 3 : 1)
                                     .withHour(8);
          }
          return nextTime;
      }
  }
 </pre>
 <P></div>
<dl class="notes">
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html" title="class or interface in java.time" class="external-link">ZonedDateTime</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getNextRunTime(jakarta.enterprise.concurrent.LastExecution,java.time.ZonedDateTime)" class="member-name-link">getNextRunTime</a><wbr>(<a href="LastExecution.html" title="interface in jakarta.enterprise.concurrent">LastExecution</a>&nbsp;lastExecutionInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html" title="class or interface in java.time" class="external-link">ZonedDateTime</a>&nbsp;taskScheduledTime)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieve the next time that the task should run after.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getNextRunTime(jakarta.enterprise.concurrent.LastExecution,java.util.Date)" class="member-name-link">getNextRunTime</a><wbr>(<a href="LastExecution.html" title="interface in jakarta.enterprise.concurrent">LastExecution</a>&nbsp;lastExecutionInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a>&nbsp;taskScheduledTime)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieve the next time that the task should run after.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html" title="class or interface in java.time" class="external-link">ZoneId</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getZoneId()" class="member-name-link">getZoneId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Returns the timezone to use for the
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html" title="class or interface in java.time" class="external-link"><code>ZonedDateTime</code></a> that is supplied to the
 <a href="#getNextRunTime(jakarta.enterprise.concurrent.LastExecution,java.time.ZonedDateTime)"><code>getNextRunTime</code></a> and
 <a href="#skipRun(jakarta.enterprise.concurrent.LastExecution,java.time.ZonedDateTime)"><code>skipRun</code></a> methods.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#skipRun(jakarta.enterprise.concurrent.LastExecution,java.time.ZonedDateTime)" class="member-name-link">skipRun</a><wbr>(<a href="LastExecution.html" title="interface in jakarta.enterprise.concurrent">LastExecution</a>&nbsp;lastExecutionInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html" title="class or interface in java.time" class="external-link">ZonedDateTime</a>&nbsp;scheduledRunTime)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Return true if this run instance should be skipped.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#skipRun(jakarta.enterprise.concurrent.LastExecution,java.util.Date)" class="member-name-link">skipRun</a><wbr>(<a href="LastExecution.html" title="interface in jakarta.enterprise.concurrent">LastExecution</a>&nbsp;lastExecutionInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a>&nbsp;scheduledRunTime)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Return true if this run instance should be skipped.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getNextRunTime(jakarta.enterprise.concurrent.LastExecution,java.time.ZonedDateTime)">
<h3>getNextRunTime</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html" title="class or interface in java.time" class="external-link">ZonedDateTime</a></span>&nbsp;<span class="element-name">getNextRunTime</span><wbr><span class="parameters">(<a href="LastExecution.html" title="interface in jakarta.enterprise.concurrent">LastExecution</a>&nbsp;lastExecutionInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html" title="class or interface in java.time" class="external-link">ZonedDateTime</a>&nbsp;taskScheduledTime)</span></div>
<div class="block">Retrieve the next time that the task should run after.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lastExecutionInfo</code> - information about the last execution of the task.
                          This value will be null if the task has not yet run.</dd>
<dd><code>taskScheduledTime</code> - the date/time at which the
                          <code>ManagedScheduledExecutorService.schedule</code>
                          method was invoked to schedule the task.</dd>
<dt>Returns:</dt>
<dd>the date/time after which the next execution of the task should start.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextRunTime(jakarta.enterprise.concurrent.LastExecution,java.util.Date)">
<h3>getNextRunTime</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></span>&nbsp;<span class="element-name">getNextRunTime</span><wbr><span class="parameters">(<a href="LastExecution.html" title="interface in jakarta.enterprise.concurrent">LastExecution</a>&nbsp;lastExecutionInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a>&nbsp;taskScheduledTime)</span></div>
<div class="block">Retrieve the next time that the task should run after.
 <P>
 This method is provided to maintain compatibility with <a href="Trigger.html" title="interface in jakarta.enterprise.concurrent"><code>Trigger</code></a> and should not be
 implemented. The default implementation delegates to the method signature that
 accepts and returns <code>ZonedDateTime</code>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Trigger.html#getNextRunTime(jakarta.enterprise.concurrent.LastExecution,java.util.Date)">getNextRunTime</a></code>&nbsp;in interface&nbsp;<code><a href="Trigger.html" title="interface in jakarta.enterprise.concurrent">Trigger</a></code></dd>
<dt>Parameters:</dt>
<dd><code>lastExecutionInfo</code> - information about the last execution of the task.
                          This value will be null if the task has not yet run.</dd>
<dd><code>taskScheduledTime</code> - the date/time at which the
                          <code>ManagedScheduledExecutorService.schedule</code>
                          method was invoked to schedule the task.</dd>
<dt>Returns:</dt>
<dd>the date/time after which the next execution of the task should start.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the next run time is too large to represent as a <code>Date</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getZoneId()">
<h3>getZoneId</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html" title="class or interface in java.time" class="external-link">ZoneId</a></span>&nbsp;<span class="element-name">getZoneId</span>()</div>
<div class="block">Returns the timezone to use for the
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html" title="class or interface in java.time" class="external-link"><code>ZonedDateTime</code></a> that is supplied to the
 <a href="#getNextRunTime(jakarta.enterprise.concurrent.LastExecution,java.time.ZonedDateTime)"><code>getNextRunTime</code></a> and
 <a href="#skipRun(jakarta.enterprise.concurrent.LastExecution,java.time.ZonedDateTime)"><code>skipRun</code></a> methods.
 <P>
 The default implementation returns the system default timezone
 and should be overridden whenever there is chance that the server
 might not be running with the same timezone for which the
 business logic within this trigger is written.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>timezone to use for operations on this trigger.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="skipRun(jakarta.enterprise.concurrent.LastExecution,java.time.ZonedDateTime)">
<h3>skipRun</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">skipRun</span><wbr><span class="parameters">(<a href="LastExecution.html" title="interface in jakarta.enterprise.concurrent">LastExecution</a>&nbsp;lastExecutionInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html" title="class or interface in java.time" class="external-link">ZonedDateTime</a>&nbsp;scheduledRunTime)</span></div>
<div class="block">Return true if this run instance should be skipped.
 <p>
 This is useful if the task shouldn't run because it is late or if the task
 is paused or suspended.
 <p>
 Once this task is skipped, the state of its Future's result will throw a
 <a href="SkippedException.html" title="class in jakarta.enterprise.concurrent"><code>SkippedException</code></a>. Unchecked exceptions will be wrapped in a
 <code>SkippedException</code>.
 <p>
 The default implementation returns <code>false</code>, making it optional to
 implement this method if you do not require support for skipped executions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lastExecutionInfo</code> - information about the last execution of the task.
                          This value will be null if the task has not yet run.</dd>
<dd><code>scheduledRunTime</code> - the date/time after which the execution of the task
                          is scheduled to start.</dd>
<dt>Returns:</dt>
<dd>true if the task should be skipped and rescheduled.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="skipRun(jakarta.enterprise.concurrent.LastExecution,java.util.Date)">
<h3>skipRun</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">skipRun</span><wbr><span class="parameters">(<a href="LastExecution.html" title="interface in jakarta.enterprise.concurrent">LastExecution</a>&nbsp;lastExecutionInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a>&nbsp;scheduledRunTime)</span></div>
<div class="block">Return true if this run instance should be skipped.
 <P>
 This method is provided to maintain compatibility with <a href="Trigger.html" title="interface in jakarta.enterprise.concurrent"><code>Trigger</code></a> and should not be
 implemented. The default implementation delegates to the method signature that
 accepts <code>ZonedDateTime</code>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Trigger.html#skipRun(jakarta.enterprise.concurrent.LastExecution,java.util.Date)">skipRun</a></code>&nbsp;in interface&nbsp;<code><a href="Trigger.html" title="interface in jakarta.enterprise.concurrent">Trigger</a></code></dd>
<dt>Parameters:</dt>
<dd><code>lastExecutionInfo</code> - information about the last execution of the task.
                          This value will be null if the task has not yet run.</dd>
<dd><code>scheduledRunTime</code> - the date/time after which the execution of the task
                          is scheduled to start.</dd>
<dt>Returns:</dt>
<dd>true if the task should be skipped and rescheduled.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><p align="left">Copyright &#169; 2018, 2024 Eclipse Foundation.<br>Use is subject to<a href="../../../doc-files/speclicense.html" target="_top">license terms</a>.</small></p>
</footer>
</div>
</div>
</body>
</html>
