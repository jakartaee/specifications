<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>ContextService (Jakarta EE Web Profile API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: jakarta.enterprise.concurrent, interface: ContextService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>Jakarta EE Web Profile API v11.0.0</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ContextService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.enterprise.concurrent</a></div>
<h1 title="Interface ContextService" class="title">Interface ContextService</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ContextService</span></div>
<div class="block">The ContextService provides methods for creating dynamic proxy objects
 (as defined by <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Proxy.html" title="class or interface in java.lang.reflect" class="external-link"><code>java.lang.reflect.Proxy</code></a>).
 ContextService also creates proxy objects for functional interfaces
 (such as <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link"><code>Function</code></a>) that can be used as
 completion stage actions. Proxy objects run with
 the addition of context typically associated with applications executing in a
 Jakarta&trade; EE environment.
 Examples of such context are classloading, namespace, security, etc.
 <p>

 The proxy objects follow the same rules as defined for the
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Proxy.html" title="class or interface in java.lang.reflect" class="external-link"><code>java.lang.reflect.Proxy</code></a> class with the following additions:
 <ul>
 <li>The proxy instance will retain the context of the creator's
     thread.
 <li>The proxy instance will implement all of the interfaces specified on the
     <code>createContextualProxy</code> methods.
 <li>The object to have a proxy instance created for should not be a
     component managed by the Jakarta EE Product Provider, such as a web
     component or a Jakarta Enterprise Bean.
 <li>All interface method invocations on a proxy instance run in the
     creator's context with the exception of <code>hashCode</code>,
     <code>equals</code>, <code>toString</code> and all other methods declared in
     <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object</code></a>.
 <li>The proxy instance must implement <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link"><code>Serializable</code></a>
     if the proxied object instance is serializable.
 <li>The proxied object instance must implement
     <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link"><code>Serializable</code></a> if the proxy instance is serialized.
 <li>Execution properties can be stored with the proxy instance. Custom
     property keys must not begin with "jakarta.enterprise.concurrent.".
 <li>Execution properties are to be used for controlling how various contextual
     information is retrieved and applied to the thread. Although application
     components can store arbitrary property keys and values, it is not
     recommended. Jakarta EE product providers may impose limits to the
     size of the keys and values.
 </ul>
 <p>
 For example, to contextualize a single completion stage action
 such that it is able to access the namespace of the application component,
 <pre>
 contextSvc = InitialContext.doLookup("java:comp/DefaultContextService");
 stage2 = stage1.thenApply(contextSvc.contextualFunction(i -&gt; {
     DataSource ds = InitialContext.doLookup("java:comp/env/dsRef");
     try (Connection con = ds.getConnection()) {
         PreparedStatement stmt = con.prepareStatement(sql);
         stmt.setInt(1, i);
         ResultSet result = stmt.executeQuery();
         return result.next() ? result.getInt(1) : 0;
     }
 }));
 </pre>
 <p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;R&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link">Callable</a>&lt;R&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#contextualCallable(java.util.concurrent.Callable)" class="member-name-link">contextualCallable</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link">Callable</a>&lt;R&gt;&nbsp;callable)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link"><code>Callable</code></a> with context
 that is captured from the thread that invokes
 <code>contextualCallable</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T,<wbr>
U&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html" title="class or interface in java.util.function" class="external-link">BiConsumer</a>&lt;T,<wbr>U&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#contextualConsumer(java.util.function.BiConsumer)" class="member-name-link">contextualConsumer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html" title="class or interface in java.util.function" class="external-link">BiConsumer</a>&lt;T,<wbr>U&gt;&nbsp;consumer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html" title="class or interface in java.util.function" class="external-link"><code>BiConsumer</code></a> with context
 that is captured from the thread that invokes
 <code>contextualConsumer</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;T&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#contextualConsumer(java.util.function.Consumer)" class="member-name-link">contextualConsumer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;T&gt;&nbsp;consumer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link"><code>Consumer</code></a> with context
 that is captured from the thread that invokes
 <code>contextualConsumer</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T,<wbr>
U,<wbr>
R&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html" title="class or interface in java.util.function" class="external-link">BiFunction</a>&lt;T,<wbr>U,<wbr>R&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#contextualFunction(java.util.function.BiFunction)" class="member-name-link">contextualFunction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html" title="class or interface in java.util.function" class="external-link">BiFunction</a>&lt;T,<wbr>U,<wbr>R&gt;&nbsp;function)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html" title="class or interface in java.util.function" class="external-link"><code>BiFunction</code></a> with context
 that is captured from the thread that invokes
 <code>contextualFunction</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T,<wbr>
R&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;T,<wbr>R&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#contextualFunction(java.util.function.Function)" class="member-name-link">contextualFunction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;T,<wbr>R&gt;&nbsp;function)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html" title="class or interface in java.util.function" class="external-link"><code>BiFunction</code></a> with context
 that is captured from the thread that invokes
 <code>contextualFunction</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T,<wbr>
R&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Processor.html" title="class or interface in java.util.concurrent" class="external-link">Flow.Processor</a>&lt;T,<wbr>R&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#contextualProcessor(java.util.concurrent.Flow.Processor)" class="member-name-link">contextualProcessor</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Processor.html" title="class or interface in java.util.concurrent" class="external-link">Flow.Processor</a>&lt;T,<wbr>R&gt;&nbsp;processor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Processor.html" title="class or interface in java.util.concurrent" class="external-link"><code>Flow.Processor</code></a> with context captured from the thread that invokes
 <code>contextualProcessor</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#contextualRunnable(java.lang.Runnable)" class="member-name-link">contextualRunnable</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;runnable)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link"><code>Runnable</code></a> with context
 that is captured from the thread that invokes
 <code>contextualRunnable</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Subscriber.html" title="class or interface in java.util.concurrent" class="external-link">Flow.Subscriber</a>&lt;T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#contextualSubscriber(java.util.concurrent.Flow.Subscriber)" class="member-name-link">contextualSubscriber</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Subscriber.html" title="class or interface in java.util.concurrent" class="external-link">Flow.Subscriber</a>&lt;T&gt;&nbsp;subscriber)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Subscriber.html" title="class or interface in java.util.concurrent" class="external-link"><code>Flow.Subscriber</code></a> with context captured from the thread that invokes
 <code>contextualSubscriber</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;R&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;R&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#contextualSupplier(java.util.function.Supplier)" class="member-name-link">contextualSupplier</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;R&gt;&nbsp;supplier)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a> with context captured from the thread that invokes
 <code>contextualSupplier</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#createContextualProxy(java.lang.Object,java.lang.Class...)" class="member-name-link">createContextualProxy</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;instance,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;interfaces)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Creates a new contextual object proxy for the input object instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#createContextualProxy(java.lang.Object,java.util.Map,java.lang.Class...)" class="member-name-link">createContextualProxy</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;instance,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;executionProperties,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;interfaces)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Creates a new contextual object proxy for the input object instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#createContextualProxy(T,java.lang.Class)" class="member-name-link">createContextualProxy</a><wbr>(T&nbsp;instance,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;intf)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Creates a new contextual object proxy for the input object instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#createContextualProxy(T,java.util.Map,java.lang.Class)" class="member-name-link">createContextualProxy</a><wbr>(T&nbsp;instance,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;executionProperties,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;intf)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Creates a new contextual object proxy for the input object instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#currentContextExecutor()" class="member-name-link">currentContextExecutor</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Captures thread context as an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link"><code>Executor</code></a>
 that runs tasks on the same thread from which
 <code>execute</code>is invoked but with context that is captured from the thread
 that invokes <code>currentContextExecutor</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getExecutionProperties(java.lang.Object)" class="member-name-link">getExecutionProperties</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;contextualProxy)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the current execution properties on the context proxy instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#withContextCapture(java.util.concurrent.CompletableFuture)" class="member-name-link">withContextCapture</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;T&gt;&nbsp;stage)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a new <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> that is completed by the completion of the
 specified stage.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;T&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#withContextCapture(java.util.concurrent.CompletionStage)" class="member-name-link">withContextCapture</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;T&gt;&nbsp;stage)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a new <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletionStage</code></a> that is completed by the completion of the
 specified stage.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="contextualCallable(java.util.concurrent.Callable)">
<h3>contextualCallable</h3>
<div class="member-signature"><span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link">Callable</a>&lt;R&gt;</span>&nbsp;<span class="element-name">contextualCallable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link">Callable</a>&lt;R&gt;&nbsp;callable)</span></div>
<div class="block"><p>Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link"><code>Callable</code></a> with context
 that is captured from the thread that invokes
 <code>contextualCallable</code>. Context is captured at the time <code>contextualCallable</code> is invoked.</p>

 <p>When <code>call</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>call</code> method,
 then the <code>call</code> method of the provided <code>Callable</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>Callable</code> is returned to the invoker.</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>R</code> - callable result type.</dd>
<dt>Parameters:</dt>
<dd><code>callable</code> - instance to contextualize.</dd>
<dt>Returns:</dt>
<dd>contextualized proxy instance that wraps execution of the <code>call</code> method with context.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an already-contextualized <code>Callable</code> is supplied to this method.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contextualConsumer(java.util.function.BiConsumer)">
<h3>contextualConsumer</h3>
<div class="member-signature"><span class="type-parameters">&lt;T,<wbr>
U&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html" title="class or interface in java.util.function" class="external-link">BiConsumer</a>&lt;T,<wbr>U&gt;</span>&nbsp;<span class="element-name">contextualConsumer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html" title="class or interface in java.util.function" class="external-link">BiConsumer</a>&lt;T,<wbr>U&gt;&nbsp;consumer)</span></div>
<div class="block"><p>Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html" title="class or interface in java.util.function" class="external-link"><code>BiConsumer</code></a> with context
 that is captured from the thread that invokes
 <code>contextualConsumer</code>. Context is captured at the time <code>contextualConsumer</code> is invoked.</p>

 <p>When <code>accept</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>accept</code> method,
 then the <code>accept</code> method of the provided <code>BiConsumer</code> is invoked.
 Finally, the previous context is restored on the thread, and control is returned to the invoker.</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - type of first parameter to consumer.</dd>
<dd><code>U</code> - type of second parameter to consumer.</dd>
<dt>Parameters:</dt>
<dd><code>consumer</code> - instance to contextualize.</dd>
<dt>Returns:</dt>
<dd>contextualized proxy instance that wraps execution of the <code>accept</code> method with context.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an already-contextualized <code>BiConsumer</code> is supplied to this method.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contextualConsumer(java.util.function.Consumer)">
<h3>contextualConsumer</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;T&gt;</span>&nbsp;<span class="element-name">contextualConsumer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;T&gt;&nbsp;consumer)</span></div>
<div class="block"><p>Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link"><code>Consumer</code></a> with context
 that is captured from the thread that invokes
 <code>contextualConsumer</code>. Context is captured at the time <code>contextualConsumer</code> is invoked.</p>

 <p>When <code>accept</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>accept</code> method,
 then the <code>accept</code> method of the provided <code>Consumer</code> is invoked.
 Finally, the previous context is restored on the thread, and control is returned to the invoker.</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - type of parameter to consumer.</dd>
<dt>Parameters:</dt>
<dd><code>consumer</code> - instance to contextualize.</dd>
<dt>Returns:</dt>
<dd>contextualized proxy instance that wraps execution of the <code>accept</code> method with context.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an already-contextualized <code>Consumer</code> is supplied to this method.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contextualFunction(java.util.function.BiFunction)">
<h3>contextualFunction</h3>
<div class="member-signature"><span class="type-parameters">&lt;T,<wbr>
U,<wbr>
R&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html" title="class or interface in java.util.function" class="external-link">BiFunction</a>&lt;T,<wbr>U,<wbr>R&gt;</span>&nbsp;<span class="element-name">contextualFunction</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html" title="class or interface in java.util.function" class="external-link">BiFunction</a>&lt;T,<wbr>U,<wbr>R&gt;&nbsp;function)</span></div>
<div class="block"><p>Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html" title="class or interface in java.util.function" class="external-link"><code>BiFunction</code></a> with context
 that is captured from the thread that invokes
 <code>contextualFunction</code>. Context is captured at the time <code>contextualFunction</code> is invoked.</p>

 <p>When <code>apply</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>apply</code> method,
 then the <code>apply</code> method of the provided <code>BiFunction</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>BiFunction</code> is returned to the invoker.</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - type of first parameter to function.</dd>
<dd><code>U</code> - type of second parameter to function.</dd>
<dd><code>R</code> - function result type.</dd>
<dt>Parameters:</dt>
<dd><code>function</code> - instance to contextualize.</dd>
<dt>Returns:</dt>
<dd>contextualized proxy instance that wraps execution of the <code>apply</code> method with context.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an already-contextualized <code>BiFunction</code> is supplied to this method.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contextualFunction(java.util.function.Function)">
<h3>contextualFunction</h3>
<div class="member-signature"><span class="type-parameters">&lt;T,<wbr>
R&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;T,<wbr>R&gt;</span>&nbsp;<span class="element-name">contextualFunction</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;T,<wbr>R&gt;&nbsp;function)</span></div>
<div class="block"><p>Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html" title="class or interface in java.util.function" class="external-link"><code>BiFunction</code></a> with context
 that is captured from the thread that invokes
 <code>contextualFunction</code>. Context is captured at the time <code>contextualFunction</code> is invoked.</p>

 <p>When <code>apply</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>apply</code> method,
 then the <code>apply</code> method of the provided <code>Function</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>Function</code> is returned to the invoker.</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - type of parameter to function.</dd>
<dd><code>R</code> - function result type.</dd>
<dt>Parameters:</dt>
<dd><code>function</code> - instance to contextualize.</dd>
<dt>Returns:</dt>
<dd>contextualized proxy instance that wraps execution of the <code>apply</code> method with context.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an already-contextualized <code>Function</code> is supplied to this method.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contextualRunnable(java.lang.Runnable)">
<h3>contextualRunnable</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></span>&nbsp;<span class="element-name">contextualRunnable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;runnable)</span></div>
<div class="block"><p>Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link"><code>Runnable</code></a> with context
 that is captured from the thread that invokes
 <code>contextualRunnable</code>. Context is captured at the time <code>contextualRunnable</code> is invoked.</p>

 <p>When <code>run</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>run</code> method,
 then the <code>run</code> method of the provided <code>Runnable</code> is invoked.
 Finally, the previous context is restored on the thread, and control is returned to the invoker.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>runnable</code> - instance to contextualize.</dd>
<dt>Returns:</dt>
<dd>contextualized proxy instance that wraps execution of the <code>run</code> method with context.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an already-contextualized <code>Runnable</code> is supplied to this method.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contextualSupplier(java.util.function.Supplier)">
<h3>contextualSupplier</h3>
<div class="member-signature"><span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;R&gt;</span>&nbsp;<span class="element-name">contextualSupplier</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;R&gt;&nbsp;supplier)</span></div>
<div class="block"><p>Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a> with context captured from the thread that invokes
 <code>contextualSupplier</code>. Context is captured at the time <code>contextualSupplier</code> is invoked.</p>

 <p>When <code>supply</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>supply</code> method,
 then the <code>supply</code> method of the provided <code>Supplier</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>Supplier</code> is returned to the invoker.</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>R</code> - supplier result type.</dd>
<dt>Parameters:</dt>
<dd><code>supplier</code> - instance to contextualize.</dd>
<dt>Returns:</dt>
<dd>contextualized proxy instance that wraps execution of the <code>supply</code> method with context.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an already-contextualized <code>Supplier</code> is supplied to this method.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contextualSubscriber(java.util.concurrent.Flow.Subscriber)">
<h3>contextualSubscriber</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Subscriber.html" title="class or interface in java.util.concurrent" class="external-link">Flow.Subscriber</a>&lt;T&gt;</span>&nbsp;<span class="element-name">contextualSubscriber</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Subscriber.html" title="class or interface in java.util.concurrent" class="external-link">Flow.Subscriber</a>&lt;T&gt;&nbsp;subscriber)</span></div>
<div class="block"><p>Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Subscriber.html" title="class or interface in java.util.concurrent" class="external-link"><code>Flow.Subscriber</code></a> with context captured from the thread that invokes
 <code>contextualSubscriber</code>. Context is captured at the time <code>contextualSubscriber</code> is invoked.</p>

 <p>Whenever one of the methods of the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Subscriber.html" title="class or interface in java.util.concurrent" class="external-link"><code>Flow.Subscriber</code></a> interface (such as <code>onSubscribe</code>,
 <code>onNext</code>, <code>onError</code>, or <code>onComplete</code>) is invoked on the proxy instance,
 context is first established on the thread that will run the method,
 then the method of the provided <code>Flow.Subscriber</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>Flow.Subscriber</code> method is returned to the invoker.</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the subscribed item type</dd>
<dt>Parameters:</dt>
<dd><code>subscriber</code> - instance to contextualize</dd>
<dt>Returns:</dt>
<dd>contextualized proxy instance that wraps execution of all <code>Subscriber</code> methods.</dd>
<dt>Since:</dt>
<dd>3.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contextualProcessor(java.util.concurrent.Flow.Processor)">
<h3>contextualProcessor</h3>
<div class="member-signature"><span class="type-parameters">&lt;T,<wbr>
R&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Processor.html" title="class or interface in java.util.concurrent" class="external-link">Flow.Processor</a>&lt;T,<wbr>R&gt;</span>&nbsp;<span class="element-name">contextualProcessor</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Processor.html" title="class or interface in java.util.concurrent" class="external-link">Flow.Processor</a>&lt;T,<wbr>R&gt;&nbsp;processor)</span></div>
<div class="block"><p>Wraps a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Processor.html" title="class or interface in java.util.concurrent" class="external-link"><code>Flow.Processor</code></a> with context captured from the thread that invokes
 <code>contextualProcessor</code>. Context is captured at the time <code>contextualProcessor</code> is invoked.</p>

 <p>Whenever one of the methods of the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Subscriber.html" title="class or interface in java.util.concurrent" class="external-link"><code>Flow.Subscriber</code></a> interface (such as <code>onSubscribe</code>,
 <code>onNext</code>, <code>onError</code>, or <code>onComplete</code>) from which <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Flow.Processor.html" title="class or interface in java.util.concurrent" class="external-link"><code>Flow.Processor</code></a>
 extends is invoked on the proxy instance, context is first established on the thread that will run the method,
 then the method of the provided <code>Flow.Processor</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>Flow.Processor</code> method is returned to the invoker.</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the subscribed item type</dd>
<dd><code>R</code> - the published item type</dd>
<dt>Parameters:</dt>
<dd><code>processor</code> - instance to contextualize</dd>
<dt>Returns:</dt>
<dd>contextualized proxy instance that wraps execution of all methods that are inherited from <code>Subscriber</code>.</dd>
<dt>Since:</dt>
<dd>3.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createContextualProxy(T,java.lang.Class)">
<h3 id="createContextualProxy(java.lang.Object,java.lang.Class)">createContextualProxy</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">createContextualProxy</span><wbr><span class="parameters">(T&nbsp;instance,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;intf)</span></div>
<div class="block">Creates a new contextual object proxy for the input object instance.
 <p>
 Each method invocation will have the context of the application component
 instance that created the contextual object proxy.
 <p>
 The contextual object is useful when developing or using Java&trade; SE
 threading mechanisms propagating events to other component instances.
 <p>
 If the application component that created the proxy is not started or
 deployed, all methods on reflected interfaces may throw an
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a>.
  <p>
 For example, to execute a Runnable which is contextualized with the
 creator's context using a Java&trade; SE ExecutorService:

 <pre>
  public class MyRunnable implements Runnable {
      public void run() {
          System.out.println(&quot;MyRunnable.run with Jakarta EE Context available.&quot;);
      }
  }

  InitialContext ctx = new InitialContext();
  ThreadFactory threadFactory = (ThreadFactory) ctx
           .lookup(&quot;java:comp/env/concurrent/ThreadFactory&quot;);

  ContextService ctxService = (ContextService) ctx
           .lookup(&quot;java:comp/env/concurrent/ContextService&quot;);

  MyRunnable myRunnableInstance = ...;

  Runnable rProxy = ctxService.createContextualProxy(myRunnableInstance, Runnable.class);

  ExecutorService exSvc = Executors.newThreadPool(10, threadFactory);

  Future f = exSvc.submit(rProxy);
 </pre>
 <p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the instance to proxy</dd>
<dt>Parameters:</dt>
<dd><code>instance</code> - the instance of the object to proxy.</dd>
<dd><code>intf</code> - the interface that the proxy should implement.</dd>
<dt>Returns:</dt>
<dd>a proxy for the input object that implements the specified interface.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - - if the <code>intf</code> argument
 is null or the instance does not implement the specified
 interface.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - - if the <code>intf</code>
 interface is <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link"><code>serializable</code></a>
 but a thread context type does not support serialization.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createContextualProxy(java.lang.Object,java.lang.Class...)">
<h3>createContextualProxy</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">createContextualProxy</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;instance,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;interfaces)</span></div>
<div class="block">Creates a new contextual object proxy for the input object instance.
 <p>
 This method is similar to <code>&lt;T&gt; T createContextualProxy(T instance, Class&lt;T&gt; intf)</code>
 except that this method can be used if the proxy has to support multiple
 interfaces.
  </p>
 Example:

 <pre>
  public class MyRunnableWork implements Runnable, SomeWorkInterface {
      public void run() {
          System.out.println(&quot;MyRunnableWork.run with Jakarta EE Context available.&quot;);
      }
      public void someWorkInterfaceMethod() {
          ...
      }
  }

  ThreadFactory threadFactory = ...;

  ContextService ctxService = ...;

  MyRunnableWork myRunnableWorkInstance = ...;

  Object proxy = ctxService.createContextualProxy(myRunnableWorkInstance,
                                   Runnable.class, SomeWorkInterface.class);

  // call SomeWorkInterface method on the proxy
  ((SomeWorkInterface) proxy).someWorkInterfaceMethod();

  ExecutorService exSvc = Executors.newThreadPool(10, threadFactory);

  // submit the proxy as a Runnable to the ExecutorService
  Future f = exSvc.submit( (Runnable)proxy);
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>instance</code> - the instance of the object to proxy.</dd>
<dd><code>interfaces</code> - the interfaces that the proxy should implement.</dd>
<dt>Returns:</dt>
<dd>a proxy for the input object that implements all of the specified
         interfaces.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - - if the <code>interfaces</code>
 argument is null or the instance does not implement
 all the specified interfaces.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - - if any of the <code>interfaces</code>
 are <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link"><code>serializable</code></a> but a thread context type
 does not support serialization.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createContextualProxy(T,java.util.Map,java.lang.Class)">
<h3 id="createContextualProxy(java.lang.Object,java.util.Map,java.lang.Class)">createContextualProxy</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">createContextualProxy</span><wbr><span class="parameters">(T&nbsp;instance,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;executionProperties,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;intf)</span></div>
<div class="block">Creates a new contextual object proxy for the input object instance.
 <p>
 The contextual object is useful when developing or using Java&trade; SE
 threading mechanisms propagating events to other component instances.
 <p>
 If the application component that created the proxy is not started or
 deployed, all methods on reflected interfaces may throw an
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a>.
 <p>
 This method accepts a <code>Map</code> object which allows the
 contextual object creator to define what contexts or behaviors to capture
 when creating the contextual object. The specified properties will remain
 with the contextual object.
 <p>

 For example, to call a Message Driven Bean (MDB) with the sender's
 context, but within the MDB's transaction:

 <pre>
 public class MyServlet ... {
     public void doPost() throws NamingException, JMSException {
        InitialContext ctx = new InitialContext();

        // Get the ContextService that only propagates
        // security context.
        ContextService ctxSvc = (ContextService)
            ctx.lookup(&quot;java:comp/env/SecurityContext&quot;);

        // Set any custom context data through execution properties
        Map&lt;String, String&gt; execProps = new HashMap&lt;&gt;();
        execProps.put(&quot;vendor_a.security.tokenexpiration&quot;, &quot;15000&quot;);
        // Specify that contextual object should run inside the current
        // transaction.  If we have a failure, we don't want to consume
        // the message.
        execProps.put(ManagedTask.TRANSACTION, &quot;USE_TRANSACTION_OF_EXECUTION_THREAD&quot;);

        ProcessMessage msgProcessor =
            ctxSvc.createContextualProxy(new MessageProcessor(), execProps,
            ProcessMessage.class);

        ConnectionFactory cf = (ConnectionFactory)
             ctx.lookup(&quot;java:comp/env/MyTopicConnectionFactory&quot;);
        Destination dest = (Destination) ctx.lookup(&quot;java:comp/env/MyTopic&quot;);
        Connection con = cf.createConnection();

        Session session = con.createSession(true, Session.AUTO_ACKNOWLEDGE);
        MessageProducer producer = session.createProducer(dest);

        Message msg = session.createObjectMessage((Serializable)msgProcessor);
        producer.send(dest, msg);
        ...

    }

  public class MyMDB ... {
    public void onMessage(Message msg) {
        // Get the ProcessMessage contextual object from the message.
        ObjectMessage omsg = (ObjectMessage)msg;
        ProcessMessage msgProcessor = (ProcessMessage)omsg.getObject();

        // Process the message in the specified context.
        msgProcessor.processMessage(msg);
    }
  }

  public interface  ProcessMessage {
      public void processMessage(Message msg);
  }

  public class MessageProcessor implements ProcessMessage, Serializable {
      public void processMessage(Message msg) {
          // Process the message with the application container
          // context that sent the message.

      }
  }
</pre></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the interface</dd>
<dt>Parameters:</dt>
<dd><code>instance</code> - the instance of the object to proxy.</dd>
<dd><code>executionProperties</code> - the properties to use when creating and running the context
                          object.</dd>
<dd><code>intf</code> - the interface that the proxy should implement.</dd>
<dt>Returns:</dt>
<dd>a proxy for the input object that implements the specified interface.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - - if the <code>intf</code> argument
 null or the instance does not implement the specified interface.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - - if the <code>intf</code>
 interface is <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link"><code>serializable</code></a>
 but a thread context type does not support serialization.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createContextualProxy(java.lang.Object,java.util.Map,java.lang.Class...)">
<h3>createContextualProxy</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">createContextualProxy</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;instance,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;executionProperties,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;interfaces)</span></div>
<div class="block">Creates a new contextual object proxy for the input object instance.
 <p>
 This method is similar to
 <code>&lt;T&gt; T createContextualProxy(T instance, Map&lt;String, String&gt; executionProperties, Class&lt;T&gt; intf)</code>
 except that this method can be used if the proxy has to support multiple
 interfaces.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>instance</code> - the instance of the object to proxy.</dd>
<dd><code>executionProperties</code> - the properties to use when creating and running the context
                          object.</dd>
<dd><code>interfaces</code> - the interfaces that the proxy should implement.</dd>
<dt>Returns:</dt>
<dd>a proxy for the input object that implements all of the specified
         interfaces.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - - if the <code>interfaces</code>
 argument is null or the instance does not implement all the specified
 interfaces.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - - if any of the <code>interfaces</code>
 are <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link"><code>serializable</code></a> but a thread context type
 does not support serialization.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="currentContextExecutor()">
<h3>currentContextExecutor</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a></span>&nbsp;<span class="element-name">currentContextExecutor</span>()</div>
<div class="block"><p>Captures thread context as an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link"><code>Executor</code></a>
 that runs tasks on the same thread from which
 <code>execute</code>is invoked but with context that is captured from the thread
 that invokes <code>currentContextExecutor</code>.</p>

 <p>Example usage:</p>
 <pre>
 <code>Executor contextSnapshot = contextSvc.currentContextExecutor();
 ...
 // from another thread, or after thread context has changed,
 contextSnapshot.execute(() -&gt; obj.doSomethingThatNeedsContext());
 contextSnapshot.execute(() -&gt; doSomethingElseThatNeedsContext(x, y));
 </code></pre>

 <p>The returned <code>Executor</code> must raise <code>IllegalArgumentException</code>
 if an already-contextualized <code>Runnable</code> is supplied to its
 <code>execute</code> method.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an executor that wraps the <code>execute</code> method with context.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getExecutionProperties(java.lang.Object)">
<h3>getExecutionProperties</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getExecutionProperties</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;contextualProxy)</span></div>
<div class="block">Gets the current execution properties on the context proxy instance.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>contextualProxy</code> - the contextual proxy instance to retrieve the execution properties.</dd>
<dt>Returns:</dt>
<dd>A copy of the current contextual object execution properties, or null if
         the contextualProxy is created without specifying any execution properties.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - thrown if the input contextualProxy is not a valid
                                            contextual object proxy created with the
                                            <code>createContextualProxy</code> method.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withContextCapture(java.util.concurrent.CompletableFuture)">
<h3>withContextCapture</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;T&gt;</span>&nbsp;<span class="element-name">withContextCapture</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;T&gt;&nbsp;stage)</span></div>
<div class="block"><p>Returns a new <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> that is completed by the completion of the
 specified stage.</p>

 <p>The new completable future gets its default asynchronous execution facility
 from this <code>ContextService</code>,
 using the same <a href="ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a> if this <code>ContextService</code>
 was obtained by <a href="ManagedExecutorService.html#getContextService()"><code>ManagedExecutorService.getContextService()</code></a>.</p>

 <p>When dependent stages are created from the new completable future,
 and from the dependent stages of those stages, and so on, thread context is captured
 and/or cleared by the <code>ContextService</code>. This guarantees that the action
 performed by each stage always runs under the thread context of the code that creates the stage,
 unless the user explicitly overrides by supplying a pre-contextualized action.</p>

 <p>Invocation of this method does not impact thread context propagation for the originally supplied
 completable future or any other dependent stages directly created from it (not using this method).</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - completable future result type.</dd>
<dt>Parameters:</dt>
<dd><code>stage</code> - a completable future whose completion triggers completion of the new completable
        future that is created by this method.</dd>
<dt>Returns:</dt>
<dd>the new completable future.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withContextCapture(java.util.concurrent.CompletionStage)">
<h3>withContextCapture</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;T&gt;</span>&nbsp;<span class="element-name">withContextCapture</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;T&gt;&nbsp;stage)</span></div>
<div class="block"><p>Returns a new <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletionStage</code></a> that is completed by the completion of the
 specified stage.</p>

 <p>The new completion stage gets its default asynchronous execution facility from this <code>ContextService</code>,
 using the same <a href="ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a> if this <code>ContextService</code>
 was obtained by <a href="ManagedExecutorService.html#getContextService()"><code>ManagedExecutorService.getContextService()</code></a>,
 otherwise using the DefaultManagedExecutorService.</p>

 <p>When dependent stages are created from the new completion stage,
 and from the dependent stages of those stages, and so on, thread context is captured
 and/or cleared by the <code>ContextService</code>. This guarantees that the action
 performed by each stage always runs under the thread context of the code that creates the stage,
 unless the user explicitly overrides by supplying a pre-contextualized action.</p>

 <p>Invocation of this method does not impact thread context propagation for the originally supplied
 stage or any other dependent stages directly created from it (not using this method).</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - completion stage result type.</dd>
<dt>Parameters:</dt>
<dd><code>stage</code> - a completion stage whose completion triggers completion of the new stage
        that is created by this method.</dd>
<dt>Returns:</dt>
<dd>the new completion stage.</dd>
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><p align="left">Copyright &#169; 2018, 2024 Eclipse Foundation.<br>Use is subject to<a href="../../../doc-files/speclicense.html" target="_top">license terms</a>.</small></p>
</footer>
</div>
</div>
</body>
</html>
