<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="Jakarta EE Platform Team, https://jakartaee.github.io/platform/">
<title>Jakarta EE Web Profile</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Jakarta EE Web Profile</h1>
<div class="details">
<span id="author" class="author">Jakarta EE Platform Team, https://jakartaee.github.io/platform/</span><br>
<span id="email" class="email"><a href="https://dev.eclipse.org/mailman/listinfo/jakartaee-platform-dev" class="bare">https://dev.eclipse.org/mailman/listinfo/jakartaee-platform-dev</a></span><br>
<span id="revnumber"> 11.0,</span>
<span id="revdate">March 10, 2025</span>
<br><span id="revremark"></span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#copyright">Copyright</a></li>
<li><a href="#eclipse-foundation-specification-license-v1-1">Eclipse Foundation Specification License - v1.1</a>
<ul class="sectlevel2">
<li><a href="#disclaimers">Disclaimers</a></li>
</ul>
</li>
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#target-and-rationale-for-the-web-profile">1.1. Target and Rationale for the Web Profile</a></li>
<li><a href="#determining-applicable-requirements">1.2. Determining Applicable Requirements</a></li>
<li><a href="#acknowledgements-for-version-6">1.3. Acknowledgements for Version 6</a></li>
<li><a href="#acknowledgements-for-version-7">1.4. Acknowledgements for Version 7</a></li>
<li><a href="#acknowledgements-for-version-8">1.5. Acknowledgements for Version 8</a></li>
<li><a href="#acknowledgements-for-jakarta-ee-8-and-beyond">1.6. Acknowledgements for Jakarta EE 8 and Beyond</a></li>
</ul>
</li>
<li><a href="#web-profile-definition">2. Web Profile Definition</a>
<ul class="sectlevel2">
<li><a href="#a43">2.1. Required Components</a></li>
<li><a href="#optional-components">2.2. Optional Components</a></li>
<li><a href="#a69">2.3. Additional Requirements</a></li>
</ul>
</li>
<li><a href="#component-integration">3. Component Specification Integration Requirements</a>
<ul class="sectlevel2">
<li><a href="#concepts_ee">3.1. CDI Extended Concepts for Jakarta EE</a>
<ul class="sectlevel3">
<li><a href="#capabilities_ee">3.1.1. Functionality provided by the container to the bean in Jakarta EE</a></li>
<li><a href="#bean_types_ee">3.1.2. Bean types for Jakarta EE component</a></li>
<li><a href="#scopes_ee">3.1.3. Scopes</a></li>
<li><a href="#default_bean_discovery_ee">3.1.4. Default bean discovery mode for Jakarta EE</a></li>
<li><a href="#names_ee">3.1.5. Bean names in Jakarta EE</a></li>
</ul>
</li>
<li><a href="#implementation_ee">3.2. Addition to programming model for Jakarta EE</a>
<ul class="sectlevel3">
<li><a href="#managed_beans_ee">3.2.1. Managed beans in Jakarta EE</a></li>
<li><a href="#session_beans">3.2.2. Session enterprise beans</a></li>
<li><a href="#producer_method_ee">3.2.3. Producer methods on session enterprise bean</a></li>
<li><a href="#producer_field_ee">3.2.4. Producer field on a session enterprise bean</a></li>
<li><a href="#disposer_method_ee">3.2.5. Disposer methods on a session enterprise bean</a></li>
<li><a href="#javaee_components">3.2.6. Jakarta EE components</a></li>
<li><a href="#resources">3.2.7. Resources</a></li>
<li><a href="#additional_builtin_beans">3.2.8. Additional built-in beans</a></li>
<li><a href="#injected_fields_ee">3.2.9. Injected fields in Jakarta EE</a></li>
<li><a href="#initializer_methods_ee">3.2.10. Initializer methods in Jakarta EE</a></li>
<li><a href="#type_level_inheritance_ee">3.2.11. Inheritance of type-level metadata in Jakarta EE</a></li>
<li><a href="#member_level_inheritance_ee">3.2.12. Inheritance of member-level metadata in Jakarta EE</a></li>
<li><a href="#specialization_ee">3.2.13. Specialization in Jakarta EE</a></li>
</ul>
</li>
<li><a href="#injection_el_resolution_ee">3.3. Dependency injection, lookup and EL in Jakarta EE</a>
<ul class="sectlevel3">
<li><a href="#selection_ee">3.3.1. Modularity in Jakarta EE</a></li>
<li><a href="#name_resolution_ee">3.3.2. EL name resolution</a></li>
<li><a href="#injection_ee">3.3.3. Dependency injection in Jakarta EE</a></li>
</ul>
</li>
<li><a href="#contexts_ee">3.4. Scopes and contexts in Jakarta EE</a>
<ul class="sectlevel3">
<li><a href="#dependent_context_ee">3.4.1. Dependent pseudo-scope in Jakarta EE</a></li>
<li><a href="#passivating_scope_ee">3.4.2. Passivation and passivating scopes in Jakarta EE</a></li>
<li><a href="#builtin_contexts_ee">3.4.3. Context management for built-in scopes in Jakarta EE</a></li>
</ul>
</li>
<li><a href="#lifecycle_ee">3.5. Lifecycle of contextual instances</a>
<ul class="sectlevel3">
<li><a href="#biz_method_ee">3.5.1. Container invocations and interception in Jakarta EE</a></li>
</ul>
</li>
<li><a href="#decorators_ee">3.6. Decorators in Jakarta EE</a>
<ul class="sectlevel3">
<li><a href="#decorator_bean_ee">3.6.1. Decorator beans in Jakarta EE</a></li>
</ul>
</li>
<li><a href="#interceptors_ee">3.7. Interceptor bindings in Jakarta EE</a>
<ul class="sectlevel3">
<li><a href="#enabled_interceptors_ee">3.7.1. Interceptor enablement and ordering in Jakarta EE</a></li>
<li><a href="#interceptor_resolution_ee">3.7.2. Interceptor resolution in Jakarta EE</a></li>
</ul>
</li>
<li><a href="#events_ee">3.8. Events in Jakarta EE</a>
<ul class="sectlevel3">
<li><a href="#observer_methods_ee">3.8.1. Observer methods in session enterprise beans</a></li>
</ul>
</li>
<li><a href="#spi_ee">3.9. Portable extensions in Jakarta EE</a>
<ul class="sectlevel3">
<li><a href="#bean_ee">3.9.1. The <code>Bean</code> interface in Jakarta EE</a></li>
<li><a href="#injectiontarget_ee">3.9.2. <code>InjectionTarget</code> interface in Jakarta EE</a></li>
<li><a href="#beanmanager_ee">3.9.3. The <code>BeanManager</code> object in Jakarta EE</a></li>
<li><a href="#alternative_metadata_sources_ee">3.9.4. Alternative metadata sources and enterprise beans</a></li>
<li><a href="#init_events_ee">3.9.5. Addition to Container lifecycle events in Jakarta EE</a></li>
</ul>
</li>
<li><a href="#packaging_deployment_ee">3.10. Packaging and deployment in Jakarta EE</a>
<ul class="sectlevel3">
<li><a href="#bean_archive_ee">3.10.1. Bean archive with Session Enterprise Beans</a></li>
<li><a href="#type_bean_discovery_ee">3.10.2. Type and Bean discovery for Enterprise Beans</a></li>
</ul>
</li>
<li><a href="#el">3.11. Integration with Unified EL</a>
<ul class="sectlevel3">
<li><a href="#el_resolution">3.11.1. Bean name resolution in EL expressions</a></li>
<li><a href="#el_support">3.11.2. Unified EL integration API</a></li>
</ul>
</li>
<li><a href="#a441">3.12. Jakarta Persistence &amp; Jakarta Context and Dependency Injection (CDI) Integration</a>
<ul class="sectlevel3">
<li><a href="#obtaining-an-entity-manager-using-cdi">3.12.1. Obtaining an Entity Manager using CDI</a></li>
<li><a href="#injecting-an-entity-manager-factory-using-cdi">3.12.2. Injecting an Entity Manager Factory using CDI</a></li>
<li><a href="#persistence-xml-extended-schema">3.12.3. persistence.xml Extended Schema</a></li>
<li><a href="#additional-entitymanagerfactory-properties">3.12.4. Additional <em>EntityManagerFactory</em> Properties</a></li>
</ul>
</li>
<li><a href="#cdi-specification-references">3.13. CDI Specification References</a></li>
</ul>
</li>
<li><a href="#revision-history">Appendix A: Revision History</a>
<ul class="sectlevel2">
<li><a href="#changes-in-final-release-for-jakarta-ee-11">A.1. Changes in Final Release for Jakarta EE 11</a></li>
<li><a href="#changes-in-final-release-for-jakarta-ee-10">A.2. Changes in Final Release for Jakarta EE 10</a>
<ul class="sectlevel3">
<li><a href="#editorial-changes-for-jakarta-ee-10">A.2.1. Editorial Changes for Jakarta EE 10</a></li>
</ul>
</li>
<li><a href="#changes-in-final-release-for-jakarta-ee-9-1">A.3. Changes in Final Release for Jakarta EE 9.1</a>
<ul class="sectlevel3">
<li><a href="#editorial-changes">A.3.1. Editorial Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#relateddocs">Appendix B: Related Documents</a></li>
<li><a href="#jakarta-ee-11-web-profile-dependencies">Appendix C: Jakarta EE 11 Web Profile Dependencies</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>Specification: Jakarta EE Web Profile

Version: 11.0

Status: Final Release

Release: March 10, 2025</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright"><a class="anchor" href="#copyright"></a>Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copyright (c) 2018, 2025 Eclipse Foundation</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="eclipse-foundation-specification-license-v1-1"><a class="anchor" href="#eclipse-foundation-specification-license-v1-1"></a>Eclipse Foundation Specification License - v1.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By using and/or copying this document, or the Eclipse Foundation document from which this statement is linked or incorporated by reference, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions:</p>
</div>
<div class="paragraph">
<p>Permission to copy, and distribute the contents of this document, or the Eclipse Foundation document from which this statement is linked, in any medium for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the document, or portions thereof, that you use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>link or URL to the original Eclipse Foundation document.</p>
</li>
<li>
<p>All existing copyright notices, or if one does not exist, a notice (hypertext is preferred, but a textual representation is permitted) of the form: "Copyright (c) [$date-of-document] Eclipse Foundation AISBL &lt;&lt;url to this license&gt;&gt; "</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Inclusion of the full text of this NOTICE must be provided. We request that authorship attribution be provided in any software, documents, or other items or products that you create pursuant to the implementation of the contents of this document, or any portion thereof.</p>
</div>
<div class="paragraph">
<p>No right to create modifications or derivatives of Eclipse Foundation documents is granted pursuant to this license, except anyone may prepare and distribute derivative works and portions of this document in software that implements the specification, in supporting materials accompanying such software, and in documentation of such software, PROVIDED that all such works include the notice below. HOWEVER, the publication of derivative works of this document for use as a technical specification is expressly prohibited.</p>
</div>
<div class="paragraph">
<p>The notice is:</p>
</div>
<div class="paragraph">
<p>"Copyright (c) [$date-of-document] Eclipse Foundation AISBL. This software or document includes material copied from or derived from [title and URI of the Eclipse Foundation specification document]."</p>
</div>
<div class="sect2">
<h3 id="disclaimers"><a class="anchor" href="#disclaimers"></a>Disclaimers</h3>
<div class="paragraph">
<p>THIS DOCUMENT IS PROVIDED "AS IS," AND TO THE EXTENT PERMITTED BY APPLICABLE LAW THE COPYRIGHT HOLDERS AND THE ECLIPSE FOUNDATION AISBL MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THE DOCUMENT ARE SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.</p>
</div>
<div class="paragraph">
<p>TO THE EXTENT PERMITTED BY APPLICABLE LAW THE COPYRIGHT HOLDERS AND THE ECLIPSE FOUNDATION AISBL WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS THEREOF.</p>
</div>
<div class="paragraph">
<p>The name and trademarks of the copyright holders or the Eclipse Foundation AISBL may NOT be used in advertising or publicity pertaining to this document or its contents without specific, written prior permission. Title to copyright in this document will at all times remain with copyright holders.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This specification defines the Jakarta&#8482; EE Web
Profile (“Web Profile”), a profile of the Jakarta™ Platform, Enterprise
Edition specifically targeted at web applications.</p>
</div>
<div class="sect2">
<h3 id="target-and-rationale-for-the-web-profile"><a class="anchor" href="#target-and-rationale-for-the-web-profile"></a>1.1. Target and Rationale for the Web Profile</h3>
<div class="paragraph">
<p>The Web Profile is targeted at developers of
modern web applications.</p>
</div>
<div class="paragraph">
<p>With the term “modern” we intend to highlight
the fact that the world of web applications has made much progress since
the introduction of the first Servlet specification. Inevitably, the
number of technologies used to create even simple web applications had
grown by leaps and bounds. In fact, few web applications today are
written directly to the servlet API: most applications rely on standard
or third-party frameworks and libraries, often developed as open source,
which in turn use the services of the servlet container.</p>
</div>
<div class="paragraph">
<p>Besides managing HTTP interactions, most web
applications have significant requirements in the areas of transaction
management, security and persistence. Such requirements can be readily
addressed by technologies that have been part of the Jakarta EE platform
for quite some time, such as the Jakarta Enterprise Beans 3.x
technology and the Jakarta Persistence, but that are rarely supported
by “plain” servlet containers. By incorporating many of these APIs, the
Web Profile aims at raising the bar for what should be considered a
basic stack for the development of web applications using the Java
platform.</p>
</div>
<div class="paragraph">
<p>Targeting “modern” web applications then
implies offering a reasonably complete stack, composed of standard APIs,
and capable out-of-the-box of addressing the needs of a large class of
web applications. Furthermore, this stack should be easy to grow, so as
to address any remaining developer needs.</p>
</div>
<div class="paragraph">
<p>Against this drive towards completeness, one
wishes to balance a desire to limit the footprint of web containers,
both in physical and in conceptual terms. From the point of view of
developers learning the Web Profile, it is more valuable to have a
small, focused profile, with as little overlap between technologies as
possible, rather than a more powerful but overly complex one, with
redundant APIs.</p>
</div>
<div class="paragraph">
<p>In defining the Web Profile we strove to find
a middle ground between these two sets of requirements.</p>
</div>
<div class="paragraph">
<p>In terms of completeness, the Web Profile
offers a complete stack, with technologies addressing presentation and
state management (Jakarta Faces, Jakarta Pages), core web
container funtionality (Jakarta Servlet), business logic (Jakarta Enterprise Beans
Lite), transactions (Jakarta Transactions), persistence (Jakarta
Persistence) and more.</p>
</div>
<div class="paragraph">
<p>As for simplicity, it leaves out many of the
enterprise backend APIs that are part of the Jakarta EE platform. It also
relies on the pluggability features in the Servlet specification to
allow applications to use libraries that extend the servlet container
with minimal configuration overhead.</p>
</div>
<div class="paragraph">
<p>Finally, it is worth reminding that Web
Profile products are allowed to ship with more technologies than the
required ones. It is conceivable that products will offer a choice at
installation time between different configurations, some richer in
extensions, or even allow for complete customization beyond the required
core (“à la carte” installation).</p>
</div>
</div>
<div class="sect2">
<h3 id="determining-applicable-requirements"><a class="anchor" href="#determining-applicable-requirements"></a>1.2. Determining Applicable Requirements</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Profile definitions can be quite terse, amounting to little more than a list of required technologies and a (possibly empty) set of additional requirements, beyond those entailed by all the referenced specifications.
Being the first profile of the Java&#8482; EE 6 Platform to be defined, we expect the Web Profile specification to be used as a model for future profiles.
It will also be seen as a starting point for understanding how the requirements defined in the Jakarta EE Platform specification apply to a profile that subsets the platform itself, a significant innovation in this version of the platform.
(The case of a profile that is a superset of the platform is much easier to picture.)
To help with this process, this section attempts to shed light on how one should go from the definition of the Web Profile to figuring out the exact set of requirements that apply to it, and consequently to any product that implements it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As dictated by the general rules for Jakarta EE
profiles in the Platform specification, products that implement the Web Profile must honor:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>all requirements of the Jakarta EE Platform
specification that apply to all profiles;</p>
</li>
<li>
<p>all requirements of this specification;</p>
</li>
<li>
<p>all requirements of the individual
component specifications;</p>
</li>
<li>
<p>all requirements in the Jakarta EE Platform
specification that are conditional on the presence of a specific
technology or combinations of technologies.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Let’s look at some examples of requirements
from each grouping.</p>
</div>
<div class="paragraph">
<p>For the first one, the Jakarta EE Platform
specification mandates support for the Java&#8482; Platform, Standard Edition 17 API.</p>
</div>
<div class="paragraph">
<p>In the second category one can point out the
requirement to support Jakarta EE web application modules ( <em>.war</em> files)
(<a href="#a69">see Additional Requirements</a>).</p>
</div>
<div class="paragraph">
<p>The third category is hopefully
self-explanatory. For example, Web Profile products must implement the
Servlet API, which in turn means they need to satisfy all the
requirements listed in the Jakarta Servlet specification.</p>
</div>
<div class="paragraph">
<p>The fourth category is the most complex. As a
first example, since a Web Profile product is required to implement the
Servlet technology, it must also follow all general requirements for
Jakarta EE web containers in the Platform specification. Additionally, it
must follow all security requirements in the Platform specification that
pertain to Jakarta EE web containers, all interoperability requirements for
such containers, etc. Furthermore, since a Web Profile product must
implement the Jakarta Transactions API, it must also satisfy all the
Platform specification’s transaction management-related requirements for
web components, which indeed are conditional on the presence of Jakarta Servlet
and Jakarta Transactions.</p>
</div>
<div class="paragraph">
<p>As a negative example for the fourth category
of requirements, consider the Jakarta Messaging technology.
Since it is not a required component of the Web Profile, Web Profile
products are not required to include an implementation of Jakarta Messaging, nor do
they have to support other Jakarta Messaging-related requirements, like the ability to
inject message destination references. On the other hand, a Web Profile
product that included an implementation of Jakarta Messaging would be required to
honor all the Jakarta Messaging-related requirements in the Jakarta EE Platform
specification.</p>
</div>
<div class="paragraph">
<p>Particular care should be taken when
determining applicable requirements based on the presence of Jakarta Enterprise Beans Lite in
the Web Profile. As described in the Jakarta Enterprise Beans specification, Jakarta Enterprise Beans Lite is a
subset of the Jakarta Enterprise Beans API. When examining a Jakarta Enterprise Beans-related requirement in the
Jakarta EE Platform spec, one must first of all determine which API
classes, component types and Jakarta Enterprise Beans container services are mentioned in the
requirement itself. Only if all of them fall inside the Jakarta Enterprise Beans Lite subset
that requirement is considered applicable to Web Profile products.</p>
</div>
<div class="paragraph">
<p>For example, since Jakarta Enterprise Beans Lite does not include
any remote functionality, the <em>EJB</em> annotation may not be used to inject
a remote reference, something that should be kept in mind when
evaluating the requirements in the Platform specification section
“Jakarta Enterprise Beans References”.</p>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgements-for-version-6"><a class="anchor" href="#acknowledgements-for-version-6"></a>1.3. Acknowledgements for Version 6</h3>
<div class="paragraph">
<p>Version 6 of this specification was created
under the Java Community Process as JSR-316. The spec leads for the
JSR-316 Expert Group were Bill Shannon (Sun Microsystems, Inc.) and
Roberto Chinnici (Sun Microsystems, Inc.). The expert group included the
following members: Florent Benoit (Inria), Adam Bien (Individual), David
Blevins (Individual), Bill Burke (Red Hat Middleware LLC), Larry Cable
(BEA Systems), Bongjae Chan (Tmax Soft, Inc.), Rejeev Divakaran
(Individual), Francois Exertier (Inria), Jeff Genender (Individual),
Antonio Goncalves (Individual), Jason Greene (Red Hat Middleware LLC),
Gang Huang (Peking University), Rod Johnson (SpringSource), Werner Keil
(Individual), Michael Keith (Oracle), Wonseok Kim (Tmax Soft, Inc.), Jim
Knutson (IBM), Elika S. Kohen (Individual), Peter Kristiansson (Ericsson
AB), Changshin Lee (NCsoft Corporation), Felipe Leme (Individual), Ming
Li (TongTech Ltd.), Vladimir Pavlov (SAP AG), Dhanji R. Prasanna
(Google), Reza Rahman (Individual), Rajiv Shivane (Pramati
Technologies), Hani Suleiman (Individual).</p>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgements-for-version-7"><a class="anchor" href="#acknowledgements-for-version-7"></a>1.4. Acknowledgements for Version 7</h3>
<div class="paragraph">
<p>Version 7 of this specification was created
under the Java Community Process as JSR-342. The Expert Group work for
this specification was conducted by means of the
<em><a href="https://javaee.github.io/javaee-spec/" class="bare">https://javaee.github.io/javaee-spec/</a></em> project in order to provide transparency
to the Java community. The specification leads for the JSR-342 Expert
Group were Bill Shannon (Oracle) and Linda DeMichiel (Oracle). The
expert group included the following members: Deepak Anupalli (Pramati
Technologies), Anton Arhipov (ZeroTurnaround), Florent Benoit (OW2),
Adam Bien (Individual), David Blevins (Individual), Markus Eisele
(Individual), Jeff Genender (Individual), Antonio Goncalves
(Individual), Jason Greene (Red Hat, Inc.), Minehiko Iida (Fujitsu),
Alex Heneveld (Individual), Jevgeni Kabanov (Individual), Ingyu Kang
(Tmax Soft, Inc.), Werner Keil (Individual), Jim Knutson (IBM), Ming Li
(TongTech Ltd.), Pete Muir (Red Hat, Inc.), Minoru Nitta (Fujitsu), Reza
Rahman (Caucho Technology, Inc), Kristoffer Sjogren (Ericsson AB), Kevin
Sutter (IBM), Spike Washburn (Individual), Kyung Koo Yoon (Tmax Soft).</p>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgements-for-version-8"><a class="anchor" href="#acknowledgements-for-version-8"></a>1.5. Acknowledgements for Version 8</h3>
<div class="paragraph">
<p>Version 8 of this specification was created
under the Java Community Process as JSR-366. The Expert Group work for
this specification was conducted by means of the <em><a href="https://javaee.github.io/javaee-spec/" class="bare">https://javaee.github.io/javaee-spec/</a></em>
project in order to provide transparency to the Java community. The
specification leads for the JSR-366 Expert Group were Bill Shannon
(Oracle) and Linda DeMichiel (Oracle). The expert group included the
following members: Florent Benoit (OW2), David Blevins (Tomitribe), Jeff
Genender (Savoir Technologies), Antonio Goncalves (Individual), Jason
Greene (Red Hat), Werner Keil (Individual), Moon Namkoong (TmaxSoft,
Inc.) Antoine Sabot-Durand (Red Hat), Kevin Sutter (IBM), Ruslan
Synytsky (Jelastic, Inc.), Markus Winkler (oparco - open architectures &amp;
consulting). Reza Rahman (Individual) participated as a contributor.</p>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgements-for-jakarta-ee-8-and-beyond"><a class="anchor" href="#acknowledgements-for-jakarta-ee-8-and-beyond"></a>1.6. Acknowledgements for Jakarta EE 8 and Beyond</h3>
<div class="paragraph">
<p>Specifications Jakarta EE 8 and beyond were created by the Jakarta EE Platform
Specification Project with guidance provided by the Jakarta EE Working Group
(<em><a href="https://jakarta.ee/" class="bare">https://jakarta.ee/</a></em>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="web-profile-definition"><a class="anchor" href="#web-profile-definition"></a>2. Web Profile Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter defines the contents of the
Jakarta™ EE 11 Web Profile.</p>
</div>
<div class="sect2">
<h3 id="a43"><a class="anchor" href="#a43"></a>2.1. Required Components</h3>
<div class="paragraph">
<p>The following technologies are required components of the Web Profile:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jakarta Annotations 3.0*</p>
</li>
<li>
<p>Jakarta Authentication 3.1*</p>
</li>
<li>
<p>Jakarta Concurrency 3.1*</p>
</li>
<li>
<p>Jakarta Contexts and Dependency Injection 4.1*</p>
</li>
<li>
<p>Jakarta Data 1.0*</p>
</li>
<li>
<p>Jakarta Debugging Support for Other Languages 2.0</p>
</li>
<li>
<p>Jakarta Dependency Injection 2.0</p>
</li>
<li>
<p>Jakarta Enterprise Beans 4.0 Lite</p>
</li>
<li>
<p>Jakarta Expression Language 6.0*</p>
</li>
<li>
<p>Jakarta Faces 4.1*</p>
</li>
<li>
<p>Jakarta Interceptors 2.2*</p>
</li>
<li>
<p>Jakarta JSON Binding 3.0</p>
</li>
<li>
<p>Jakarta JSON Processing 2.1</p>
</li>
<li>
<p>Jakarta Pages 4.0*</p>
</li>
<li>
<p>Jakarta Persistence 3.2*</p>
</li>
<li>
<p>Jakarta RESTful Web Services 4.0*</p>
</li>
<li>
<p>Jakarta Security 4.0*</p>
</li>
<li>
<p>Jakarta Servlet 6.1*</p>
</li>
<li>
<p>Jakarta Standard Tag Library 3.0</p>
</li>
<li>
<p>Jakarta Transactions 2.0</p>
</li>
<li>
<p>Jakarta Validation 3.1*</p>
</li>
<li>
<p>Jakarta WebSocket 2.2*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note:</strong> technologies with an asterisk after them represent updated versions.</p>
</div>
</div>
<div class="sect2">
<h3 id="optional-components"><a class="anchor" href="#optional-components"></a>2.2. Optional Components</h3>
<div class="paragraph">
<p>There are no optional components in the Web
Profile.</p>
</div>
<div class="paragraph">
<p>Web Profile products may support some of the
technologies present in the Jakarta EE Platform and not already listed
in <a href="#a43">Required Components</a>,
consistently with their compatibility requirements.</p>
</div>
</div>
<div class="sect2">
<h3 id="a69"><a class="anchor" href="#a69"></a>2.3. Additional Requirements</h3>
<div class="paragraph">
<p>Web Profile products must support the
deployment of Jakarta EE web application modules ( <em>.war</em> files). No other
modules types are required to be supported.</p>
</div>
<div class="paragraph">
<p>The following functionality is required to be supported in Web Profile products:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Resource annotations defined by the Annotations specification ( <em>Resource</em>, <em>Resources</em> )</p>
</li>
<li>
<p>JNDI “java:” naming context as described in the JNDI section of the Platform specification</p>
</li>
<li>
<p>Jakarta Transactions</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="component-integration"><a class="anchor" href="#component-integration"></a>3. Component Specification Integration Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section defines the requirements between component specifications that are included in the Platform.</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>This section specifies additional rules or features when using CDI in a Jakarta EE container.
All requirements defined in the <a href="https://jakarta.ee/specifications/cdi/4.1/">CDI specification</a> also apply to this section.</p>
</div>
<div class="paragraph">
<p>CDI implementations in Jakarta EE containers are required to support CDI Full.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="concepts_ee"><a class="anchor" href="#concepts_ee"></a>3.1. CDI Extended Concepts for Jakarta EE</h3>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the concepts defined in <a href="#concepts">[concepts]</a> with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A Jakarta EE component is a <em>bean</em> if the lifecycle of its instances may be managed by the container according to the lifecycle context model defined in <a href="#contexts">[contexts]</a></p>
</li>
<li>
<p>Contextual instances of a bean may be used in EL expressions that are evaluated in the same context</p>
</li>
<li>
<p>For some Jakarta EE components - like environment resources, defined in <a href="#resources">Resources</a>  - the developer provides only the annotations and the bean implementation is provided by the container.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="capabilities_ee"><a class="anchor" href="#capabilities_ee"></a>3.1.1. Functionality provided by the container to the bean in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the capabilities defined in <a href="#capabilities">[capabilities]</a>, by providing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>scoped resolution by bean name when used in a Unified EL expression, as defined by <a href="#name_resolution">[name_resolution]</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="bean_types_ee"><a class="anchor" href="#bean_types_ee"></a>3.1.2. Bean types for Jakarta EE component</h4>
<div class="paragraph">
<p>As managed beans, session enterprise beans may have multiple bean types depending on their client-visible types.
For instance, this session bean has only the local interfaces <code>BookShop</code> and <code>Auditable</code>, along with <code>Object</code>, as bean types, since the bean class is not a client-visible type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Stateful</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">BookShopBean</span>
        <span class="directive">extends</span> Business
        <span class="directive">implements</span> BookShop, Auditable {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The rules for determining the (unrestricted) set of bean types for Jakarta EE components are defined in  <a href="#session_bean_types">Bean types of a session bean</a> and <a href="#resource_types">Bean types of a resource</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="scopes_ee"><a class="anchor" href="#scopes_ee"></a>3.1.3. Scopes</h4>
<div class="paragraph">
<p>Jakarta EE components such as servlets, enterprise beans and JavaBeans do not have a well-defined <em>scope</em>.
These components are either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>singletons</em>, such as singleton session enterprise beans, whose state is shared between all clients,</p>
</li>
<li>
<p><em>stateless objects</em>, such as servlets and stateless session enterprise beans, which do not contain client-visible state, or</p>
</li>
<li>
<p>objects that must be explicitly created and destroyed by their client, such as JavaBeans and stateful session enterprise beans, whose state is shared by explicit reference passing between clients.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CDI scopes add to Jakarta EE these missing well-defined lifecycle context as defined in <a href="#scopes">[scopes]</a>.</p>
</div>
<div class="sect4">
<h5 id="builtin_scopes_ee"><a class="anchor" href="#builtin_scopes_ee"></a>3.1.3.1. Built-in scope types in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the implementations of the <code>@RequestScoped</code>, <code>@ApplicationScoped</code> and <code>@SessionScoped</code> annotations provided by the container, represent the standard scopes defined by the Java Servlets specification.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="default_bean_discovery_ee"><a class="anchor" href="#default_bean_discovery_ee"></a>3.1.4. Default bean discovery mode for Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, If the <em>bean discovery mode</em> is <code>annotated</code>, the container must extend the rules defined in <a href="#default_bean_discovery">[default_bean_discovery]</a> with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>bean classes of sessions enterprise beans, are discovered, and</p>
</li>
<li>
<p>producer methods that are on a session enterprise bean are discovered, and</p>
</li>
<li>
<p>producer fields that are on a session enterprise bean are discovered, and</p>
</li>
<li>
<p>disposer methods that are on a session enterprise bean are discovered, and</p>
</li>
<li>
<p>observer methods that are on a session enterprise bean are discovered.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="names_ee"><a class="anchor" href="#names_ee"></a>3.1.5. Bean names in Jakarta EE</h4>
<div class="paragraph">
<p>A bean with a name may be referred to by its name in Unified EL expressions.</p>
</div>
<div class="paragraph">
<p>There is no relationship between the bean name of a session enterprise bean and the EJB name of the bean.</p>
</div>
<div class="paragraph">
<p>Bean names allow the direct use of beans in Pages or Faces pages.
For example, a bean with the name <code>products</code> could be used like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:outputText</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{products.total}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="default_name_ee"><a class="anchor" href="#default_name_ee"></a>3.1.5.1. Default bean names for session enterprise beans</h5>
<div class="paragraph">
<p>In the circumstances listed in <a href="#default_name">[default_name]</a>, the rule for determining default name for a session enterprise bean are defined in <a href="#session_bean_name">Default bean name for a session bean</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="implementation_ee"><a class="anchor" href="#implementation_ee"></a>3.2. Addition to programming model for Jakarta EE</h3>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#implementation">[implementation]</a>, and must also provide built-in support for injection and contextual lifecycle management of the following kinds of bean:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Session beans</p>
</li>
<li>
<p>Resources (Jakarta EE resources, persistence contexts, persistence units, remote enterprise beans and web services)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Jakarta EE enterprise beans containers are required by the Jakarta EE and Jakarta Enterprise Beans specifications to support session enterprise beans and the Jakarta EE component environment.
Other containers are not required to provide support for injection or lifecycle management of session beans or resources.</p>
</div>
<div class="sect3">
<h4 id="managed_beans_ee"><a class="anchor" href="#managed_beans_ee"></a>3.2.1. Managed beans in Jakarta EE</h4>
<div class="sect4">
<h5 id="what_classes_are_beans_ee"><a class="anchor" href="#what_classes_are_beans_ee"></a>3.2.1.1. Which Java classes are managed beans in Jakarta EE?</h5>
<div class="paragraph">
<p>When running in Jakarta EE, a top-level Java class is a managed bean if it meets requirements described in <a href="#what_classes_are_beans">[what_classes_are_beans]</a> or if it is defined to be a managed bean by any other Jakarta EE specification and if</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is not annotated with an Jakarta Enterprise Beans component-defining annotation or declared as an enterprise bean class in <code>ejb-jar.xml</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="session_beans"><a class="anchor" href="#session_beans"></a>3.2.2. Session enterprise beans</h4>
<div class="paragraph">
<p>A <em>session bean</em> is a bean that is implemented by a session bean with an Jakarta Enterprise Beans 3.x client view that is not annotated with <code>@Vetoed</code> or in a package annotated <code>@Vetoed</code>. The basic lifecycle and semantics of session enterprise beans are defined by the Jakarta Enterprise Beans specification.</p>
</div>
<div class="paragraph">
<p>A stateless session enterprise bean must belong to the <code>@Dependent</code> pseudo-scope. A singleton session bean must belong to either the <code>@ApplicationScoped</code> scope or to the <code>@Dependent</code> pseudo-scope. If a session bean specifies an illegal scope, the container automatically detects the problem and treats it as a definition error.
A stateful session enterprise bean may have any scope.</p>
</div>
<div class="paragraph">
<p>When a contextual instance of a session bean is obtained via the dependency injection service, the behavior of <code>SessionContext.getInvokedBusinessInterface()</code> is specific to the container implementation.
Portable applications should not rely upon the value returned by this method.</p>
</div>
<div class="paragraph">
<p>If the bean class of a session bean is annotated <code>@Interceptor</code> or <code>@Decorator</code>, the container automatically detects the problem and treats it as a definition error.</p>
</div>
<div class="paragraph">
<p>If the session bean class is a generic type, it must have scope <code>@Dependent</code>. If a session bean with a parameterized bean class declares any scope other than <code>@Dependent</code>, the container automatically detects the problem and treats it as a definition error.</p>
</div>
<div class="sect4">
<h5 id="session_bean_ejb_remove_method"><a class="anchor" href="#session_bean_ejb_remove_method"></a>3.2.2.1. Enterprise bean remove methods of session beans</h5>
<div class="paragraph">
<p>If a session bean is a stateful session bean:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the scope is <code>@Dependent</code>, the application <em>may</em> call any enterprise bean remove method of a contextual instance of the session bean.</p>
</li>
<li>
<p>Otherwise, the application <em>may not</em> directly call any enterprise bean remove method of any contextual instance of the session bean.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The session bean is not required to have an enterprise bean remove method in order for the container to destroy it.</p>
</div>
<div class="paragraph">
<p>If the application directly calls an enterprise bean remove method of a contextual instance of a session bean that is a stateful session bean and declares any scope other than <code>@Dependent</code>, an <code>UnsupportedOperationException</code> is thrown.</p>
</div>
<div class="paragraph">
<p>If the application directly calls an enterprise bean remove method of a contextual instance of a session bean that is a stateful session bean and has scope <code>@Dependent</code> then no parameters are passed to the method by the container.
Furthermore, the container ignores the instance instead of destroying it when <code>Contextual.destroy()</code> is called, as defined in <a href="#stateful_lifecycle">Lifecycle of stateful session enterprise beans</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="session_bean_types"><a class="anchor" href="#session_bean_types"></a>3.2.2.2. Bean types of a session bean</h5>
<div class="paragraph">
<p>The unrestricted set of bean types for a session bean contains all local interfaces of the bean and their superinterfaces.
If the session bean has a no-interface view, the unrestricted set of bean types contains the bean class and all superclasses.
In addition, <code>java.lang.Object</code> is a bean type of every session bean.</p>
</div>
<div class="paragraph">
<p>Remote interfaces are not included in the set of bean types.</p>
</div>
<div class="paragraph">
<p>The resulting set of bean types for a session bean consists only of <a href="#legal_bean_types">legal bean types</a>, all other types are removed from the set of bean types.</p>
</div>
</div>
<div class="sect4">
<h5 id="declaring_session_bean"><a class="anchor" href="#declaring_session_bean"></a>3.2.2.3. Declaring a session bean</h5>
<div class="paragraph">
<p>A session bean does not require any special annotations apart from the component-defining annotation (or XML declaration) required by the Jakarta Enterprise Beans specification.
The following enterprise beans are beans:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Singleton</span>
<span class="type">class</span> <span class="class">Shop</span> { .. }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Stateless</span>
<span class="type">class</span> <span class="class">PaymentProcessorImpl</span> <span class="directive">implements</span> PaymentProcessor { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>A bean class may also specify a scope, bean name, stereotypes and/or qualifiers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ConversationScoped</span> <span class="annotation">@Stateful</span> <span class="annotation">@Default</span> <span class="annotation">@Model</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ShoppingCart</span> { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>A session bean class may extend another bean class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Stateless</span>
<span class="annotation">@Named</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">loginAction</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">LoginActionImpl</span> <span class="directive">implements</span> LoginAction { ... }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Stateless</span>
<span class="annotation">@Mock</span>
<span class="annotation">@Named</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">loginAction</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MockLoginActionImpl</span> <span class="directive">extends</span> LoginActionImpl { ... }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="specialize_session_bean"><a class="anchor" href="#specialize_session_bean"></a>3.2.2.4. Specializing a session bean</h5>
<div class="paragraph">
<p>If a bean class of a session bean X is annotated <code>@Specializes</code>, then the bean class of X must directly extend the bean class of another session bean Y.
Then X <em>directly specializes</em> Y, as defined in <a href="#specialization">[specialization]</a>.</p>
</div>
<div class="paragraph">
<p>If the bean class of X does not directly extend the bean class of another session bean, the container automatically detects the problem and treats it as a definition error.</p>
</div>
<div class="paragraph">
<p>For example, <code>MockLoginActionBean</code> directly specializes <code>LoginActionBean</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Stateless</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">LoginActionBean</span> <span class="directive">implements</span> LoginAction { ... }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Stateless</span> <span class="annotation">@Mock</span> <span class="annotation">@Specializes</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MockLoginActionBean</span> <span class="directive">extends</span> LoginActionBean <span class="directive">implements</span> LoginAction { ... }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="session_bean_name"><a class="anchor" href="#session_bean_name"></a>3.2.2.5. Default bean name for a session bean</h5>
<div class="paragraph">
<p>The default name for a session bean is the unqualified class name of the session bean class, after converting the first character to lower case.</p>
</div>
<div class="paragraph">
<p>For example, if the bean class is named <code>ProductList</code>, the default bean name is <code>productList</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="producer_method_ee"><a class="anchor" href="#producer_method_ee"></a>3.2.3. Producer methods on session enterprise bean</h4>
<div class="paragraph">
<p>A producer method defined in a session enterprise bean follows the rules defined in <a href="#producer_method">[producer_method]</a> with the following addition:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A producer method defined in a session enterprise bean must be either a business method exposed by a local business interface of the enterprise bean or a static method of the bean class.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="declaring_producer_method_ee"><a class="anchor" href="#declaring_producer_method_ee"></a>3.2.3.1. Declaring a producer method in a session enterprise bean</h5>
<div class="paragraph">
<p>A producer method declaration in a session enterprise bean follows the rules defined in <a href="#declaring_producer_method">[declaring_producer_method]</a> with the following addition:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if a non-static method of a session bean class is annotated <code>@Produces</code>, and the method is not a business method exposed by a local business interface of the session bean, the container automatically detects the problem and treats it as a definition error.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="producer_field_ee"><a class="anchor" href="#producer_field_ee"></a>3.2.4. Producer field on a session enterprise bean</h4>
<div class="paragraph">
<p>A producer field defined in a session enterprise bean follows the rules defined in <a href="#producer_field">[producer_field]</a> with the following addition:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A producer field defined in a session enterprise bean must be a static field of the bean class.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="declaring_producer_field_ee"><a class="anchor" href="#declaring_producer_field_ee"></a>3.2.4.1. Declaring a producer field in a session enterprise bean</h5>
<div class="paragraph">
<p>A producer field declaration in a session enterprise bean follows the rules defined in <a href="#declaring_producer_field">[declaring_producer_field]</a> with the following addition:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a non-static field of a session enterprise bean class is annotated <code>@Produces</code>, the container automatically detects the problem and treats it as a definition error.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="disposer_method_ee"><a class="anchor" href="#disposer_method_ee"></a>3.2.5. Disposer methods on a session enterprise bean</h4>
<div class="paragraph">
<p>A disposer method defined in a session enterprise bean follows the rules defined in <a href="#disposer_method">[disposer_method]</a> with the following addition:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A disposer method defined in a session enterprise bean must be either a business method exposed by a local business interface of the enterprise bean or a static method of the bean class.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="declaring_disposer_method_ee"><a class="anchor" href="#declaring_disposer_method_ee"></a>3.2.5.1. Declaring a disposer method on a session enterprise bean</h5>
<div class="paragraph">
<p>A disposer method declaration in a session enterprise bean follows the rules defined in <a href="#declaring_disposer_method">[declaring_disposer_method]</a> with the following addition:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a non-static method of a session enterprise bean class has a parameter annotated <code>@Disposes</code>, and the method is not a business method exposed by a local business interface of the session bean, the container automatically detects the problem and treats it as a definition error.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="javaee_components"><a class="anchor" href="#javaee_components"></a>3.2.6. Jakarta EE components</h4>
<div class="paragraph">
<p>Most Jakarta EE components support injection and interception, as defined in the Jakarta EE Platform, Specification, table EE.5-1, but are not considered beans (as defined by this specification). Enterprise beans, as defined in <a href="#session_beans">Session enterprise beans</a> are the exception.</p>
</div>
<div class="paragraph">
<p>The instance used by the container to service an invocation of a Jakarta EE component will not be the same instance obtained when using <code>@Inject</code>, instantiated by the container to invoke a producer method, observer method or disposer method, or instantiated by the container to access the value of a producer field.
It is recommended that Jakarta EE components should not define observer methods, producer methods, producer fields or disposer methods.
It is safe to annotate Jakarta EE components with <code>@Vetoed</code> to prevent them being considered beans.</p>
</div>
</div>
<div class="sect3">
<h4 id="resources"><a class="anchor" href="#resources"></a>3.2.7. Resources</h4>
<div class="paragraph">
<p>A <em>resource</em> is a bean that represents a reference to a resource, persistence context, persistence unit, remote enterprise bean or web service in the Jakarta EE component environment.</p>
</div>
<div class="paragraph">
<p>By declaring a resource, we enable an object from the Jakarta EE component environment to be injected by specifying only its type and qualifiers at the injection point.
For example, if <code>@CustomerDatabase</code> is a qualifier:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span> <span class="annotation">@CustomerDatabase</span> Datasource customerData;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span> <span class="annotation">@CustomerDatabase</span> EntityManager customerDatabaseEntityManager;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span> <span class="annotation">@CustomerDatabase</span> EntityManagerFactory customerDatabaseEntityManagerFactory;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span> PaymentService remotePaymentService;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The container is not required to support resources with scope other than <code>@Dependent</code>. Portable applications should not define resources with any scope other than <code>@Dependent</code>.</p>
</div>
<div class="paragraph">
<p>A resource may not have a bean name.</p>
</div>
<div class="sect4">
<h5 id="declaring_resource"><a class="anchor" href="#declaring_resource"></a>3.2.7.1. Declaring a resource</h5>
<div class="paragraph">
<p>A resource may be declared by specifying a Jakarta EE component environment injection annotation as part of a producer field declaration.
The producer field may be static.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For a Jakarta EE resource, <code>@Resource</code> must be specified.</p>
</li>
<li>
<p>For a persistence context, <code>@PersistenceContext</code> must be specified.</p>
</li>
<li>
<p>For a persistence unit, <code>@PersistenceUnit</code> must be specified.</p>
</li>
<li>
<p>For a remote enterprise bean, <code>@EJB</code> must be specified.</p>
</li>
<li>
<p>For a web service, <code>@WebServiceRef</code> must be specified.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The injection annotation specifies the metadata needed to obtain the resource, entity manager, entity manager factory, remote enterprise bean instance or web service reference from the component environment.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Produces</span> <span class="annotation">@WebServiceRef</span>(lookup=<span class="string"><span class="delimiter">&quot;</span><span class="content">java:app/service/PaymentService</span><span class="delimiter">&quot;</span></span>)
PaymentService paymentService;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Produces</span> <span class="annotation">@EJB</span>(ejbLink=<span class="string"><span class="delimiter">&quot;</span><span class="content">../their.jar#PaymentService</span><span class="delimiter">&quot;</span></span>)
PaymentService paymentService;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Produces</span> <span class="annotation">@Resource</span>(lookup=<span class="string"><span class="delimiter">&quot;</span><span class="content">java:global/env/jdbc/CustomerDatasource</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@CustomerDatabase</span> Datasource customerDatabase;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Produces</span> <span class="annotation">@PersistenceContext</span>(unitName=<span class="string"><span class="delimiter">&quot;</span><span class="content">CustomerDatabase</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@CustomerDatabase</span> EntityManager customerDatabasePersistenceContext;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Produces</span> <span class="annotation">@PersistenceUnit</span>(unitName=<span class="string"><span class="delimiter">&quot;</span><span class="content">CustomerDatabase</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@CustomerDatabase</span> EntityManagerFactory customerDatabasePersistenceUnit;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The bean type and qualifiers of the resource are determined by the producer field declaration.</p>
</div>
<div class="paragraph">
<p>If the producer field declaration specifies a bean name, the container automatically detects the problem and treats it as a definition error.</p>
</div>
<div class="paragraph">
<p>If the matching object in the Jakarta EE component environment is not of the same type as the producer field declaration, the container automatically detects the problem and treats it as a definition error.</p>
</div>
</div>
<div class="sect4">
<h5 id="resource_types"><a class="anchor" href="#resource_types"></a>3.2.7.2. Bean types of a resource</h5>
<div class="paragraph">
<p>The unrestricted set of bean types for a resource is determined by the declared type of the producer field, as specified by <a href="#producer_field_types">[producer_field_types]</a>.</p>
</div>
<div class="paragraph">
<p>The resulting set of bean types for a resource consists only of <a href="#legal_bean_types">legal bean types</a>, all other types are removed from the set of bean types.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="additional_builtin_beans"><a class="anchor" href="#additional_builtin_beans"></a>3.2.8. Additional built-in beans</h4>
<div class="paragraph">
<p>A Jakarta EE enterprise beans container must provide the following built-in beans, all of which have qualifier <code>@Default</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a bean with bean type <code>jakarta.transaction.UserTransaction</code>, allowing injection of a reference to the JTA <code>UserTransaction</code>, and</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A servlet container must provide the following built-in beans, all of which have qualifier <code>@Default</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a bean with bean type <code>jakarta.servlet.http.HttpServletRequest</code>, allowing injection of a reference to the <code>HttpServletRequest</code></p>
</li>
<li>
<p>a bean with bean type <code>jakarta.servlet.http.HttpSession</code>, allowing injection of a reference to the <code>HttpSession</code>,</p>
</li>
<li>
<p>a bean with bean type <code>jakarta.servlet.ServletContext</code>, allowing injection of a reference to the <code>ServletContext</code>,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These beans are passivation capable dependencies, as defined in <a href="#passivation_capable_dependency">[passivation_capable_dependency]</a>.</p>
</div>
<div class="paragraph">
<p>If a Jakarta EE component class has an injection point of type <code>UserTransaction</code> and qualifier <code>@Default</code>, and may not validly make use of the JTA <code>UserTransaction</code> according to the Jakarta EE platform specification, the container automatically detects the problem and treats it as a definition error.</p>
</div>
</div>
<div class="sect3">
<h4 id="injected_fields_ee"><a class="anchor" href="#injected_fields_ee"></a>3.2.9. Injected fields in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for bean classes in <a href="#injected_fields">[injected_fields]</a> to Jakarta EE component classes supporting injection.</p>
</div>
</div>
<div class="sect3">
<h4 id="initializer_methods_ee"><a class="anchor" href="#initializer_methods_ee"></a>3.2.10. Initializer methods in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for bean classes in <a href="#initializer_methods">[initializer_methods]</a> to Jakarta EE component classes supporting injection.
The container must also ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An initializer method defined in a session enterprise bean is <em>not</em> required to be a business method of the session bean.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="type_level_inheritance_ee"><a class="anchor" href="#type_level_inheritance_ee"></a>3.2.11. Inheritance of type-level metadata in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for managed beans in <a href="#type_level_inheritance">[type_level_inheritance]</a> to session enterprise beans.</p>
</div>
</div>
<div class="sect3">
<h4 id="member_level_inheritance_ee"><a class="anchor" href="#member_level_inheritance_ee"></a>3.2.12. Inheritance of member-level metadata in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for managed beans in <a href="#member_level_inheritance">[member_level_inheritance]</a> to session enterprise beans.</p>
</div>
</div>
<div class="sect3">
<h4 id="specialization_ee"><a class="anchor" href="#specialization_ee"></a>3.2.13. Specialization in Jakarta EE</h4>
<div class="sect4">
<h5 id="direct_and_indirect_specialization_ee"><a class="anchor" href="#direct_and_indirect_specialization_ee"></a>3.2.13.1. Direct and indirect specialization in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#member_level_inheritance">[member_level_inheritance]</a> and is also required to support specialization for session enterprise beans as defined in <a href="#specialize_session_bean">Specializing a session bean</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="injection_el_resolution_ee"><a class="anchor" href="#injection_el_resolution_ee"></a>3.3. Dependency injection, lookup and EL in Jakarta EE</h3>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#injection_and_resolution">[injection_and_resolution]</a> and may also provide references to contextual instances by Unified EL expression evaluation.</p>
</div>
<div class="paragraph">
<p>When resolving a name in an EL expression, the container considers the bean name and selected alternatives.</p>
</div>
<div class="sect3">
<h4 id="selection_ee"><a class="anchor" href="#selection_ee"></a>3.3.1. Modularity in Jakarta EE</h4>
<div class="paragraph">
<p>In the Jakarta EE module architecture, any Jakarta EE module or library is a module. The Jakarta EE module is a bean archive if it contains a <code>beans.xml</code> file, as defined in <a href="#bean_archive_full">[bean_archive_full]</a>.</p>
</div>
<div class="paragraph">
<p>When running in Jakarta EE, the container must follow the same accessibility rules for beans and alternatives defined in <a href="#selection">[selection]</a> for Pages/Faces pages using EL resolution and make sure that only beans available from injection in the module that defines the Pages/Faces pages are resolved.</p>
</div>
<div class="paragraph">
<p>In the Jakarta EE module architecture, a bean class is accessible in a module if and only if it is required to be accessible according to the class loading requirements defined by the Jakarta EE platform specification.</p>
</div>
<div class="paragraph">
<p>Note that, in some Jakarta EE implementations, a bean class might be accessible to some other class even when this is not required by the Jakarta EE platform specification.
For the purposes of this specification, a class is not considered accessible to another class unless accessibility is explicitly required by the Jakarta EE platform specification.</p>
</div>
<div class="paragraph">
<p>An alternative is not available for injection, lookup or EL resolution to classes or Pages/Faces pages in a module unless the module is a bean archive and the alternative is explicitly <em>selected</em> for the bean archive or the application.</p>
</div>
<div class="sect4">
<h5 id="declaring_selected_alternatives_application_ee"><a class="anchor" href="#declaring_selected_alternatives_application_ee"></a>3.3.1.1. Declaring selected alternatives for an application in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for managed beans in <a href="#declaring_selected_alternatives_application">[declaring_selected_alternatives_application]</a> to session enterprise beans.</p>
</div>
</div>
<div class="sect4">
<h5 id="declaring_selected_alternatives_bean_archive_ee"><a class="anchor" href="#declaring_selected_alternatives_bean_archive_ee"></a>3.3.1.2. Declaring selected alternatives for a bean archive in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for managed beans in <a href="#declaring_selected_alternatives_bean_archive">[declaring_selected_alternatives_bean_archive]</a> to session enterprise beans.</p>
</div>
</div>
<div class="sect4">
<h5 id="unsatisfied_and_ambig_dependencies_ee"><a class="anchor" href="#unsatisfied_and_ambig_dependencies_ee"></a>3.3.1.3. Unsatisfied and ambiguous dependencies in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#unsatisfied_and_ambig_dependencies">[unsatisfied_and_ambig_dependencies]</a> and must also validate all injection points of all Jakarta EE component classes supporting injection</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="name_resolution_ee"><a class="anchor" href="#name_resolution_ee"></a>3.3.2. EL name resolution</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#name_resolution">[name_resolution]</a> and must also support name resolution for name used in Expression Language</p>
</div>
<div class="paragraph">
<p>An EL name resolves to a bean if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the name can be resolved to a bean according to rules in <a href="#name_resolution">[name_resolution]</a>, and</p>
</li>
<li>
<p>the bean is available for injection in the war containing the Pages or Faces page with the EL expression.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="ambig_names_ee"><a class="anchor" href="#ambig_names_ee"></a>3.3.2.1. Ambiguous EL names</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#ambig_names">[ambig_names]</a> to names used in Expression Language.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="injection_ee"><a class="anchor" href="#injection_ee"></a>3.3.3. Dependency injection in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#injection">[injection]</a> and is also required to perform dependency injection whenever it creates the following contextual objects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>contextual instances of session enterprise beans.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The container is also required to perform dependency injection whenever it instantiates any of the following non-contextual objects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>non-contextual instances of session enterprise beans (for example, session beans obtained by the application from JNDI or injected using <code>@EJB</code>), and</p>
</li>
<li>
<p>instances of any other Jakarta EE component class supporting injection.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A Java EE 5 container is not required to support injection for non-contextual objects.</p>
</div>
<div class="sect4">
<h5 id="instantiation_ee"><a class="anchor" href="#instantiation_ee"></a>3.3.3.1. Injection using the bean constructor in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for managed beans in <a href="#instantiation">[instantiation]</a> to session enterprise beans.</p>
</div>
</div>
<div class="sect4">
<h5 id="fields_initializer_methods_ee"><a class="anchor" href="#fields_initializer_methods_ee"></a>3.3.3.2. Injection of fields and initializer methods in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for managed beans in <a href="#fields_initializer_methods">[fields_initializer_methods]</a> to session enterprise beans and to any other Jakarta EE component class supporting injection.</p>
</div>
<div class="paragraph">
<p>The container is also required to ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Initializer methods declared by a class X in the type hierarchy of the bean are called after all Jakarta EE component environment resource dependencies declared by X or by superclasses of X have been injected.</p>
</li>
<li>
<p>Any <code>@PostConstruct</code> callback declared by a class X in the type hierarchy of the bean is called after all Jakarta EE component environment resource dependencies declared by X or by superclasses of X have been injected.</p>
</li>
<li>
<p>Any servlet <code>init()</code> method is called after all initializer methods have been called, all injected fields have been initialized and all Jakarta EE component environment resource dependencies have been injected.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="dependent_objects_destruction_ee"><a class="anchor" href="#dependent_objects_destruction_ee"></a>3.3.3.3. Destruction of dependent objects in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for managed beans in <a href="#dependent_objects_destruction">[dependent_objects_destruction]</a> to any other Jakarta EE component class supporting injection and perform destruction after the servlet <code>destroy()</code> method is called.</p>
</div>
</div>
<div class="sect4">
<h5 id="bean_metadata_ee"><a class="anchor" href="#bean_metadata_ee"></a>3.3.3.4. Bean metadata in Jakarta EE</h5>
<div class="paragraph">
<p>Interceptor and decorator instances associated with Jakarta EE components that are not considered beans (as defined by this specification) cannot obtain information about the beans they intercept and decorate (as defined in <a href="#bean_metadata">[bean_metadata]</a>) and thus <code>null</code> is injected into relevant injection points.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="contexts_ee"><a class="anchor" href="#contexts_ee"></a>3.4. Scopes and contexts in Jakarta EE</h3>
<div class="sect3">
<h4 id="dependent_context_ee"><a class="anchor" href="#dependent_context_ee"></a>3.4.1. Dependent pseudo-scope in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#dependent_context">[dependent_context]</a> and must also ensure that if a bean is declared to have <code>@Dependent</code> scope:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When a Unified EL expression in a Faces or Pages page that refers to the bean by its bean name is evaluated, at most one instance of the bean is instantiated.
This instance exists to service just a single evaluation of the EL expression.
It is reused if the bean name appears multiple times in the EL expression, but is never reused when the EL expression is evaluated again, or when another EL expression is evaluated.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="dependent_objects_ee"><a class="anchor" href="#dependent_objects_ee"></a>3.4.1.1. Dependent objects in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for bean in <a href="#dependent_objects">[dependent_objects]</a> to Jakarta EE component class instance.</p>
</div>
</div>
<div class="sect4">
<h5 id="dependent_destruction_ee"><a class="anchor" href="#dependent_destruction_ee"></a>3.4.1.2. Destruction of objects with scope <code>@Dependent</code> in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for bean in <a href="#dependent_destruction">[dependent_destruction]</a> to Jakarta EE component class instance, and must also ensure that :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all <code>@Dependent</code> scoped contextual instances created during evaluation of a Unified EL expression in a Pages or Faces page are destroyed when the evaluation completes.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="dependent_scope_el"><a class="anchor" href="#dependent_scope_el"></a>3.4.1.3. Dependent pseudo-scope and Unified EL</h5>
<div class="paragraph">
<p>Suppose a Unified EL expression in a Faces or Pages page refers to a bean with scope <code>@Dependent</code> by its bean name. Each time the EL expression is evaluated:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the bean is instantiated at most once, and</p>
</li>
<li>
<p>the resulting instance is reused for every appearance of the bean name, and</p>
</li>
<li>
<p>the resulting instance is destroyed when the evaluation completes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Portable extensions that integrate with the container via Unified EL should also ensure that these rules are enforced.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="passivating_scope_ee"><a class="anchor" href="#passivating_scope_ee"></a>3.4.2. Passivation and passivating scopes in Jakarta EE</h4>
<div class="sect4">
<h5 id="passivation_capable_ee"><a class="anchor" href="#passivation_capable_ee"></a>3.4.2.1. Passivation capable beans in Jakarta EE</h5>
<div class="ulist">
<ul>
<li>
<p>As defined by the Jakarta Enterprise Beans specification, a stateful session enterprise bean is passivation capable if:</p>
<div class="ulist">
<ul>
<li>
<p>interceptors and decorators of the bean are passivation capable, and,</p>
</li>
<li>
<p>the stateful session enterprise bean does not have the <code>passivationCapable</code> flag set to <code>false</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>As defined by the Jakarta Enterprise Beans specification, a stateless session enterprise bean or a singleton session enterprise bean is not passivation capable.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="passivation_capable_dependency_ee"><a class="anchor" href="#passivation_capable_dependency_ee"></a>3.4.2.2. Passivation capable dependencies in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#passivation_capable_dependency">[passivation_capable_dependency]</a>, and must also guarantee that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all stateless session enterprise beans are passivation capable dependencies,</p>
</li>
<li>
<p>all singleton session enterprise beans are passivation capable dependencies,</p>
</li>
<li>
<p>all passivation capable stateful session enterprise beans are passivation capable dependencies, and</p>
</li>
<li>
<p>all Jakarta EE resources are passivation capable dependencies.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="passivation_validation_ee"><a class="anchor" href="#passivation_validation_ee"></a>3.4.2.3. Validation of passivation capable beans and dependencies in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for managed beans in <a href="#passivation_validation">[passivation_validation]</a> to session enterprise beans.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="builtin_contexts_ee"><a class="anchor" href="#builtin_contexts_ee"></a>3.4.3. Context management for built-in scopes in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#builtin_contexts">[builtin_contexts]</a> and is also required to ensure the following rules for built-in context implementation.</p>
</div>
<div class="paragraph">
<p>The built-in request and application context objects are active during servlet, web service and enterprise bean invocations, and the built in session and request context objects are active during servlet and web service invocations.</p>
</div>
<div class="sect4">
<h5 id="request_context_ee"><a class="anchor" href="#request_context_ee"></a>3.4.3.1. Request context lifecycle in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE the container must extend the rules defined in <a href="#request_context">[request_context]</a> and is also required to implement request context with the following rules.</p>
</div>
<div class="paragraph">
<p>The request context is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>during the <code>service()</code> method of any servlet in the web application, during the <code>doFilter()</code> method of any servlet filter and when the container calls any <code>ServletRequestListener</code> or <code>AsyncListener</code>,</p>
</li>
<li>
<p>during any Jakarta EE web service invocation,</p>
</li>
<li>
<p>during any remote method invocation of any enterprise bean, during any asynchronous method invocation of any enterprise bean, during any call to an enterprise bean timeout method and during message delivery to any message-driven enterprise bean.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The request context is destroyed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>at the end of the servlet request, after the <code>service()</code> method, all <code>doFilter()</code> methods, and all <code>requestDestroyed()</code> and <code>onComplete()</code> notifications return,</p>
</li>
<li>
<p>after the web service invocation completes,</p>
</li>
<li>
<p>after the enterprise bean remote method invocation, asynchronous method invocation, timeout or message delivery completes if it did not already exist when the invocation occurred.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The payload of the event fired when the request context is initialized or destroyed is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>ServletRequest</code> if the context is initialized or destroyed due to a servlet request, or</p>
</li>
<li>
<p>the <code>ServletRequest</code> if the context is initialized or destroyed due to a web service invocation, or</p>
</li>
<li>
<p>any <code>java.lang.Object</code> for other types of request.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="session_context_ee"><a class="anchor" href="#session_context_ee"></a>3.4.3.2. Session context lifecycle in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE the container is required to implement session context with the following rules.</p>
</div>
<div class="paragraph">
<p>The session scope is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>during the <code>service()</code> method of any servlet in the web application, during the <code>doFilter()</code> method of any servlet filter and when the container calls any <code>HttpSessionListener</code>, <code>AsyncListener</code> or <code>ServletRequestListener</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The session context is shared between all servlet requests that occur in the same HTTP session.
The session context is destroyed when the <code>HTTPSession</code> times out, after all <code>HttpSessionListener</code> s have been called, and at the very end of any request in which <code>invalidate()</code> was called, after all filters and <code>ServletRequestListener</code> s have been called.</p>
</div>
<div class="paragraph">
<p>An event with qualifier <code>@Initialized(SessionScoped.class)</code> is synchronously fired when the session context is initialized.
An event with qualifier <code>@BeforeDestroyed(SessionScoped.class)</code> is synchronously fired when the session context is about to be destroyed, i.e. before the actual destruction.
An event with qualifier <code>@Destroyed(SessionScoped.class)</code> is synchronously fired when the session context is destroyed, i.e. after the actual destruction.
The event payload is <code>jakarta.servlet.http.HttpSession</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="application_context_ee"><a class="anchor" href="#application_context_ee"></a>3.4.3.3. Application context lifecycle in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE the container must extend the rules defined in <a href="#application_context">[application_context]</a> and is also required to implement application context with the following rules.</p>
</div>
<div class="paragraph">
<p>The application scope is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>during the <code>service()</code> method of any servlet in the web application, during the <code>doFilter()</code> method of any servlet filter and when the container calls any <code>ServletContextListener</code>, <code>HttpSessionListener</code>, <code>AsyncListener</code> or <code>ServletRequestListener</code>,</p>
</li>
<li>
<p>during any Jakarta EE web service invocation,</p>
</li>
<li>
<p>during any asynchronous invocation of an event observer,</p>
</li>
<li>
<p>during any remote method invocation of any enterprise bean, during any asynchronous method invocation of any enterprise bean, during any call to an enterprise bean timeout method and during message delivery to any message-driven enterprise bean,</p>
</li>
<li>
<p>when the disposer method or <code>@PreDestroy</code> callback of any bean with any normal scope other than <code>@ApplicationScoped</code> is called, and</p>
</li>
<li>
<p>during <code>@PostConstruct</code> callback of any bean.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The application context is shared between all servlet requests, web service invocations, asynchronous invocation of an event observer, enterprise bean remote method invocations, enterprise bean asynchronous method invocations, enterprise bean timeouts and message deliveries to message-driven beans that execute within the same application.
The application context is destroyed when the application is shut down.</p>
</div>
<div class="paragraph">
<p>The payload of the event fired when the application context is initialized or destroyed is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>ServletContext</code> if the application is a web application deployed to a Servlet container, or</p>
</li>
<li>
<p>any <code>java.lang.Object</code> for other types of application.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="conversation_context_ee"><a class="anchor" href="#conversation_context_ee"></a>3.4.3.4. Conversation context lifecycle in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE the container is required to implement conversation context with the following rules.</p>
</div>
<div class="paragraph">
<p>The conversation scope is active during all Servlet requests.</p>
</div>
<div class="paragraph">
<p>An event with qualifier <code>@Initialized(ConversationScoped.class)</code> is synchronously fired when the conversation context is initialized.
An event with qualifier <code>@BeforeDestroyed(ConversationScoped.class)</code> is synchronously fired when the conversation is about to be destroyed, i.e. before the actual destruction.
An event with qualifier <code>@Destroyed(ConversationScoped.class)</code> is synchronously fired when the conversation is destroyed, i.e. after the actual destruction.
The event payload is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the conversation id if the conversation context is destroyed and is not associated with a current Servlet request, or</p>
</li>
<li>
<p>the <code>ServletRequest</code> if the application is a web application deployed to a Servlet container, or</p>
</li>
<li>
<p>any <code>java.lang.Object</code> for other types of application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The conversation context provides access to state associated with a particular <em>conversation</em>.
Every Servlet request has an associated conversation.
This association is managed automatically by the container according to the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Any Servlet request has exactly one associated conversation.</p>
</li>
<li>
<p>The container provides a filter with the name "CDI Conversation Filter", which may be mapped in <code>web.xml</code>, allowing the user alter when the conversation is associated with the servlet request.
If this filter is not mapped in any <code>web.xml</code> in the application, the conversation associated with a Servlet request is determined at the beginning of the request before calling any <code>service()</code> method of any servlet in the web application, calling the <code>doFilter()</code> method of any servlet filter in the web application and before the container calls any <code>ServletRequestListener</code> or <code>AsyncListener</code> in the web application.</p>
</li>
<li>
<p>The implementation should determine the conversation associated with the Servlet request in a way that does not prevent other filters or servlet from setting the request character encoding or parsing the request body themselves.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any conversation is in one of two states: <em>transient</em> or <em>long-running</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By default, a conversation is transient</p>
</li>
<li>
<p>A transient conversation may be marked long-running by calling <code>Conversation.begin()</code></p>
</li>
<li>
<p>A long-running conversation may be marked transient by calling <code>Conversation.end()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All long-running conversations have a string-valued unique identifier, which may be set by the application when the conversation is marked long-running, or generated by the container.</p>
</div>
<div class="paragraph">
<p>If the conversation associated with the current Servlet request is in the <em>transient</em> state at the end of a Servlet request, it is destroyed, and the conversation context is also destroyed.</p>
</div>
<div class="paragraph">
<p>If the conversation associated with the current Servlet request is in the <em>long-running</em> state at the end of a Servlet request, it is not destroyed.
The long-running conversation associated with a request may be propagated to any Servlet request via use of a request parameter named <code>cid</code> containing the unique identifier of the conversation.
In this case, the application must manage this request parameter.</p>
</div>
<div class="paragraph">
<p>If the current Servlet request is a Faces request, and the conversation is in <em>long-running</em> state, it is propagated according to the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The long-running conversation context associated with a request that renders a Faces view is automatically propagated to any faces request (Faces form submission) that originates from that rendered page.</p>
</li>
<li>
<p>The long-running conversation context associated with a request that results in a Faces redirect (a redirect resulting from a navigation rule or Faces <code>NavigationHandler</code>) is automatically propagated to the resulting non-faces request, and to any other subsequent request to the same URL.
This is accomplished via use of a request parameter named <code>cid</code> containing the unique identifier of the conversation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When no conversation is propagated to a Servlet request, or if a request parameter named <code>conversationPropagation</code> has the value <code>none</code> the request is associated with a new transient conversation.</p>
</div>
<div class="paragraph">
<p>All long-running conversations are scoped to a particular HTTP servlet session and may not cross session boundaries.</p>
</div>
<div class="paragraph">
<p>In the following cases, a propagated long-running conversation cannot be restored and reassociated with the request:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When the HTTP servlet session is invalidated, all long-running conversation contexts created during the current session are destroyed, after the servlet <code>service()</code> method completes.</p>
</li>
<li>
<p>The container is permitted to arbitrarily destroy any long-running conversation that is associated with no current Servlet request, in order to conserve resources.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>conversation timeout</em>, which may be specified by calling <code>Conversation.setTimeout()</code> is a hint to the container that a conversation should not be destroyed if it has been active within the last given interval in milliseconds.</p>
</div>
<div class="paragraph">
<p>If the propagated conversation cannot be restored, the container must associate the request with a new transient conversation and throw an exception of type <code>jakarta.enterprise.context.NonexistentConversationException</code>.</p>
</div>
<div class="paragraph">
<p>The container ensures that a long-running conversation may be associated with at most one request at a time, by blocking or rejecting concurrent requests.
If the container rejects a request, it must associate the request with a new transient conversation and throw an exception of type <code>jakarta.enterprise.context.BusyConversationException</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lifecycle_ee"><a class="anchor" href="#lifecycle_ee"></a>3.5. Lifecycle of contextual instances</h3>
<div class="sect3">
<h4 id="biz_method_ee"><a class="anchor" href="#biz_method_ee"></a>3.5.1. Container invocations and interception in Jakarta EE</h4>
<div class="paragraph">
<p>When the application invokes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a business method of a session bean via an enterprise bean remote or local reference,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>the invocation is treated as a <em>business method invocation</em>.</p>
</div>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#biz_method">[biz_method]</a>, with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Invocation of Jakarta Enterprise Beans timer service timeouts by the container are not business method invocations, but are intercepted by interceptors for enterprise bean timeouts.</p>
</li>
<li>
<p>Only an invocation of business method on a session enterprise bean is subject to Jakarta Enterprise Beans services such as declarative transaction management, concurrency, security and asynchronicity, as defined by the Jakarta Enterprise Beans specification.</p>
</li>
<li>
<p>Additionally, invocations of message listener methods of message-driven beans during message delivery are passed through method interceptors.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="stateful_lifecycle"><a class="anchor" href="#stateful_lifecycle"></a>3.5.1.1. Lifecycle of stateful session enterprise beans</h5>
<div class="paragraph">
<p>When the <code>create()</code> method of a <code>Bean</code> object that represents a stateful session enterprise bean that is called, the container creates and returns a container-specific internal local reference to a new session enterprise bean instance. The reference must be passivation capable. This reference is not directly exposed to the application.
When the <code>create()</code> method of a <code>Bean</code> object that represents a stateful session enterprise bean that is called, the container creates and returns a container-specific internal local reference to a new session enterprise bean instance. The reference must be passivation capable. This reference is not directly exposed to the application.</p>
</div>
<div class="paragraph">
<p>Before injecting or returning a contextual instance to the application, the container transforms its internal reference into an object that implements the bean types expected by the application and delegates method invocations to the underlying stateful session enterprise bean instance. This object must be passivation capable.</p>
</div>
<div class="paragraph">
<p>When the <code>destroy()</code> method is called, and if the underlying enterprise bean was not already removed by direct invocation of a remove method by the application, the container removes the stateful session enterprise bean.
The <code>@PreDestroy</code> callback must be invoked by the container.</p>
</div>
<div class="paragraph">
<p>Note that the container performs additional work when the underlying enterprise bean is created and removed, as defined in <a href="#injection">[injection]</a></p>
</div>
</div>
<div class="sect4">
<h5 id="stateless_lifecycle"><a class="anchor" href="#stateless_lifecycle"></a>3.5.1.2. Lifecycle of stateless and singleton session enterprise beans</h5>
<div class="paragraph">
<p>When the <code>create()</code> method of a <code>Bean</code> object that represents a stateless session or singleton session enterprise bean is called, the container creates and returns a container-specific internal local reference to the session enterprise bean.
This reference is not directly exposed to the application.</p>
</div>
<div class="paragraph">
<p>Before injecting or returning a contextual instance to the application, the container transforms its internal reference into an object that implements the bean types expected by the application and delegates method invocations to the underlying session enterprise bean.
This object must be passivation capable.</p>
</div>
<div class="paragraph">
<p>When the <code>destroy()</code> method is called, the container simply discards this internal reference.</p>
</div>
<div class="paragraph">
<p>Note that the container performs additional work when the underlying enterprise bean is created and removed, as defined in <a href="#injection">[injection]</a></p>
</div>
</div>
<div class="sect4">
<h5 id="resource_lifecycle"><a class="anchor" href="#resource_lifecycle"></a>3.5.1.3. Lifecycle of resources</h5>
<div class="paragraph">
<p>When the <code>create()</code> method of a <code>Bean</code> object that represents a resource is called, the container creates and returns a container-specific internal reference to the Jakarta EE component environment resource, entity manager, entity manager factory, remote enterprise bean instance or web service reference. This reference is not directly exposed to the application.</p>
</div>
<div class="paragraph">
<p>Before injecting or returning a contextual instance to the application, the container transforms its internal reference into an object that implements the bean types expected by the application and delegates method invocations to the underlying resource, entity manager, entity manager factory, remote enterprise bean instance or web service reference. This object must be passivation capable.</p>
</div>
<div class="paragraph">
<p>The container must perform ordinary Jakarta EE component environment injection upon any non-static field that functions as a resource declaration, as defined by the Jakarta EE Platform and Jakarta Annotations specifications.
The container is not required to perform Jakarta EE component environment injection upon a static field.
Portable applications should not rely upon the value of a static field that functions as a resource declaration.</p>
</div>
<div class="paragraph">
<p>References to enterprise beans and web services are always dependent scoped and a new instance must be obtained for every injection performed.</p>
</div>
<div class="paragraph">
<p>For an entity manager associated with a resource definition, it must behave as though it were injected directly using <code>@PersistenceContext</code>.</p>
</div>
<div class="paragraph">
<p>When the <code>destroy()</code> method of a bean which represents a remote stateful enterprise bean reference is called, the container will <em>not</em> automatically destroy the enterprise bean reference. The application must explicitly call the method annotated <code>@Remove</code>. This behavior differs to that specified in <a href="#stateful_lifecycle">Lifecycle of stateful session enterprise beans</a> for beans which represent a local stateful enterprise bean reference</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="decorators_ee"><a class="anchor" href="#decorators_ee"></a>3.6. Decorators in Jakarta EE</h3>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for managed beans in <a href="#decorators">[decorators]</a> to session enterprise beans.</p>
</div>
<div class="sect3">
<h4 id="decorator_bean_ee"><a class="anchor" href="#decorator_bean_ee"></a>3.6.1. Decorator beans in Jakarta EE</h4>
<div class="paragraph">
<p>Decorators of a session enteprise bean must comply with the bean provider programming restrictions defined by the Jakarta Enterprise Beans specification.
Decorators of a stateful session enterprise bean must comply with the rules for instance passivation and conversational state defined by the Jakarta Enterprise Beans specification.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interceptors_ee"><a class="anchor" href="#interceptors_ee"></a>3.7. Interceptor bindings in Jakarta EE</h3>
<div class="paragraph">
<p>Session and message-driven enterprise beans support interception as defined in <a href="#interceptors">[interceptors]</a>.</p>
</div>
<div class="sect3">
<h4 id="enabled_interceptors_ee"><a class="anchor" href="#enabled_interceptors_ee"></a>3.7.1. Interceptor enablement and ordering in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#enabled_interceptors">[enabled_interceptors]</a> and also ensured that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Interceptors declared using interceptor bindings are called after interceptors declared using the <code>@Interceptor</code> annotation (or using the corresponding element of a deployment descriptor).</p>
</li>
<li>
<p>Interceptors declared using interceptor bindings are called before any around-invoke, around-timeout, or lifecycle event callback methods declared on the target class or any superclass of the target class.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="interceptor_resolution_ee"><a class="anchor" href="#interceptor_resolution_ee"></a>3.7.2. Interceptor resolution in Jakarta EE</h4>
<div class="paragraph">
<p>For a custom implementation of the <code>Interceptor</code> interface defined in <a href="#interceptor">[interceptor]</a>, the container also calls <code>intercepts()</code> to determine if the interceptor intercepts an enterprise bean timeout method invocation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="events_ee"><a class="anchor" href="#events_ee"></a>3.8. Events in Jakarta EE</h3>
<div class="sect3">
<h4 id="observer_methods_ee"><a class="anchor" href="#observer_methods_ee"></a>3.8.1. Observer methods in session enterprise beans</h4>
<div class="paragraph">
<p>An observer method may also be a non-abstract method of a session enterprise bean class.
It must be either a business method exposed by a local business interface of the enterprise bean or a static method of the bean class.</p>
</div>
<div class="sect4">
<h5 id="observes_ee"><a class="anchor" href="#observes_ee"></a>3.8.1.1. Declaring an observer method in an enterprise bean</h5>
<div class="paragraph">
<p>If a non-static method of a session bean class has a parameter annotated <code>@Observes</code> or <code>@ObservesAsync</code>, and the method is not a business method exposed by a local business interface of the enterprise bean, the container automatically detects the problem and treats it as a definition error.</p>
</div>
</div>
<div class="sect4">
<h5 id="observer_method_invocation_context_ee"><a class="anchor" href="#observer_method_invocation_context_ee"></a>3.8.1.2. Observer method invocation context in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#observer_method_invocation_context">[observer_method_invocation_context]</a> and must also ensure that all kinds of observers are called in the same client security context as the invocation of <code>Event.fire()</code> or <code>Event.fireAsync()</code>.</p>
</div>
<div class="paragraph">
<p>The transaction and security contexts for a business method exposed by a local business interface of a session enterprise bean also depend upon the transaction attribute and <code>@RunAs</code> descriptor, if any.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="spi_ee"><a class="anchor" href="#spi_ee"></a>3.9. Portable extensions in Jakarta EE</h3>
<div class="sect3">
<h4 id="bean_ee"><a class="anchor" href="#bean_ee"></a>3.9.1. The <code>Bean</code> interface in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#bean">[bean]</a> for managed bean to session enterprise bean.</p>
</div>
<div class="sect4">
<h5 id="interceptor_ee"><a class="anchor" href="#interceptor_ee"></a>3.9.1.1. The <code>Interceptor</code> interface in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#interceptor">[interceptor]</a> and must also ensure that</p>
</div>
<div class="paragraph">
<p><code>PRE_PASSIVATE</code>, <code>POST_ACTIVATE</code> and <code>AROUND_TIMEOUT</code> InterceptorType values are linked to enterprise bean lifecycle callback or timeout method.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="injectiontarget_ee"><a class="anchor" href="#injectiontarget_ee"></a>3.9.2. <code>InjectionTarget</code> interface in Jakarta EE</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined for <code>InjectionTarget</code> in <a href="#injectiontarget">[injectiontarget]</a> and must also ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>when <code>inject()</code> is called, the container performs Jakarta EE component environment injection, according to the semantics required by the Jakarta EE platform specification, sets the value of all injected fields, and calls all initializer methods, as defined in <a href="#fields_initializer_methods_ee">Injection of fields and initializer methods in Jakarta EE</a>.</p>
</li>
<li>
<p><code>@PostConstruct</code> callback is called according to the semantics required by the Jakarta EE platform specification.</p>
</li>
<li>
<p><code>@PreDestroy</code> callback is called according to the semantics required by the Jakarta EE platform specification.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="beanmanager_ee"><a class="anchor" href="#beanmanager_ee"></a>3.9.3. The <code>BeanManager</code> object in Jakarta EE</h4>
<div class="sect4">
<h5 id="provider_ee"><a class="anchor" href="#provider_ee"></a>3.9.3.1. Obtaining a reference to the CDI container in Jakarta EE</h5>
<div class="paragraph">
<p>A Jakarta EE container is required to provide a CDI provider that will allow access to the current container for any Jakarta EE application or Jakarta EE module which contains enabled beans.</p>
</div>
<div class="paragraph">
<p>Jakarta EE Components may obtain an instance of <code>BeanManager</code> from JNDI by looking up the name <code>java:comp/BeanManager</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="alternative_metadata_sources_ee"><a class="anchor" href="#alternative_metadata_sources_ee"></a>3.9.4. Alternative metadata sources and enterprise beans</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#alternative_metadata_sources">[alternative_metadata_sources]</a> and ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>when an <code>AnnotatedType</code> represents a session enterprise bean class, <code>Annotated.getTypeClosure()</code> must returns the session enterprise bean types as defined in <a href="#session_bean_types">Bean types of a session bean</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="init_events_ee"><a class="anchor" href="#init_events_ee"></a>3.9.5. Addition to Container lifecycle events in Jakarta EE</h4>
<div class="sect4">
<h5 id="process_annotated_type_ee"><a class="anchor" href="#process_annotated_type_ee"></a>3.9.5.1. <code>ProcessAnnotatedType</code> event in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#process_annotated_type">[process_annotated_type]</a> to Jakarta EE component and session enterprise bean classes.</p>
</div>
</div>
<div class="sect4">
<h5 id="process_injection_point_ee"><a class="anchor" href="#process_injection_point_ee"></a>3.9.5.2. <code>ProcessInjectionPoint</code> event and enterprise beans</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must also fire an event for every injection point of every Jakarta EE component class supporting injection that may be instantiated by the container at runtime, including every session or message-driven enterprise bean.</p>
</div>
</div>
<div class="sect4">
<h5 id="process_injection_target_ee"><a class="anchor" href="#process_injection_target_ee"></a>3.9.5.3. <code>ProcessInjectionTarget</code> event and enterprise beans</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must also fire an event for every Jakarta EE component class supporting injection that may be instantiated by the container at runtime, including every session or message-driven enterprise bean.</p>
</div>
<div class="paragraph">
<p>The container must extend the rules defined in <a href="#process_injection_target">[process_injection_target]</a> for managed bean to session enterprise bean and other Jakarta EE component class supporting injection.</p>
</div>
<div class="paragraph">
<p>For example, this observer decorates the <code>InjectionTarget</code> for all servlets.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">&lt;T <span class="directive">extends</span> Servlet&gt; <span class="type">void</span> decorateServlet(<span class="annotation">@Observes</span> ProcessInjectionTarget&lt;T&gt; pit) {
    pit.setInjectionTarget( decorate( pit.getInjectionTarget() ) );
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="process_bean_attributes_ee"><a class="anchor" href="#process_bean_attributes_ee"></a>3.9.5.4. <code>ProcessBeanAttributes</code> event and enterprise beans</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#process_bean_attributes">[process_bean_attributes]</a> to session enterprise bean.</p>
</div>
</div>
<div class="sect4">
<h5 id="process_bean_ee"><a class="anchor" href="#process_bean_ee"></a>3.9.5.5. <code>ProcessBean</code> event and enterprise beans</h5>
<div class="paragraph">
<p>In addition to definition given in <a href="#process_bean">[process_bean]</a> the following apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For a session bean with bean class <code>X</code>, the container must raise an event of type <code>ProcessSessionBean&lt;X&gt;</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Resources are considered to be producer fields.</p>
</div>
<div class="paragraph">
<p>When running in Jakarta EE, the interface <code>jakarta.enterprise.inject.spi.ProcessBean</code> is also a supertype of <code>jakarta.enterprise.inject.spi.ProcessSessionBean</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">ProcessSessionBean</span>&lt;X&gt;
        <span class="directive">extends</span> ProcessManagedBean&lt;<span class="predefined-type">Object</span>&gt; {
    <span class="directive">public</span> <span class="predefined-type">String</span> getEjbName();
    <span class="directive">public</span> SessionBeanType getSessionBeanType();
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>getEjbName()</code> returns the EJB name of the session bean.</p>
</li>
<li>
<p><code>getSessionBeanType()</code> returns a <code>jakarta.enterprise.inject.spi.SessionBeanType</code> representing the kind of session bean.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">enum</span> SessionBeanType { STATELESS, STATEFUL, SINGLETON }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="packaging_deployment_ee"><a class="anchor" href="#packaging_deployment_ee"></a>3.10. Packaging and deployment in Jakarta EE</h3>
<div class="sect3">
<h4 id="bean_archive_ee"><a class="anchor" href="#bean_archive_ee"></a>3.10.1. Bean archive with Session Enterprise Beans</h4>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#bean_archive_full">[bean_archive_full]</a> with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An <em>implicit bean archive</em> may also contain session enterprise beans, and</p>
</li>
<li>
<p>Session enterprise bean should be considered as bean class with bean defining annotation when determining if an archive is an <em>implicit bean archive</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When determining which archives are bean archives, the container must also consider:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enterprise bean jars or application client jars</p>
</li>
<li>
<p>The <code>WEB-INF/classes</code> directory of a war</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The container is not required to support application client jar bean archives.</p>
</div>
<div class="paragraph">
<p>A Jakarta EE container is required by the Jakarta EE specification to support Jakarta EE modules.</p>
</div>
<div class="paragraph">
<p>In a war, the <code>beans.xml</code> file must be named:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>WEB-INF/beans.xml</code>  or <code>WEB-INF/classes/META-INF/beans.xml</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a war has a file named <code>beans.xml</code> in both the <code>WEB-INF</code> directory and in the <code>WEB-INF/classes/META-INF</code> directory, then non-portable behavior results.
Portable applications must have a <code>beans.xml</code> file in only one of the <code>WEB-INF</code> or the <code>WEB-INF/classes/META-INF</code> directories.</p>
</div>
<div class="paragraph">
<p>The following additional rules apply regarding container search for beans:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In an application deployed as an ear, the container searches every bean archive bundled with or referenced by the ear, including bean archives bundled with or referenced by wars, enterprise bean jars and rars contained in the ear.
The bean archives might be library jars, enterprise bean jars or war <code>WEB-INF/classes</code> directories.</p>
</li>
<li>
<p>In an application deployed as a war, the container searches every bean archive bundled with or referenced by the war.
The bean archives might be library jars or the <code>WEB-INF/classes</code> directory.</p>
</li>
<li>
<p>In an application deployed as an enterprise bean jar, the container searches the enterprise bean jar, if it is a bean archive, and every bean archive referenced by the enterprise bean jar.</p>
</li>
<li>
<p>In an application deployed as a rar, the container searches every bean archive bundled with or referenced by the rar.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="type_bean_discovery_ee"><a class="anchor" href="#type_bean_discovery_ee"></a>3.10.2. Type and Bean discovery for Enterprise Beans</h4>
<div class="paragraph">
<p>In Jakarta EE, the container automatically discovers session enterprise beans and other Jakarta EE component class supporting injection, in bean archives like it does for managed bean as defined in <a href="#type_bean_discovery_full">[type_bean_discovery_full]</a>.</p>
</div>
<div class="sect4">
<h5 id="bean_discovery_steps_ee"><a class="anchor" href="#bean_discovery_steps_ee"></a>3.10.2.1. Bean discovery in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#bean_discovery_steps_full">[bean_discovery_steps_full]</a> and must also discover each session enterprise bean.</p>
</div>
</div>
<div class="sect4">
<h5 id="trimmed_bean_archive_ee"><a class="anchor" href="#trimmed_bean_archive_ee"></a>3.10.2.2. Trimmed bean archive in Jakarta EE</h5>
<div class="paragraph">
<p>When running in Jakarta EE, the container must extend the rules defined in <a href="#trimmed_bean_archive">[trimmed_bean_archive]</a> and must ensure that session enterprise beans are not removed from the set of discovered types.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="el"><a class="anchor" href="#el"></a>3.11. Integration with Unified EL</h3>
<div class="sect3">
<h4 id="el_resolution"><a class="anchor" href="#el_resolution"></a>3.11.1. Bean name resolution in EL expressions</h4>
<div class="paragraph">
<p>The container must provide a Unified EL <code>ELResolver</code> to the servlet engine and Faces implementation that resolves bean names using the rules of name resolution defined in <a href="#name_resolution">[name_resolution]</a> and resolving ambiguities according to <a href="#ambig_names">[ambig_names]</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a name used in an EL expression does not resolve to any bean, the <code>ELResolver</code> must return a null value.</p>
</li>
<li>
<p>Otherwise, if a name used in an EL expression resolves to exactly one bean, the <code>ELResolver</code> must return a contextual instance of the bean, as defined in <a href="#contextual_instance">[contextual_instance]</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="el_support"><a class="anchor" href="#el_support"></a>3.11.2. Unified EL integration API</h4>
<div class="paragraph">
<p>Since CDI version 4.1, the Unified EL integration API, which is part of the <code>BeanManager</code> API, is deprecated.
The relevant methods are placed in a new interface <code>jakarta.enterprise.inject.spi.el.ELAwareBeanManager</code>, which is present in a new supplemental CDI API artifact: <code>jakarta.enterprise:jakarta.enterprise.cdi-el-api</code>.</p>
</div>
<div class="sect4">
<h5 id="obtaining-elawarebeanmanager"><a class="anchor" href="#obtaining-elawarebeanmanager"></a>3.11.2.1. Obtaining <code>ELAwareBeanManager</code></h5>
<div class="paragraph">
<p>The <code>BeanManager</code> implementation in Jakarta EE must also implement <code>ELAwareBeanManager</code>.
All rules that apply to the <code>BeanManager</code>, as specified in <a href="#beanmanager">[beanmanager]</a> and <a href="#beanmanager_ee">The <code>BeanManager</code> object in Jakarta EE</a>, also apply to <code>ELAwareBeanManager</code>.</p>
</div>
<div class="paragraph">
<p>It follows that the container provides a built-in bean with bean type <code>ELAwareBeanManager</code>, scope <code>@Dependent</code> and qualifier <code>@Default</code>, which is a passivation capable dependency as defined in <a href="#passivation_capable_dependency">[passivation_capable_dependency]</a>.
It also follows that an <code>ELAwareBeanManager</code> may be obtained by using <code>CDI.current().getBeanManager()</code> and casting.</p>
</div>
<div class="paragraph">
<p>The EL-related methods of <code>ELAwareBeanManager</code> may be called at any time during the execution of the application.</p>
</div>
</div>
<div class="sect4">
<h5 id="obtaining-the-elresolver"><a class="anchor" href="#obtaining-the-elresolver"></a>3.11.2.2. Obtaining the <code>ELResolver</code></h5>
<div class="paragraph">
<p>The method <code>ELAwareBeanManager.getELResolver()</code> returns the <code>jakarta.el.ELResolver</code> specified in <a href="#el_resolution">Bean name resolution in EL expressions</a>.
This <code>ELResolver</code> is used to satisfy the rules defined in <a href="#names_ee">Bean names in Jakarta EE</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ELResolver getELResolver();</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="wrapping-a-unified-el-expressionfactory"><a class="anchor" href="#wrapping-a-unified-el-expressionfactory"></a>3.11.2.3. Wrapping a Unified EL <code>ExpressionFactory</code></h5>
<div class="paragraph">
<p>The method <code>ELAwareBeanManager.wrapExpressionFactory()</code> returns a wrapper <code>jakarta.el.ExpressionFactory</code> that delegates <code>MethodExpression</code> and <code>ValueExpression</code> creation to the given <code>ExpressionFactory</code>.
When a Unified EL expression is evaluated using a <code>MethodExpression</code> or <code>ValueExpression</code> returned by the wrapper <code>ExpressionFactory</code>, the rules defined in <a href="#dependent_scope_el">Dependent pseudo-scope and Unified EL</a> are enforced by the container.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ExpressionFactory wrapExpressionFactory(ExpressionFactory expressionFactory);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a441"><a class="anchor" href="#a441"></a>3.12. Jakarta Persistence &amp; Jakarta Context and Dependency Injection (CDI) Integration</h3>
<div class="paragraph">
<p>This section specifies the requirements for Jakarta EE environments that integrate both <a href="https://jakarta.ee/specifications/persistence/3.2/">Persistence</a> and <a href="https://jakarta.ee/specifications/cdi/4.1/">CDI</a>.</p>
</div>
<div class="paragraph">
<p>Several of the items described in this section are also available with
the following additional access methods, as specified in the sections
<strong>Persistence Unit References</strong> and <strong>Persistence Context References</strong>
of the <a href="https://jakarta.ee/specifications/platform/11/">Jakarta EE Platform Specification</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <em>@Resource</em> annotation with the JNDI <em>lookup</em> attribute.</p>
</li>
<li>
<p>the JNDI lookup using JNDI API.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The items available with these additional access methods are indicated inline.</p>
</div>
<div class="sect3">
<h4 id="obtaining-an-entity-manager-using-cdi"><a class="anchor" href="#obtaining-an-entity-manager-using-cdi"></a>3.12.1. Obtaining an Entity Manager using CDI</h4>
<div class="paragraph">
<p>A Jakarta EE container must feature built-integration of
Jakarta Persistence with the CDI bean manager, allowing
injection of a container-managed entity manager factory using
the annotation <em>jakarta.inject.Inject</em>.</p>
</div>
<div class="paragraph">
<p>For each persistence unit, the container must make available
a bean with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>bean type <em>EntityManager</em>,</p>
</li>
<li>
<p>the qualifiers specified by <em>qualifier</em> XML elements in
<em>persistence.xml</em>, or <em>jakarta.enterprise.inject.Default</em>,
if no qualifiers are explicitly specified,</p>
</li>
<li>
<p>the scope specified by the <em>scope</em> XML element in
<em>persistence.xml</em>, or <em>jakarta.transaction.TransactionScoped</em>
if no scope is explicitly specified,</p>
</li>
<li>
<p>no interceptor bindings,</p>
</li>
<li>
<p>a bean implementation which satisfies the requirements of
this specification for a container-managed entity manager.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>EntityManager</em> must also be available via the additional access
methods specified at the beginning of this section.</p>
</div>
</div>
<div class="sect3">
<h4 id="injecting-an-entity-manager-factory-using-cdi"><a class="anchor" href="#injecting-an-entity-manager-factory-using-cdi"></a>3.12.2. Injecting an Entity Manager Factory using CDI</h4>
<div class="paragraph">
<p>A Jakarta EE container must feature built-in integration of Jakarta
Persistence with the CDI bean manager, allowing injection
of a container-managed entity manager using the annotation
<em>jakarta.inject.Inject</em>.</p>
</div>
<div class="paragraph">
<p>For each persistence unit, the container must make available
a bean with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>bean type <em>EntityManagerFactory</em>,</p>
</li>
<li>
<p>the qualifiers specified by <em>qualifier</em> XML elements in
<em>persistence.xml</em>, or <em>jakarta.enterprise.inject.Default</em>,
if no qualifiers are explicitly specified,</p>
</li>
<li>
<p>scope <em>jakarta.enterprise.context.ApplicationScoped</em>,</p>
</li>
<li>
<p>bean name given by the name of the persistence unit,</p>
</li>
<li>
<p>no interceptor bindings,</p>
</li>
<li>
<p>a bean implementation which satisfies the requirements of
the Persistence specification for a container-managed entity
manager factory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>EntityManagerFactory</em> must also be available via the additional
access methods specified at the beginning of this section.</p>
</div>
<div class="paragraph">
<p>Furthermore, the container must make available five beans with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>bean types <em>CriteriaBuilder</em>, <em>PersistenceUnitUtil</em>, <em>Cache</em>,
<em>SchemaManager</em>, and <em>Metamodel</em>, respectively,</p>
</li>
<li>
<p>the qualifiers specified by <em>qualifier</em> XML elements in
<em>persistence.xml</em>, or <em>jakarta.enterprise.inject.Default</em>,
if no qualifiers are explicitly specified,</p>
</li>
<li>
<p>scope <em>jakarta.enterprise.context.Dependent</em>,</p>
</li>
<li>
<p>no interceptor bindings,</p>
</li>
<li>
<p>a bean implementation which simply obtains the instance of
the bean type by calling the appropriate getter method of
the <em>EntityManagerFactory</em> bean.</p>
</li>
<li>
<p>To access these bean types (<em>CriteriaBuilder</em>, <em>PersistenceUnitUtil</em>, <em>Cache</em>, <em>SchemaManager</em>, and <em>Metamodel</em>) from callsites that use <em>@Resource</em> or JNDI lookup, users must first obtain the <em>EntityManagerFactory</em> and then use the appropriate getter methods.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="persistence-xml-extended-schema"><a class="anchor" href="#persistence-xml-extended-schema"></a>3.12.3. persistence.xml Extended Schema</h4>
<div class="paragraph">
<p>The Persistence specification schema includes an extension point that allows one to add elements for configuration of integration concerns. The required approach for declaring a CDI  scope and qualifier elements is to use the cdi:scope and cdi:qualifier persistence-unit child elements. Its usage is illustrated in the following XML document.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="comment">&lt;!-- persistence.xml --&gt;</span>
<span class="tag">&lt;persistence</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://jakarta.ee/xml/ns/persistence</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://jakarta.ee/xml/ns/persistence</span>
          <span class="content">https://jakarta.ee/xml/ns/persistence/persistence_3_2.xsd</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3.2</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

    <span class="tag">&lt;persistence-unit</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">my-unit</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;provider&gt;</span>org.jpa.SomePersistenceProvider<span class="tag">&lt;/provider&gt;</span>
      <span class="tag">&lt;jta-data-source&gt;</span>java:server/datasources/ExampleDS<span class="tag">&lt;/jta-data-source&gt;</span>
      <span class="tag">&lt;class&gt;</span>org.acme.Employee<span class="tag">&lt;/class&gt;</span>
      <span class="tag">&lt;properties&gt;</span>
        <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">jpa.ddl.auto</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">create-drop</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">jpa.show_sql</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">jpa.format_sql</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/properties&gt;</span>
      <span class="comment">&lt;!-- CDI integration --&gt;</span>
      <span class="tag">&lt;cdi:scope&gt;</span>com.example.jpa.ACustomScope<span class="tag">&lt;/cdi:scope&gt;</span>
      <span class="tag">&lt;cdi:qualifier&gt;</span>com.example.jpa.CustomQualifier<span class="tag">&lt;/cdi:qualifier&gt;</span>
  <span class="tag">&lt;/persistence-unit&gt;</span>

<span class="tag">&lt;/persistence&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="additional-entitymanagerfactory-properties"><a class="anchor" href="#additional-entitymanagerfactory-properties"></a>3.12.4. Additional <em>EntityManagerFactory</em> Properties</h4>
<div class="paragraph">
<p>The following additional properties correspond to the
new elements and properties in the <em>persistence.xml</em> file when using the persistence-3.2 xsd schema and associated <em>persistenceUnitExtType</em>. When any of these
properties are specified in the <em>Map</em> parameter passed to the
<em>createEntityManagerFactory</em> method, their values override the values of
the corresponding elements and properties in the <em>persistence.xml</em> file
for the named persistence unit. They also override any defaults that the
persistence provider might have applied.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 10%;">
<col style="width: 25%;">
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Corresponding element in <em>persistence.xml</em></th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>jakarta.persistence.qualifiers</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String[]</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>qualifier</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>jakarta.persistence.scope</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>scope</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="cdi-specification-references"><a class="anchor" href="#cdi-specification-references"></a>3.13. CDI Specification References</h3>
<div class="paragraph">
<p>References from the CDI EE Integration specification to the online CDI core specification are provided in the following sections.</p>
</div>
<div id="concepts" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#concepts">2.1. Concepts</a></p>
</li>
</ul>
</div>
<div id="capabilities" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#capabilities">2.1.1. Functionality provided by the container to the bean</a></p>
</li>
</ul>
</div>
<div id="legal_bean_types" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#legal_bean_types">2.1.2.1. Legal bean types</a></p>
</li>
</ul>
</div>
<div id="scopes" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#scopes">2.1.4. Scopes</a></p>
</li>
</ul>
</div>
<div id="default_bean_discovery" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#default_bean_discovery">2.1.5. Default bean discovery mode</a></p>
</li>
</ul>
</div>
<div id="default_name" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#default_name">2.1.6.2. Default bean names</a></p>
</li>
</ul>
</div>
<div id="implementation" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#implementation">2.2. Programming model</a></p>
</li>
</ul>
</div>
<div id="what_classes_are_beans" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#what_classes_are_beans">2.2.1.1. Which Java classes are managed beans?</a></p>
</li>
</ul>
</div>
<div id="producer_method" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#producer_method">2.2.2. Producer methods</a></p>
</li>
</ul>
</div>
<div id="declaring_producer_method" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#declaring_producer_method">2.2.2.2. Declaring a producer method</a></p>
</li>
</ul>
</div>
<div id="producer_field" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#producer_field">2.2.3. Producer fields</a></p>
</li>
</ul>
</div>
<div id="producer_field_types" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#producer_field_types">2.2.3.1. Bean types of a producer field</a></p>
</li>
</ul>
</div>
<div id="declaring_producer_field" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#declaring_producer_field">2.2.3.2. Declaring a producer field</a></p>
</li>
</ul>
</div>
<div id="disposer_method" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#disposer_method">2.2.4. Disposer methods</a></p>
</li>
</ul>
</div>
<div id="declaring_disposer_method" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#declaring_disposer_method">2.2.4.2. Declaring a disposer method</a></p>
</li>
</ul>
</div>
<div id="injected_fields" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#injected_fields">2.2.6. Injected fields</a></p>
</li>
</ul>
</div>
<div id="initializer_methods" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#initializer_methods">2.2.7. Initializer methods</a></p>
</li>
</ul>
</div>
<div id="type_level_inheritance" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#type_level_inheritance">2.3.1. Inheritance of type-level metadata</a></p>
</li>
</ul>
</div>
<div id="member_level_inheritance" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#member_level_inheritance">2.3.2. Inheritance of member-level metadata</a></p>
</li>
</ul>
</div>
<div id="injection_and_resolution" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#injection_and_resolution">2.4. Dependency injection and lookup</a></p>
</li>
</ul>
</div>
<div id="selection" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#selection">2.4.1. Modularity</a></p>
</li>
</ul>
</div>
<div id="unsatisfied_and_ambig_dependencies" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#unsatisfied_and_ambig_dependencies">2.4.2.2. Unsatisfied and ambiguous dependencies</a></p>
</li>
</ul>
</div>
<div id="name_resolution" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#name_resolution">2.4.3. Name resolution</a></p>
</li>
</ul>
</div>
<div id="ambig_names" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#ambig_names">2.4.3.1. Ambiguous names</a></p>
</li>
</ul>
</div>
<div id="injection" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#injection">2.4.5. Dependency injection</a></p>
</li>
</ul>
</div>
<div id="instantiation" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#instantiation">2.4.5.1. Injection using the bean constructor</a></p>
</li>
</ul>
</div>
<div id="fields_initializer_methods" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#fields_initializer_methods">2.4.5.2. Injection of fields and initializer methods</a></p>
</li>
</ul>
</div>
<div id="dependent_objects_destruction" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#dependent_objects_destruction">2.4.5.3. Destruction of dependent objects</a></p>
</li>
</ul>
</div>
<div id="bean_metadata" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#bean_metadata">2.4.5.8. Bean metadata</a></p>
</li>
</ul>
</div>
<div id="contexts" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#contexts">2.5. Scopes and contexts</a></p>
</li>
</ul>
</div>
<div id="dependent_context" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#dependent_context">2.5.4. Dependent pseudo-scope</a></p>
</li>
</ul>
</div>
<div id="dependent_objects" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#dependent_objects">2.5.4.1. Dependent objects</a></p>
</li>
</ul>
</div>
<div id="dependent_destruction" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#dependent_destruction">2.5.4.2. Destruction of objects with scope @Dependent</a></p>
</li>
</ul>
</div>
<div id="contextual_instance" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#contextual_instance">2.5.5.3. Contextual instance of a bean</a></p>
</li>
</ul>
</div>
<div id="builtin_contexts" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#builtin_contexts">2.5.6. Context management for built-in scopes</a></p>
</li>
</ul>
</div>
<div id="request_context" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#request_context">2.5.6.1. Request context lifecycle</a></p>
</li>
</ul>
</div>
<div id="application_context" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#application_context">2.5.6.2. Application context lifecycle</a></p>
</li>
</ul>
</div>
<div id="biz_method" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#biz_method">2.6.2. Container invocations and interception</a></p>
</li>
</ul>
</div>
<div id="interceptors" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#interceptors">2.7. Interceptor bindings</a></p>
</li>
</ul>
</div>
<div id="observer_method_invocation_context" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#observer_method_invocation_context">2.8.5.3. Observer method invocation context</a></p>
</li>
</ul>
</div>
<div id="bean_archive_full" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#bean_archive_full">3.10.1. Bean archives in CDI Full</a></p>
</li>
</ul>
</div>
<div id="type_bean_discovery_full" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#type_bean_discovery_full">3.10.4. Type and Bean discovery in CDI Full</a></p>
</li>
</ul>
</div>
<div id="trimmed_bean_archive" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#trimmed_bean_archive">3.10.4.3. Trimmed bean archive</a></p>
</li>
</ul>
</div>
<div id="bean_discovery_steps_full" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#bean_discovery_steps_full">3.10.4.4. Bean discovery in CDI Full</a></p>
</li>
</ul>
</div>
<div id="specialization" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#specialization">3.2.3. Specialization</a></p>
</li>
</ul>
</div>
<div id="passivation_capable_dependency" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#passivation_capable_dependency">3.4.5.3. Passivation capable dependencies</a></p>
</li>
</ul>
</div>
<div id="passivation_validation" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#passivation_validation">3.4.5.5. Validation of passivation capable beans and dependencies</a></p>
</li>
</ul>
</div>
<div id="enabled_interceptors" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#enabled_interceptors">3.6.2. Interceptor enablement and ordering in CDI Full</a></p>
</li>
</ul>
</div>
<div id="decorators" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#decorators">3.7. Decorators</a></p>
</li>
</ul>
</div>
<div id="bean" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#bean">3.9.1. The Bean interface</a></p>
</li>
</ul>
</div>
<div id="interceptor" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#interceptor">3.9.1.2. The Interceptor interface</a></p>
</li>
</ul>
</div>
<div id="injectiontarget" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#injectiontarget">3.9.2. The Producer and InjectionTarget interfaces</a></p>
</li>
</ul>
</div>
<div id="beanmanager" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#beanmanager">3.9.3. The BeanManager object</a></p>
</li>
</ul>
</div>
<div id="alternative_metadata_sources" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#alternative_metadata_sources">3.9.4. Alternative metadata sources</a></p>
</li>
</ul>
</div>
<div id="process_bean" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#process_bean">3.9.5.10. ProcessBean event</a></p>
</li>
</ul>
</div>
<div id="process_annotated_type" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#process_annotated_type">3.9.5.6. ProcessAnnotatedType event</a></p>
</li>
</ul>
</div>
<div id="process_injection_target" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#process_injection_target">3.9.5.8. ProcessInjectionTarget event</a></p>
</li>
</ul>
</div>
<div id="process_bean_attributes" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#process_bean_attributes">3.9.5.9. ProcessBeanAttributes event</a></p>
</li>
</ul>
</div>
<div id="declaring_selected_alternatives_application" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#declaring_selected_alternatives_application">5.1.1.1. Declaring selected alternatives for an application</a></p>
</li>
</ul>
</div>
<div id="declaring_selected_alternatives_bean_archive" class="ulist">
<ul>
<li>
<p><a href="https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0#declaring_selected_alternatives_bean_archive">16.1.1.2. Declaring selected alternatives for a bean archive</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="revision-history"><a class="anchor" href="#revision-history"></a>Appendix A: Revision History</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="changes-in-final-release-for-jakarta-ee-11"><a class="anchor" href="#changes-in-final-release-for-jakarta-ee-11"></a>A.1. Changes in Final Release for Jakarta EE 11</h3>
<div class="ulist">
<ul>
<li>
<p>Updated Java SE base version to 17.</p>
</li>
<li>
<p>Addition of Jakarta Data to Web Profile.</p>
</li>
<li>
<p>Updated <a href="#relateddocs">“Related Documents"</a> for the updated Specifications in Jakarta EE 11.</p>
</li>
<li>
<p>Add "Component Specification Integration Requirements" chapter mostly coming from the CDI specification.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changes-in-final-release-for-jakarta-ee-10"><a class="anchor" href="#changes-in-final-release-for-jakarta-ee-10"></a>A.2. Changes in Final Release for Jakarta EE 10</h3>
<div class="ulist">
<ul>
<li>
<p>Major and minor updates to most specifications.</p>
</li>
<li>
<p>Addition of Jakarta Concurrency to Web Profile.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="editorial-changes-for-jakarta-ee-10"><a class="anchor" href="#editorial-changes-for-jakarta-ee-10"></a>A.2.1. Editorial Changes for Jakarta EE 10</h4>
<div class="ulist">
<ul>
<li>
<p>Updated <a href="#relateddocs">“Related Documents"</a> for the updated Specifications in Jakarta EE 10.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="changes-in-final-release-for-jakarta-ee-9-1"><a class="anchor" href="#changes-in-final-release-for-jakarta-ee-9-1"></a>A.3. Changes in Final Release for Jakarta EE 9.1</h3>
<div class="sect3">
<h4 id="editorial-changes"><a class="anchor" href="#editorial-changes"></a>A.3.1. Editorial Changes</h4>
<div class="ulist">
<ul>
<li>
<p>Updated <a href="#relateddocs">“Related Documents"</a> for the updated Specifications in Jakarta EE 9.1.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="relateddocs"><a class="anchor" href="#relateddocs"></a>Appendix B: Related Documents</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This specification refers to the following
documents. The terms used to refer to the documents in this
specification are included in parentheses.</p>
</div>
<div class="paragraph">
<p><em>Jakarta™ EE Core Profile Specification, Version 11.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/coreprofile/11/" class="bare">https://jakarta.ee/specifications/coreprofile/11/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ EE Platform Specification, Version 11.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/platform/11/" class="bare">https://jakarta.ee/specifications/platform/11/</a></em></p>
</div>
<div class="paragraph">
<p><em>Java™ Platform, Standard Edition (Java SE specification), v17</em>. Available at: <em><a href="https://www.jcp.org/en/jsr/detail?id=392" class="bare">https://www.jcp.org/en/jsr/detail?id=392</a></em></p>
</div>
<div class="paragraph">
<p><em>Java™ Platform, Standard Edition, v17 API Specification</em>. Available at: <em><a href="https://docs.oracle.com/javase/17/docs/" class="bare">https://docs.oracle.com/javase/17/docs/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Enterprise Beans Specification, Version 4.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/enterprise-beans/4.0/" class="bare">https://jakarta.ee/specifications/enterprise-beans/4.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Pages Specification, Version 4.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/pages/4.0/" class="bare">https://jakarta.ee/specifications/pages/4.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Expression Language Specification, Version 6.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/expression-language/6.0/" class="bare">https://jakarta.ee/specifications/expression-language/6.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Servlet Specification, Version 6.1</em>. Available at: <em><a href="https://jakarta.ee/specifications/servlet/6.1/" class="bare">https://jakarta.ee/specifications/servlet/6.1/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Transactions Specification, Version 2.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/transactions/2.0/" class="bare">https://jakarta.ee/specifications/transactions/2.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ RESTful Web Services Specification, Version 4.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/restful-ws/4.0/" class="bare">https://jakarta.ee/specifications/restful-ws/4.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Annotations Specification, Version 3.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/annotations/3.0/" class="bare">https://jakarta.ee/specifications/annotations/3.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Debugging Support for Other Languages Specification, Version 2.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/debugging/2.0/" class="bare">https://jakarta.ee/specifications/debugging/2.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Standard Tag Library Specification, Version 3.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/tags/3.0/" class="bare">https://jakarta.ee/specifications/tags/3.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Faces Specification, Version 4.1</em>. Available at: <em><a href="https://jakarta.ee/specifications/faces/4.1/" class="bare">https://jakarta.ee/specifications/faces/4.1/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Persistence Specification, Version 3.2</em>. Available at: <em><a href="https://jakarta.ee/specifications/persistence/3.2/" class="bare">https://jakarta.ee/specifications/persistence/3.2/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Validation Specification, Version 3.1</em>. Available at: <em><a href="https://jakarta.ee/specifications/bean-validation/3.1/" class="bare">https://jakarta.ee/specifications/bean-validation/3.1/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Interceptors Specification, Version 2.2</em>. Available at: <em><a href="https://jakarta.ee/specifications/interceptors/2.2/" class="bare">https://jakarta.ee/specifications/interceptors/2.2/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Contexts and Dependency Injection Specification, Version 4.1</em>. Available at: <em><a href="https://jakarta.ee/specifications/cdi/4.1/" class="bare">https://jakarta.ee/specifications/cdi/4.1/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Dependency Injection Specification, Version 2.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/dependency-injection/2.0/" class="bare">https://jakarta.ee/specifications/dependency-injection/2.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ WebSocket Specification, Version 2.2</em>. Available at: <em><a href="https://jakarta.ee/specifications/websocket/2.2/" class="bare">https://jakarta.ee/specifications/websocket/2.2/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ JSON Processing Specification, Version 2.1</em>. Available at: <em><a href="https://jakarta.ee/specifications/jsonp/2.1/" class="bare">https://jakarta.ee/specifications/jsonp/2.1/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ JSON Binding Specification, Version 3.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/jsonb/3.0/" class="bare">https://jakarta.ee/specifications/jsonb/3.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Security Specification, Version 4.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/security/4.0/" class="bare">https://jakarta.ee/specifications/security/4.0/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Authentication Specification, Version 3.1</em>. Available at: <em><a href="https://jakarta.ee/specifications/authentication/3.1/" class="bare">https://jakarta.ee/specifications/authentication/3.1/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Concurrency Specification, Version 3.1</em>. Available at: <em><a href="https://jakarta.ee/specifications/concurrency/3.1/" class="bare">https://jakarta.ee/specifications/concurrency/3.1/</a></em></p>
</div>
<div class="paragraph">
<p><em>Jakarta™ Data Specification, Version 1.0</em>. Available at: <em><a href="https://jakarta.ee/specifications/data/1.0/" class="bare">https://jakarta.ee/specifications/data/1.0/</a></em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jakarta-ee-11-web-profile-dependencies"><a class="anchor" href="#jakarta-ee-11-web-profile-dependencies"></a>Appendix C: Jakarta EE 11 Web Profile Dependencies</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not find the 'dot' executable in PATH; add it to the PATH or specify its location using the 'graphvizdot' document attribute
digraph EE11WebProfile {

# Map a short node id to the label with version
wp [label="jakarta-web-api"];
servlet [label="servlet:6.1.0"];
jsp [label="servlet.jsp:4.0.0"];
el [label="el:6.0.1"];
jstl [label="servlet.jsp.jstl:3.0.2"];
faces [label="faces:4.1.2"];
jaxrs [label="jaxrs:4.0.0"]
websocket [label="websocket:2.2.0"];
jsonp [label="jsonp:2.1.3"];
jsonb [label="jsonb:3.0.1"];
annotations [label="annotations:3.0.0"];
ejb [label="ejb:4.0.1"];
jta [label="jta:2.0.1"];
jpa [label="jpa:3.2.0"];
validation [label="validation:3.1.0"];
interceptors [label="interceptors:2.2.0"];
cdi [label="cdi:4.1.0"];
di [label="di:2.0.1"];
authn [label="authentication:3.1.0"];
security [label="security:4.0.0"];
concurrency [label="concurrent:3.1.1"];
data [label="data:1.0.1"];

wp -&gt; servlet;
wp -&gt; jsp;
wp -&gt; el;
wp -&gt; jstl;
wp -&gt; faces;
wp -&gt; websocket;
wp -&gt; jta;
wp -&gt; jpa;
wp -&gt; jsonb;
wp -&gt; jsonp;
wp -&gt; jaxrs;
wp -&gt; annotations;
wp -&gt; validation;
wp -&gt; interceptors;
wp -&gt; di;
wp -&gt; cdi;
wp -&gt; authn;
wp -&gt; ejb;
wp -&gt; security;
wp -&gt; concurrency;
wp -&gt; data;

# JSP
jsp -&gt; servlet;
jsp -&gt; el;

# JSTL
jstl -&gt; servlet ;
jstl -&gt; jsp ;
jstl -&gt; el ;

# Faces
faces -&gt; servlet;
faces -&gt; websocket;
faces -&gt; el;
faces -&gt; cdi;
faces -&gt; validation;
faces -&gt; jta;
faces -&gt; jsonp;
faces -&gt; ejb;
faces -&gt; jpa;
faces -&gt; annotations;

# jsonb
jsonb -&gt; jsonp;

# interceptors
interceptors -&gt; annotations;

# ejb
ejb -&gt; jta;

# jta
jta -&gt; cdi ;
jta -&gt; interceptors ;

# CDI
cdi -&gt; el ;
cdi -&gt; interceptors ;
cdi -&gt; di ;
cdi -&gt; jta [label="javadoc"];
cdi -&gt; ejb [label="javadoc"];
}</pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
 11.0<br>
Last updated 2025-03-10 13:25:46 UTC
</div>
</div>
</body>
</html>