<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Jakarta Server Faces Team, https://projects.eclipse.org/projects/ee4j.faces">
<title>Jakarta Server Faces</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Jakarta Server Faces</h1>
<div class="details">
<span id="author" class="author">Jakarta Server Faces Team, https://projects.eclipse.org/projects/ee4j.faces</span><br>
<span id="email" class="email"><a href="https://dev.eclipse.org/mailman/listinfo/faces-dev" class="bare">https://dev.eclipse.org/mailman/listinfo/faces-dev</a></span><br>
<span id="revnumber"> 3.0,</span>
<span id="revdate">September 23, 2020</span>
<br><span id="revremark">Final</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#copyright">Copyright</a>
<ul class="sectlevel2">
<li><a href="#eclipse-foundation-specification-license">Eclipse Foundation Specification License</a>
<ul class="sectlevel3">
<li><a href="#disclaimers">Disclaimers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#preface">Preface</a>
<ul class="sectlevel2">
<li><a href="#changes-between-3-0-and-2-3">Changes between 3.0 and 2.3</a>
<ul class="sectlevel3">
<li><a href="#backward-compatibility-with-previous-versions">Backward Compatibility with Previous Versions</a></li>
</ul>
</li>
<li><a href="#related-technologies">Related Technologies</a>
<ul class="sectlevel3">
<li><a href="#a173">Other Jakarta Platform Specifications</a></li>
<li><a href="#related-documents-and-specifications">Related Documents and Specifications</a></li>
</ul>
</li>
<li><a href="#terminology">Terminology</a></li>
<li><a href="#providing-feedback">Providing Feedback</a></li>
<li><a href="#acknowledgements">Acknowledgements</a></li>
</ul>
</li>
<li><a href="#overview">1. Overview</a>
<ul class="sectlevel2">
<li><a href="#solving-practical-problems-of-the-web">1.1. Solving Practical Problems of the Web</a></li>
<li><a href="#specification-audience">1.2. Specification Audience</a>
<ul class="sectlevel3">
<li><a href="#page-authors">1.2.1. Page Authors</a></li>
<li><a href="#component-writers">1.2.2. Component Writers</a></li>
<li><a href="#application-developers">1.2.3. Application Developers</a></li>
<li><a href="#tool-providers">1.2.4. Tool Providers</a></li>
<li><a href="#jakarta-faces-implementors">1.2.5. Jakarta Faces Implementors</a></li>
</ul>
</li>
<li><a href="#introduction-to-jakarta-faces-apis">1.3. Introduction to Jakarta Faces APIs</a>
<ul class="sectlevel3">
<li><a href="#package-jakarta-faces">1.3.1. package <em>jakarta.faces</em></a></li>
<li><a href="#package-jakarta-faces-application">1.3.2. package <em>jakarta.faces.application</em></a></li>
<li><a href="#package-jakarta-faces-component">1.3.3. package <em>jakarta.faces.component</em></a></li>
<li><a href="#package-jakarta-faces-component-html">1.3.4. package <em>jakarta.faces.component.html</em></a></li>
<li><a href="#package-jakarta-faces-context">1.3.5. package <em>jakarta.faces.context</em></a></li>
<li><a href="#package-jakarta-faces-convert">1.3.6. package <em>jakarta.faces.convert</em></a></li>
<li><a href="#package-jakarta-faces-el">1.3.7. package <em>jakarta.faces.el</em></a></li>
<li><a href="#package-jakarta-faces-flow-and-jakarta-faces-flow-builder">1.3.8. package <em>jakarta.faces.flow</em> and <em>jakarta.faces.flow.builder</em></a></li>
<li><a href="#package-jakarta-faces-lifecycle">1.3.9. package <em>jakarta.faces.lifecycle</em></a></li>
<li><a href="#package-jakarta-faces-event">1.3.10. package <em>jakarta.faces.event</em></a></li>
<li><a href="#package-jakarta-faces-render">1.3.11. package <em>jakarta.faces.render</em></a></li>
<li><a href="#package-jakarta-faces-validator">1.3.12. package <em>jakarta.faces.validator</em></a></li>
<li><a href="#package-jakarta-faces-webapp">1.3.13. package <em>jakarta.faces.webapp</em></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a369">2. Request Processing Lifecycle</a>
<ul class="sectlevel2">
<li><a href="#a383">2.1. Request Processing Lifecycle Scenarios</a>
<ul class="sectlevel3">
<li><a href="#non-faces-request-generates-faces-response">2.1.1. Non-Faces Request Generates Faces Response</a></li>
<li><a href="#a390">2.1.2. Faces Request Generates Faces Response</a></li>
<li><a href="#faces-request-generates-non-faces-response">2.1.3. Faces Request Generates Non-Faces Response</a></li>
</ul>
</li>
<li><a href="#a401">2.2. Standard Request Processing Lifecycle Phases</a>
<ul class="sectlevel3">
<li><a href="#a404">2.2.1. Restore View</a></li>
<li><a href="#a427">2.2.2. Apply Request Values</a>
<ul class="sectlevel4">
<li><a href="#a436">2.2.2.1. Apply Request Values Partial Processing</a></li>
</ul>
</li>
<li><a href="#a438">2.2.3. Process Validations</a>
<ul class="sectlevel4">
<li><a href="#a444">2.2.3.1. Partial Validations Partial Processing</a></li>
</ul>
</li>
<li><a href="#a446">2.2.4. Update Model Values</a>
<ul class="sectlevel4">
<li><a href="#a452">2.2.4.1. Update Model Values Partial Processing</a></li>
</ul>
</li>
<li><a href="#a454">2.2.5. Invoke Application</a></li>
<li><a href="#a457">2.2.6. Render Response</a>
<ul class="sectlevel4">
<li><a href="#a480">2.2.6.1. Render Response Partial Processing</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a494">2.3. Common Event Processing</a></li>
<li><a href="#common-application-activities">2.4. Common Application Activities</a>
<ul class="sectlevel3">
<li><a href="#a502">2.4.1. Acquire Faces Object References</a>
<ul class="sectlevel4">
<li><a href="#acquire-and-configure-lifecycle-reference">2.4.1.1. Acquire and Configure Lifecycle Reference</a></li>
<li><a href="#acquire-and-configure-facescontext-reference">2.4.1.2. Acquire and Configure FacesContext Reference</a></li>
</ul>
</li>
<li><a href="#a516">2.4.2. Create And Configure A New View</a>
<ul class="sectlevel4">
<li><a href="#a518">2.4.2.1. Create A New View</a></li>
<li><a href="#configure-the-desired-renderkit">2.4.2.2. Configure the Desired RenderKit</a></li>
<li><a href="#configure-the-views-components">2.4.2.3. Configure The View’s Components</a></li>
<li><a href="#store-the-new-view-in-the-facescontext">2.4.2.4. Store the new View in the FacesContext</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#concepts-that-impact-several-lifecycle-phases">2.5. Concepts that impact several lifecycle phases</a>
<ul class="sectlevel3">
<li><a href="#value-handling">2.5.1. Value Handling</a>
<ul class="sectlevel4">
<li><a href="#apply-request-values-phase">2.5.1.1. Apply Request Values Phase</a></li>
<li><a href="#process-validators-phase">2.5.1.2. Process Validators Phase</a></li>
<li><a href="#executing-validation">2.5.1.3. Executing Validation</a></li>
<li><a href="#update-model-values-phase">2.5.1.4. Update Model Values Phase</a></li>
</ul>
</li>
<li><a href="#localization-and-internationalization-l10ni18n">2.5.2. Localization and Internationalization (L10N/I18N)</a>
<ul class="sectlevel4">
<li><a href="#a554">2.5.2.1. Determining the active <em>Locale</em></a></li>
<li><a href="#determining-the-character-encoding">2.5.2.2. Determining the Character Encoding</a></li>
<li><a href="#localized-text">2.5.2.3. Localized Text</a></li>
<li><a href="#a584">2.5.2.4. Localized Application Messages</a></li>
</ul>
</li>
<li><a href="#state-management">2.5.3. State Management</a>
<ul class="sectlevel4">
<li><a href="#state-management-considerations-for-the-custom-component-author">2.5.3.1. State Management Considerations for the Custom Component Author</a></li>
<li><a href="#state-management-considerations-for-the-jakarta-faces-implementor">2.5.3.2. State Management Considerations for the Jakarta Faces Implementor</a></li>
</ul>
</li>
<li><a href="#a685">2.5.4. Resource Handling</a></li>
<li><a href="#a695">2.5.5. View Parameters</a></li>
<li><a href="#a707">2.5.6. Bookmarkability</a></li>
<li><a href="#a710">2.5.7. Jakarta Bean Validation</a></li>
<li><a href="#a716">2.5.8. Ajax</a></li>
<li><a href="#a720">2.5.9. Component Behaviors</a></li>
<li><a href="#system-events">2.5.10. System Events</a></li>
</ul>
</li>
<li><a href="#a746">2.6. Resource Handling</a>
<ul class="sectlevel3">
<li><a href="#a748">2.6.1. Packaging Resources</a>
<ul class="sectlevel4">
<li><a href="#a750">2.6.1.1. Packaging Resources into the Web Application Root</a></li>
<li><a href="#a754">2.6.1.2. Packaging Resources into the Classpath</a></li>
<li><a href="#a758">2.6.1.3. Resource Identifiers</a></li>
<li><a href="#a836">2.6.1.4. Libraries of Localized and Versioned Resources</a></li>
</ul>
</li>
<li><a href="#a842">2.6.2. Rendering Resources</a>
<ul class="sectlevel4">
<li><a href="#a847">2.6.2.1. Relocatable Resources</a></li>
<li><a href="#a869">2.6.2.2. Resource Rendering Using Annotations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a872">2.7. Resource Library Contracts</a></li>
</ul>
</li>
<li><a href="#a883">3. User Interface Component Model</a>
<ul class="sectlevel2">
<li><a href="#uicomponent-and-uicomponentbase">3.1. UIComponent and UIComponentBase</a>
<ul class="sectlevel3">
<li><a href="#a895">3.1.1. Component Identifiers</a></li>
<li><a href="#component-type">3.1.2. Component Type</a></li>
<li><a href="#component-family">3.1.3. Component Family</a></li>
<li><a href="#a911">3.1.4. ValueExpression properties</a></li>
<li><a href="#a923">3.1.5. Component Bindings</a></li>
<li><a href="#client-identifiers">3.1.6. Client Identifiers</a></li>
<li><a href="#a937">3.1.7. Component Tree Manipulation</a></li>
<li><a href="#a946">3.1.8. Component Tree Navigation</a></li>
<li><a href="#a968">3.1.9. Facet Management</a></li>
<li><a href="#a983">3.1.10. Managing Component Behavior</a></li>
<li><a href="#a993">3.1.11. Generic Attributes</a>
<ul class="sectlevel4">
<li><a href="#a1006">3.1.11.1. Special Attributes</a></li>
</ul>
</li>
<li><a href="#a1021">3.1.12. Render-Independent Properties</a></li>
<li><a href="#a1041">3.1.13. Component Specialization Methods</a></li>
<li><a href="#a1059">3.1.14. Lifecycle Management Methods</a></li>
<li><a href="#a1075">3.1.15. Utility Methods</a></li>
</ul>
</li>
<li><a href="#a1088">3.2. Component Behavioral Interfaces</a>
<ul class="sectlevel3">
<li><a href="#a1090">3.2.1. ActionSource</a>
<ul class="sectlevel4">
<li><a href="#a1092">3.2.1.1. Properties</a></li>
<li><a href="#methods">3.2.1.2. Methods</a></li>
<li><a href="#events">3.2.1.3. Events</a></li>
</ul>
</li>
<li><a href="#a1120">3.2.2. ActionSource2</a>
<ul class="sectlevel4">
<li><a href="#properties">3.2.2.1. Properties</a></li>
<li><a href="#methods-2">3.2.2.2. Methods</a></li>
<li><a href="#events-2">3.2.2.3. Events</a></li>
</ul>
</li>
<li><a href="#a1134">3.2.3. NamingContainer</a></li>
<li><a href="#a1138">3.2.4. StateHolder</a>
<ul class="sectlevel4">
<li><a href="#properties-2">3.2.4.1. Properties</a></li>
<li><a href="#methods-3">3.2.4.2. Methods</a></li>
<li><a href="#events-3">3.2.4.3. Events</a></li>
</ul>
</li>
<li><a href="#a1159">3.2.5. PartialStateHolder</a>
<ul class="sectlevel4">
<li><a href="#properties-3">3.2.5.1. Properties</a></li>
<li><a href="#a1215">3.2.5.2. Methods</a></li>
<li><a href="#events-4">3.2.5.3. Events</a></li>
</ul>
</li>
<li><a href="#a1173">3.2.6. ValueHolder</a>
<ul class="sectlevel4">
<li><a href="#a1175">3.2.6.1. Properties</a></li>
<li><a href="#methods-4">3.2.6.2. Methods</a></li>
<li><a href="#events-5">3.2.6.3. Events</a></li>
</ul>
</li>
<li><a href="#a1192">3.2.7. EditableValueHolder</a>
<ul class="sectlevel4">
<li><a href="#properties-4">3.2.7.1. Properties</a></li>
<li><a href="#methods-5">3.2.7.2. Methods</a></li>
<li><a href="#a1223">3.2.7.3. Events</a></li>
</ul>
</li>
<li><a href="#a1229">3.2.8. SystemEventListenerHolder</a>
<ul class="sectlevel4">
<li><a href="#properties-5">3.2.8.1. Properties</a></li>
<li><a href="#methods-6">3.2.8.2. Methods</a></li>
<li><a href="#events-6">3.2.8.3. Events</a></li>
</ul>
</li>
<li><a href="#a1239">3.2.9. ClientBehaviorHolder</a></li>
</ul>
</li>
<li><a href="#a1251">3.3. Conversion Model</a>
<ul class="sectlevel3">
<li><a href="#overview-2">3.3.1. Overview</a></li>
<li><a href="#a1258">3.3.2. Converter</a></li>
<li><a href="#standard-converter-implementations">3.3.3. Standard Converter Implementations</a></li>
</ul>
</li>
<li><a href="#a1300">3.4. Event and Listener Model</a>
<ul class="sectlevel3">
<li><a href="#a1302">3.4.1. Overview</a></li>
<li><a href="#a1306">3.4.2. Application Events</a>
<ul class="sectlevel4">
<li><a href="#a1308">3.4.2.1. Event Classes</a></li>
<li><a href="#a1329">3.4.2.2. Listener Classes</a></li>
<li><a href="#a1335">3.4.2.3. Phase Identifiers</a></li>
<li><a href="#listener-registration">3.4.2.4. Listener Registration</a></li>
<li><a href="#event-queueing">3.4.2.5. Event Queueing</a></li>
<li><a href="#a1349">3.4.2.6. Event Broadcasting</a></li>
</ul>
</li>
<li><a href="#a1359">3.4.3. System Events</a>
<ul class="sectlevel4">
<li><a href="#a1361">3.4.3.1. Event Classes</a></li>
<li><a href="#listener-classes">3.4.3.2. Listener Classes</a></li>
<li><a href="#programmatic-listener-registration">3.4.3.3. Programmatic Listener Registration</a></li>
<li><a href="#a1393">3.4.3.4. Declarative Listener Registration</a></li>
<li><a href="#a1403">3.4.3.5. Listener Registration By Annotation</a></li>
<li><a href="#listener-registration-by-application-configuration-resources">3.4.3.6. Listener Registration By Application Configuration Resources</a></li>
<li><a href="#event-broadcasting">3.4.3.7. Event Broadcasting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a1410">3.5. Validation Model</a>
<ul class="sectlevel3">
<li><a href="#overview-3">3.5.1. Overview</a></li>
<li><a href="#a1414">3.5.2. Validator Classes</a></li>
<li><a href="#a1419">3.5.3. Validation Registration</a></li>
<li><a href="#validation-processing">3.5.4. Validation Processing</a></li>
<li><a href="#a1446">3.5.5. Standard Validator Implementations</a></li>
<li><a href="#a1461">3.5.6. Bean Validation Integration</a>
<ul class="sectlevel4">
<li><a href="#a1464">3.5.6.1. Bean Validator Activation</a></li>
<li><a href="#a1467">3.5.6.2. Obtaining a ValidatorFactory</a></li>
<li><a href="#class-level-validation">3.5.6.3. Class-Level Validation</a></li>
<li><a href="#localization-of-bean-validation-messages">3.5.6.4. Localization of Bean Validation Messages</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a1515">3.6. Composite User Interface Components</a>
<ul class="sectlevel3">
<li><a href="#non-normative-background">3.6.1. Non-normative Background</a>
<ul class="sectlevel4">
<li><a href="#a1518">3.6.1.1. What does it mean to be a Jakarta Faces User Interface component?</a></li>
<li><a href="#how-does-one-make-a-custom-jakarta-faces-user-interface-component">3.6.1.2. How does one make a custom Jakarta Faces User Interface component?</a></li>
<li><a href="#a1545">3.6.1.3. How does one make a composite component?</a></li>
<li><a href="#a1548">3.6.1.4. A simple composite component example</a></li>
<li><a href="#walk-through-of-the-run-time-for-the-simple-composite-component-example">3.6.1.5. Walk through of the run-time for the simple composite component example</a></li>
<li><a href="#a1619">3.6.1.6. Composite Component Terms</a></li>
</ul>
</li>
<li><a href="#normative-requirements">3.6.2. Normative Requirements</a>
<ul class="sectlevel4">
<li><a href="#a1671">3.6.2.1. Composite Component Metadata</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a1707">3.7. Component Behavior Model</a>
<ul class="sectlevel3">
<li><a href="#overview-4">3.7.1. Overview</a></li>
<li><a href="#behavior-interface">3.7.2. Behavior Interface</a></li>
<li><a href="#behaviorbase">3.7.3. BehaviorBase</a></li>
<li><a href="#the-client-behavior-contract">3.7.4. The Client Behavior Contract</a></li>
<li><a href="#clientbehaviorholder">3.7.5. ClientBehaviorHolder</a></li>
<li><a href="#clientbehaviorrenderer">3.7.6. ClientBehaviorRenderer</a></li>
<li><a href="#clientbehaviorcontext">3.7.7. ClientBehaviorContext</a></li>
<li><a href="#clientbehaviorhint">3.7.8. ClientBehaviorHint</a></li>
<li><a href="#clientbehaviorbase">3.7.9. ClientBehaviorBase</a></li>
<li><a href="#behavior-event-listener-model">3.7.10. Behavior Event / Listener Model</a>
<ul class="sectlevel4">
<li><a href="#event-classes">3.7.10.1. Event Classes</a></li>
<li><a href="#listener-classes-2">3.7.10.2. Listener Classes</a></li>
<li><a href="#a1776">3.7.10.3. Listener Registration</a></li>
</ul>
</li>
<li><a href="#ajax-behavior">3.7.11. Ajax Behavior</a>
<ul class="sectlevel4">
<li><a href="#ajaxbehavior">3.7.11.1. AjaxBehavior</a></li>
<li><a href="#ajax-behavior-event-listener-model">3.7.11.2. Ajax Behavior Event / Listener Model</a></li>
</ul>
</li>
<li><a href="#adding-behavior-to-components">3.7.12. Adding Behavior To Components</a></li>
<li><a href="#behavior-registration">3.7.13. Behavior Registration</a>
<ul class="sectlevel4">
<li><a href="#xml-registration">3.7.13.1. XML Registration</a></li>
<li><a href="#registration-by-annotation">3.7.13.2. Registration By Annotation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#a1823">4. Standard User Interface Components</a>
<ul class="sectlevel2">
<li><a href="#standard-user-interface-components">4.1. Standard User Interface Components</a>
<ul class="sectlevel3">
<li><a href="#uicolumn">4.1.1. UIColumn</a>
<ul class="sectlevel4">
<li><a href="#component-type-2">4.1.1.1. Component Type</a></li>
<li><a href="#properties-6">4.1.1.2. Properties</a></li>
<li><a href="#a1852">4.1.1.3. Methods</a></li>
<li><a href="#events-7">4.1.1.4. Events</a></li>
</ul>
</li>
<li><a href="#uicommand">4.1.2. UICommand</a>
<ul class="sectlevel4">
<li><a href="#component-type-3">4.1.2.1. Component Type</a></li>
<li><a href="#properties-7">4.1.2.2. Properties</a></li>
<li><a href="#methods-7">4.1.2.3. Methods</a></li>
<li><a href="#events-8">4.1.2.4. Events</a></li>
</ul>
</li>
<li><a href="#uidata">4.1.3. UIData</a>
<ul class="sectlevel4">
<li><a href="#component-type-4">4.1.3.1. Component Type</a></li>
<li><a href="#a1878">4.1.3.2. Properties</a></li>
<li><a href="#a1921">4.1.3.3. Methods</a></li>
<li><a href="#events-9">4.1.3.4. Events</a></li>
</ul>
</li>
<li><a href="#a1932">4.1.4. UIForm</a>
<ul class="sectlevel4">
<li><a href="#component-type-5">4.1.4.1. Component Type</a></li>
<li><a href="#properties-8">4.1.4.2. Properties</a></li>
<li><a href="#methods-8">4.1.4.3. Methods.</a></li>
<li><a href="#events-10">4.1.4.4. Events</a></li>
</ul>
</li>
<li><a href="#uigraphic">4.1.5. UIGraphic</a>
<ul class="sectlevel4">
<li><a href="#component-type-6">4.1.5.1. Component Type</a></li>
<li><a href="#properties-9">4.1.5.2. Properties</a></li>
<li><a href="#methods-9">4.1.5.3. Methods</a></li>
<li><a href="#events-11">4.1.5.4. Events</a></li>
</ul>
</li>
<li><a href="#a1981">4.1.6. UIInput</a>
<ul class="sectlevel4">
<li><a href="#component-type-7">4.1.6.1. Component Type</a></li>
<li><a href="#properties-10">4.1.6.2. Properties</a></li>
<li><a href="#a2005">4.1.6.3. Methods</a></li>
<li><a href="#events-12">4.1.6.4. Events</a></li>
</ul>
</li>
<li><a href="#uimessage">4.1.7. UIMessage</a>
<ul class="sectlevel4">
<li><a href="#component-type-8">4.1.7.1. Component Type</a></li>
<li><a href="#properties-11">4.1.7.2. Properties</a></li>
<li><a href="#methods-10">4.1.7.3. Methods.</a></li>
<li><a href="#events-13">4.1.7.4. Events</a></li>
</ul>
</li>
<li><a href="#uimessages">4.1.8. UIMessages</a>
<ul class="sectlevel4">
<li><a href="#component-type-9">4.1.8.1. Component Type</a></li>
<li><a href="#properties-12">4.1.8.2. Properties</a></li>
<li><a href="#methods-11">4.1.8.3. Methods.</a></li>
<li><a href="#events-14">4.1.8.4. Events</a></li>
</ul>
</li>
<li><a href="#a2060">4.1.9. UIOutcomeTarget</a>
<ul class="sectlevel4">
<li><a href="#component-type-10">4.1.9.1. Component Type</a></li>
<li><a href="#properties-13">4.1.9.2. Properties</a></li>
<li><a href="#methods-12">4.1.9.3. Methods</a></li>
<li><a href="#events-15">4.1.9.4. Events</a></li>
</ul>
</li>
<li><a href="#uioutput">4.1.10. UIOutput</a>
<ul class="sectlevel4">
<li><a href="#component-type-11">4.1.10.1. Component Type</a></li>
<li><a href="#properties-14">4.1.10.2. Properties</a></li>
<li><a href="#methods-13">4.1.10.3. Methods</a></li>
<li><a href="#events-16">4.1.10.4. Events</a></li>
</ul>
</li>
<li><a href="#uipanel">4.1.11. UIPanel</a>
<ul class="sectlevel4">
<li><a href="#component-type-12">4.1.11.1. Component Type</a></li>
<li><a href="#properties-15">4.1.11.2. Properties</a></li>
<li><a href="#methods-14">4.1.11.3. Methods</a></li>
<li><a href="#events-17">4.1.11.4. Events</a></li>
</ul>
</li>
<li><a href="#uiparameter">4.1.12. UIParameter</a>
<ul class="sectlevel4">
<li><a href="#component-type-13">4.1.12.1. Component Type</a></li>
<li><a href="#properties-16">4.1.12.2. Properties</a></li>
<li><a href="#methods-15">4.1.12.3. Methods</a></li>
<li><a href="#events-18">4.1.12.4. Events</a></li>
</ul>
</li>
<li><a href="#uiselectboolean">4.1.13. UISelectBoolean</a>
<ul class="sectlevel4">
<li><a href="#component-type-14">4.1.13.1. Component Type</a></li>
<li><a href="#properties-17">4.1.13.2. Properties</a></li>
<li><a href="#methods-16">4.1.13.3. Methods</a></li>
<li><a href="#events-19">4.1.13.4. Events</a></li>
</ul>
</li>
<li><a href="#uiselectitem">4.1.14. UISelectItem</a>
<ul class="sectlevel4">
<li><a href="#component-type-15">4.1.14.1. Component Type</a></li>
<li><a href="#properties-18">4.1.14.2. Properties</a></li>
<li><a href="#methods-17">4.1.14.3. Methods</a></li>
<li><a href="#events-20">4.1.14.4. Events</a></li>
</ul>
</li>
<li><a href="#uiselectitems">4.1.15. UISelectItems</a>
<ul class="sectlevel4">
<li><a href="#component-type-16">4.1.15.1. Component Type</a></li>
<li><a href="#properties-19">4.1.15.2. Properties</a></li>
<li><a href="#methods-18">4.1.15.3. Methods</a></li>
<li><a href="#events-21">4.1.15.4. Events</a></li>
</ul>
</li>
<li><a href="#uiselectmany">4.1.16. UISelectMany</a>
<ul class="sectlevel4">
<li><a href="#component-type-17">4.1.16.1. Component Type</a></li>
<li><a href="#properties-20">4.1.16.2. Properties</a></li>
<li><a href="#methods-19">4.1.16.3. Methods</a></li>
<li><a href="#events-22">4.1.16.4. Events</a></li>
</ul>
</li>
<li><a href="#uiselectone">4.1.17. UISelectOne</a>
<ul class="sectlevel4">
<li><a href="#component-type-18">4.1.17.1. Component Type</a></li>
<li><a href="#properties-21">4.1.17.2. Properties</a></li>
<li><a href="#methods-20">4.1.17.3. Methods</a></li>
<li><a href="#events-23">4.1.17.4. Events</a></li>
</ul>
</li>
<li><a href="#uiviewparameter">4.1.18. UIViewParameter</a></li>
<li><a href="#a2226">4.1.19. UIViewRoot</a>
<ul class="sectlevel4">
<li><a href="#component-type-19">4.1.19.1. Component Type</a></li>
<li><a href="#a2230">4.1.19.2. Properties</a></li>
<li><a href="#a2257">4.1.19.3. Methods</a></li>
<li><a href="#a2268">4.1.19.4. Events</a></li>
<li><a href="#a2277">4.1.19.5. Partial Processing</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#standard-uicomponent-model-beans">4.2. Standard UIComponent Model Beans</a>
<ul class="sectlevel3">
<li><a href="#a2281">4.2.1. DataModel</a>
<ul class="sectlevel4">
<li><a href="#properties-22">4.2.1.1. Properties</a></li>
<li><a href="#a2298">4.2.1.2. Methods</a></li>
<li><a href="#events-24">4.2.1.3. Events</a></li>
<li><a href="#a2302">4.2.1.4. Concrete Implementations</a></li>
</ul>
</li>
<li><a href="#selectitem">4.2.2. SelectItem</a>
<ul class="sectlevel4">
<li><a href="#properties-23">4.2.2.1. Properties</a></li>
<li><a href="#methods-21">4.2.2.2. Methods</a></li>
<li><a href="#events-25">4.2.2.3. Events</a></li>
</ul>
</li>
<li><a href="#selectitemgroup">4.2.3. SelectItemGroup</a>
<ul class="sectlevel4">
<li><a href="#properties-24">4.2.3.1. Properties</a></li>
<li><a href="#methods-22">4.2.3.2. Methods</a></li>
<li><a href="#events-26">4.2.3.3. Events</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#a2344">5. Expression Language and Managed Bean Facility</a>
<ul class="sectlevel2">
<li><a href="#a2349">5.1. Value Expressions</a>
<ul class="sectlevel3">
<li><a href="#overview-5">5.1.1. Overview</a></li>
<li><a href="#value-expression-syntax-and-semantics">5.1.2. Value Expression Syntax and Semantics</a></li>
</ul>
</li>
<li><a href="#methodexpressions">5.2. MethodExpressions</a>
<ul class="sectlevel3">
<li><a href="#a2403">5.2.1. MethodExpression Syntax and Semantics</a></li>
</ul>
</li>
<li><a href="#a2406">5.3. The Managed Bean Facility</a>
<ul class="sectlevel3">
<li><a href="#a2477">5.3.1. Managed Bean Configuration Example</a></li>
</ul>
</li>
<li><a href="#a2536">5.4. Managed Bean Annotations</a>
<ul class="sectlevel3">
<li><a href="#jakarta-faces-managed-classes-and-jakarta-ee-annotations">5.4.1. Jakarta Faces Managed Classes and Jakarta EE Annotations</a></li>
<li><a href="#a2601">5.4.2. Managed Bean Lifecycle Annotations</a></li>
</ul>
</li>
<li><a href="#how-faces-leverages-the-expression-language">5.5. How Faces Leverages the Expression Language</a>
<ul class="sectlevel3">
<li><a href="#elcontext">5.5.1. ELContext</a>
<ul class="sectlevel4">
<li><a href="#lifetime-ownership-and-cardinality">5.5.1.1. Lifetime, Ownership and Cardinality</a></li>
<li><a href="#properties-25">5.5.1.2. Properties</a></li>
<li><a href="#methods-23">5.5.1.3. Methods</a></li>
<li><a href="#events-27">5.5.1.4. Events</a></li>
</ul>
</li>
<li><a href="#a2634">5.5.2. ELResolver</a>
<ul class="sectlevel4">
<li><a href="#lifetime-ownership-and-cardinality-2">5.5.2.1. Lifetime, Ownership, and Cardinality</a></li>
<li><a href="#properties-26">5.5.2.2. Properties</a></li>
<li><a href="#methods-24">5.5.2.3. Methods</a></li>
<li><a href="#events-28">5.5.2.4. Events</a></li>
</ul>
</li>
<li><a href="#a2651">5.5.3. ExpressionFactory</a>
<ul class="sectlevel4">
<li><a href="#lifetime-ownership-and-cardinality-3">5.5.3.1. Lifetime, Ownership, and Cardinality</a></li>
<li><a href="#properties-27">5.5.3.2. Properties</a></li>
<li><a href="#methods-25">5.5.3.3. Methods</a></li>
<li><a href="#events-29">5.5.3.4. Events</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a2664">5.6. ELResolver Instances Provided by Faces</a>
<ul class="sectlevel3">
<li><a href="#a2667">5.6.1. Faces ELResolver for Jakarta Server Pages Pages</a>
<ul class="sectlevel4">
<li><a href="#a2673">5.6.1.1. Faces Implicit Object ELResolver For Jakarta Server Pages</a></li>
<li><a href="#a2711">5.6.1.2. ManagedBean ELResolver</a></li>
<li><a href="#resource-elresolver">5.6.1.3. Resource ELResolver</a></li>
<li><a href="#a2741">5.6.1.4. ResourceBundle ELResolver for Jakarta Server Pages Pages</a></li>
<li><a href="#a2771">5.6.1.5. ELResolvers in the application configuration resources</a></li>
<li><a href="#a2773">5.6.1.6. VariableResolver Chain Wrapper</a></li>
<li><a href="#a2798">5.6.1.7. PropertyResolver Chain Wrapper</a></li>
<li><a href="#a2820">5.6.1.8. ELResolvers from Application.addELResolver()</a></li>
</ul>
</li>
<li><a href="#a2822">5.6.2. ELResolver for Facelets and Programmatic Access</a>
<ul class="sectlevel4">
<li><a href="#a2830">5.6.2.1. Implicit Object ELResolver for Facelets and Programmatic Access</a></li>
<li><a href="#a2908">5.6.2.2. Composite Component Attributes ELResolver</a></li>
<li><a href="#the-compositeelresolver">5.6.2.3. The CompositeELResolver</a></li>
<li><a href="#managedbean-elresolver">5.6.2.4. ManagedBean ELResolver</a></li>
<li><a href="#a2940">5.6.2.5. Resource ELResolver</a></li>
<li><a href="#a2962">5.6.2.6. el.ResourceBundleELResolver</a></li>
<li><a href="#a2964">5.6.2.7. ResourceBundle ELResolver for Programmatic Access</a></li>
<li><a href="#a2966">5.6.2.8. Stream, StaticField, Map, List, Array, and Bean ELResolvers</a></li>
<li><a href="#a2970">5.6.2.9. ScopedAttribute ELResolver</a></li>
</ul>
</li>
<li><a href="#cdi-for-expression-language-resolution">5.6.3. CDI for Expression Language Resolution</a></li>
</ul>
</li>
<li><a href="#current-expression-evaluation-apis">5.7. Current Expression Evaluation APIs</a>
<ul class="sectlevel3">
<li><a href="#elresolver">5.7.1. ELResolver</a></li>
<li><a href="#valueexpression">5.7.2. ValueExpression</a></li>
<li><a href="#methodexpression">5.7.3. MethodExpression</a></li>
<li><a href="#expression-evaluation-exceptions">5.7.4. Expression Evaluation Exceptions</a></li>
</ul>
</li>
<li><a href="#deprecated-expression-evaluation-apis">5.8. Deprecated Expression Evaluation APIs</a>
<ul class="sectlevel3">
<li><a href="#a3020">5.8.1. VariableResolver and the Default VariableResolver</a></li>
<li><a href="#a3025">5.8.2. PropertyResolver and the Default PropertyResolver</a></li>
<li><a href="#a3029">5.8.3. ValueBinding</a></li>
<li><a href="#a3039">5.8.4. MethodBinding</a></li>
<li><a href="#expression-evaluation-exceptions-2">5.8.5. Expression Evaluation Exceptions</a></li>
</ul>
</li>
<li><a href="#cdi-integration">5.9. CDI Integration</a>
<ul class="sectlevel3">
<li><a href="#a3054">5.9.1. Jakarta Faces Objects Valid for @Inject Injection</a></li>
<li><a href="#a3070">5.9.2. Expression Language Resolution</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#per-request-state-information">6. Per-Request State Information</a>
<ul class="sectlevel2">
<li><a href="#a3091">6.1. FacesContext</a>
<ul class="sectlevel3">
<li><a href="#a3096">6.1.1. Application</a></li>
<li><a href="#attributes">6.1.2. Attributes</a></li>
<li><a href="#a3099">6.1.3. ELContext</a></li>
<li><a href="#externalcontext">6.1.4. ExternalContext</a>
<ul class="sectlevel4">
<li><a href="#flash">6.1.4.1. Flash</a></li>
</ul>
</li>
<li><a href="#viewroot">6.1.5. ViewRoot</a></li>
<li><a href="#message-queue">6.1.6. Message Queue</a></li>
<li><a href="#renderkit">6.1.7. RenderKit</a></li>
<li><a href="#a3198">6.1.8. ResponseStream and ResponseWriter</a></li>
<li><a href="#flow-control-methods">6.1.9. Flow Control Methods</a></li>
<li><a href="#a3225">6.1.10. Partial Processing Methods</a></li>
<li><a href="#a3229">6.1.11. Partial View Context</a></li>
<li><a href="#a3231">6.1.12. Access To The Current FacesContext Instance</a></li>
<li><a href="#a3237">6.1.13. CurrentPhaseId</a></li>
<li><a href="#exceptionhandler">6.1.14. ExceptionHandler</a></li>
</ul>
</li>
<li><a href="#a3253">6.2. ExceptionHandler</a>
<ul class="sectlevel3">
<li><a href="#default-exceptionhandler-implementation">6.2.1. Default ExceptionHandler implementation</a></li>
<li><a href="#backwards-compatible-exceptionhandler">6.2.2. Backwards Compatible ExceptionHandler</a></li>
<li><a href="#default-error-page">6.2.3. Default Error Page</a></li>
</ul>
</li>
<li><a href="#a3300">6.3. FacesMessage</a></li>
<li><a href="#responsestream">6.4. ResponseStream</a></li>
<li><a href="#a3324">6.5. ResponseWriter</a></li>
<li><a href="#a3366">6.6. FacesContextFactory</a></li>
<li><a href="#a3375">6.7. ExceptionHandlerFactory</a></li>
<li><a href="#a3384">6.8. ExternalContextFactory</a></li>
</ul>
</li>
<li><a href="#application-integration">7. Application Integration</a>
<ul class="sectlevel2">
<li><a href="#a3400">7.1. Application</a>
<ul class="sectlevel3">
<li><a href="#a3402">7.1.1. ActionListener Property</a></li>
<li><a href="#defaultrenderkitid-property">7.1.2. DefaultRenderKitId Property</a></li>
<li><a href="#flowhandler-property">7.1.3. FlowHandler Property</a></li>
<li><a href="#navigationhandler-property">7.1.4. NavigationHandler Property</a></li>
<li><a href="#statemanager-property">7.1.5. StateManager Property</a></li>
<li><a href="#a3435">7.1.6. ELResolver Property</a></li>
<li><a href="#elcontextlistener-property">7.1.7. ELContextListener Property</a></li>
<li><a href="#a3450">7.1.8. ViewHandler Property</a></li>
<li><a href="#a3455">7.1.9. ProjectStage Property</a></li>
<li><a href="#a3459">7.1.10. Acquiring ExpressionFactory Instance</a></li>
<li><a href="#a3463">7.1.11. Programmatically Evaluating Expressions</a></li>
<li><a href="#a3468">7.1.12. Object Factories</a>
<ul class="sectlevel4">
<li><a href="#a3510">7.1.12.1. Default Validator Ids</a></li>
</ul>
</li>
<li><a href="#internationalization-support">7.1.13. Internationalization Support</a></li>
<li><a href="#a3526">7.1.14. System Event Methods</a>
<ul class="sectlevel4">
<li><a href="#subscribing-to-system-events">7.1.14.1. Subscribing to system events</a></li>
<li><a href="#unsubscribing-from-system-events">7.1.14.2. Unsubscribing from system events</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a3542">7.2. ApplicationFactory</a></li>
<li><a href="#a3553">7.3. Application Actions</a></li>
<li><a href="#a3561">7.4. NavigationHandler</a>
<ul class="sectlevel3">
<li><a href="#a3562">7.4.1. Overview</a></li>
<li><a href="#a3571">7.4.2. Default NavigationHandler Algorithm</a>
<ul class="sectlevel4">
<li><a href="#a3622">7.4.2.1. Requirements for Explicit Navigation in Faces Flow Call Nodes other than ViewNodes</a></li>
<li><a href="#requirements-for-entering-a-flow">7.4.2.2. Requirements for Entering a Flow</a></li>
<li><a href="#requirements-for-exiting-a-flow">7.4.2.3. Requirements for Exiting a Flow</a></li>
<li><a href="#requirements-for-calling-a-flow-from-the-current-flow">7.4.2.4. Requirements for Calling A Flow from the Current Flow</a></li>
</ul>
</li>
<li><a href="#a3646">7.4.3. Example NavigationHandler Configuration</a></li>
</ul>
</li>
<li><a href="#a3840">7.5. FlowHandler</a>
<ul class="sectlevel3">
<li><a href="#non-normative-example">7.5.1. Non-normative example</a></li>
<li><a href="#non-normative-feature-overview">7.5.2. Non-normative Feature Overview</a></li>
</ul>
</li>
<li><a href="#a3871">7.6. ViewHandler</a>
<ul class="sectlevel3">
<li><a href="#a3874">7.6.1. Overview</a></li>
<li><a href="#a3910">7.6.2. Default ViewHandler Implementation</a>
<ul class="sectlevel4">
<li><a href="#a3913">7.6.2.1. ViewHandler Methods that Derive Information From the Incoming Request</a></li>
<li><a href="#viewhandler-methods-that-are-called-to-fill-a-specific-role-in-the-lifecycle">7.6.2.2. ViewHandler Methods that are Called to Fill a Specific Role in the Lifecycle</a></li>
<li><a href="#a3955">7.6.2.3. ViewHandler Methods Relating to Navigation</a></li>
<li><a href="#a3997">7.6.2.4. ViewHandler Methods that relate to View Protection</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a4003">7.7. ViewDeclarationLanguage</a>
<ul class="sectlevel3">
<li><a href="#viewdeclarationlanguagefactory">7.7.1. ViewDeclarationLanguageFactory</a></li>
<li><a href="#a4010">7.7.2. Default ViewDeclarationLanguage Implementation</a>
<ul class="sectlevel4">
<li><a href="#a4016">7.7.2.1. ViewDeclarationLanguage.createView()</a></li>
<li><a href="#a4030">7.7.2.2. ViewDeclarationLanguage.calculateResourceLibraryContracts()</a></li>
<li><a href="#viewdeclarationlanguage-buildview">7.7.2.3. ViewDeclarationLanguage.buildView()</a></li>
<li><a href="#a4046">7.7.2.4. ViewDeclarationLanguage.getComponentMetadata()</a></li>
<li><a href="#viewdeclarationlanguage-getviewmetadata-and-getviewparameters">7.7.2.5. ViewDeclarationLanguage.getViewMetadata() and getViewParameters()</a></li>
<li><a href="#viewdeclarationlanguage-getscriptcomponentresource">7.7.2.6. ViewDeclarationLanguage.getScriptComponentResource()</a></li>
<li><a href="#viewdeclarationlanguage-renderview">7.7.2.7. ViewDeclarationLanguage.renderView()</a></li>
<li><a href="#a4101">7.7.2.8. ViewDeclarationLanguage.restoreView()</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a4117">7.8. StateManager</a>
<ul class="sectlevel3">
<li><a href="#a4119">7.8.1. Overview</a>
<ul class="sectlevel4">
<li><a href="#a4126">7.8.1.1. Stateless Views</a></li>
</ul>
</li>
<li><a href="#a4135">7.8.2. State Saving Alternatives and Implications</a></li>
<li><a href="#a4140">7.8.3. State Saving Methods.</a></li>
<li><a href="#state-restoring-methods">7.8.4. State Restoring Methods</a></li>
<li><a href="#convenience-methods">7.8.5. Convenience Methods</a></li>
</ul>
</li>
<li><a href="#resourcehandler">7.9. ResourceHandler</a></li>
<li><a href="#deprecated-apis">7.10. Deprecated APIs</a>
<ul class="sectlevel3">
<li><a href="#a4163">7.10.1. PropertyResolver Property</a></li>
<li><a href="#a4171">7.10.2. VariableResolver Property</a></li>
<li><a href="#a4179">7.10.3. Acquiring ValueBinding Instances</a></li>
<li><a href="#acquiring-methodbinding-instances">7.10.4. Acquiring MethodBinding Instances</a></li>
<li><a href="#object-factories">7.10.5. Object Factories</a></li>
<li><a href="#statemanager">7.10.6. StateManager</a></li>
<li><a href="#a4204">7.10.7. ResponseStateManager</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a4219">8. Rendering Model</a>
<ul class="sectlevel2">
<li><a href="#a4223">8.1. RenderKit</a></li>
<li><a href="#a4245">8.2. Renderer</a></li>
<li><a href="#a4264">8.3. ClientBehaviorRenderer</a>
<ul class="sectlevel3">
<li><a href="#clientbehaviorrenderer-registration">8.3.1. ClientBehaviorRenderer Registration</a></li>
</ul>
</li>
<li><a href="#a4288">8.4. ResponseStateManager</a></li>
<li><a href="#a4300">8.5. RenderKitFactory</a></li>
<li><a href="#a4314">8.6. Standard HTML RenderKit Implementation</a></li>
<li><a href="#the-concrete-html-component-classes">8.7. The Concrete HTML Component Classes</a></li>
</ul>
</li>
<li><a href="#a4406">9. Integration with Jakarta Server Pages</a>
<ul class="sectlevel2">
<li><a href="#a4415">9.1. UIComponent Custom Actions</a></li>
<li><a href="#using-uicomponent-custom-actions-in-jakarta-server-pages-pages">9.2. Using UIComponent Custom Actions in Jakarta Server Pages Pages</a>
<ul class="sectlevel3">
<li><a href="#declaring-the-tag-libraries">9.2.1. Declaring the Tag Libraries</a></li>
<li><a href="#including-components-in-a-page">9.2.2. Including Components in a Page</a></li>
<li><a href="#creating-components-and-overriding-attributes">9.2.3. Creating Components and Overriding Attributes</a></li>
<li><a href="#deleting-components-on-redisplay">9.2.4. Deleting Components on Redisplay</a></li>
<li><a href="#representing-component-hierarchies">9.2.5. Representing Component Hierarchies</a></li>
<li><a href="#registering-converters-event-listeners-and-validators">9.2.6. Registering Converters, Event Listeners, and Validators</a></li>
<li><a href="#using-facets">9.2.7. Using Facets</a></li>
<li><a href="#a4536">9.2.8. Interoperability with Jakarta Server Pages Template Text and Other Tag Libraries</a></li>
<li><a href="#composing-pages-from-multiple-sources">9.2.9. Composing Pages from Multiple Sources</a></li>
</ul>
</li>
<li><a href="#a4549">9.3. UIComponent Custom Action Implementation Requirements</a>
<ul class="sectlevel3">
<li><a href="#considerations-for-custom-actions-written-for-pre-jakarta-faces-jsf-1-1-and-1-0">9.3.1. Considerations for Custom Actions written for pre-Jakarta Faces JSF 1.1 and 1.0</a>
<ul class="sectlevel4">
<li><a href="#past-and-present-tag-constraints">9.3.1.1. Past and Present Tag constraints</a></li>
<li><a href="#a4629">9.3.1.2. Faces 1.0 and 1.1 Taglib migration story</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a4636">9.4. Jakarta Faces Core Tag Library</a>
<ul class="sectlevel3">
<li><a href="#a4654">9.4.1. &lt;f:actionListener&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax">9.4.1.1. Syntax</a></li>
<li><a href="#body-content">9.4.1.2. Body Content</a></li>
<li><a href="#attributes-2">9.4.1.3. Attributes</a></li>
<li><a href="#constraints">9.4.1.4. Constraints</a></li>
<li><a href="#description">9.4.1.5. Description</a></li>
</ul>
</li>
<li><a href="#a4679">9.4.2. &lt;f:attribute&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-2">9.4.2.1. Syntax</a></li>
<li><a href="#body-content-2">9.4.2.2. Body Content</a></li>
<li><a href="#attributes-3">9.4.2.3. Attributes</a></li>
<li><a href="#constraints-2">9.4.2.4. Constraints</a></li>
<li><a href="#description-2">9.4.2.5. Description</a></li>
</ul>
</li>
<li><a href="#a4697">9.4.3. &lt;f:convertDateTime&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-3">9.4.3.1. Syntax</a></li>
<li><a href="#body-content-3">9.4.3.2. Body Content</a></li>
<li><a href="#attributes-4">9.4.3.3. Attributes</a></li>
<li><a href="#constraints-3">9.4.3.4. Constraints</a></li>
<li><a href="#description-3">9.4.3.5. Description</a></li>
</ul>
</li>
<li><a href="#a4752">9.4.4. &lt;f:convertNumber&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-4">9.4.4.1. Syntax</a></li>
<li><a href="#body-content-4">9.4.4.2. Body Content</a></li>
<li><a href="#attributes-5">9.4.4.3. Attributes</a></li>
<li><a href="#constraints-4">9.4.4.4. Constraints</a></li>
<li><a href="#description-4">9.4.4.5. Description</a></li>
</ul>
</li>
<li><a href="#fconverter">9.4.5. &lt;f:converter&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-5">9.4.5.1. Syntax</a></li>
<li><a href="#body-content-5">9.4.5.2. Body Content</a></li>
<li><a href="#attributes-6">9.4.5.3. Attributes</a></li>
<li><a href="#constraints-5">9.4.5.4. Constraints</a></li>
<li><a href="#description-5">9.4.5.5. Description</a></li>
</ul>
</li>
<li><a href="#a4843">9.4.6. &lt;f:facet&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-6">9.4.6.1. Syntax</a></li>
<li><a href="#body-content-6">9.4.6.2. Body Content</a></li>
<li><a href="#attributes-7">9.4.6.3. Attributes</a></li>
<li><a href="#constraints-6">9.4.6.4. Constraints</a></li>
<li><a href="#description-6">9.4.6.5. Description</a></li>
</ul>
</li>
<li><a href="#a4860">9.4.7. &lt;f:loadBundle&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-7">9.4.7.1. Syntax</a></li>
<li><a href="#body-content-7">9.4.7.2. Body Content</a></li>
<li><a href="#attributes-8">9.4.7.3. Attributes</a></li>
<li><a href="#constraints-7">9.4.7.4. Constraints</a></li>
<li><a href="#description-7">9.4.7.5. Description</a></li>
</ul>
</li>
<li><a href="#fparam">9.4.8. &lt;f:param&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-8">9.4.8.1. Syntax</a></li>
<li><a href="#body-content-8">9.4.8.2. Body Content</a></li>
<li><a href="#attributes-9">9.4.8.3. Attributes</a></li>
<li><a href="#constraints-8">9.4.8.4. Constraints</a></li>
<li><a href="#description-8">9.4.8.5. Description</a></li>
</ul>
</li>
<li><a href="#fphaselistener">9.4.9. &lt;f:phaseListener&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-9">9.4.9.1. Syntax</a></li>
<li><a href="#body-content-9">9.4.9.2. Body Content</a></li>
<li><a href="#attributes-10">9.4.9.3. Attributes</a></li>
<li><a href="#constraints-9">9.4.9.4. Constraints</a></li>
<li><a href="#description-9">9.4.9.5. Description</a></li>
</ul>
</li>
<li><a href="#fselectitem">9.4.10. &lt;f:selectItem&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-10">9.4.10.1. Syntax</a></li>
<li><a href="#body-content-10">9.4.10.2. Body Content</a></li>
<li><a href="#attributes-11">9.4.10.3. Attributes</a></li>
<li><a href="#constraints-10">9.4.10.4. Constraints</a></li>
<li><a href="#description-10">9.4.10.5. Description</a></li>
</ul>
</li>
<li><a href="#fselectitems">9.4.11. &lt;f:selectItems&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-11">9.4.11.1. Syntax</a></li>
<li><a href="#body-content-11">9.4.11.2. Body Content</a></li>
<li><a href="#attributes-12">9.4.11.3. Attributes</a></li>
<li><a href="#constraints-11">9.4.11.4. Constraints</a></li>
<li><a href="#description-11">9.4.11.5. Description</a></li>
</ul>
</li>
<li><a href="#a5015">9.4.12. &lt;f:setPropertyActionListener&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-12">9.4.12.1. Syntax</a></li>
<li><a href="#body-content-12">9.4.12.2. Body Content</a></li>
<li><a href="#attributes-13">9.4.12.3. Attributes</a></li>
<li><a href="#constraints-12">9.4.12.4. Constraints</a></li>
<li><a href="#description-12">9.4.12.5. Description</a></li>
</ul>
</li>
<li><a href="#fsubview">9.4.13. &lt;f:subview&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-13">9.4.13.1. Syntax</a></li>
<li><a href="#body-content-13">9.4.13.2. Body Content</a></li>
<li><a href="#attributes-14">9.4.13.3. Attributes</a></li>
<li><a href="#constraints-13">9.4.13.4. Constraints</a></li>
<li><a href="#description-13">9.4.13.5. Description</a></li>
</ul>
</li>
<li><a href="#a5163">9.4.14. &lt;f:validateDoubleRange&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-14">9.4.14.1. Syntax</a></li>
<li><a href="#body-content-14">9.4.14.2. Body Content</a></li>
<li><a href="#attributes-15">9.4.14.3. Attributes</a></li>
<li><a href="#constraints-14">9.4.14.4. Constraints</a></li>
<li><a href="#description-14">9.4.14.5. Description</a></li>
</ul>
</li>
<li><a href="#fvalidatelength">9.4.15. &lt;f:validateLength&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-15">9.4.15.1. Syntax</a></li>
<li><a href="#body-content-15">9.4.15.2. Body Content</a></li>
<li><a href="#attributes-16">9.4.15.3. Attributes</a></li>
<li><a href="#constraints-15">9.4.15.4. Constraints</a></li>
<li><a href="#description-15">9.4.15.5. Description</a></li>
</ul>
</li>
<li><a href="#a5198">9.4.16. &lt;f:validateRegex&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-16">9.4.16.1. Syntax</a></li>
<li><a href="#body-content-16">9.4.16.2. Body Content</a></li>
<li><a href="#attributes-17">9.4.16.3. Attributes</a></li>
<li><a href="#constraints-16">9.4.16.4. Constraints</a></li>
<li><a href="#description-16">9.4.16.5. Description</a></li>
</ul>
</li>
<li><a href="#a5223">9.4.17. &lt;f:validateLongRange&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-17">9.4.17.1. Syntax</a></li>
<li><a href="#body-content-17">9.4.17.2. Body Content</a></li>
<li><a href="#attributes-18">9.4.17.3. Attributes</a></li>
<li><a href="#constraints-17">9.4.17.4. Constraints</a></li>
<li><a href="#description-17">9.4.17.5. Description</a></li>
</ul>
</li>
<li><a href="#a5256">9.4.18. &lt;f:validator&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-18">9.4.18.1. Syntax</a></li>
<li><a href="#body-content-18">9.4.18.2. Body Content</a></li>
<li><a href="#attributes-19">9.4.18.3. Attributes</a></li>
<li><a href="#constraints-18">9.4.18.4. Constraints</a></li>
<li><a href="#description-18">9.4.18.5. Description</a></li>
</ul>
</li>
<li><a href="#a5282">9.4.19. &lt;f:valueChangeListener&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-19">9.4.19.1. Syntax</a></li>
<li><a href="#body-content-19">9.4.19.2. Body Content</a></li>
<li><a href="#attributes-20">9.4.19.3. Attributes</a></li>
<li><a href="#constraints-19">9.4.19.4. Constraints</a></li>
<li><a href="#description-19">9.4.19.5. Description</a></li>
</ul>
</li>
<li><a href="#fverbatim">9.4.20. &lt;f:verbatim&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-20">9.4.20.1. Syntax</a></li>
<li><a href="#body-content-20">9.4.20.2. Body Content</a></li>
<li><a href="#attributes-21">9.4.20.3. Attributes</a></li>
<li><a href="#constraints-20">9.4.20.4. Constraints</a></li>
<li><a href="#description-20">9.4.20.5. Description</a></li>
</ul>
</li>
<li><a href="#a5325">9.4.21. &lt;f:view&gt;</a>
<ul class="sectlevel4">
<li><a href="#syntax-21">9.4.21.1. Syntax</a></li>
<li><a href="#body-content-21">9.4.21.2. Body Content</a></li>
<li><a href="#attributes-22">9.4.21.3. Attributes</a></li>
<li><a href="#constraints-21">9.4.21.4. Constraints</a></li>
<li><a href="#description-21">9.4.21.5. Description</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a5363">9.5. Standard HTML RenderKit Tag Library</a></li>
</ul>
</li>
<li><a href="#a5476">10. Facelets and its use in Web Applications</a>
<ul class="sectlevel2">
<li><a href="#non-normative-background-2">10.1. Non-normative Background</a>
<ul class="sectlevel3">
<li><a href="#differences-between-jakarta-server-pages-and-facelets">10.1.1. Differences between Jakarta Server Pages and Facelets</a></li>
<li><a href="#differences-between-pre-jsf-2-0-facelets-and-facelets-in-jakarta-faces">10.1.2. Differences between Pre JSF 2.0 Facelets and Facelets in Jakarta Faces</a></li>
<li><a href="#a5526">10.1.3. Resource Library Contracts Background</a>
<ul class="sectlevel4">
<li><a href="#non-normative-example-2">10.1.3.1. Non-normative Example</a></li>
<li><a href="#non-normative-feature-overview-2">10.1.3.2. Non-normative Feature Overview</a></li>
</ul>
</li>
<li><a href="#a5581">10.1.4. HTML5 Friendly Markup</a>
<ul class="sectlevel4">
<li><a href="#non-normative-feature-overview-3">10.1.4.1. Non-normative Feature Overview</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#java-programming-language-specification-for-facelets-in-jakarta-faces">10.2. Java Programming Language Specification for Facelets in Jakarta Faces</a>
<ul class="sectlevel3">
<li><a href="#a5608">10.2.1. Specification of the ViewDeclarationLanguage Implementation for Facelets for Jakarta Faces</a></li>
</ul>
</li>
<li><a href="#xhtml-specification-for-facelets-for-jakarta-faces">10.3. XHTML Specification for Facelets for Jakarta Faces</a>
<ul class="sectlevel3">
<li><a href="#a5632">10.3.1. General Requirements</a>
<ul class="sectlevel4">
<li><a href="#a5635">10.3.1.1. DOCTYPE and XML Declaration</a></li>
</ul>
</li>
<li><a href="#a5638">10.3.2. Facelet Tag Library mechanism</a></li>
<li><a href="#a5661">10.3.3. Requirements specific to composite components</a>
<ul class="sectlevel4">
<li><a href="#a5663">10.3.3.1. Declaring a composite component library for use in a Facelet page</a></li>
<li><a href="#a5670">10.3.3.2. Creating an instance of a <em>top level component</em></a></li>
<li><a href="#populating-a-top-level-component-instance-with-children">10.3.3.3. Populating a <em>top level component</em> instance with children</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a5691">10.4. Standard Facelet Tag Libraries</a>
<ul class="sectlevel3">
<li><a href="#jakarta-faces-core-tag-library">10.4.1. Jakarta Faces Core Tag Library</a>
<ul class="sectlevel4">
<li><a href="#a1111">10.4.1.1. &lt;f:ajax&gt;</a></li>
<li><a href="#fevent">10.4.1.2. &lt;f:event&gt;</a></li>
<li><a href="#fmetadata">10.4.1.3. &lt;f:metadata&gt;</a></li>
<li><a href="#a5828">10.4.1.4. &lt;f:validateBean&gt;</a></li>
<li><a href="#a5857">10.4.1.5. &lt;f:validateRequired&gt;</a></li>
<li><a href="#fvalidatewholebean">10.4.1.6. &lt;f:validateWholeBean&gt;</a></li>
<li><a href="#a5904">10.4.1.7. &lt;f:websocket&gt;</a></li>
</ul>
</li>
<li><a href="#a6029">10.4.2. Standard HTML RenderKit Tag Library</a></li>
<li><a href="#a6043">10.4.3. Facelet Templating Tag Library</a></li>
<li><a href="#a6045">10.4.4. Composite Component Tag Library</a></li>
<li><a href="#a6047">10.4.5. JSTL Core and Function Tag Libraries</a></li>
</ul>
</li>
<li><a href="#assertions-relating-to-the-construction-of-the-view">10.5. Assertions relating to the construction of the view</a></li>
</ul>
</li>
<li><a href="#a6060">11. Using Jakarta Faces in Web Applications</a>
<ul class="sectlevel2">
<li><a href="#web-application-deployment-descriptor">11.1. Web Application Deployment Descriptor</a>
<ul class="sectlevel3">
<li><a href="#a6066">11.1.1. Servlet Definition</a></li>
<li><a href="#a6076">11.1.2. Servlet Mapping</a></li>
<li><a href="#a6088">11.1.3. Application Configuration Parameters</a></li>
</ul>
</li>
<li><a href="#included-classes-and-resources">11.2. Included Classes and Resources</a>
<ul class="sectlevel3">
<li><a href="#application-specific-classes-and-resources">11.2.1. Application-Specific Classes and Resources</a></li>
<li><a href="#servlet-and-jakarta-server-pages-api-classes-jakarta-servlet">11.2.2. Servlet and Jakarta Server Pages API Classes (jakarta.servlet.*)</a></li>
<li><a href="#jakarta-server-pages-standard-tag-library-jstl-api-classes-jakarta-servlet-jsp-jstl">11.2.3. Jakarta Server Pages Standard Tag Library (JSTL) API Classes (jakarta.servlet.jsp.jstl.*)</a></li>
<li><a href="#jakarta-server-pages-standard-tag-library-jstl-implementation-classes">11.2.4. Jakarta Server Pages Standard Tag Library (JSTL) Implementation Classes</a></li>
<li><a href="#jakarta-server-faces-api-classes-jakarta-faces">11.2.5. Jakarta Server Faces API Classes (jakarta.faces.*)</a></li>
<li><a href="#jakarta-server-faces-implementation-classes">11.2.6. Jakarta Server Faces Implementation Classes</a>
<ul class="sectlevel4">
<li><a href="#a6147">11.2.6.1. FactoryFinder</a></li>
<li><a href="#a6160">11.2.6.2. FacesServlet</a></li>
<li><a href="#a6175">11.2.6.3. UIComponentELTag</a></li>
<li><a href="#facettag">11.2.6.4. FacetTag</a></li>
<li><a href="#validatortag">11.2.6.5. ValidatorTag</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a6182">11.3. Deprecated APIs in the webapp package</a>
<ul class="sectlevel3">
<li><a href="#attributetag">11.3.1. <em>AttributeTag</em></a></li>
<li><a href="#convertertag">11.3.2. <em>ConverterTag</em></a></li>
<li><a href="#uicomponentbodytag">11.3.3. <em>UIComponentBodyTag</em></a></li>
<li><a href="#uicomponenttag">11.3.4. <em>UIComponentTag</em></a></li>
<li><a href="#validatortag-2">11.3.5. <em>ValidatorTag</em></a></li>
</ul>
</li>
<li><a href="#a6195">11.4. Application Configuration Resources</a>
<ul class="sectlevel3">
<li><a href="#overview-6">11.4.1. Overview</a></li>
<li><a href="#a6201">11.4.2. Application Startup Behavior</a>
<ul class="sectlevel4">
<li><a href="#a6215">11.4.2.1. Resource Library Contracts</a></li>
</ul>
</li>
<li><a href="#a6228">11.4.3. Faces Flows</a>
<ul class="sectlevel4">
<li><a href="#defining-flows">11.4.3.1. Defining Flows</a></li>
<li><a href="#packaging-faces-flows-in-jar-files">11.4.3.2. Packaging Faces Flows in JAR Files</a></li>
<li><a href="#a6236">11.4.3.3. Packaging Flows in Directories</a></li>
</ul>
</li>
<li><a href="#a6248">11.4.4. Application Shutdown Behavior</a></li>
<li><a href="#a6254">11.4.5. Application Configuration Resource Format</a></li>
<li><a href="#a6297">11.4.6. Configuration Impact on Jakarta Faces Runtime</a></li>
<li><a href="#a6336">11.4.7. Delegating Implementation Support</a></li>
<li><a href="#a6435">11.4.8. Ordering of Artifacts</a></li>
<li><a href="#a6554">11.4.9. Example Application Configuration Resource</a></li>
</ul>
</li>
<li><a href="#a6596">11.5. Annotations that correspond to and may take the place of entries in the Application Configuration Resources</a>
<ul class="sectlevel3">
<li><a href="#a6598">11.5.1. Requirements for scanning of classes for annotations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#lifecycle-management">12. Lifecycle Management</a>
<ul class="sectlevel2">
<li><a href="#a6608">12.1. Lifecycle</a></li>
<li><a href="#a6626">12.2. PhaseEvent</a></li>
<li><a href="#a6635">12.3. PhaseListener</a></li>
<li><a href="#lifecyclefactory">12.4. LifecycleFactory</a></li>
</ul>
</li>
<li><a href="#a6699">13. Ajax Integration</a>
<ul class="sectlevel2">
<li><a href="#a6702">13.1. JavaScript Resource</a>
<ul class="sectlevel3">
<li><a href="#a6704">13.1.1. JavaScript Resource Loading</a>
<ul class="sectlevel4">
<li><a href="#a6706">13.1.1.1. The Annotation Approach</a></li>
<li><a href="#a6712">13.1.1.2. The Resource API Approach</a></li>
<li><a href="#a6738">13.1.1.3. The Page Declaration Language Approach</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a6754">13.2. JavaScript Namespacing</a></li>
<li><a href="#a6766">13.3. Ajax Interaction</a>
<ul class="sectlevel3">
<li><a href="#a6769">13.3.1. Sending an Ajax Request</a></li>
<li><a href="#a6771">13.3.2. Ajax Request Queueing</a></li>
<li><a href="#a6773">13.3.3. Request Callback Function</a></li>
<li><a href="#a6781">13.3.4. Receiving The Ajax Response</a></li>
<li><a href="#a6783">13.3.5. Monitoring Events On The Client</a>
<ul class="sectlevel4">
<li><a href="#a6785">13.3.5.1. Monitoring Events For An Ajax Request</a></li>
<li><a href="#a6790">13.3.5.2. Monitoring Events For All Ajax Requests</a></li>
<li><a href="#a6792">13.3.5.3. Sending Events</a></li>
</ul>
</li>
<li><a href="#a6797">13.3.6. Handling Errors On the Client</a>
<ul class="sectlevel4">
<li><a href="#a6799">13.3.6.1. Handling Errors For An Ajax Request</a></li>
<li><a href="#a6804">13.3.6.2. Handling Errors For All Ajax Requests</a></li>
<li><a href="#a6806">13.3.6.3. Signaling Errors</a></li>
</ul>
</li>
<li><a href="#a6812">13.3.7. Handling Errors On The Server</a></li>
</ul>
</li>
<li><a href="#a6825">13.4. Partial View Traversal</a>
<ul class="sectlevel3">
<li><a href="#a6829">13.4.1. Partial Traversal Strategy</a></li>
<li><a href="#a6831">13.4.2. Partial View Processing</a></li>
<li><a href="#a6833">13.4.3. Partial View Rendering</a></li>
<li><a href="#a6835">13.4.4. Sending The Response to The Client</a>
<ul class="sectlevel4">
<li><a href="#a6837">13.4.4.1. Writing The Partial Response</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#a6841">14. JavaScript API</a>
<ul class="sectlevel2">
<li><a href="#a6844">14.1. Collecting and Encoding View State</a>
<ul class="sectlevel3">
<li><a href="#a6852">14.1.1. Use Case</a></li>
</ul>
</li>
<li><a href="#a6856">14.2. Initiating an Ajax Request</a>
<ul class="sectlevel3">
<li><a href="#a6864">14.2.1. Usage</a></li>
<li><a href="#a6884">14.2.2. Keywords</a></li>
<li><a href="#a6897">14.2.3. Default Values</a></li>
<li><a href="#a6911">14.2.4. Request Sending Specifics</a></li>
<li><a href="#a6921">14.2.5. Use Case</a></li>
</ul>
</li>
<li><a href="#a7017">14.3. Processing The Ajax Response</a></li>
<li><a href="#a6931">14.4. Registering Callback Functions</a>
<ul class="sectlevel3">
<li><a href="#a6933">14.4.1. Request/Response Event Handling</a>
<ul class="sectlevel4">
<li><a href="#a6962">14.4.1.1. Use Case</a></li>
</ul>
</li>
<li><a href="#a6973">14.4.2. Error Handling</a>
<ul class="sectlevel4">
<li><a href="#a7009">14.4.2.1. Use Case</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#determining-an-applications-project-stage">14.5. Determining An Application’s Project Stage</a>
<ul class="sectlevel3">
<li><a href="#a7020">14.5.1. Use Case</a></li>
</ul>
</li>
<li><a href="#a7029">14.6. Script Chaining</a></li>
</ul>
</li>
<li><a href="#a7037">Appendix A: Jakarta Faces Metadata</a>
<ul class="sectlevel2">
<li><a href="#a7040">A.1. Required Handling of <em>*-extension</em> elements in the application configuration resources files</a>
<ul class="sectlevel3">
<li><a href="#faces-config-extension-handling">A.1.1. <em>faces-config-extension</em> handling</a>
<ul class="sectlevel4">
<li><a href="#a7061">A.1.1.1. The <em>facelets-processing</em> element</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a7134">A.2. XML Schema Definition For Facelet Taglib</a>
<ul class="sectlevel3">
<li><a href="#a7139">A.2.1. Deprecated DTD for Facelet Taglibraries Used by Versions of Facelets Prior to pre-Jakarta Faces JSF 2.0</a></li>
</ul>
</li>
<li><a href="#a7162">A.3. XML Schema Definition for Composite Components</a></li>
</ul>
</li>
<li><a href="#change-log">Appendix B: Change Log</a>
<ul class="sectlevel2">
<li><a href="#changes-between-2-2-and-2-3">B.1. Changes between 2.2 and 2.3</a>
<ul class="sectlevel3">
<li><a href="#big-ticket-features">B.1.1. Big Ticket Features</a></li>
<li><a href="#other-features-by-functional-area">B.1.2. Other Features, by Functional Area</a>
<ul class="sectlevel4">
<li><a href="#componentsrenderers">B.1.2.1. Components/Renderers</a></li>
<li><a href="#lifecycle">B.1.2.2. Lifecycle</a></li>
<li><a href="#platform-integration">B.1.2.3. Platform Integration</a></li>
<li><a href="#faceletsvdl">B.1.2.4. Facelets/VDL</a></li>
<li><a href="#spec-clarifications">B.1.2.5. Spec Clarifications</a></li>
<li><a href="#resources">B.1.2.6. Resources</a></li>
<li><a href="#expression-language">B.1.2.7. Expression Language</a></li>
<li><a href="#configuration-and-bootstrapping">B.1.2.8. Configuration and Bootstrapping</a></li>
<li><a href="#miscellaneous">B.1.2.9. Miscellaneous</a></li>
</ul>
</li>
<li><a href="#backward-compatibility-with-previous-versions-2">B.1.3. Backward Compatibility with Previous Versions</a></li>
<li><a href="#breakages-in-backward-compatibility">B.1.4. Breakages in Backward Compatibility</a></li>
</ul>
</li>
<li><a href="#changes-between-2-1-and-2-2">B.2. Changes between 2.1 and 2.2</a>
<ul class="sectlevel3">
<li><a href="#big-ticket-features-2">B.2.1. Big Ticket Features</a></li>
<li><a href="#other-features-by-functional-area-2">B.2.2. Other Features, by Functional Area</a>
<ul class="sectlevel4">
<li><a href="#componentsrenderers-2">B.2.2.1. Components/Renderers</a></li>
<li><a href="#lifecycle-2">B.2.2.2. Lifecycle</a></li>
<li><a href="#platform-integration-2">B.2.2.3. Platform Integration</a></li>
<li><a href="#faceletsvdl-2">B.2.2.4. Facelets/VDL</a></li>
<li><a href="#spec-clarifications-2">B.2.2.5. Spec Clarifications</a></li>
<li><a href="#resources-2">B.2.2.6. Resources</a></li>
<li><a href="#expression-language-2">B.2.2.7. Expression Language</a></li>
<li><a href="#configuration-and-bootstrapping-2">B.2.2.8. Configuration and Bootstrapping</a></li>
<li><a href="#miscellaneous-2">B.2.2.9. Miscellaneous</a></li>
</ul>
</li>
<li><a href="#backward-compatibility-with-previous-versions-3">B.2.3. Backward Compatibility with Previous Versions</a></li>
<li><a href="#breakages-in-backward-compatibility-2">B.2.4. Breakages in Backward Compatibility</a></li>
</ul>
</li>
<li><a href="#changes-between-2-0-rev-a-and-2-1">B.3. Changes between 2.0 Rev a and 2.1</a>
<ul class="sectlevel3">
<li><a href="#facelet-tag-library-mechanism">B.3.1. Facelet Tag Library mechanism</a></li>
<li><a href="#new-feature-facelets-processing">B.3.2. New feature: &lt;facelets-processing&gt;</a></li>
<li><a href="#update-schema-for-2-1">B.3.3. Update schema for 2.1</a></li>
<li><a href="#change-restore-view-phase">B.3.4. Change Restore View Phase</a></li>
<li><a href="#default-viewhandler-implementation">B.3.5. Default ViewHandler Implementation</a></li>
</ul>
</li>
<li><a href="#changes-between-2-0-final-and-2-0-rev-a">B.4. Changes between 2.0 Final and 2.0 Rev a</a>
<ul class="sectlevel3">
<li><a href="#global-changes">B.4.1. Global changes</a>
<ul class="sectlevel4">
<li><a href="#exceptionqueuedevent">B.4.1.1. ExceptionQueuedEvent</a></li>
<li><a href="#usage-of-the-term-page-in-the-jsf-2-0-spec">B.4.1.2. Usage of the term "page" in the JSF 2.0 spec</a></li>
</ul>
</li>
<li><a href="#front-matter">B.4.2. Front Matter</a></li>
<li><a href="#chapter-2">B.4.3. Chapter 2</a>
<ul class="sectlevel4">
<li><a href="#restore-view">B.4.3.1. Restore View</a></li>
<li><a href="#localized-application-messages">B.4.3.2. Localized Application Messages</a></li>
<li><a href="#jsr-303-bean-validation">B.4.3.3. JSR 303 Bean Validation</a></li>
<li><a href="#jsr-303-bean-validation-needs-to-reference-bean-validation-integration-section">B.4.3.4. JSR 303 Bean Validation needs to reference "Bean Validation Integration" section</a></li>
<li><a href="#resource-identifiers">B.4.3.5. Resource Identifiers</a></li>
</ul>
</li>
<li><a href="#chapter-3">B.4.4. Chapter 3</a>
<ul class="sectlevel4">
<li><a href="#clarify-meaning-of-javax-faces-bean-in-bean-validator-activation">B.4.4.1. Clarify meaning of "javax.faces.bean" in Bean Validator Activation</a></li>
<li><a href="#need-to-be-consistent-between-declarative-listener-registration-of-the-jsf-2-0-spec-and-the-vdldoc-for-fevent">B.4.4.2. Need to be consistent between Declarative Listener Registration of the JSF 2.0 Spec and the VDLDoc for f:event</a></li>
<li><a href="#typo-in-declarative-listener-registration-of-the-jsf-2-0-spec-regarding-beforerender">B.4.4.3. Typo in Declarative Listener Registration of the JSF 2.0 Spec regarding "beforeRender"</a></li>
<li><a href="#validation-registration-what-does-it-mean-to-be-a-jsf-user-interface-component">B.4.4.4. Validation Registration, What does it mean to be a JSF User Interface component?</a></li>
<li><a href="#composite-component-metadata">B.4.4.5. Composite Component Metadata</a></li>
</ul>
</li>
<li><a href="#chapter-4">B.4.5. Chapter 4</a>
<ul class="sectlevel4">
<li><a href="#events-30">B.4.5.1. Events</a></li>
</ul>
</li>
<li><a href="#chapter-7">B.4.6. Chapter 7</a>
<ul class="sectlevel4">
<li><a href="#overview-7">B.4.6.1. Overview</a></li>
<li><a href="#default-navigationhandler-algorithm">B.4.6.2. Default NavigationHandler Algorithm</a></li>
<li><a href="#default-viewhandler-implementation-2">B.4.6.3. Default ViewHandler Implementation</a></li>
</ul>
</li>
<li><a href="#chapter-9">B.4.7. Chapter 9</a>
<ul class="sectlevel4">
<li><a href="#factionlistener-of-spec-pdfmissing-for-attribute-of-factionlistener-in-spec-pdf">B.4.7.1. &lt;f:actionListener&gt;  of Spec PDF&#8201;&#8212;&#8201;Missing "for" attribute of f:actionListener in Spec PDF</a></li>
<li><a href="#factionlistener-and-fvaluechangelistener">B.4.7.2. &lt;f:actionListener&gt;  and &lt;f:valueChangeListener&gt; </a></li>
</ul>
</li>
<li><a href="#chapter-10">B.4.8. Chapter 10</a>
<ul class="sectlevel4">
<li><a href="#general-requirements">B.4.8.1. General Requirements</a></li>
<li><a href="#facelet-tag-library-mechanism-2">B.4.8.2. Facelet Tag Library mechanism</a></li>
<li><a href="#vdldocs-and-pdl-documentation">B.4.8.3. VDLDocs and PDL documentation</a></li>
<li><a href="#possible-error-in-section-fajax-of-the-jsf-2-0-spec-regarding-fajax-and-hpanelgrid">B.4.8.4. Possible error in section &lt;f:ajax&gt;  of the JSF 2.0 Spec regarding f:ajax and h:panelGrid</a></li>
<li><a href="#redundant-mentioning-of-facelets-in-fvalidatebean-of-the-jsf-2-0-spec">B.4.8.5. Redundant mentioning of Facelets in &lt;f:validateBean&gt;  of the JSF 2.0 Spec</a></li>
<li><a href="#availability-of-fvalidatebean-and-fvalidaterequired-in-jakarta-server-pages">B.4.8.6. Availability of f:validateBean and f:validateRequired in Jakarta Server Pages</a></li>
</ul>
</li>
<li><a href="#chapter-13">B.4.9. Chapter 13</a>
<ul class="sectlevel4">
<li><a href="#redundancy-in-partial-view-processing-of-the-jsf-2-0-spec">B.4.9.1. Redundancy in Partial View Processing of the JSF 2.0 Spec</a></li>
<li><a href="#execute-portions-of-the-jsf-request-processing-lifecycle-in-the-jsf-2-0-spec">B.4.9.2. "Execute portions" of the JSF request processing lifecycle in the JSF 2.0 Spec</a></li>
</ul>
</li>
<li><a href="#chapter-14">B.4.10. Chapter 14</a>
<ul class="sectlevel4">
<li><a href="#initiating-an-ajax-request-typo-in-table-14-2-2-of-the-jsf-2-0-spec">B.4.10.1. Initiating an Ajax Request Typo in table 14.2.2 of the JSF 2.0 Spec</a></li>
<li><a href="#requestresponse-event-handling-table-14-4-1">B.4.10.2. Request/Response Event Handling Table 14.4.1</a></li>
</ul>
</li>
<li><a href="#appendix-a-metadata">B.4.11. Appendix A Metadata</a>
<ul class="sectlevel4">
<li><a href="#deprecated-dtd-for-facelet-taglibraries-used-by-versions-of-facelets-prior-to-jsf-2-0">B.4.11.1. Deprecated DTD for Facelet Taglibraries Used by Versions of Facelets Prior to JSF 2.0</a></li>
</ul>
</li>
<li><a href="#vdldoc-changes">B.4.12. VDLDoc changes</a>
<ul class="sectlevel4">
<li><a href="#typo-in-fselectitems-vdldocs">B.4.12.1. Typo in f:selectItems VDLDocs</a></li>
<li><a href="#need-clarification-on-execute-attribute-of-fajax">B.4.12.2. Need clarification on execute attribute of f:ajax</a></li>
<li><a href="#spelling-error-in-vdldocs-for-fajax">B.4.12.3. Spelling error in VDLDocs for f:ajax</a></li>
<li><a href="#need-clarification-on-required-attribute-in-vdldocs-for-tags-that-got-a-new-for-attribute-in-jsf-2-0">B.4.12.4. Need clarification on required attribute in VDLDocs for tags that got a new "for" attribute in JSF 2.0</a></li>
<li><a href="#uppercase-typo-in-vdldocs-for-fevent">B.4.12.5. Uppercase typo in VDLDocs for f:event</a></li>
<li><a href="#need-to-change-jsp-to-facelets-in-body-content-of-vdldocs">B.4.12.6. Need to change "JSP" to "Facelets" in "Body Content" of VDLDocs</a></li>
<li><a href="#need-clarification-in-vdldocs-for-fmetadata">B.4.12.7. Need clarification in VDLDocs for f:metadata</a></li>
<li><a href="#missing-description-in-vdldocs-for-name-attribute-of-fviewparam">B.4.12.8. Missing description in VDLDocs for name attribute of f:viewParam</a></li>
<li><a href="#vlddocs-on-for-attribute-of-fviewparam-claim-it-can-be-used-in-a-cc">B.4.12.9. VLDDocs on "for" attribute of f:viewParam claim it can be used in a CC</a></li>
<li><a href="#miscellaneous-vdldoc-items">B.4.12.10. Miscellaneous VDLDoc items</a></li>
<li><a href="#should-tlddocs-now-be-vdldocs">B.4.12.11. Should TLDDocs now be VDLDocs?</a></li>
<li><a href="#typo-in-vdldocs-for-fevent">B.4.12.12. Typo in VDLDocs for f:event.</a></li>
</ul>
</li>
<li><a href="#accepted-changes-from-jcp-change-log-for-jsf-2-0-rev-a">B.4.13. Accepted Changes from JCP Change Log for JSF 2.0 Rev a</a></li>
</ul>
</li>
<li><a href="#changes-in-versions-below-2-0-final">B.5. Changes in versions below 2.0 Final</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>Specification: Jakarta Server Faces

Version: 3.0

Status: Final

Release: September 23, 2020</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright"><a class="anchor" href="#copyright"></a>Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copyright &#169; 2018, 2020 Eclipse Foundation.
<a href="https://www.eclipse.org/legal/efsl.php" class="bare">https://www.eclipse.org/legal/efsl.php</a></p>
</div>
<div class="sect2">
<h3 id="eclipse-foundation-specification-license"><a class="anchor" href="#eclipse-foundation-specification-license"></a>Eclipse Foundation Specification License</h3>
<div class="paragraph">
<p>By using and/or copying this document, or the Eclipse Foundation
document from which this statement is linked, you (the licensee) agree
that you have read, understood, and will comply with the following
terms and conditions:</p>
</div>
<div class="paragraph">
<p>Permission to copy, and distribute the contents of this document, or
the Eclipse Foundation document from which this statement is linked, in
any medium for any purpose and without fee or royalty is hereby
granted, provided that you include the following on ALL copies of the
document, or portions thereof, that you use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>link or URL to the original Eclipse Foundation document.</p>
</li>
<li>
<p>All existing copyright notices, or if one does not exist, a notice
(hypertext is preferred, but a textual representation is permitted)
of the form: "Copyright (c) [$date-of-document]
Eclipse Foundation, Inc. <a href="#url to this license">[url to this license]</a>"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Inclusion of the full text of this NOTICE must be provided. We
request that authorship attribution be provided in any software,
documents, or other items or products that you create pursuant to the
implementation of the contents of this document, or any portion
thereof.</p>
</div>
<div class="paragraph">
<p>No right to create modifications or derivatives of Eclipse Foundation
documents is granted pursuant to this license, except anyone may
prepare and distribute derivative works and portions of this document
in software that implements the specification, in supporting materials
accompanying such software, and in documentation of such software,
PROVIDED that all such works include the notice below. HOWEVER, the
publication of derivative works of this document for use as a technical
specification is expressly prohibited.</p>
</div>
<div class="paragraph">
<p>The notice is:</p>
</div>
<div class="paragraph">
<p>"Copyright (c) 2018 Eclipse Foundation. This software or
document includes material copied from or derived from [title and URI
of the Eclipse Foundation specification document]."</p>
</div>
<div class="sect3">
<h4 id="disclaimers"><a class="anchor" href="#disclaimers"></a>Disclaimers</h4>
<div class="paragraph">
<p>THIS DOCUMENT IS PROVIDED &quot;AS IS,&quot; AND THE COPYRIGHT
HOLDERS AND THE ECLIPSE FOUNDATION MAKE NO REPRESENTATIONS OR
WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,
NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THE DOCUMENT ARE
SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF SUCH CONTENTS
WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR
OTHER RIGHTS.</p>
</div>
<div class="paragraph">
<p>THE COPYRIGHT HOLDERS AND THE ECLIPSE FOUNDATION WILL NOT BE LIABLE
FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT
OF ANY USE OF THE DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE
CONTENTS THEREOF.</p>
</div>
<div class="paragraph">
<p>The name and trademarks of the copyright holders or the Eclipse
Foundation may NOT be used in advertising or publicity pertaining to
this document or its contents without specific, written prior
permission. Title to copyright in this document will at all times
remain with copyright holders.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="preface"><a class="anchor" href="#preface"></a>Preface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the Jakarta Server Faces 3.0 specification.</p>
</div>
<div class="sect2">
<h3 id="changes-between-3-0-and-2-3"><a class="anchor" href="#changes-between-3-0-and-2-3"></a>Changes between 3.0 and 2.3</h3>
<div class="sect3">
<h4 id="backward-compatibility-with-previous-versions"><a class="anchor" href="#backward-compatibility-with-previous-versions"></a>Backward Compatibility with Previous Versions</h4>
<div class="paragraph">
<p>Jakarta Faces 3.0 has a breaking change due to the namespace change from  <code>javax.faces</code> to <code>jakarta.faces</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="related-technologies"><a class="anchor" href="#related-technologies"></a>Related Technologies</h3>
<div class="sect3">
<h4 id="a173"><a class="anchor" href="#a173"></a>Other Jakarta Platform Specifications</h4>
<div class="paragraph">
<p>Jakarta Faces is based on the following Jakarta specifications:</p>
</div>
<div class="paragraph">
<p>Jakarta Servlet Specification, version 5.0
(Servlet) <a href="https://github.com/eclipse-ee4j/servlet-api" class="bare">https://github.com/eclipse-ee4j/servlet-api</a></p>
</div>
<div class="paragraph">
<p>Jakarta WebSocket, version 2.0
<a href="https://github.com/eclipse-ee4j/websocket-api" class="bare">https://github.com/eclipse-ee4j/websocket-api</a></p>
</div>
<div class="paragraph">
<p>Jakarta Contexts and Dependency Injection for Java 3.0
<a href="https://github.com/eclipse-ee4j/cdi" class="bare">https://github.com/eclipse-ee4j/cdi</a></p>
</div>
<div class="paragraph">
<p>Jakarta Expression Language 4.0
<a href="https://github.com/eclipse-ee4j/el-ri" class="bare">https://github.com/eclipse-ee4j/el-ri</a></p>
</div>
<div class="paragraph">
<p>Jakarta JSON Processing, version 2.0
<a href="https://github.com/eclipse-ee4j/jsonp" class="bare">https://github.com/eclipse-ee4j/jsonp</a></p>
</div>
<div class="paragraph">
<p>Jakarta Server Pages  Specification, version 3.0
<a href="https://github.com/eclipse-ee4j/jsp-api/" class="bare">https://github.com/eclipse-ee4j/jsp-api/</a></p>
</div>
<div class="paragraph">
<p>Jakarta Standard Tag Library, version 2.0
<a href="https://github.com/eclipse-ee4j/jstl-api" class="bare">https://github.com/eclipse-ee4j/jstl-api</a></p>
</div>
<div class="paragraph">
<p>JavaBeans™ Specification, version 1.0.1
<a href="http://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html" class="bare">http://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html</a></p>
</div>
<div class="paragraph">
<p>Therefore, a Jakarta Faces container must support all of
the above specifications. This requirement allows faces applications to
be portable across a variety of Jakarta Faces implementations.</p>
</div>
<div class="paragraph">
<p>In addition, Jakarta Faces is designed to work
synergistically with other web-related Java APIs, including:</p>
</div>
<div class="paragraph">
<p>Portlet Specification, 1.0 JSR-168
<a href="http://jcp.org/en/jsr/detail?id=168" class="bare">http://jcp.org/en/jsr/detail?id=168</a></p>
</div>
<div class="paragraph">
<p>Portlet Specification, 2.0 JSR-286
<a href="http://jcp.org/en/jsr/detail?id=286" class="bare">http://jcp.org/en/jsr/detail?id=286</a></p>
</div>
<div class="paragraph">
<p>Portlet Specification, 3.0 JSR-286
<a href="http://jcp.org/en/jsr/detail?id=362" class="bare">http://jcp.org/en/jsr/detail?id=362</a></p>
</div>
<div class="paragraph">
<p>JSF Portlet Bridge Specification, JSR-301
<a href="http://jcp.org/en/jsr/detail?id=301" class="bare">http://jcp.org/en/jsr/detail?id=301</a></p>
</div>
</div>
<div class="sect3">
<h4 id="related-documents-and-specifications"><a class="anchor" href="#related-documents-and-specifications"></a>Related Documents and Specifications</h4>
<div class="paragraph">
<p>The following documents and specifications of
the World Wide Web Consortium will be of interest to Jakarta Faces implementors,
as well as developers of applications and components based on Jakarta Server
Faces.</p>
</div>
<div class="paragraph">
<p>Hypertext Markup Language (HTML), version 4.01
<a href="http://www.w3.org/TR/html4/" class="bare">http://www.w3.org/TR/html4/</a></p>
</div>
<div class="paragraph">
<p>Extensible HyperText Markup Language (XHTML),
version 1.0 <a href="http://www.w3.org/TR/xhtml1" class="bare">http://www.w3.org/TR/xhtml1</a></p>
</div>
<div class="paragraph">
<p>Extensible Markup Language (XML), version 1.0
(Second Edition) <a href="http://www.w3.org/TR/REC-xml" class="bare">http://www.w3.org/TR/REC-xml</a></p>
</div>
<div class="paragraph">
<p>The class and method Javadoc documentation for
the classes and interfaces in <em>jakarta.faces</em> (and its subpackages) are
incorporated by reference as requirements of this Specification.</p>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages and Facelet tag library for the
HTML_BASIC standard RenderKit is specified in the VDLDocs and
incorporated by reference in this Specification.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="terminology"><a class="anchor" href="#terminology"></a>Terminology</h3>
<div class="paragraph">
<p>The key words MUST, MUST NOT, REQUIRED, SHALL,
SHALL NOT, SHOULD, SHOULD NOT, RECOMMENDED, MAY, and OPTIONAL in this
document are to be interpreted as described in</p>
</div>
<div class="paragraph">
<p>Key words for use in RFCs to Indicate
Requirement Levels (RFC 2119)
<a href="http://www.rfc-editor.org/rfc/rfc2119.txt" class="bare">http://www.rfc-editor.org/rfc/rfc2119.txt</a></p>
</div>
</div>
<div class="sect2">
<h3 id="providing-feedback"><a class="anchor" href="#providing-feedback"></a>Providing Feedback</h3>
<div class="paragraph">
<p>We welcome any and all feedback about this
specification. Please email your comments to
&lt;<a href="mailto:faces-dev@eclipse.org">faces-dev@eclipse.org</a>&gt;.</p>
</div>
<div class="paragraph">
<p>Please note that, due to the volume of feedback
that we receive, you will not normally receive a reply from an engineer.
However, each and every comment is read, evaluated, and archived by the
specification team.</p>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgements"><a class="anchor" href="#acknowledgements"></a>Acknowledgements</h3>
<div class="paragraph">
<p>The authors would like to thank the original JCP JSR-372 Expert Group and Contributors.</p>
</div>
<div class="paragraph">
<p>Ed Burns</p>
</div>
<div class="paragraph">
<p>Manfred Riem</p>
</div>
<div class="paragraph">
<p>Frank Caputo</p>
</div>
<div class="paragraph">
<p>Cagatay Civici</p>
</div>
<div class="paragraph">
<p>Ken Fyten</p>
</div>
<div class="paragraph">
<p>Neil Griffin</p>
</div>
<div class="paragraph">
<p>Josh Juneau</p>
</div>
<div class="paragraph">
<p>Brian Leatham</p>
</div>
<div class="paragraph">
<p>Kito Mann</p>
</div>
<div class="paragraph">
<p>Michael Müller</p>
</div>
<div class="paragraph">
<p>Paul Nicolucci</p>
</div>
<div class="paragraph">
<p>Bauke Scholtz</p>
</div>
<div class="paragraph">
<p>Arjan Tijms</p>
</div>
<div class="paragraph">
<p>Leonardo Uribe</p>
</div>
<div class="paragraph">
<p>The editors would like to recognize the
following individuals who have contributed to the success of Jakarta Server
Faces over the years.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dan Allen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thomas
Andraschko</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thomas Asel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jennifer
Ball</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lincoln Baxter III</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hans Bergsten</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shawn Bayern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joseph
Berkovitz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dennis Byrne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pete
Carapetyan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ryan DeLaplante</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keith Donald</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jim Driscoll</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hanspeter Duennenberger</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ken Finnigan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amy
Fowler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mike Freedman</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">David
Geary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manfred Geiler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ted
Goddard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Juan Gonzalez</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jeremy
Grelle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rick Hightower</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jacob
Hookom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Justyna Horwat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alexander Jesse</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max Katz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Roger Keays</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gavin King</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Roger
Kitain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eric Lazarus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jason
Lee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Felipe Leme</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cody
Lerum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alberto Lemos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ryan
Lubke</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Barbara Louis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Martin
Marinschek</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kumar Mettu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Craig
McClanahan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pete Muir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bernd
Müller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Michael Müller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hans
Muller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Brendan Murray</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Michael Nash</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Imre Osswald</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joe
Ottinger</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ken Paulsen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dhiru
Pandey</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raj Premkumar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Werner
Punz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matt Raible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hazem
Saleh</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Andy Schwartz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yara
Senger</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stan Silvert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vernon
Singleton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bernhard Slominski</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alexander Smirnov</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thomas Spiegel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kyle
Stiemann</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">James Strachan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jayashri Visvanathan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ana von Klopp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matthias Wessendorf</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adam Winer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mike
Youngstrom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">John Zukowski</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>1. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jakarta Server Faces (hereafter Jakarta Faces) is a <em>user interface</em>
(UI) framework for Java web applications. It is designed to
significantly ease the burden of writing and maintaining applications
that run on a Java application server and render their UIs back to a
target client. Jakarta Faces provides ease-of-use in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Makes it easy to construct a UI from a set of
reusable UI components</p>
</li>
<li>
<p>Simplifies migration of application data to
and from the UI</p>
</li>
<li>
<p>Helps manage UI state across server requests</p>
</li>
<li>
<p>Provides a simple model for wiring
client-generated events to server-side application code</p>
</li>
<li>
<p>Allows custom UI components to be easily
built and re-used</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Most importantly, Jakarta Faces establishes standards
which are designed to be leveraged by tools to provide a developer
experience which is accessible to a wide variety of developer types,
ranging from corporate developers to systems programmers. A “corporate
developer” is characterized as an individual who is proficient in
writing procedural code and business logic, but is not necessarily
skilled in object-oriented programming. A “systems programmer”
understands object-oriented fundamentals, including abstraction and
designing for re-use. A corporate developer typically relies on tools
for development, while a system programmer may define his or her tool as
a text editor for writing code.</p>
</div>
<div class="paragraph">
<p>Therefore, Jakarta Faces is designed to be tooled, but
also exposes the framework and programming model as APIs so that it can
be used outside of tools, as is sometimes required by systems
programmers.</p>
</div>
<div class="sect2">
<h3 id="solving-practical-problems-of-the-web"><a class="anchor" href="#solving-practical-problems-of-the-web"></a>1.1. Solving Practical Problems of the Web</h3>
<div class="paragraph">
<p>Jakarta Faces’s core architecture is designed to be
independent of specific protocols and markup. However it is also aimed
directly at solving many of the common problems encountered when writing
applications for HTML clients that communicate via HTTP to a Java
application server that supports servlets and Jakarta Server Pages
based applications. These applications are typically form-based, and are
comprised of one or more HTML pages with which the user interacts to
complete a task or set of tasks. Jakarta Faces tackles the following challenges
associated with these applications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Managing UI component state across requests</p>
</li>
<li>
<p>Supporting encapsulation of the differences
in markup across different browsers and clients</p>
</li>
<li>
<p>Supporting form processing (multi-page, more
than one per page, and so on)</p>
</li>
<li>
<p>Providing a strongly typed event model that
allows the application to write server-side handlers (independent of
HTTP) for client generated events</p>
</li>
<li>
<p>Validating request data and providing
appropriate error reporting</p>
</li>
<li>
<p>Enabling type conversion when migrating
markup values (Strings) to and from application data objects (which are
often not Strings)</p>
</li>
<li>
<p>Handling error and exceptions, and reporting
errors in human-readable form back to the application user</p>
</li>
<li>
<p>Handling page-to-page navigation in response
to UI events and model interactions.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="specification-audience"><a class="anchor" href="#specification-audience"></a>1.2. Specification Audience</h3>
<div class="paragraph">
<p>The <em>Jakarta Server Faces Specification</em> , and
the technology that it defines, is addressed to several audiences that
will use this information in different ways. The following sections
describe these audiences, the roles that they play with respect to Jakarta Faces,
and how they will use the information contained in this document. As is
the case with many technologies, the same person may play more than one
of these roles in a particular development scenario; however, it is
still useful to understand the individual viewpoints separately.</p>
</div>
<div class="sect3">
<h4 id="page-authors"><a class="anchor" href="#page-authors"></a>1.2.1. Page Authors</h4>
<div class="paragraph">
<p>A <em>page author</em> is primarily responsible for
creating the user interface of a web application. He or she must be
familiar with the markup and scripting languages (such as HTML and
JavaScript) that are understood by the target client devices, as well as
the rendering technology (such as  Jakarta Server Pages ) used to create
dynamic content. Page authors are often focused on graphical design and
human factors engineering, and are generally not familiar with
programming languages such as Java or Visual Basic (although many page
authors will have a basic understanding of client side scripting
languages such as JavaScript).</p>
</div>
<div class="paragraph">
<p>Page authors will generally assemble the
content of the pages being created from libraries of prebuilt user
interface components that are provided by component writers, tool
providers, and Jakarta Faces implementors. The components themselves will be
represented as configurable objects that utilize the dynamic markup
capabilities of the underlying rendering technology. When Jakarta Server
Pages are in use, for example, components will be represented as Jakarta Server Pages
custom actions, which will support configuring the attributes of those
components as custom action attributes in the Jakarta Server Pages page. In addition, the
pages produced by a page author will be used by the Jakarta Faces framework to
create component tree hierarchies, called “views”, that represent the
components on those pages.</p>
</div>
<div class="paragraph">
<p>Page authors will generally utilize
development tools, such as HTML editors, that allow them to deal
directly with the visual representation of the page being created.
However, it is still feasible for a page author that is familiar with
the underlying rendering technology to construct pages “by hand” using a
text editor.</p>
</div>
</div>
<div class="sect3">
<h4 id="component-writers"><a class="anchor" href="#component-writers"></a>1.2.2. Component Writers</h4>
<div class="paragraph">
<p><em>Component writers</em> are responsible for
creating libraries of reusable user interface objects. Such components
support the following functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Convert the internal representation of the
component’s properties and attributes into the appropriate markup
language for pages being rendered (encoding).</p>
</li>
<li>
<p>Convert the properties of an incoming
request—parameters, headers, and cookies—into the corresponding
properties and attributes of the component (decoding)</p>
</li>
<li>
<p>Utilize request-time events to initiate
visual changes in one or more components, followed by redisplay of the
current page.</p>
</li>
<li>
<p>Support validation checks on the syntax and
semantics of the representation of this component on an incoming
request, as well as conversion into the internal form that is
appropriate for this component.</p>
</li>
<li>
<p>Saving and restoring component state across
requests</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As will be discussed in
<a href="#a4219">Rendering Model</a>,” the encoding and
decoding functionality may optionally be delegated to one or more
<em>Render Kits</em> , which are responsible for customizing these operations
to the precise requirements of the client that is initiating a
particular request (for example, adapting to the differences between
JavaScript handling in different browsers, or variations in the WML
markup supported by different wireless clients).</p>
</div>
<div class="paragraph">
<p>The component writer role is sometimes
separate from other Jakarta Faces roles, but is often combined. For example,
reusable components, component libraries, and render kits might be
created by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A page author creating a custom “widget” for
use on a particular page</p>
</li>
<li>
<p>An application developer providing components
that correspond to specific data objects in the application’s business
domain</p>
</li>
<li>
<p>A specialized team within a larger
development group responsible for creating standardized components for
reuse across applications</p>
</li>
<li>
<p>Third party library and framework providers
creating component libraries that are portable across Jakarta Faces
implementations</p>
</li>
<li>
<p>Tool providers whose tools can leverage the
specific capabilities of those libraries in development of Jakarta Faces-based
applications</p>
</li>
<li>
<p>Jakarta Faces implementors who provide
implementation-specific component libraries as part of their Jakarta Faces product
suite</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Within Jakarta Faces, user interface components are
represented as Java classes that follow the design patterns outlined in
the JavaBeans Specification. Therefore, new and existing tools that
facilitate JavaBean development can be leveraged to create new Jakarta Faces
components. In addition, the fundamental component APIs are simple
enough for developers with basic Java programming skills to program by
hand.</p>
</div>
</div>
<div class="sect3">
<h4 id="application-developers"><a class="anchor" href="#application-developers"></a>1.2.3. Application Developers</h4>
<div class="paragraph">
<p><em>Application Developers</em> are responsible for
providing the server-side functionality of a web application that is not
directly related to the user interface. This encompasses the following
general areas of responsibility:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Define mechanisms for persistent storage of
the information required by Jakarta Faces-based web applications (such as creating
schemas in a relational database management system)</p>
</li>
<li>
<p>Create a Java object representation of the
persistent information, such as Jakarta Persistence entities, and call the
corresponding beans as necessary to perform persistence of the application’s data.</p>
</li>
<li>
<p>Encapsulate the application’s functionality,
or business logic, in Java objects that are reusable in web and non-web
applications, such as CDI beans.</p>
</li>
<li>
<p>Expose the data representation and functional
logic objects for use via Jakarta Faces, as would be done for any servlet- or
Jakarta Server Pages-based application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only the latter responsibility is directly
related to Jakarta Faces APIs. In particular, the following steps are
required to fulfill this responsibility:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Expose the underlying data required by the
user interface layer as objects that are accessible from the web tier
(such as via request or session attributes in the Servlet API), via
<em>value reference expressions</em> , as described in
<a href="#a1823">Standard User Interface Components</a>.”</p>
</li>
<li>
<p>Provide application-level event handlers for
the events that are enqueued by Jakarta Faces components during the request
processing lifecycle, as described in <a href="#a454">Invoke Application</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Application modules interact with Jakarta Faces through
standard APIs, and can therefore be created using new and existing tools
that facilitate general Java development. In addition, application
modules can be written (either by hand, or by being generated) in
conformance to an application framework created by a tool provider.</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-providers"><a class="anchor" href="#tool-providers"></a>1.2.4. Tool Providers</h4>
<div class="paragraph">
<p><em>Tool providers</em> , as their name implies,
are responsible for creating tools that assist in the development of
Jakarta Faces-based applications, rather than creating such applications directly.
Jakarta Faces APIs support the creation of a rich variety of development tools,
which can create applications that are portable across multiple Jakarta Faces
implementations. Examples of possible tools include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GUI-oriented page development tools that
assist page authors in creating the user interface for a web application</p>
</li>
<li>
<p>IDEs that facilitate the creation of
components (either for a particular page, or for a reusable component
library)</p>
</li>
<li>
<p>Page generators that work from a high level
description of the desired user interface to create the corresponding
page and component objects</p>
</li>
<li>
<p>IDEs that support the development of general
web applications, adapted to provide specialized support (such as
configuration management) for Jakarta Faces</p>
</li>
<li>
<p>Web application frameworks (such as MVC-based
and workflow management systems) that facilitate the use of Jakarta Faces
components for user interface design, in conjunction with higher level
navigation management and other services</p>
</li>
<li>
<p>Application generators that convert high
level descriptions of an entire application into the set of pages, UI
components, and application modules needed to provide the required
application functionality</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tool providers will generally leverage the
Jakarta Faces APIs for introspection of the features of component libraries and
render kit frameworks, as well as the application portability implied by
the use of standard APIs in the code generated for an application.</p>
</div>
</div>
<div class="sect3">
<h4 id="jakarta-faces-implementors"><a class="anchor" href="#jakarta-faces-implementors"></a>1.2.5. Jakarta Faces Implementors</h4>
<div class="paragraph">
<p>Finally, <em>Jakarta Faces implementors</em> will provide
runtime environments that implement all of the requirements described in
this specification. Typically, a Jakarta Faces implementor will be the provider of
a Jakarta EE application server,
although it is also possible to provide a Jakarta Faces implementation that is
portable across Jakarta EE servers.</p>
</div>
<div class="paragraph">
<p>Advanced features of the Jakarta Faces APIs allow Jakarta Faces
implementors, as well as application developers, to customize and extend
the basic functionality of Jakarta Faces in a portable way. These features provide
a rich environment for server vendors to compete on features and quality
of service aspects of their implementations, while maximizing the
portability of Jakarta Faces-based applications across different Jakarta Faces
implementations.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="introduction-to-jakarta-faces-apis"><a class="anchor" href="#introduction-to-jakarta-faces-apis"></a>1.3. Introduction to Jakarta Faces APIs</h3>
<div class="paragraph">
<p>This section briefly describes major
functional subdivisions of the APIs defined by Jakarta Faces. Each
subdivision is described in its own chapter, later in this
specification.</p>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces"><a class="anchor" href="#package-jakarta-faces"></a>1.3.1. package <em>jakarta.faces</em></h4>
<div class="paragraph">
<p>This package contains top level classes for
the Jakarta Faces API. The most important class in the package is
<em>FactoryFinder</em> , which is the mechanism by which users can override
many of the key pieces of the implementation with their own.</p>
</div>
<div class="paragraph">
<p>Please see
<a href="#a6147">FactoryFinder</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-application"><a class="anchor" href="#package-jakarta-faces-application"></a>1.3.2. package <em>jakarta.faces.application</em></h4>
<div class="paragraph">
<p>This package contains APIs that are used to
link an application’s business logic objects to Jakarta Faces, as
well as convenient pluggable mechanisms to manage the execution of an
application that is based on Jakarta Faces. The main class in this
package is <em>Application</em> .</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a3400">Application</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-component"><a class="anchor" href="#package-jakarta-faces-component"></a>1.3.3. package <em>jakarta.faces.component</em></h4>
<div class="paragraph">
<p>This package contains fundamental APIs for
user interface components.</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a883">User Interface Component Model</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-component-html"><a class="anchor" href="#package-jakarta-faces-component-html"></a>1.3.4. package <em>jakarta.faces.component.html</em></h4>
<div class="paragraph">
<p>This package contains concrete base classes
for each valid combination of component + renderer.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-context"><a class="anchor" href="#package-jakarta-faces-context"></a>1.3.5. package <em>jakarta.faces.context</em></h4>
<div class="paragraph">
<p>This package contains classes and interfaces
defining per-request state information. The main class in this package
is <em>FacesContext</em> , which is the access point for all per-request
information, as well as the gateway to several other helper classes.</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a3091">FacesContext</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-convert"><a class="anchor" href="#package-jakarta-faces-convert"></a>1.3.6. package <em>jakarta.faces.convert</em></h4>
<div class="paragraph">
<p>This package contains classes and interfaces
defining converters. The main class in this package is <em>Converter</em> .</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a1251">Conversion Model</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-el"><a class="anchor" href="#package-jakarta-faces-el"></a>1.3.7. package <em>jakarta.faces.el</em></h4>
<div class="paragraph">
<p>As of version 1.2 of this specification, all
classes and interfaces in this package have been deprecated in favor of
the Unified Expression Language (EL) from Jakarta Server Pages 2.1.</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a2344">Expression Language and Managed Bean Facility</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-flow-and-jakarta-faces-flow-builder"><a class="anchor" href="#package-jakarta-faces-flow-and-jakarta-faces-flow-builder"></a>1.3.8. package <em>jakarta.faces.flow</em> and <em>jakarta.faces.flow.builder</em></h4>
<div class="paragraph">
<p>The runtime API for Faces Flows.</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a3840">FlowHandler</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-lifecycle"><a class="anchor" href="#package-jakarta-faces-lifecycle"></a>1.3.9. package <em>jakarta.faces.lifecycle</em></h4>
<div class="paragraph">
<p>This package contains classes and interfaces
defining lifecycle management for the Jakarta Server Faces implementation.
The main class in this package is <em>Lifecycle</em> . <em>Lifecycle</em> is the
gateway to executing the request processing lifecycle.</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a369">Request Processing Lifecycle</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-event"><a class="anchor" href="#package-jakarta-faces-event"></a>1.3.10. package <em>jakarta.faces.event</em></h4>
<div class="paragraph">
<p>This package contains interfaces describing
events and event listeners, and concrete event implementation classes.
All component-level events extend from <em>FacesEvent</em> and all
component-level listeners extend from <em>FacesListener</em> .</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a1300">Event and Listener Model</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-render"><a class="anchor" href="#package-jakarta-faces-render"></a>1.3.11. package <em>jakarta.faces.render</em></h4>
<div class="paragraph">
<p>This package contains classes and interfaces
defining the rendering model. The main class in this package is
<em>RenderKit</em> . <em>RenderKit</em> maintains references to a collection of
<em>Renderer</em> instances which provide rendering capability for a specific
client device type.</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a4219">Rendering Model</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-validator"><a class="anchor" href="#package-jakarta-faces-validator"></a>1.3.12. package <em>jakarta.faces.validator</em></h4>
<div class="paragraph">
<p>Interface defining the validator model, and
concrete validator implementation classes.</p>
</div>
<div class="paragraph">
<p>Please see
<a href="#a1410">Validation Model</a></p>
</div>
</div>
<div class="sect3">
<h4 id="package-jakarta-faces-webapp"><a class="anchor" href="#package-jakarta-faces-webapp"></a>1.3.13. package <em>jakarta.faces.webapp</em></h4>
<div class="paragraph">
<p>Classes required for integration of
Jakarta Faces into web applications, including a standard servlet,
base classes for Jakarta Server Pages custom component tags, and concrete tag
implementations for core tags.</p>
</div>
<div class="paragraph">
<p>Please see <a href="UsingJSFInWebApplications.html#a6060">Using Jakarta Faces in Web Applications</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a369"><a class="anchor" href="#a369"></a>2. Request Processing Lifecycle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Web user interfaces generally follow a
pattern where the user-agent sends one or more requests to the server
with the end goal of displaying a user-interface. In the case of Web
browsers, an initial HTTP GET or POST request is made to the server,
which responds with a document which the browser interprets and
automatically makes subsequent requests on the user’s behalf. The
responses to each of these subsequent requests are usually images,
JavaScript files, CSS Style Sheets, and other artifacts that fit “into”
the original document. If the Jakarta Faces lifecycle is involved in rendering the
initial response, the entire process of initial request, the response to
that request, and any subsequent requests made automatically by the
user-agent, and their responses, is called a <em>Faces View
Request/Response</em> for discussion. The following graphic illustrates a
Faces View Request/Response.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAToAAAEFCAMAAABEsNsWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEX////39//39/fv7+/n5+ff39//988AT58AAGf357cAAAD/78/P5/fXn2dHLwDv//9HV4fXn19Pj7cAR5////cvAABnl7+3t7ef1/eXb08AR2fPz88AAE//999Xd493V0cvR1f337d/l5dfn9eHLwDP9///5883NzePd2/f9/+nl3/n//8vLy+31+93Ry8/V2fX19dPn9dHLy9PX1/Hn3/v58+fz+dfAABHR2d/X09Hd59nj6/ft4ePv99/AACHv+fPz78AN0fXv5e/3+9HD0f//+8AAC9/Vy9fh6cvX49PT0+nr5e/v7+HRwB/p8eXl5f3z48AX5/Xr3fnz5cAN4f336dHAADP58/v37f//9/315+Xz/fnz6fP5+8nf7eft7/3z5f3///v17evr6+Px+9PAAC/7/+/h0ePz+f/9+fv9/fv98/Hx8eHp88AL1ePXy9Pj8+/fx/n5+8AAHe3ZwBHl8+Pz++fTwCXr7/nt3evp6e35/+np6fn7++Pj4+Hh4d/f393d3eXz++fXwBHj89nX19PLwBXX38AAEd/r9c/Pz/f5+dPl8/Xx5/Pl0/nx5dnZ2dHd6efRwAAT4/X9/9nZ19HR0e3h0cXFxcnJydvb29XV1cfHx+XXwC/l19/h58AL3e3j0+n3/e3z9ff//83f6/37+fXn0fv9+ffz8/315ffp18vj8+/z8/Xz8/Pz9+3x8cAAJf/99f/77+nTwDPj0fX//8AL5f//+cAR18ALy+/t6/v5+fHx7+3v79/l69vRx9fX0cvAC/v9//v79f/9/fHt7e/p4eX1+8AN4+/t5/n17dXR1evn58vP3+/z7d3f2f3//en39+fdwCQDlOeAAAAAWJLR0QDEQxM8gAAAAd0SU1FB+MEGggtLxPI5LkAABtNSURBVHja7V2LYxNVuj/Nq/UrMAYSAiYFKg3QpkB0gawIRVsTLaakxVqg2poYggtkpQgGWUMfFLAglgpsRURUwCq7XRVdtu7D3evddb276917995/6J4zec0kM5OZyWQyw81PrZlH5nznl+/Mef3OdxCqoooqqqiiitJQ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" alt="image"></span></p>
</div>
<div class="paragraph">
<p>Each Faces View Request/Response goes through
a well-defined <em>request processing lifecycle</em> made up of <em>phases</em> .
There are three different scenarios that must be considered, each with
its own combination of phases and activities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Non-Faces Request generates Faces Response</p>
</li>
<li>
<p>Faces Request generates Faces Response</p>
</li>
<li>
<p>Faces Request generates Non-Faces Response</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Where the terms being used are defined as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Faces Response</em> —A response that was
created by the execution of the <em>Render Response</em> phase of the request
processing lifecycle.</p>
</li>
<li>
<p><em>Non-Faces Response</em> —A response that was
not created by the execution of the <em>render response</em> phase of the
request processing lifecycle. Examples would be a servlet-generated or
JSP-rendered response that does not incorporate Jakarta Faces components, a
response that sets an HTTP status code other than the usual 200 (such as
a redirect), or a response whose HTTP body consists entirely of the
bytes of an in page resource, such as a JavaScript file, a CSS file, an
image, or an applet. This last scenario is considered a special case of
a Non-Faces Response and will be referred to as a <em>Faces Resource
Response</em> for the remainder of this specification.</p>
</li>
<li>
<p><em>Faces Request</em> —A request that was sent
from a previously generated <em>Faces response</em> . Examples would be a
hyperlink or form submit from a rendered user interface component, where
the request URI was crafted (by the component or renderer that created
it) to identify the view to use for processing the request. Another
example is a request for a resource that the user-agent was instructed
to fetch an artifact such as an image, a JavaScript file, a CSS
stylesheet, or an applet. This last scenario is considered a special
case of a Faces Request and will be referred to as a <em>Faces Resource
Request</em> for the remainder of this specification.</p>
</li>
<li>
<p><em>Non-Faces Request</em> —A request that was sent
to an application component (e.g. a servlet or Jakarta Server Pages page), rather than
directed to a Faces view.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, of course, your web application
may receive non-Faces requests that generate non-Faces responses.
Because such requests do not involve Jakarta Server Faces at all, their
processing is outside the scope of this specification, and will not be
considered further.</p>
</div>
<div class="paragraph">
<p>READER NOTE: The dynamic behavior
descriptions in this Chapter make forward references to the sections
that describe the individual classes and interfaces. You will probably
find it useful to follow the reference and skim the definition of each
new class or interface as you encounter them, then come back and finish
the behavior description. Later, you can study the characteristics of
each Jakarta Faces API in the subsequent chapters.</p>
</div>
<div class="sect2">
<h3 id="a383"><a class="anchor" href="#a383"></a>2.1. Request Processing Lifecycle Scenarios</h3>
<div class="paragraph">
<p>Each of the scenarios described above has a
lifecycle that is composed of a particular set of phases, executed in a
particular order. The scenarios are described individually in the
following subsections.</p>
</div>
<div class="sect3">
<h4 id="non-faces-request-generates-faces-response"><a class="anchor" href="#non-faces-request-generates-faces-response"></a>2.1.1. Non-Faces Request Generates Faces Response</h4>
<div class="paragraph">
<p>An application that is processing a non-Faces
request may use Jakarta Faces to render a Faces response to that request. In order
to accomplish this, the application must perform the common activities
that are described in the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Acquire Faces object references, as described
in <a href="#a502">See Acquire Faces Object References</a>,
below.</p>
</li>
<li>
<p>Create a new view, as described in
<a href="#a516">See Create And Configure A New View</a>, below.</p>
</li>
<li>
<p>Store the view into the <em>FacesContext</em> by
calling the <em>setViewRoot()</em> method on the <em>FacesContext.</em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="a390"><a class="anchor" href="#a390"></a>2.1.2. Faces Request Generates Faces Response</h4>
<div class="paragraph">
<p>The most common lifecycle will be the case
where a previous Faces response includes user interface controls that
will submit a subsequent request to this web application, utilizing a
request URI that is mapped to the Jakarta Faces implementation’s controller, as
described in <a href="UsingJSFInWebApplications.html#a6076">See Servlet Mapping</a>. Because
such a request will be initially handled by the Jakarta Faces implementation, the
application need not take any special steps—its event listeners,
validators, and application actions will be invoked at appropriate times
as the standard request processing lifecycle, described in the following
diagrams, is invoked.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="data:image/png;base64,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" alt="image"></span></p>
</div>
<div class="paragraph">
<p>The “Handle Resource Request” box, and its
subsequent boxes, are explained in <a href="#a746">See
Resource Handling</a>. The following diagram explains the “Execute and
Render Lifecycle” box.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="data:image/png;base64,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" alt="image"></span></p>
</div>
<div class="paragraph">
<p>The behavior of the individual phases of the
request processing lifecycle are described in individual subsections of
<a href="#a401">Standard Request Processing Lifecycle
Phases</a>. Note that, at the conclusion of several phases of the request
processing lifecycle, common event processing logic (as described in
<a href="#a494">See Common Event Processing</a>) is performed
to broadcast any <em>FacesEvents</em> generated by components in the component
tree to interested event listeners.</p>
</div>
</div>
<div class="sect3">
<h4 id="faces-request-generates-non-faces-response"><a class="anchor" href="#faces-request-generates-non-faces-response"></a>2.1.3. Faces Request Generates Non-Faces Response</h4>
<div class="paragraph">
<p>Normally, a Jakarta Faces-based application will
utilize the <em>Render Response</em> phase of the request processing lifecycle
to actually create the response that is sent back to the client. In some
circumstances, however, this behavior might not be desirable. For
example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A Faces Request needs to be redirected to a
different web application resource (via a call to
<em>HttpServletResponse.sendRedirect</em> ).</p>
</li>
<li>
<p>A Faces Request causes the generation of a
response using some other technology (such as a servlet, or a Jakarta Server Pages page
not containing Jakarta Faces components).</p>
</li>
<li>
<p>A Faces Request causes the generation of a
response simply by serving up the bytes of a resource, such as an image,
a JavaScript file, a CSS file, or an applet</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In any of these scenarios, the application
will have used the standard mechanisms of the servlet or portlet API to
create the response headers and content. It is then necessary to tell
the Jakarta Faces implementation that the response has already been created, so
that the <em>Render Response</em> phase of the request processing lifecycle
should be skipped. This is accomplished by calling the
<em>responseComplete()</em> method on the <em>FacesContext</em> instance for the
current request, prior to returning from event handlers or application
actions.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a401"><a class="anchor" href="#a401"></a>2.2. Standard Request Processing Lifecycle Phases</h3>
<div class="paragraph">
<p>The standard phases of the request processing
lifecycle are described in the following subsections.</p>
</div>
<div class="paragraph">
<p>[P1-start-currentPhaseId]The default
request lifecycle processing implementation must ensure that the
<em>currentPhaseId</em> property of the <em>FacesContext</em> instance for this
request is set with the proper <em>PhaseId</em> constant for the current phase
as early as possible at the beginning of each phase.[P1-end]</p>
</div>
<div class="sect3">
<h4 id="a404"><a class="anchor" href="#a404"></a>2.2.1. Restore View</h4>
<div class="paragraph">
<p>[P1-start-restoreView]The Jakarta Faces implementation
must perform the following tasks during the <em>Restore View</em> phase of the
request processing lifecycle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call <em>initView()</em> on the <em>ViewHandler</em> . This
will set the character encoding properly for this request.</p>
</li>
<li>
<p>Examine the <em>FacesContext</em> instance for the
current request. If it already contains a <em>UIViewRoot</em> :</p>
<div class="ulist">
<ul>
<li>
<p>Set the <em>locale</em> on this <em>UIViewRoot</em> to the
value returned by the <em>getRequestLocale()</em> method on the
<em>ExternalContext</em> for this request.</p>
</li>
<li>
<p>Take no further action during this phase, and
return. The presence of a UIViewRoot already installed in the
FacesContext before the Restore View Phase implementation indicates that
the phase should assume the view has already been restored by other
means.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Derive the <em>viewId</em> according to the
following algorithm, or one semantically equivalent to it.</p>
<div class="ulist">
<ul>
<li>
<p>Look in the request map for a value under
the key <em>jakarta.servlet.include.path_info</em> . If found, let it be the
<em>viewId</em> .</p>
</li>
<li>
<p>Call <em>getRequestPathInfo()</em> on the current
<em>ExternalContext</em> . If this value is non-null, let this be the <em>viewId</em>
.</p>
</li>
<li>
<p>Look in the request map for a value under the
key <em>jakarta.servlet.include.servlet_path</em> . If found, let it be the
<em>viewId</em> .</p>
</li>
<li>
<p>If none of these steps yields a non- <em>null</em>
viewId, throw a <em>FacesException</em> with an appropriate localized message.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Determine if this request is a postback or
initial request by executing the following algorithm. Find the
render-kit-id for the current request by calling
<em>calculateRenderKitId()</em> on the <em>Application</em> ’s <em>ViewHandler</em> . Get
that <em>RenderKit</em> ’s <em>ResponseStateManager</em> and call its <em>isPostback()</em>
method, passing the current <em>FacesContext</em> . If the current request is
an attempt by the servlet container to display a servlet error page, do
not interpret the request as a postback, even if it is indeed a
postback.</p>
</li>
<li>
<p>If the request is a postback, call
<em>setProcessingEvents(false)</em> on the current <em>FacesContext</em> . Then call
<em>ViewHandler.restoreView()</em> , passing the <em>FacesContext</em> instance for
the current request and the view identifier, and returning a
<em>UIViewRoot</em> for the restored view. If the return from
<em>ViewHandler.restoreView()</em> is null, throw a <em>ViewExpiredException</em> with
an appropriate error message.
<em>jakarta.faces.application.ViewExpiredException</em> is a <em>FacesException</em>
that must be thrown to signal to the application that the expected view
was not returned for the view identifier. An application may choose to
perform some action based on this exception.</p>
</li>
<li>
<p>Store the restored <em>UIViewRoot</em> in the
<em>FacesContext</em> .</p>
</li>
<li>
<p>Call <em>setProcessingEvents(true)</em> on the
current <em>FacesContext</em> . __</p>
</li>
<li>
<p>If the request is not a postback, try to
obtain the <em>ViewDeclarationLanguage</em> from the <em>ViewHandler</em> , for the
current <em>viewId</em> by calling <em>ViewHandler.deriveLogicalViewId()</em> and
passing the result to <em>ViewHandler.getViewDeclarationLanguage()</em> . If no
such instance can be obtained, call <em>facesContext.renderResponse()</em> .
Otherwise, call <em>getViewMetadata()</em> on the <em>ViewDeclarationLanguage</em>
instance. If the result is non- <em>null</em> , call <em>createMetadataView()</em> on
the <em>ViewMetadata</em> instance. Call <em>ViewMetadata.hasMetadata()</em> , passing
the newly created <em>viewRoot</em> . If this method returns false, call
<em>facesContext.renderResponse()</em> . If it turns out that the previous call
to <em>createViewMetadata()</em> did not create a <em>UIViewRoot</em> instance, call
<em>createView()</em> on the <em>ViewHandler</em> .</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">View Protection</div>
<ul>
<li>
<p>Call
ViewHandler.getProtectedViewsUnmodifiable() to determine if the view for
this viewId is protected. If not, assume the requested view is not
protected and take no additional view protection steps. Obtain the value
of the value of the request parameter whose name is given by the value
of ResponseStateManager.NON_POSTBACK_VIEW_TOKEN_PARAM. If there is no
value, throw ProtectedViewException. If the value is present, compare it
to the return from
ResponseStateManager.getCryptographicallyStrongTokenFromSession(). If
the values do not match, throw ProtectedViewException. If the values do
match, look for a Referer [sic] request header. If the header is
present, use the protected view API to determine if any of the declared
protected views match the value of the Referer header. If so, conclude
that the previously visited page is also a protected view and it is
therefore safe to continue. Otherwise, try to determine if the value of
the Referer header corresponds to any of the views in the current web
application. If not, throw a ProtectedViewException. If the Origin
header is present, additionally perform the same steps as with the
Referer header.</p>
</li>
<li>
<p>Call <em>renderResponse()</em> on the <em>FacesContext</em>
.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Obtain a reference to the <em>FlowHandler</em> from
the <em>Application</em> . Call its <em>clientWindowTransition()</em> method. This
ensures that navigation that happened as a result of the renderer for
the <em>jakarta.faces.OutcomeTarget</em> component-family is correctly handled
with respect to flows. For example, this enables <em>&lt;h:button&gt;</em> to work
correctly with flows.</p>
</div>
<div class="paragraph">
<p>Using <em>Application.publishEvent()</em> , publish
a <em>PostAddToViewEvent</em> with the created <em>UIViewRoot</em> as the event
source.</p>
</div>
<div class="paragraph">
<p>In all cases, the implementation must
ensure that the restored tree is traversed and the
<em>PostRestoreStateEvent</em> is published for every node in the tree.[P1-end]</p>
</div>
<div class="paragraph">
<p>At the end of this phase, the <em>viewRoot</em>
property of the <em>FacesContext</em> instance for the current request will
reflect the saved configuration of the view generated by the previous
Faces Response, or a new view returned by <em>ViewHandler.createView()</em> for
the view identifier.</p>
</div>
</div>
<div class="sect3">
<h4 id="a427"><a class="anchor" href="#a427"></a>2.2.2. Apply Request Values</h4>
<div class="paragraph">
<p>The purpose of the <em>Apply Request Values</em>
phase of the request processing lifecycle is to give each component the
opportunity to update its current state from the information included in
the current request (parameters, headers, cookies, and so on). When the
information from the current request has been examined to update the
component’s current state, the component is said to have a “local
value”.</p>
</div>
<div class="paragraph">
<p>[P1-start-applyRequestDecode]During the
<em>Apply Request Values</em> phase, the Jakarta Faces implementation must call the
<em>processDecodes()</em> method of the <em>UIViewRoot</em> of the component
tree.[P1-end] This will normally cause the <em>processDecodes()</em> method of
each component in the tree to be called recursively, as described in the
Javadocs for the <em>UIComponent.processDecodes()</em> method.
[P1-start-partialDecode] The <em>processDecodes()</em> method must determine if
the current request is a “partial request” by calling
<em>FacesContext.getCurrentInstance().getPartialViewContext().isPartialRequest()</em>
. If
<em>FacesContext.getCurrentInstance().getPartialViewContext().isPartialRequest()</em>
returns <em>true</em> , perform the sequence of steps as outlined in
<a href="#a436">See
Apply Request Values Partial Processing</a>.[P1-end] Details of the
decoding process follow.</p>
</div>
<div class="paragraph">
<p>During the decoding of request values, some
components perform special processing, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Components that implement <em>ActionSource</em>
(such as <em>UICommand</em> ), which recognize that they were activated, will
queue an <em>ActionEvent</em> . The event will be delivered at the end of
<em>Apply Request Values</em> phase if the <em>immediate</em> property of the
component is <em>true</em> , or at the end of <em>Invoke Application</em> phase if it
is <em>false</em> .</p>
</li>
<li>
<p>Components that implement
<em>EditableValueHolder</em> (such as <em>UIInput</em> ), and whose <em>immediate</em>
property is set to <em>true</em> , will cause the conversion and validation
processing (including the potential to fire <em>ValueChangeEvent</em> events)
that normally happens during <em>Process Validations</em> phase to occur during
<em>Apply Request Values</em> phase instead.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As described in
<a href="#a494">See Common Event Processing</a>, the
<em>processDecodes()</em> method on the <em>UIViewRoot</em> component at the root of
the component tree will have caused any queued events to be broadcast to
interested listeners.</p>
</div>
<div class="paragraph">
<p>At the end of this phase, all
<em>EditableValueHolder</em> components in the component tree will have been
updated with new submitted values included in this request (or enough
data to reproduce incorrect input will have been stored, if there were
conversion errors). [P1-start-applyRequestConversion]In addition,
conversion and validation will have been performed on
<em>EditableValueHolder</em> components whose <em>immediate</em> property is set to
<em>true</em> , as described in the <em>UIInput</em> Javadocs. Conversions and
validations that failed will have caused messages to be enqueued via
calls to the <em>addMessage()</em> method of the <em>FacesContext</em> instance for
the current request, and the <em>valid</em> property on the corresponding
component(s) will be set to <em>false</em> . [P1-end]</p>
</div>
<div class="paragraph">
<p>If any of the <em>decode()</em> methods that
were invoked, or an event listener that processed a queued event, called
<em>responseComplete()</em> on the <em>FacesContext</em> instance for the current
request, clear the remaining events from the event queue and terminate
lifecycle processing of the current request.
[P1-start-applyRequestComplete]If any of the <em>decode()</em> methods that
were invoked, or an event listener that processed a queued event, called
<em>renderResponse()</em> on the <em>FacesContext</em> instance for the current
request, clear the remaining events from the event queue and transfer
control to the <em>Render Response</em> phase of the request processing
lifecycle. Otherwise, control must proceed to the <em>Process Validations</em>
phase.[P1-end]</p>
</div>
<div class="sect4">
<h5 id="a436"><a class="anchor" href="#a436"></a>2.2.2.1. Apply Request Values Partial Processing</h5>
<div class="paragraph">
<p>[P1-start-apply-partial-processing]Call
FacesContext.getPartialViewContext(). Call
PartialViewContext.processPartial() passing the FacesContext,
PhaseID.APPLY_REQUEST_VALUES as arguments. [P1-end]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a438"><a class="anchor" href="#a438"></a>2.2.3. Process Validations</h4>
<div class="paragraph">
<p>As part of the creation of the view for this
request, zero or more <em>Validator</em> instances may have been registered for
each component. In addition, component classes themselves may implement
validation logic in their <em>validate()</em> methods.</p>
</div>
<div class="paragraph">
<p>[P1-start-validation]During the <em>Process
Validations</em> phase of the request processing lifecycle, the Jakarta Faces
implementation must call the <em>processValidators()</em> method of the
<em>UIViewRoot</em> of the tree.[P1-end] This will normally cause the
<em>processValidators()</em> method of each component in the tree to be called
recursively, as described in the API reference for the
<em>UIComponent.processValidators()</em> method. [P1-start-partialValidate] The
<em>processValidators()</em> method must determine if the current request is a
“partial request” by calling
<em>FacesContext.getCurrentInstance().getPartialViewContext().isPartialRequest()</em>
. If
<em>FacesContext.getCurrentInstance().getPartialViewContext().isPartialRequest()</em>
returns <em>true</em> , perform the sequence of steps as outlined in
<a href="#a444">See
Partial Validations Partial Processing</a>.[P1-end] Note that
<em>EditableValueHolder</em> components whose <em>immediate</em> property is set to
<em>true</em> will have had their conversion and validation processing
performed during <em>Apply Request Values</em> phase.</p>
</div>
<div class="paragraph">
<p>During the processing of validations, events
may have been queued by the components and/or <em>Validator</em> s whose
<em>validate()</em> method was invoked. As described in
<a href="#a494">See Common Event Processing</a>, the
<em>processValidators()</em> method on the <em>UIViewRoot</em> component at the root
of the component tree will have caused any queued events to be broadcast
to interested listeners.</p>
</div>
<div class="paragraph">
<p>At the end of this phase, all conversions and
configured validations will have been completed. Conversions and
Validations that failed will have caused messages to be enqueued via
calls to the <em>addMessage()</em> method of the <em>FacesContext</em> instance for
the current request, and the <em>valid</em> property on the corresponding
components will have been set to <em>false</em> .</p>
</div>
<div class="paragraph">
<p>If any of the <em>validate()</em> methods
that were invoked, or an event listener that processed a queued event,
called <em>responseComplete()</em> on the <em>FacesContext</em> instance for the
current request, clear the remaining events from the event queue and
terminate lifecycle processing of the current request.
[P1-start-validationValidate]If any of the <em>validate()</em> methods that
were invoked, or an event listener that processed a queued event, called
<em>renderResponse()</em> on the <em>FacesContext</em> instance for the current
request, clear the remaining events from the event queue and transfer
control to the <em>Render Response</em> phase of the request processing
lifecycle. Otherwise, control must proceed to the <em>Update Model Values</em>
phase.[P1-end]</p>
</div>
<div class="sect4">
<h5 id="a444"><a class="anchor" href="#a444"></a>2.2.3.1. Partial Validations Partial Processing</h5>
<div class="paragraph">
<p>[P1-start-val-partial-processing]Call
FacesContext.getPartialViewContext(). Call
PartialViewContext.processPartial() passing the FacesContext,
PhaseID.PROCESS_VALIDATIONS as arguments. [P1-end]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a446"><a class="anchor" href="#a446"></a>2.2.4. Update Model Values</h4>
<div class="paragraph">
<p>If this phase of the request processing
lifecycle is reached, it is assumed that the incoming request is
syntactically and semantically valid (according to the validations that
were performed), that the local value of every component in the
component tree has been updated, and that it is now appropriate to
update the application&#8217;s model data in preparation for performing any
application events that have been enqueued.</p>
</div>
<div class="paragraph">
<p>[P1-start-updateModel]During the <em>Update
Model Values</em> phase, the Jakarta Faces implementation must call the
<em>processUpdates()</em> method of the <em>UIViewRoot</em> component of the
tree.[P1-end] This will normally cause the <em>processUpdates()</em> method of
each component in the tree to be called recursively, as described in the
API reference for the <em>UIComponent.processUpdates()</em> method.
[P1-start-partialUpdate] The <em>processUpdates()</em> method must determine if
the current request is a “partial request” by calling
<em>FacesContext.getCurrentInstance().getPartialViewContext().isPartialRequest()</em>
. If
<em>FacesContext.getCurrentInstance().getPartialViewContext().isPartialRequest()</em>
returns <em>true</em> , perform the sequence of steps as outlined in
<a href="#a452">See
Update Model Values Partial Processing</a>. [P1-end]The actual model update
for a particular component is done in the <em>updateModel()</em> method for
that component.</p>
</div>
<div class="paragraph">
<p>During the processing of model updates,
events may have been queued by the components whose <em>updateModel()</em>
method was invoked. As described in <a href="#a494">See
Common Event Processing</a>, the <em>processUpdates()</em> method on the
UIViewRoot component at the root of the component tree will have caused
any queued events to be broadcast to interested listeners.</p>
</div>
<div class="paragraph">
<p>At the end of this phase, all appropriate
model data objects will have had their values updated to match the local
value of the corresponding component, and the component local values
will have been cleared.</p>
</div>
<div class="paragraph">
<p>If any of the <em>updateModel()</em> methods
that were invoked, or an event listener that processed a queued event,
called <em>responseComplete()</em> on the <em>FacesContext</em> instance for the
current request, clear the remaining events from the event queue and
terminate lifecycle processing of the current request.
[P1-start-updateModelComplete]If any of the <em>updateModel()</em> methods that
was invoked, or an event listener that processed a queued event, called
<em>renderResponse()</em> on the <em>FacesContext</em> instance for the current
request, clear the remaining events from the event queue and transfer
control to the <em>Render Response</em> phase of the request processing
lifecycle. Otherwise, control must proceed to the <em>Invoke Application</em>
phase.[P1-end]</p>
</div>
<div class="sect4">
<h5 id="a452"><a class="anchor" href="#a452"></a>2.2.4.1. Update Model Values Partial Processing</h5>
<div class="paragraph">
<p>[P1-start-upd-partial-processing]Call
FacesContext.getPartialViewContext(). Call
PartialViewContext.processPartial() passing the FacesContext,
PhaseID.UPDATE_MODEL_VALUES as arguments. [P1-end]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a454"><a class="anchor" href="#a454"></a>2.2.5. Invoke Application</h4>
<div class="paragraph">
<p>If this phase of the request processing
lifecycle is reached, it is assumed that all model updates have been
completed, and any remaining event broadcast to the application needs to
be performed. [P1-start-invokeApplication]The implementation must ensure
that the <em>processApplication()</em> method of the <em>UIViewRoot</em> instance is
called.[P1-end] The default behavior of this method will be to broadcast
any queued events that specify a phase identifier of
<em>PhaseId.INVOKE_APPLICATION</em> . If <em>responseComplete()</em> was called on the
<em>FacesContext</em> instance for the current request, clear the remaining
events from the event queue and terminate lifecycle processing of the
current request. If <em>renderResponse()</em> was called on the <em>FacesContext</em>
instance for the current request, clear the remaining events from the
event queue.</p>
</div>
<div class="paragraph">
<p>Advanced applications (or application
frameworks) may replace the default <em>ActionListener</em> instance by calling
the <em>setActionListener()</em> method on the <em>Application</em> instance for this
application. [P1-start-invokeApplicationListener]However, the Jakarta Faces
implementation must provide a default <em>ActionListener</em> instance that
behaves as described in <a href="#a3402">See ActionListener
Property</a>.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a457"><a class="anchor" href="#a457"></a>2.2.6. Render Response</h4>
<div class="paragraph">
<p>This phase accomplishes two things:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Causes the response to be rendered to the
client</p>
</li>
<li>
<p>Causes the state of the response to be saved
for processing on subsequent requests.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Jakarta Faces supports a range of approaches that Jakarta Faces
implementations may utilize in creating the response text that
corresponds to the contents of the response view, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deriving all of the response content directly
from the results of the encoding methods (on either the components or
the corresponding renderers) that are called.</p>
</li>
<li>
<p>Interleaving the results of component
encoding with content that is dynamically generated by application
programming logic.</p>
</li>
<li>
<p>Interleaving the results of component
encoding with content that is copied from a static “template” resource.</p>
</li>
<li>
<p>Interleaving the results of component
encoding by embedding calls to the encoding methods into a dynamic
resource (such as representing the components as custom tags in a Jakarta Server Pages
page).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Because of the number of possible options,
the mechanism for implementing the <em>Render Response</em> phase cannot be
specified precisely. [P1-start-renderResponse]However, all Jakarta Faces
implementations of this phase must conform to the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If it is possible to obtain a
<em>ViewDeclarationLanguage</em> instance for the current <em>viewId</em> , from the
<em>ViewHandler</em> , its <em>buildView()</em> method must be called. __</p>
</li>
<li>
<p>Publish the
<em>jakarta.faces.event.PreRenderViewEvent</em> .</p>
</li>
<li>
<p>Jakarta Faces implementations must provide a default
<em>ViewHandler</em> implementation that is capable of handling views written
in Jakarta Server Pages as well as views written in the Faces View Declaration Language
(VDL). In the case of Jakarta Server Pages, the ViewHandler must perform a
<em>RequestDispatcher.forward()</em> call to a web application resource whose
context-relative path is equal to the view identifier of the component
tree.</p>
</li>
<li>
<p>If all of the response content is being
derived from the encoding methods of the component or associated
<em>Renderer</em> s, the component tree should be walked in the same
depth-first manner as was used in earlier phases to process the
component tree, but subject to the additional constraints listed here.
Generally this is handled by a call to <em>ViewHandler.renderView()</em> . __</p>
</li>
<li>
<p>If the response content is being interleaved
from additional sources and the encoding methods, the components may be
selected for rendering in any desired order <a href="#a9083">1</a>.</p>
</li>
<li>
<p>During the rendering process, additional
components may be added to the component tree based on information
available to the <em>ViewHandler</em> implementation <a href="#a9084">2</a>.
However, before adding a new component, the <em>ViewHandler</em> implementation
must first check for the existence of the corresponding component in the
component tree. If the component already exists (perhaps because a
previous phase has pre-created one or more components), the existing
component’s properties and attributes must be utilized.</p>
</li>
<li>
<p>Under no circumstances should a component be
selected for rendering when its parent component, or any of its
ancestors in the component tree, has its <em>rendersChildren</em> property set
to true. In such cases, the parent or ancestor component must render the
content of this child component when the parent or ancestor was
selected.</p>
</li>
<li>
<p>If the <em>isRendered()</em> method of a component
returns <em>false</em> , the renderer for that component must not generate any
markup, and none of its facets or children (if any) should be rendered.</p>
</li>
<li>
<p>It must be possible for the application to
programmatically modify the component tree at any time during the
request processing lifecycle (except during the rendering of the view)
and have the system behave as expected. For example, the following must
be permitted. Modification of the view during rendering may lead to
undefined results. It must be possible to allow components added by the
templating system (such as Jakarta Server Pages) to be removed from the tree before
rendering. It must be possible to programmatically add components to the
tree and have them render in the proper place in the hierarchy. It must
be possible to re-order components in the tree before rendering. These
manipulations do require that any components added to the tree have ids
that are unique within the scope of the closest parent <em>NamingContainer</em>
component. The value of the <em>rendersChildren</em> property is handled as
expected, and may be either <em>true</em> or <em>false</em> .</p>
</li>
<li>
<p>If running on a container that supports
Servlet 4.0 or later, after any dynamic component manipulations have
been completed, any resources that have been added to the UIViewRoot,
such as scripts, images, or stylesheets, and any inline images, must be
pushed to the client using the Servlet Server Push API. All of the
pushes must be started before any of the HTML of the response is
rendered to the client.</p>
</li>
<li>
<p>For partial requests, where partial view
rendering is required, there must be no content written outside of the
view (outside <em>f:view</em> ). Response writing must be disabled. Response
writing must be enabled again at the start of <em>encodeBegin.</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When each particular component in the
component tree is selected for rendering, calls to its <em>encodeXxx()</em>
methods must be performed in the manner described in
<a href="#a1041">See Component Specialization Methods</a>. For
components that implement <em>ValueHolder</em> (such as <em>UIInput</em> and
<em>UIOutput</em> ), data conversion must occur as described in the <em>UIOutput</em>
Javadocs.</p>
</div>
<div class="paragraph">
<p>Upon completion of rendering, but
before state saving the Jakarta Faces runtime must publish a
<em>jakarta.faces.event.PostRenderViewEvent</em> . After doing so the Jakarta Faces runtime
must save the completed state using the methods of the class
<em>StateManager.</em> This state information must be made accessible on a
subsequent request, so that the <em>Restore View</em> can access it.[P1-end]
For more on <em>StateManager</em> , see <a href="#a4140">See State
Saving Methods</a>.</p>
</div>
<div class="sect4">
<h5 id="a480"><a class="anchor" href="#a480"></a>2.2.6.1. Render Response Partial Processing</h5>
<div class="paragraph">
<p>[P1-start-render-partial-processing]
According to <em>UIViewRoot.encodeChildren()</em> ,
<em>FacesContext.processPartial(PhaseId.RENDER_RESPONSE)</em> , will be called
if and only if the current request is an Ajax request. Take these
actions in this case.</p>
</div>
<div class="paragraph">
<p>On the <em>ExternalContext</em> for the request,
call <em>setResponseContentType("text/xml")</em> and
<em>addResponseHeader("Cache-control", "no-cache")</em> . Call
<em>startDocument()</em> on the <em>PartialResponseWriter</em> .</p>
</div>
<div class="paragraph">
<p>Call <em>writePreamble(“&lt;?xml version=’1.0’
encoding=’currentEncoding’?&gt;\n”)</em> on the <em>PartialResponseWriter</em> , where
<em>encoding</em> is the return from the <em>getCharacterEncoding()</em> on the
<em>PartialResponseWriter</em> , or UTF-8 if that method returns <em>null</em> .</p>
</div>
<div class="paragraph">
<p>If <em>isResetValues()</em> returns <em>true</em> , call
<em>getRenderIds()</em> and pass the result to <em>UIViewRoot.resetValues()</em> .</p>
</div>
<div class="paragraph">
<p>If <em>isRenderAll()</em> returns <em>true</em> and the
view root is not an instance of <em>NamingContainer</em> , call
<em>startUpdate(PartialResponseWriter.RENDER_ALL_MARKER)</em> on the
<em>PartialResponseWriter</em> . For each child of the <em>UIViewRoot</em> , call
<em>encodeAll()</em> . Call <em>endUpdate()</em> on the <em>PartialResponseWriter</em> .
Render the state using the algorithm described below in
<a href="#a487">See Partial State Rendering</a>, call
<em>endDocument()</em> on the <em>PartialResponseWriter</em> and return. If
<em>isRenderAll()</em> returns <em>true</em> and this <em>UIViewRoot</em> is a
<em>NamingContainer</em> , treat this as a case where <em>isRenderAll()</em> returned
<em>false</em> , but use the <em>UIViewRoot</em> itself as the one and only component
from which the tree visit must start.</p>
</div>
<div class="paragraph">
<p>If <em>isRenderAll()</em> returns <em>false</em> , if there
are ids to render, visit the subset of components in the tree to be
rendered in similar fashion as for other phases, but for each
<em>UIComponent</em> in the traversal, call <em>startUpdate(id)</em> on the
<em>PartialResponseWriter</em> , where <em>id</em> is the client id of the component.
Call <em>encodeAll()</em> on the component, and then <em>endUpdate()</em> on the
<em>PartialResponseWriter</em> . If there are no ids to render, this step is
un-necessary. After the subset of components (if any) have been
rendered, Render the state using the algorithm described below in
<a href="#a487">See Partial State Rendering</a>, call
<em>endDocument()</em> on the <em>PartialResponseWriter</em> and return.</p>
</div>
<div id="a487" class="paragraph">
<div class="title">Partial State Rendering</div>
<p>This section describes the requirements for
rendering the <em>&lt;update&gt;</em> elements pertaining to view state and window id
in the case of partial response rendering.</p>
</div>
<div class="paragraph">
<p>If the view root is marked transient, take no
action and return.</p>
</div>
<div class="paragraph">
<p>Obtain a unique id for the view state, as
described in the JavaDocs for the constant field
<em>ResponseStateManager.VIEW_STATE_PARAM</em> . Pass this id to a call to
<em>startUpdate()</em> on the <em>PartialResponseWriter</em> . Obtain the view state
to render by calling <em>getViewState()</em> on the application’s
<em>StateManager</em> . Write the state by calling <em>write()</em> on the
<em>PartialResponseWriter</em> , passing the state as the argument. Call
<em>endUpdate()</em> on the <em>PartialResponseWriter</em> .</p>
</div>
<div class="paragraph">
<p>If <em>getClientWindow()</em> on the
<em>ExternalContext</em> , returns non- <em>null</em> , obtain an id for the
<em>&lt;update&gt;</em> element for the window id as described in the JavaDocs for
the constant <em>ResponseStateManager.WINDOW_ID_PARAM</em> . Pass this id to a
call to <em>startUpdate()</em> on the <em>PartialResponseWriter</em> . Call <em>write()</em>
on that same writer, passing the result of calling <em>getId()</em> on the
<em>ClientWindow</em> . Call <em>endUpdate()</em> on the <em>PartialResponseWriter</em> .</p>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a494"><a class="anchor" href="#a494"></a>2.3. Common Event Processing</h3>
<div class="paragraph">
<p>For a complete description of the event
processing model for Jakarta Server Faces components, see
<a href="#a1300">See Event and Listener Model</a>.</p>
</div>
<div class="paragraph">
<p>During several phases of the request
processing lifecycle, as described in <a href="#a401">See
Standard Request Processing Lifecycle Phases</a>, the possibility exists
for events to be queued (via a call to the <em>queueEvent()</em> method on the
source <em>UIComponent</em> instance, or a call to the <em>queue()</em> method on the
<em>FacesEvent</em> instance), which must now be broadcast to interested event
listeners. The broadcast is performed as a side effect of calling the
appropriate lifecycle management method ( <em>processDecodes()</em> ,
<em>processValidators()</em> , <em>processUpdates()</em> , or <em>processApplication()</em> )
on the <em>UIViewRoot</em> instance at the root of the current component tree.</p>
</div>
<div class="paragraph">
<p>[P1-start-eventBroadcast]For each queued
event, the <em>broadcast()</em> method of the source <em>UIComponent</em> must be
called to broadcast the event to all event listeners who have registered
an interest, on this source component for events of the specified type,
after which the event is removed from the event queue.[P1-end] See the
API reference for the <em>UIComponent.broadcast()</em> method for the detailed
functional requirements.</p>
</div>
<div class="paragraph">
<p>It is also possible for event
listeners to cause additional events to be enqueued for processing
during the current phase of the request processing lifecycle.
[P1-start-eventOrder]Such events must be broadcast in the order they
were enqueued, after all originally queued events have been broadcast,
before the lifecycle management method returns.[P1-end]</p>
</div>
</div>
<div class="sect2">
<h3 id="common-application-activities"><a class="anchor" href="#common-application-activities"></a>2.4. Common Application Activities</h3>
<div class="paragraph">
<p>The following subsections describe common
activities that may be undertaken by an application that is using Jakarta Faces to
process an incoming request and/or create an outgoing response. Their
use is described in <a href="#a383">See Request Processing
Lifecycle Scenarios</a>, for each request processing lifecycle scenario in
which the activity is relevant.</p>
</div>
<div class="sect3">
<h4 id="a502"><a class="anchor" href="#a502"></a>2.4.1. Acquire Faces Object References</h4>
<div class="paragraph">
<p>This phase is only required when the request
being processed was not submitted from a previous response, and
therefore did not initiate the <em>Faces Request Generates Faces Response</em>
lifecycle. In order to generate a Faces Response, the application must
first acquire references to several objects provided by the Jakarta Faces
implementation, as described below.</p>
</div>
<div class="sect4">
<h5 id="acquire-and-configure-lifecycle-reference"><a class="anchor" href="#acquire-and-configure-lifecycle-reference"></a>2.4.1.1. Acquire and Configure Lifecycle Reference</h5>
<div class="paragraph">
<p>[P1-start-lifeReference]As described in
<a href="#a6608">See Lifecycle</a>, the Jakarta Faces implementation must
provide an instance of <em>jakarta.faces.lifecycle.Lifecycle</em> that may be
utilized to manage the remainder of the request processing
lifecycle.[P1-end] An application may acquire a reference to this
instance in a portable manner, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">LifecycleFactory lFactory = (LifecycleFactory)
    FactoryFinder.getFactory(FactoryFinder.LIFECYCLE_FACTORY);
Lifescycle lifecycle =
    lFactory.getLifecycle(LifecycleFactory.DEFAULT_LIFECYCLE);</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is also legal to specify a different
lifecycle identifier as a parameter to the <em>getLifecycle()</em> method, as
long as this identifier is recognized and supported by the Jakarta Faces
implementation you are using. However, using a non-default lifecycle
identifier will generally not be portable to any other Jakarta Faces
implementation.</p>
</div>
</div>
<div class="sect4">
<h5 id="acquire-and-configure-facescontext-reference"><a class="anchor" href="#acquire-and-configure-facescontext-reference"></a>2.4.1.2. Acquire and Configure FacesContext Reference</h5>
<div class="paragraph">
<p>[P1-start-contextReference]As described in
<a href="#a3091">See FacesContext</a>, the Jakarta Faces implementation
must provide an instance of <em>jakarta.faces.context.FacesContext</em> to
contain all of the per-request state information for a Faces Request or
a Faces Response. An application that is processing a Non-Faces Request,
but wants to create a Faces Response, must acquire a reference to a
<em>FacesContext</em> instance as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">FacesContextFactory fcFactory = (FacesContextFactory)
    FactoryFinder.getFactory(FactoryFinder.FACES_CONTEXT_FACTORY);
FacesContext facesContext =
    fcFactory.getFacesContext(context, request, response, lifecycle);</code></pre>
</div>
</div>
<div class="paragraph">
<p>where the <em>context</em> , <em>request</em> , and
<em>response</em> objects represent the corresponding instances for the
application environment.[P1-end] For example, in a servlet-based
application, these would be the <em>ServletContext</em> , <em>HttpServletRequest</em>
, and <em>HttpServletResponse</em> instances for the current request.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a516"><a class="anchor" href="#a516"></a>2.4.2. Create And Configure A New View</h4>
<div class="paragraph">
<p>When a Faces response is being intially
created, or when the application decides it wants to create and
configure a new view that will ultimately be rendered, it may follow the
steps described below in order to set up the view that will be used. You
must start with a reference to a <em>FacesContext</em> instance for the current
request.</p>
</div>
<div class="sect4">
<h5 id="a518"><a class="anchor" href="#a518"></a>2.4.2.1. Create A New View</h5>
<div class="paragraph">
<p>Views are represented by a data structure
rooted in an instance of <em>jakarta.faces.component.UIViewRoot</em>, and
identified by a view identifier whose meaning depends on the
<em>ViewHandler</em> implementation to be used during the <em>Render Response</em>
phase of the request processing lifecycle <a href="#a9085">3</a>. The
<em>ViewHandler</em> provides a factory method that may be utilized to
construct new component trees, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> viewId = ... identifier of the desired Tree ...;
ViewHandler viewHandler = application.getViewHandler();
UIViewRoot view = viewHandler.createView(facesContext, viewId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-createViewRoot]The <em>UIViewRoot</em>
instance returned by the <em>createView()</em> method must minimally contain a
single <em>UIViewRoot</em> provided by the Jakarta Faces implementation, which must
encapsulate any implementation-specific component management that is
required.[P1-end] Optionally, a Jakarta Faces implementation’s <em>ViewHandler</em> may
support the automatic population of the returned <em>UIViewRoot</em> with
additional components, perhaps based on some external metadata
description.</p>
</div>
<div class="paragraph">
<p>[P1-start-createView]The caller of
<em>ViewHandler.createView()</em> must cause the <em>FacesContext</em> to be populated
with the new <em>UIViewRoot.</em> Applications must make sure that it is safe
to discard any state saved in the view rooted at the <em>UIViewRoot</em>
currently stored in the <em>FacesContext</em> .[P1-end] If Facelets is the page
definition language, <em>FacesContext.setViewRoot()</em> must be called before
returning from <em>ViewHandler.createView().</em> Refer to
<a href="#a3910">See Default ViewHandler Implementation</a> for
more <em>ViewHandler</em> details.</p>
</div>
</div>
<div class="sect4">
<h5 id="configure-the-desired-renderkit"><a class="anchor" href="#configure-the-desired-renderkit"></a>2.4.2.2. Configure the Desired RenderKit</h5>
<div class="paragraph">
<p>[P1-start-defaultRenderkit]The
<em>UIViewRoot</em> instance provided by the <em>ViewHandler</em> , as described in
the previous subsection, must automatically be configured to utilize the
default <em>jakarta.faces.render.RenderKit</em> implementation provided by the
Jakarta Faces implementation, as described in <a href="#a4223">See
RenderKit</a>. This <em>RenderKit</em> must support the standard components and
<em>Renderer</em> s described later in this specification, to maximize the
portability of your application.[P1-end]</p>
</div>
<div class="paragraph">
<p>However, a different <em>RenderKit</em> instance
provided by your Jakarta Faces implementation (or as an add-on library) may be
utilized instead, if desired. A reference to this <em>RenderKit</em> instance
can be obtained from the standard <em>RenderKitFactory</em> , and then assigned
to the <em>UIViewRoot</em> instance created previously, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> renderKitId = ... identifier of desired RenderKit ...;
RenderKitFactory rkFactory = (RenderKitFactory)
    FactoryFinder.getFactory(FactoryFinder.RENDER_KIT_FACTORY);
RenderKit renderKit = rkFactory.getRenderKit(renderKitId, facesContext);
view.setRenderKitId(renderKitId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>As described in Chapter 8, changing the
<em>RenderKit</em> being used changes the set of <em>Renderer</em> s that will
actually perform decoding and encoding activities. Because the
components themselves store only a <em>rendererType</em> property (a logical
identifier of a particular <em>Renderer</em> ), it is thus very easy to switch
between <em>RenderKit</em> s, as long as they support renderers with the same
renderer types.</p>
</div>
<div class="paragraph">
<p>[P1-start-calcRenderkitId]The default
<em>ViewHandler</em> must call <em>calculateRenderKitId()</em> on itself and set the
result into the <em>UIViewRoot</em> ’s <em>renderKitId</em> property.[P1-end] This
allows applications that use alternative <em>RenderKit</em> s to dynamically
switch on a per-view basis.</p>
</div>
</div>
<div class="sect4">
<h5 id="configure-the-views-components"><a class="anchor" href="#configure-the-views-components"></a>2.4.2.3. Configure The View’s Components</h5>
<div class="paragraph">
<p>At any time, the application can add new
components to the view, remove them, or modify the attributes and
properties of existing components. For example, a new <em>FooComponent</em> (an
implementation of <em>UIComponent</em> ) can be added as a child to the root
<em>UIViewRoot</em> in the component tree as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">FooComponent component = ... create a FooComponent instance ...;
facesContext.getViewRoot().getChildren().add(component);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="store-the-new-view-in-the-facescontext"><a class="anchor" href="#store-the-new-view-in-the-facescontext"></a>2.4.2.4. Store the new View in the FacesContext</h5>
<div class="paragraph">
<p>[P1-start-setViewRoot]Once the view
has been created and configured, the <em>FacesContext</em> instance for this
request must be made aware of it by calling <em>setViewRoot()</em> .[P1-end]</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="concepts-that-impact-several-lifecycle-phases"><a class="anchor" href="#concepts-that-impact-several-lifecycle-phases"></a>2.5. Concepts that impact several lifecycle phases</h3>
<div class="paragraph">
<p>This section is intended to give the reader a
“big picture” perspective on several complex concepts that impact
several request processing lifecycle phases.</p>
</div>
<div class="sect3">
<h4 id="value-handling"><a class="anchor" href="#value-handling"></a>2.5.1. Value Handling</h4>
<div class="paragraph">
<p>At a fundamental level, Jakarta Server Faces is a
way to get values from the user, into your model tier for processing.
The process by which values flow from the user to the model has been
documented elsewhere in this spec, but a brief holistic survey comes in
handy. The following description assumes the Jakarta Server Pages/HTTP case, and that all
components have Renderers.</p>
</div>
<div class="sect4">
<h5 id="apply-request-values-phase"><a class="anchor" href="#apply-request-values-phase"></a>2.5.1.1. Apply Request Values Phase</h5>
<div class="paragraph">
<p>The user presses a button that causes a form
submit to occur. This causes the state of the form to be sent as
<em>name=value</em> pairs in the <em>POST</em> data of the HTTP request. The Jakarta Faces
request processing lifecycle is entered, and eventually we come to the
<em>Apply Request Values Phase</em> . In this phase, the <em>decode()</em> method for
each <em>Renderer</em> for each <em>UIComponent</em> in the view is called. The
<em>Renderer</em> takes the value from the request and passes it to the
<em>setSubmittedValue()</em> method of the component, which is, of course, an
instance of <em>EditableValueHolder</em> . If the component has the "
<em>immediate</em> " property set to <em>true</em> , we execute validation immediately
after decoding. See below for what happens when we execute validation.</p>
</div>
</div>
<div class="sect4">
<h5 id="process-validators-phase"><a class="anchor" href="#process-validators-phase"></a>2.5.1.2. Process Validators Phase</h5>
<div class="paragraph">
<p><em>processValidators()</em> is called on the root
of the view. For each <em>EditableValueHolder</em> in the view, If the “
<em>immediate</em> ” property is not set, we execute validation for each
<em>UIInput</em> in the view. Otherwise, validation has already occurred and
this phase is a no-op.</p>
</div>
</div>
<div class="sect4">
<h5 id="executing-validation"><a class="anchor" href="#executing-validation"></a>2.5.1.3. Executing Validation</h5>
<div class="paragraph">
<p>Please see the javadocs for
<em>UIInput.validate()</em> for more details, but basically, this method gets
the submitted value from the component (set during <em>Apply Request
Values</em> ), gets the <em>Renderer</em> for the component and calls its
<em>getConvertedValue()</em> , passing the submitted value. If a conversion
error occurs, it is dealt with as described in the javadocs for that
method. Otherwise, all validators attached to the component are asked to
validate the converted value. If any validation errors occur, they are
dealt with as described in the javadocs for <em>Validator.validate()</em> . The
converted value is pushed into the component&#8217;s <em>setValue()</em> method, and
a <em>ValueChangeEvent</em> is fired if the value has changed.</p>
</div>
</div>
<div class="sect4">
<h5 id="update-model-values-phase"><a class="anchor" href="#update-model-values-phase"></a>2.5.1.4. Update Model Values Phase</h5>
<div class="paragraph">
<p>For each <em>UIInput</em> component in the view, its
<em>updateModel()</em> method is called. This method only takes action if a
local value was set when validation executed and if the page author
configured this component to push its value to the model tier. This
phase simply causes the converted local value of the <em>UIInput</em> component
to be pushed to the model in the way specified by the page author. Any
errors that occur as a result of the attempt to push the value to the
model tier are dealt with as described in the javadocs for
<em>UIInput.updateModel()</em> .</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="localization-and-internationalization-l10ni18n"><a class="anchor" href="#localization-and-internationalization-l10ni18n"></a>2.5.2. Localization and Internationalization (L10N/I18N)</h4>
<div class="paragraph">
<p>Jakarta Server Faces is fully internationalized.
The I18N capability in Jakarta Server Faces builds on the I18N concepts
offered in the Servlet, Jakarta Server Pages and JSTL specifications. I18N happens at
several points in the request processing lifecycle, but it is easiest to
explain what goes on by breaking the task down by function.</p>
</div>
<div class="sect4">
<h5 id="a554"><a class="anchor" href="#a554"></a>2.5.2.1. Determining the active <em>Locale</em></h5>
<div class="paragraph">
<p>Jakarta Faces has the concept of an active <em>Locale</em>
which is used to look up all localized resources. Converters must use
this <em>Locale</em> when performing their conversion. This <em>Locale</em> is stored
as the value of the <em>locale</em> JavaBeans property on the <em>UIViewRoot</em> of
the current <em>FacesContext</em> . The application developer can tell Jakarta Faces what
locales the application supports in the applications’
<em>WEB-INF/faces-config.xml</em> file. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config&gt;</span>
  <span class="tag">&lt;application&gt;</span>
    <span class="tag">&lt;locale-config&gt;</span>
      <span class="tag">&lt;default-locale&gt;</span>en<span class="tag">&lt;/default-locale&gt;</span>
      <span class="tag">&lt;supported-locale&gt;</span>de<span class="tag">&lt;/supported-locale&gt;</span>
      <span class="tag">&lt;supported-locale&gt;</span>fr<span class="tag">&lt;/supported-locale&gt;</span>
      <span class="tag">&lt;supported-locale&gt;</span>es<span class="tag">&lt;/supported-locale&gt;</span>
    <span class="tag">&lt;/locale-config&gt;</span>
  <span class="tag">&lt;/application&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This application’s default locale is <em>en</em> ,
but it also supports <em>de, fr,</em> and <em>es</em> locales. These elements cause
the <em>Application</em> instance to be populated with <em>Locale</em> data. Please
see the javadocs for details.</p>
</div>
<div class="paragraph">
<p>The <em>UIViewRoot</em> ’s <em>Locale</em> is determined
and set by the <em>ViewHandler</em> during the execution of the <em>ViewHandler</em>
’s <em>createView()</em> method. [P1-start-locale]This method must cause the
active <em>Locale</em> to be determined by looking at the user’s preferences
combined with the application’s stated supported locales.[P1-end] Please
see the javadocs for details.</p>
</div>
<div class="paragraph">
<p>The application can call
<em>UIViewRoot.setLocale()</em> directly, but it is also possible for the page
author to override the <em>UIViewRoot</em> ’s locale by using the <em>locale</em>
attribute on the <em>&lt;f:view</em> &gt; tag. [P1-start-localeValue]The value of
this attribute must be specified as
<em>language[\{-|</em>}country[\{-|<em>}variant]]</em> without the colons, for example
" <em>ja_JP_SJIS</em> ". The separators between the segments must be ' <em>-</em> ' or
' <em>_</em> '.[P1-end]</p>
</div>
<div class="paragraph">
<p>In all cases where Jakarta Server Pages is utilized, the
active <em>Locale</em> is set under “request scope” into the JSTL class
<em>jakarta.servlet.jsp.jstl.core.Config</em> , under the key <em>Config.FMT_LOCALE</em>
.</p>
</div>
<div class="paragraph">
<p>To facilitate BCP 47 support, the Locale
parsing mentioned above is done only if the JDK Locale.languageForTag
method does not return a Locale with a language in it. The additional
format of the Locale string is as specified by that method.</p>
</div>
</div>
<div class="sect4">
<h5 id="determining-the-character-encoding"><a class="anchor" href="#determining-the-character-encoding"></a>2.5.2.2. Determining the Character Encoding</h5>
<div class="paragraph">
<p>The request and response character encoding
are set and interpreted as follows.</p>
</div>
<div class="paragraph">
<p>On an initial request to a Faces webapp, the
request character encoding is left unmodified, relying on the underlying
request object (e.g., the servlet or portlet request) to parse request
parameter correctly.</p>
</div>
<div class="paragraph">
<p>[P1-start-setLocale]At the beginning of the
render-response phase, the ViewHandler must ensure that the response
Locale is set to be that of the UIViewRoot, for example by calling
<em>ServletResponse.setLocale()</em> when running in the servlet
environment.[P1-end] Setting the response Locale may affect the response
character encoding, see the Servlet and Portlet specifications for
details.</p>
</div>
<div class="paragraph">
<p>[P1-start-encoding]At the end of the
render-response phase, the ViewHandler must store the response character
encoding used by the underlying response object (e.g., the servlet or
portlet response) in the session (if and only if a session already
exists) under a well known, implementation-dependent key.</p>
</div>
<div class="paragraph">
<p>On a subsequent postback, before any
of the ExternalContext methods for accessing request parameters are
invoked, the ViewHandler must examine the Content-Type header to read
the charset attribute and use its value to set it as the request
encoding for the underlying request object. If the Content-Type header
doesn&#8217;t contain a charset attribute, the encoding previously stored in
the session (if and only if a session already exists), must be used to
set the encoding for the underlying request object. If no character
encoding is found, the request encoding must be left unmodified.[P1-end]</p>
</div>
<div class="paragraph">
<p>The above algorithm allows an application to
use the mechanisms of the underlying technologies to adjust both the
request and response encoding in an application-specific manner, for
instance using the page directive with a fixed character encoding
defined in the contentType attribute in a Jakarta Server Pages page, see the Servlet,
Portlet and Jakarta Server Pages specifications for details. Note, though, that the
character encoding rules prior to Servlet 2.4 and Jakarta Server Pages 2.0 are imprecise
and special care must be taken for portability between containers.</p>
</div>
</div>
<div class="sect4">
<h5 id="localized-text"><a class="anchor" href="#localized-text"></a>2.5.2.3. Localized Text</h5>
<div class="paragraph">
<p>There is no direct support for this in the
API, but the Jakarta Server Pages layer provides a convenience tag that converts a
<em>ResourceBundle</em> into a <em>java.util.Map</em> and stores it in the scoped
namespace so all may get to it. This section describes how resources
displayed to the end user may be localized. This includes images,
labels, button text, tooltips, alt text, etc.</p>
</div>
<div class="paragraph">
<p>Since most Jakarta Faces components allow pulling their
display value from the model tier, it is easy to do the localization at
the model tier level. As a convenience, Jakarta Faces provides the
<em>&lt;f:loadBundle&gt;</em> tag, which takes a <em>ResourceBundle</em> and loads it into a
<em>Map</em> , which is then stored in the scoped namespace in request scope,
thus making its messages available using the same mechanism for
accessing data in the model tier. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:loadBundle</span> <span class="attribute-name">basename</span>=<span class="error">”</span><span class="attribute-value">com.foo.industryMessages.chemical</span><span class="error">”</span>
              <span class="attribute-name">var</span>=<span class="error">”</span><span class="attribute-value">messages</span><span class="error">”</span> <span class="tag">/&gt;</span>
<span class="tag">&lt;h:outputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">\</span><span class="error">{</span><span class="attribute-value">messages.benzene</span><span class="error">}</span><span class="error">”</span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This must cause the <em>ResourceBundle</em> named
<em>com.foo.industryMessages.chemical</em> to be loaded as a Map into the
request scope under the key <em>messages</em> . Localized content can then be
pulled out of it using the normal value expression syntax.</p>
</div>
</div>
<div class="sect4">
<h5 id="a584"><a class="anchor" href="#a584"></a>2.5.2.4. Localized Application Messages</h5>
<div class="paragraph">
<p>This section describes how Jakarta Faces handles
localized error and informational messages that occur as a result of
conversion, validation, or other application actions during the request
processing lifecycle. The Jakarta Faces class
<em>jakarta.faces.application.FacesMessage</em> is provided to encapsulate
summary, detail, and severity information for a message.
[P1-start-bundle]A Jakarta Faces implementation must provide a
<em>jakarta.faces.Messages ResourceBundle</em> containing all of the necessary
keys for the standard messages. The required keys (and a non-normative
indication of the intended message text) are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>jakarta.faces.component.UIInput.CONVERSION&#8201;&#8212;&#8201;{0}: Conversion error occurred</p>
</li>
<li>
<p>jakarta.faces.component.UIInput.REQUIRED&#8201;&#8212;&#8201;{0}: Validation Error: Value is required</p>
</li>
<li>
<p>jakarta.faces.component.UIInput.UPDATE&#8201;&#8212;&#8201;{0}:
An error occurred when processing your submitted information</p>
</li>
<li>
<p>jakarta.faces.component.UISelectOne.INVALID&#8201;&#8212;&#8201;{0}: Validation Error: Value is not valid</p>
</li>
<li>
<p>jakarta.faces.component.UISelectMany.INVALID&#8201;&#8212;&#8201;{0}: Validation Error: Value is not valid</p>
</li>
<li>
<p>jakarta.faces.converter.BigDecimalConverter.DECIMAL={2}:
''{0}'' must be a signed decimal number.</p>
</li>
<li>
<p>jakarta.faces.converter.BigDecimalConverter.DECIMAL_detail={2}:
''{0}'' must be a signed decimal number consisting of zero or more
digits, that may be followed by a decimal point and fraction. Example:
{1}</p>
</li>
<li>
<p>jakarta.faces.converter.BigIntegerConverter.BIGINTEGER={2}:
''{0}'' must be a number consisting of one or more digits.</p>
</li>
<li>
<p>jakarta.faces.converter.BigIntegerConverter.BIGINTEGER_detail={2}:
''{0}'' must be a number consisting of one or more digits. Example:
{1}</p>
</li>
<li>
<p>jakarta.faces.converter.BooleanConverter.BOOLEAN={1}:
''{0}'' must be 'true' or 'false'.</p>
</li>
<li>
<p>jakarta.faces.converter.BooleanConverter.BOOLEAN_detail={1}:
''{0}'' must be 'true' or 'false'. Any value other than 'true' will
evaluate to 'false'.</p>
</li>
<li>
<p>jakarta.faces.converter.ByteConverter.BYTE={2}:
''{0}'' must be a number between -128 and 127.</p>
</li>
<li>
<p>jakarta.faces.converter.ByteConverter.BYTE_detail={2}:
''{0}'' must be a number between -128 and 127. Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.CharacterConverter.CHARACTER={1}:
''{0}'' must be a valid character.</p>
</li>
<li>
<p>jakarta.faces.converter.CharacterConverter.CHARACTER_detail={1}:
''{0}'' must be a valid ASCII character.</p>
</li>
<li>
<p>jakarta.faces.converter.DateTimeConverter.DATE={2}:
''{0}'' could not be understood as a date.</p>
</li>
<li>
<p>jakarta.faces.converter.DateTimeConverter.DATE_detail={2}:
''{0}'' could not be understood as a date. Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.DateTimeConverter.TIME={2}:
''{0}'' could not be understood as a time.</p>
</li>
<li>
<p>jakarta.faces.converter.DateTimeConverter.TIME_detail={2}:
''{0}'' could not be understood as a time. Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.DateTimeConverter.DATETIME={2}:
''{0}'' could not be understood as a date and time.</p>
</li>
<li>
<p>jakarta.faces.converter.DateTimeConverter.DATETIME_detail={2}:
''{0}'' could not be understood as a date and time. Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.DateTimeConverter.PATTERN_TYPE={1}:
A 'pattern' or 'type' attribute must be specified to convert the value
''{0}''.</p>
</li>
<li>
<p>jakarta.faces.converter.DoubleConverter.DOUBLE={2}:
''{0}'' must be a number consisting of one or more digits.</p>
</li>
<li>
<p>jakarta.faces.converter.DoubleConverter.DOUBLE_detail={2}:
''{0}'' must be a number between 4.9E-324 and 1.7976931348623157E308
Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.EnumConverter.ENUM={2}:
''{0}'' must be convertible to an enum.</p>
</li>
<li>
<p>jakarta.faces.converter.EnumConverter.ENUM_detail={2}:
''{0}'' must be convertible to an enum from the enum that contains the
constant ''{1}''.</p>
</li>
<li>
<p>jakarta.faces.converter.EnumConverter.ENUM_NO_CLASS={1}:
''{0}'' must be convertible to an enum from the enum, but no enum class
provided.</p>
</li>
<li>
<p>jakarta.faces.converter.EnumConverter.ENUM_NO_CLASS_detail={1}:
''{0}'' must be convertible to an enum from the enum, but no enum class
provided.</p>
</li>
<li>
<p>jakarta.faces.converter.FloatConverter.FLOAT={2}:
''{0}'' must be a number consisting of one or more digits.</p>
</li>
<li>
<p>jakarta.faces.converter.FloatConverter.FLOAT_detail={2}:
''{0}'' must be a number between 1.4E-45 and 3.4028235E38 Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.IntegerConverter.INTEGER={2}:
''{0}'' must be a number consisting of one or more digits.</p>
</li>
<li>
<p>jakarta.faces.converter.IntegerConverter.INTEGER_detail={2}:
''{0}'' must be a number between -2147483648 and 2147483647 Example:
{1}</p>
</li>
<li>
<p>jakarta.faces.converter.LongConverter.LONG={2}:
''{0}'' must be a number consisting of one or more digits.</p>
</li>
<li>
<p>jakarta.faces.converter.LongConverter.LONG_detail={2}:
''{0}'' must be a number between -9223372036854775808 to
9223372036854775807 Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.NumberConverter.CURRENCY={2}:
''{0}'' could not be understood as a currency value.</p>
</li>
<li>
<p>jakarta.faces.converter.NumberConverter.CURRENCY_detail={2}:
''{0}'' could not be understood as a currency value. Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.NumberConverter.PERCENT={2}:
''{0}'' could not be understood as a percentage.</p>
</li>
<li>
<p>jakarta.faces.converter.NumberConverter.PERCENT_detail={2}:
''{0}'' could not be understood as a percentage. Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.NumberConverter.NUMBER={2}:
''{0}'' is not a number.</p>
</li>
<li>
<p>jakarta.faces.converter.NumberConverter.NUMBER_detail={2}:
''{0}'' is not a number. Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.NumberConverter.PATTERN={2}:
''{0}'' is not a number pattern.</p>
</li>
<li>
<p>jakarta.faces.converter.NumberConverter.PATTERN_detail={2}:
''{0}'' is not a number pattern. Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.ShortConverter.SHORT={2}:
''{0}'' must be a number consisting of one or more digits.</p>
</li>
<li>
<p>jakarta.faces.converter.ShortConverter.SHORT_detail={2}:
''{0}'' must be a number between -32768 and 32767 Example: {1}</p>
</li>
<li>
<p>jakarta.faces.converter.STRING={1}: Could not
convert ''{0}'' to a string.</p>
</li>
<li>
<p>jakarta.faces.validator.BeanValidator.MESSAGE&#8201;&#8212;&#8201;{0}</p>
</li>
<li>
<p>jakarta.faces.validator.DoubleRangeValidator.MAXIMUM&#8201;&#8212;&#8201;{1}: Validation Error: Value is greater than allowable maximum of
‘’{0}’’</p>
</li>
<li>
<p>jakarta.faces.validator.DoubleRangeValidator.MINIMUM&#8201;&#8212;&#8201;{1}: Validation Error: Value is less than allowable minimum of
‘’{0}’’</p>
</li>
<li>
<p>jakarta.faces.validator.DoubleRangeValidator.NOT_IN_RANGE&#8201;&#8212;&#8201;{2}: Validation Error: Specified attribute is not between the
expected values of {0} and {1}.</p>
</li>
<li>
<p>jakarta.faces.validator.DoubleRangeValidator.TYPE&#8201;&#8212;&#8201;{0}: Validation Error: Value is not of the correct type</p>
</li>
<li>
<p>jakarta.faces.validator.LengthValidator.MAXIMUM&#8201;&#8212;&#8201;{1}: Validation Error: Length is greater than allowable maximum of
‘’{0}’’</p>
</li>
<li>
<p>jakarta.faces.validator.LengthValidator.MINIMUM&#8201;&#8212;&#8201;{1}: Validation Error: Length is less than allowable minimum of
‘’{0}’’</p>
</li>
<li>
<p>jakarta.faces.validator.LongRangeValidator.MAXIMUM&#8201;&#8212;&#8201;{1}: Validation Error: Value is greater than allowable maximum of
‘’{0}’’</p>
</li>
<li>
<p>jakarta.faces.validator.LongRangeValidator.MINIMUM&#8201;&#8212;&#8201;{1}: Validation Error Value is less than allowable minimum of
‘’{0}’’</p>
</li>
<li>
<p>jakarta.faces.validator.LongRangeValidator.NOT_IN_RANGE={2}:
Validation Error: Specified attribute is not between the expected values
of {0} and {1}.</p>
</li>
<li>
<p>jakarta.faces.validator.LongRangeValidator.TYPE&#8201;&#8212;&#8201;{0}: Validation Error: Value is not of the correct type</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following message keys are deprecated:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>jakarta.faces.validator.NOT_IN_RANGE&#8201;&#8212;&#8201;Specified attribute is not between the expected values of {0} and
{1}[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A Jakarta Faces application may provide its own
messages, or overrides to the standard messages by supplying a
<em>&lt;message-bundle&gt;</em> element to in the application configuration
resources. Since the <em>ResourceBundle</em> provided in the Java platform has
no notion of summary or detail, Jakarta Faces adopts the policy that
<em>ResourceBundle</em> key for the message looks up the message summary. The
detail is stored under the same key as the summary, with <em>_detail</em>
appended. [P1-start-bundleKey]These <em>ResourceBundle</em> keys must be used
to look up the necessary values to create a localized <em>FacesMessage</em>
instance. Note that the value of the summary and detail keys in the
<em>ResourceBundle</em> may contain parameter substitution tokens, which must
be substituted with the appropriate values using
<em>java.text.MessageFormat</em> .[P1-end] Replace the last parameter
substitution token shown in the messages above with the input
component’s <em>label</em> attribute. For example, <em>{1}</em> for
<em>“DoubleRangeValidator.MAXIMUM”, {2}</em> for <em>“ShortConverter.SHORT”.</em> The
<em>label</em> attribute is a generic attribute. Please see
<em><a href="#a993">See Generic Attributes</a></em> and
<em><a href="#a4314">See Standard HTML RenderKit
Implementation</a></em> for more information on these attributes. If the input
component’s <em>label</em> attribute is not specified, use the component’s
client identifier.</p>
</div>
<div class="paragraph">
<p>These messages can be displayed in the page
using the <em>UIMessage</em> and <em>UIMessages</em> components and their
corresponding tags, <em>&lt;h:message&gt;</em> and <em>&lt;h:messages&gt;.</em></p>
</div>
<div class="paragraph">
<p>[P1-start-facesMessage]The following
algorithm must be used to create a <em>FacesMessage</em> instance given a
message key.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call <em>getMessageBundle()</em> on the
<em>Application</em> instance for this web application, to determine if the
application has defined a resource bundle name. If so, load that
ResourceBundle and look for the message there.</p>
</li>
<li>
<p>If not there, look in the
<em>jakarta.faces.Messages</em> resource bundle.</p>
</li>
<li>
<p>In either case, if a message is found,
use the above conventions to create a <em>FacesMessage</em> instance.[P1-end]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="state-management"><a class="anchor" href="#state-management"></a>2.5.3. State Management</h4>
<div class="paragraph">
<p>Jakarta Server Faces introduces a powerful and
flexible system for saving and restoring the state of the view between
requests to the server. It is useful to describe state management from
several viewpoints. For the page author, state management happens
transparently. For the app assembler, state management can be configured
to save the state in the client or on the server by setting the
ServletContext InitParameter named <em>jakarta.faces.STATE_SAVING_METHOD</em> to
either <em>client</em> or <em>server</em> . The value of this parameter directs the
state management decisions made by the implementation.</p>
</div>
<div class="sect4">
<h5 id="state-management-considerations-for-the-custom-component-author"><a class="anchor" href="#state-management-considerations-for-the-custom-component-author"></a>2.5.3.1. State Management Considerations for the Custom Component Author</h5>
<div class="paragraph">
<p>Since the component developer cannot know
what the state saving method will be at runtime, they must be aware of
state management. As shown in <a href="#a1834">See The
jakarta.faces.component package</a>, all Jakarta Faces components implement the
<em>StateHolder</em> interface. As a consequence the standard components
provide implementations of <em>PartialStateHolder</em> to suit their needs.
[P1-start-componentStateHolder]A custom component that extends
<em>UIComponent</em> directly, and does not extend any of the standard
components, must implement <em>PartialStateHolder</em> (or its older
super-interface, <em>StateHolder</em> ), manually. The helper class
<em>StateHelper</em> exists to simplify this process for the custom component
author. [P1-end]Please see <em><a href="#a1159">See
PartialStateHolder</a></em> or <a href="#a1138">See StateHolder</a> for
details.</p>
</div>
<div class="paragraph">
<p>A custom component that does extend from one
of the standard components and maintains its own state, in addition to
the state maintained by the superclass must take special care to
implement <em>StateHolder</em> or <em>PartialStateHolder</em> correctly.
[P1-start-saveState]Notably, calls to <em>saveState()</em> must not alter the
state in any way.[P1-end] The subclass is responsible for saving and
restoring the state of the superclass. Consider this example. My custom
component represents a “slider” ui widget. As such, it needs to keep
track of the maximum value, minimum value, and current values as part of
its state.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Slider</span> <span class="directive">extends</span> UISelectOne {
  <span class="directive">protected</span> <span class="predefined-type">Integer</span> min = <span class="predefined-constant">null</span>;
  <span class="directive">protected</span> <span class="predefined-type">Integer</span> max = <span class="predefined-constant">null</span>;
  <span class="directive">protected</span> <span class="predefined-type">Integer</span> cur = <span class="predefined-constant">null</span>;

  <span class="comment">// ... details omitted</span>
  <span class="directive">public</span> <span class="predefined-type">Object</span> saveState(FacesContext context) {
    <span class="predefined-type">Object</span> values<span class="type">[]</span> = <span class="keyword">new</span> <span class="predefined-type">Object</span>[<span class="integer">4</span>];
    values[<span class="integer">0</span>] = <span class="local-variable">super</span>.saveState(context);
    values[<span class="integer">1</span>] = min;
    values[<span class="integer">2</span>] = max;
    values[<span class="integer">3</span>] = cur;
  }

  <span class="directive">public</span> <span class="type">void</span> restoreState(FacesContext context, <span class="predefined-type">Object</span> state) {
    <span class="predefined-type">Object</span> values<span class="type">[]</span> = (<span class="predefined-type">Object</span> {}) state; <span class="comment">// guaranteed to succeed</span>
    <span class="local-variable">super</span>.restoreState(context, values[<span class="integer">0</span>]);
    min = (<span class="predefined-type">Integer</span>) values[<span class="integer">1</span>];
    max = (<span class="predefined-type">Integer</span>) values[<span class="integer">2</span>];
    cur = (<span class="predefined-type">Integer</span>) values[<span class="integer">3</span>];
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that we call <em>super.saveState()</em> and
<em>super.restoreState()</em> as appropriate. This is absolutely vital! Failing
to do this will prevent the component from working.</p>
</div>
</div>
<div class="sect4">
<h5 id="state-management-considerations-for-the-jakarta-faces-implementor"><a class="anchor" href="#state-management-considerations-for-the-jakarta-faces-implementor"></a>2.5.3.2. State Management Considerations for the Jakarta Faces Implementor</h5>
<div class="paragraph">
<p>The intent of the state management facility
is to make life easier for the page author, app assembler, and component
author. However, the complexity has to live somewhere, and the Jakarta Faces
implementor is the lucky role. Here is an overview of the key players.
Please see the javadocs for each individual class for more information.</p>
</div>
<div class="ulist">
<div class="title">Key Players in State Management</div>
<ul>
<li>
<p><em>StateHelper</em> the helper class that defines
a <em>Map</em> -like contract that makes it easier for components to implement
<em>PartialStateHolder</em> .</p>
</li>
<li>
<p><em>ViewHandler</em> the entry point to the state
management system. Uses a helper class, <em>StateManager</em> , to do the
actual work. In the Jakarta Server Pages case, delegates to the tag handler for the
<em>&lt;f:view&gt;</em> tag for some functionality.</p>
</li>
<li>
<p><em>StateManager</em> abstraction for the hard work
of state saving. Uses a helper class, <em>ResponseStateManager</em> , for the
rendering technology specific decisions.</p>
</li>
<li>
<p><em>ResponseStateManager</em> abstraction for
rendering technology specific state management decisions.</p>
</li>
<li>
<p><em>UIComponent</em> directs process of saving and
restoring individual component state.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a685"><a class="anchor" href="#a685"></a>2.5.4. Resource Handling</h4>
<div class="paragraph">
<p>This section only applies to pages written
using Facelets. <a href="#a746">See
Resource Handling</a> is the starting point for the normative specification
for Resource Handling. This section gives a non-normative overview of
the feature. The following steps walk through the points in the
lifecycle where this feature is encountered. Consider a Faces web
application that contains resources that have been packaged into the
application as specified in <a href="#a748">See Packaging
Resources</a>. Assume each page in the application includes references to
resources, specifically scripts and stylesheets. The first diagram in
this chapter is helpful in understanding this example.</p>
</div>
<div class="paragraph">
<p>Consider an initial request to the
application.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>ViewHandler</em> calls
<em>ViewDeclarationLanguage.buildView()</em> . This ultimately causes the
<em>processEvent()</em> method for the <em>jakarta.faces.resource.Script</em> and
<em>jakarta.faces.resource.Stylesheet</em> renderers (which implement
<em>ComponentSystemEventListener)</em> to be called after each component that
declares them as their renderer is added to the view. This method is
specified to take actions that cause the resource to be rendered at the
correct part in the page based on user-specified or application
invariant rules. Here’s how it works.</p>
</li>
<li>
<p>Every <em>UIComponent</em> instance in a view is
created with a call to some variant of <em>Application.createComponent()</em> .
The specification for this method now includes some annotation
processing requirements. If the component or its renderer has an
<em>@ListenerFor</em> or <em>@ListenersFor</em> annotation, and the <em>Script</em> and
<em>Stylesheet</em> renderers must, the component or its renderer are added as
a component scoped listener for the appropriate event. In the case of
<em>Script</em> and <em>Stylesheet</em> renderers, they must listen for the
<em>PostAddToViewEvent</em> .</p>
</li>
<li>
<p>When the <em>processEvent()</em> method is called on
a <em>Script</em> or <em>Stylesheet</em> renderer, the renderer takes the specified
action to move the component to the proper point in the tree based on
what kind of resource it is, and on what hints the page author has
declared on the component in the view.</p>
</li>
<li>
<p>The <em>ViewHandler</em> calls
<em>ViewDeclarationLanguage.renderView()</em> . The view is traversed as normal
and because the components with <em>Script</em> and <em>Stylesheet</em> renderers have
already been reparented to the proper place in the view, the normal
renderering causes the resource to be encoded as described in
RequestProcessingLifecycle.adoc#a842,See Rendering Resources&gt;&gt;.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The browser then parses the completely
rendered page and proceeds to issue subsequent requests for the
resources included in the page.</p>
</div>
<div class="paragraph">
<p>Now consider a request from the browser for
one of those resources included in the page.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The request comes back to the Faces server.
The <em>FacesServlet</em> is specified to call
<em>ResourceHandler.isResourceRequest()</em> as shown in the diagram in
<a href="#a390">See Faces Request Generates Faces Response</a>.
In this case, the method returns <em>true</em> . The <em>FacesServlet</em> is
specified to call <em>ResourceHandler.handleResourceRequest()</em> to serve up
the bytes of the resource.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="a695"><a class="anchor" href="#a695"></a>2.5.5. View Parameters</h4>
<div class="paragraph">
<p>This section only applies to pages written
using Facelets. The normative specification for this
feature is spread out across several places, including the View
Declaration Language Documentation for the <em>&lt;f:metadata&gt;</em> element, the
javadocs for the <em>UIViewParameter</em> , <em>ViewHandler</em> , and
<em>ViewDeclarationLanguage</em> classes, and the spec language requirements
for the default <em>NavigationHandler</em> and the Request Processing
Lifecycle. This leads to a very diffuse field of specification
requirements. To aid in understanding the feature, this section provides
a non-normative overview of the feature. The following steps walk
through the points in the lifecycle where this feature is encountered.
Consider a web application that uses this feature exclusively on every
page. Therefore every page has the following features in common.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Every page has an <em>&lt;f:metadata&gt;</em> tag, with at
least one <em>&lt;f:viewParameter&gt;</em> element within it.</p>
</li>
<li>
<p>Every page has at least one <em>&lt;h:link&gt;</em> or &lt;
<em>h:button&gt;</em> with the appropriate parameters nested within it.</p>
</li>
<li>
<p>No other kind of navigation components are
used in the application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Consider an initial request to the
application.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>As specified in section
<a href="#a404">See Restore View</a>, the restore view phase of
the request processing lifecycle detects that this is an initial request
and tries to obtain the <em>ViewDeclarationLanguage</em> instance from the
<em>ViewHandler</em> for this <em>viewId</em> . Because every page in the app is
written in Facelets, there is a <em>ViewDeclarationLanguage</em>
instance. Restore view phase calls
<em>ViewDeclarationLanguage.getViewMetadata()</em> . Because every view in this
particular app does have <em>&lt;f:metadata&gt;</em> on every page, this method
returns a <em>ViewMetadata</em> instance. Restore view phase calls
<em>MetaData.createMetadataView()</em> . This method creates a <em>UIViewRoot</em>
containing only children declared in the <em>&lt;f:metadata&gt;</em> element. Restore
view phase calls <em>ViewMetadata.getViewParameters()</em> . Because every
<em>&lt;f:metadata&gt;</em> in the app has at least one <em>&lt;f:viewParameter&gt;</em> element
within it, this method returns a non empty <em>Collection&lt;UIViewParameter&gt;</em>.
Restore view phase uses this fact to decide that the lifecycle must
not skip straight to render response, as is the normal action taken on
initial requests.</p>
</li>
<li>
<p>The remaining phases of the request
processing lifecycle execute: apply request values, process validations,
update model values, invoke application, and finally render response.
Because the view only contains <em>UIViewParameter</em> children, only these
children are traversed during the lifecycle, but because this is an
initial request, with no query parameters, none of these compnents take
any action during the lifecycle.</p>
</li>
<li>
<p>Because the pages exclusively use <em>&lt;h:link&gt;</em>
and <em>&lt;h:button&gt;</em> for their navigation, the renderers for these
components are called during the rendering of the page. As specified in
the renderkit docs for the renderers for those components, markup is
rendered that causes the browser to issue a GET request with query
parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Consider when the user clicks on a link in
the application. The browser issues a GET request with query parameters</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Restore view phase takes the same action as
in the previously explained request. Because this is a GET request, no
state is restored from the previous request.</p>
</li>
<li>
<p>Because this is a request with query
parameters, the <em>UIViewParameter</em> children do take action when they are
traversed during the normal lifecycle, reading values during the apply
request values phase, doing conversion and processing validators
attached to the <em>&lt;f:viewParam&gt;</em> elements, if any, and updating models
during the update model values phase. Because there are only <em>&lt;h:link&gt;</em>
and <em>&lt;h:button&gt;</em> navigation elements in the page, no action action will
happen during the invoke application phase. The response is re-rendered
as normal. In such an application, the only navigation to a new page
happens by virtue of the browser issuing a GET request to a different
viewId.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="a707"><a class="anchor" href="#a707"></a>2.5.6. Bookmarkability</h4>
<div class="paragraph">
<p>Jakarta Faces has a bookmarking
capability with the use of two Standard HTML RenderKit additions.</p>
</div>
<div class="paragraph">
<p>Provided is a component (UIOutcomeTarget)
that provides properties that are used to produce a hyperlink at render
time. The component can appear in the form of a button or a link. This
feature introduces a concept known as “preemptive navigation”, which
means the target URL is determined at Render Response time - before the
user has activated the component. This feature allows the user to
leverage the navigation model while also providing the ability to
generate bookmarkable non-faces requests.</p>
</div>
</div>
<div class="sect3">
<h4 id="a710"><a class="anchor" href="#a710"></a>2.5.7. Jakarta Bean Validation</h4>
<div class="paragraph">
<p>Jakarta Faces supports Jakarta Bean Validation.
[p1-beanValidationRequired]A Jakarta Faces implementation must support Jakarta Bean
Validation if the environment in which the Jakarta Faces runtime is included
requires Jakarta Bean Validation. Currently the only such environment is
when Jakarta Faces is included in a Jakarta EE runtime.[p1-end]</p>
</div>
<div class="paragraph">
<p>A detailed description of the usage of Jakarta Bean
Validation with Jakarta Faces is beyond the scope of this section, but this
section will provide a brief overview of the feature, touching on the
points of interest to a spec implementor. Consider a simple web
application that has one page, written in Facelets, that has
several text fields inside of a form. This application is running in a
Jakarta Faces runtime in an environment that does require Jakarta Bean Validation,
and therefore this feature is available. Assume that every text field is
bound to a managed bean property that has at least one Jakarta Bean Validation
constraint annotation attached to it.</p>
</div>
<div class="paragraph">
<p>During the render response phase that always
precedes a postback, due to the specification requirements in
<a href="#a1419">See Validation Registration</a>, every
<em>UIInput</em> in this application has an instance of <em>Validator</em> with id
<em>jakarta.faces.Bean</em> attached to it.</p>
</div>
<div class="paragraph">
<p>During the process validations phase, due to
the specification for the <em>validate()</em> method of this <em>Validator</em> , Bean
Validation is invoked automatically, for the user specified validation
constraints, whenever such components are normally validated. The
<em>jakarta.faces.Bean</em> standard validator also ensures that every
<em>ConstraintViolation</em> that resulted in attempting to validate the model
data is wrapped in a <em>FacesMessage</em> and added to the <em>FacesContext</em> as
normal with every other kind of validator.</p>
</div>
<div class="paragraph">
<p>See also <a href="#a1461">See Bean
Validation Integration</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a716"><a class="anchor" href="#a716"></a>2.5.8. Ajax</h4>
<div class="paragraph">
<p>Jakarta Faces supports Ajax. The specification contains a JavaScript library for
performing basic Ajax operations. The library helps define a standard
way of sending an Ajax request, and processing an Ajax response, since
these are problem areas for component compatibility. The specification
provides two ways of adding Ajax to Jakarta Faces web applications. Page authors
may use the JavaScript library directly in their pages by attaching the
Ajax request call to a Jakarta Faces component via a JavaScript event (such as
onclick). They may also take a more declarative approach and use a core
Facelets tag (&lt;f:ajax/&gt;) that they can nest within Jakarta Faces components to
“Ajaxify” them. It is also possible to “Ajaxify” regions of a page by
“wrapping” the tag around component groups.</p>
</div>
<div class="paragraph">
<p>The server side aspects of Jakarta Faces Ajax
frameworks work with the standard Jakarta Faces lifecycle. In addition to
providing a standard page authoring experience, the specification also
standardizes the server side processing of Ajax requests. Selected
components in a Jakarta Faces view can be processed (known as partial processing)
and selected components can be rendered to the client (known as partial
rendering).</p>
</div>
</div>
<div class="sect3">
<h4 id="a720"><a class="anchor" href="#a720"></a>2.5.9. Component Behaviors</h4>
<div class="paragraph">
<p>The Jakarta Faces specification contains a type
of attached object known as component behaviors. Component behaviors
play a similar role to converters and validators in that they are
attached to a component instance in order to enhance the component with
additional functionality not defined by the component itself. While
converters and validators are currently limited to the server-side
request processing lifecycle, component behaviors have impact that
extends to the client, within the scope of a particular instance
component in a view. In particular, the <em>ClientBehavior</em> interface
defines a contract for behaviors that can enhance a component&#8217;s rendered
content with behavior-defined "scripts". These scripts are executed on
the client in response to end user interaction, but can also trigger
postbacks back into the Jakarta Faces request processing lifecycle.</p>
</div>
<div class="paragraph">
<p>The usage pattern for client behaviors is as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The page author attaches a client behavior to
a component, typically by specifying a behavior tag as a child of a
component tag.</p>
</li>
<li>
<p>When attaching a client behavior to a
component, the page author identifies the name of a client "event" to
attach to. The set of valid events are defined by the component.</p>
</li>
<li>
<p>At render time, the component (or renderer)
retrieves the client behavior and asks it for its script.</p>
</li>
<li>
<p>The component (or renderer) renders this
script at the appropriate location in its generated content (eg.
typically in a DOM event handler).</p>
</li>
<li>
<p>When the end user interacts with the
component&#8217;s content in the browser, the behavior-defined script is
executed in response to the page author-specified event.</p>
</li>
<li>
<p>The script provides some client-side
interaction, for example, hiding or showing content or validating input
on the client, and possibly posts back to the server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first client behavior provided by the Jakarta Faces
specification is the <em>AjaxBehavior</em> . This behavior is exposed to a page
author as a Facelets <em>&lt;f:ajax&gt;</em> tag, which can be embedded within any of
the standard HTML components as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:commandButton&gt;</span>
  <span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">mouseover</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/h:commandButton&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When activated in response to end user
activity, the <em>&lt;f:ajax&gt;</em> client behavior generates an Ajax request back
into the Jakarta Faces request processing lifecycle.</p>
</div>
<div class="paragraph">
<p>The component behavior framework is
extensible and allows developers to define custom behaviors and also
allows component authors to enhance custom components to work with
behaviors.</p>
</div>
</div>
<div class="sect3">
<h4 id="system-events"><a class="anchor" href="#system-events"></a>2.5.10. System Events</h4>
<div class="paragraph">
<p>System Events are normatively specified in
<a href="#a1359">See System Events</a>. This section provides an
overview of this feature as it relates to the lifecycle.</p>
</div>
<div class="paragraph">
<p>System events expand on the idea of lifecycle
<em>PhaseEvent</em> s. With <em>PhaseEvent</em> s, it is possible to have application
scoped <em>PhaseListeners</em> that are given the opportunity to act on the
system before and after each phase in the lifecycle. System events
provide a much more fine grained insight into the system, allowing
application or component scoped listeners to be notified of a variety of
kinds of events. The set of events supported in the core specification
is given in <a href="#a1361">See Event
Classes</a>. To accomodate extensibility, users may define their own kinds
of events.</p>
</div>
<div class="paragraph">
<p>The system event feature is a simple
publish/subscribe event model. There is no event queue, events are
published immediately, and always with a call to
<em>Application.publishEvent()</em> . There are several ways to declare
interest in a particular kind of event.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call <em>Application.subscribeToEvent()</em> to add
an application scoped listener.</p>
</li>
<li>
<p>Call <em>UIComponent.subscribeToEvent()</em> to add
a component scoped listener.</p>
</li>
<li>
<p>Use the <em>&lt;f:event&gt;</em> tag to declare a
component scoped listener.</p>
</li>
<li>
<p>Use the <em>@ListenerFor</em> or <em>@ListenersFor</em>
annotation. The scope of the listener is determined by the code that
processes the annotation.</p>
</li>
<li>
<p>Use the <em>&lt;system-event-listener&gt;</em> element in
an application configuration resource to add an application scoped
listener.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This feature is conceptually related to the
lifecycle because there are calls to <em>Application.publishEvent()</em>
sprinkled throughout the code that gets executed when the lifecycle
runs.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a746"><a class="anchor" href="#a746"></a>2.6. Resource Handling</h3>
<div class="paragraph">
<p>As shown in the diagram in <a href="#a390">See Faces Request Generates Faces Response</a>,
[P1-start isResourceRequest rules] the Jakarta Faces run-time must determine if the current Faces
Request is a <em>Faces Resource Request</em> or a <em>View Request</em> . This must be accomplished by
calling <em>Application.getResourceHandler().isResourceRequest()</em> . [P1-end]
Most of the normative specification for resource handling is contained in the Javadocs
for <em>ResourceHandler</em> and its related classes. This section contains the specification
for resource handling that fits best in prose, rather than in Javadocs.</p>
</div>
<div class="sect3">
<h4 id="a748"><a class="anchor" href="#a748"></a>2.6.1. Packaging Resources</h4>
<div class="paragraph">
<p>ResourceHandler defines a path based
packaging convention for resources. The default implementation of
ResourceHandler must support packaging resources in the web application
root or in the classpath, according to the following specification.Other
implementations of ResourceHandler are free to package resources however
they like.</p>
</div>
<div class="sect4">
<h5 id="a750"><a class="anchor" href="#a750"></a>2.6.1.1. Packaging Resources into the Web Application Root</h5>
<div class="paragraph">
<p>[P1-start web app packaging ] The default
implementation must support packaging resources in the web application
root under the path</p>
</div>
<div class="paragraph">
<p><em>resources/&lt;resourceIdentifier&gt;</em></p>
</div>
<div class="paragraph">
<p>relative to the web app root. Resources
packaged into the web app root must be accessed using the
<em>getResource*()</em> methods on <em>ExternalContext.</em> [P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a754"><a class="anchor" href="#a754"></a>2.6.1.2. Packaging Resources into the Classpath</h5>
<div class="paragraph">
<p>[P1-start classpath packaging ]For the
default implementation, resources packaged in the classpath must reside
under the JAR entry name:</p>
</div>
<div class="paragraph">
<p><em>META-INF/resources/&lt;resourceIdentifier&gt;</em></p>
</div>
<div class="paragraph">
<p>Resources packaged into the classpath
must be accessed using the <em>getResource*()</em> methods of the <em>ClassLoader</em>
obtained by calling the <em>getContextClassLoader()</em> method of the curreth
<em>Thread</em> .[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a758"><a class="anchor" href="#a758"></a>2.6.1.3. Resource Identifiers</h5>
<div class="paragraph">
<p><em>&lt;resourceIdentifier&gt;</em> consists of several
segments, specified as follows.</p>
</div>
<div class="paragraph">
<p>[P1-start requirements for something
to be considered a valid resourceIdentifier]</p>
</div>
<div class="paragraph">
<p><em>[localePrefix/][libraryName/][libraryVersion/]resourceName[/resourceVersion]</em></p>
</div>
<div class="paragraph">
<p>The run-time must enforce the following rules
to consider a <em>&lt;resourceIdentifier&gt;</em> valid. A <em>&lt;resourceIdentifier&gt;</em>
that does not follow these rules must not be considered valid and must
be ignored silently.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The set of characters that are valid for use
in the <em>localePrefix</em> , <em>libraryName</em> , <em>libraryVerison</em> ,
<em>resourceName</em> and <em>resourceVersion</em> segments of the resource identifier
is specififed as XML NameChar excluding the path separator and ‘:’
characters. The specification for XML NameChar may be seen at
<em><a href="http://www.w3.org/TR/REC-xml/#NT-NameChar" class="bare">http://www.w3.org/TR/REC-xml/#NT-NameChar</a></em> .</p>
</li>
<li>
<p>A further restriction applies to
<em>libraryName</em> . A <em>libraryName</em> must not be an underscore separated
sequence of non-negative integers or a locale string. More rigorously, a
<em>libraryName</em> must not match either of the following regular
expressions:</p>
<div class="listingblock">
<div class="content">
<pre>[0-9]+(_[0-9]+)*
[A-Za-z]{2}(_[A-Za-z]{2}(_[A-Za-z]+)*)?</pre>
</div>
</div>
</li>
<li>
<p>Segments in square brackets [] are optional.</p>
</li>
<li>
<p>The segments must appear in the order shown
above.</p>
</li>
<li>
<p>If <em>libraryVersion</em> is present, it must be
preceded by <em>libraryName.</em></p>
</li>
<li>
<p>If <em>libraryVersion</em> is present, any leaf
files under <em>libraryName</em> must be ignored.</p>
</li>
<li>
<p>If <em>resourceVersion</em> is present, it must be
preceded by <em>resourceName.</em></p>
</li>
<li>
<p>There must be a ’ <em>/</em> ’ between adjacent
segments in a <em>&lt;resourceIdentifier&gt;</em></p>
</li>
<li>
<p>If <em>libraryVersion</em> or <em>resourceVersion</em> are
present, both must be a ’ <em>_ ’ separated list of integers, neither
starting nor ending with ’ </em>_ ’</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <em>resourceVersion</em> is present, it must be a
version number in the same format as <em>libraryVersion</em> . An optional
“file extension” may be used with the <em>resourceVersion.</em> If “file
extension” is used, a “.” character, followed by a “file extension” must
be appended to the version number. See the following table for an
example.</p>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
<div class="paragraph">
<p>The following examples illustrate the nine
valid combinations of the above resource identifier segments.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 16%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>localePrefx</p>
</div>
<div class="paragraph">
<p>[optional]</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>libraryName</p>
</div>
<div class="paragraph">
<p>[optional]</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>library</p>
</div>
<div class="paragraph">
<p>Version [optional]</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>resourceName</p>
</div>
<div class="paragraph">
<p>[required]</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>resource</p>
</div>
<div class="paragraph">
<p>Version [optional]</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">actual resourceIdentifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__  </p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>duke.gif</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A non-localized, non-versioned image
resource called " <em>duke.gif</em> ", not in a library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>duke.gif</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>corporate</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>duke.gif</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A non-localized, non-versioned image
resource called " <em>duke.gif</em> " in a library called " <em>corporate</em> "</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>corporate/duke.gif</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>corporate</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>2_3</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>duke.gif</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A non-localized, non-versioned image
resource called " <em>duke.gif</em> ", in version <em>2_3</em> of the " <em>corporate</em> "
library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>corporate/2_3/duke.gif</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>basic</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>2_3</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>script.js</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1_3_4.js</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A non-localized, version <em>1.3.4</em> script
resource called " <em>script.js</em> ", in versioned <em>2_3</em></p>
</div>
<div class="paragraph">
<p>library called " <em>basic</em> ".</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>basic/2_3/script.js/1_3_4.js</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>de</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>header.css</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A non-versioned style resource called "
<em>header.css"</em> localized for locale " <em>de</em> "</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>de/header.css</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>de_AT</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>footer.css</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1_4_2.css</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version <em>1_4_2</em> of style resource "
<em>footer.css</em> ", localized for locale " <em>de_AT</em> "</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>de_AT/footer.css/1_4_2.css</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zh</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>extraFancy</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>menu-bar.css</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>2_4.css</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version <em>2_4</em> of style resource
called, " <em>menu-bar.css</em> " in non-versioned library, " <em>extraFancy</em> ",
localized for locale " <em>zh</em> "</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zh/extraFancy/menu-bar.css/2_4.css</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ja</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mild</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0_1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ajaxTransaction.js</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-versioned script resource called, "
<em>ajaxTransaction.js</em> ", in version <em>0_1</em> of library called " <em>mild</em> ",
localized for locale " <em>ja</em> "</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ja/mild/0_1/ajaxTransaction.js</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>de_ch</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>grassy</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1_0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>bg.png</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1_0.png</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version <em>1_0</em> of image resource called "
<em>bg.png</em> ", in version <em>1_0</em> of library called " <em>grassy</em> " localized
for locale " <em>de_ch</em> "</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>de_ch/grassy/1_0/bg.png/1_0.png</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="a836"><a class="anchor" href="#a836"></a>2.6.1.4. Libraries of Localized and Versioned Resources</h5>
<div class="paragraph">
<p>An important feature of the resource handler
is the ability for resources to be localized, versioned, and collected
into libraries. The localization and versioning scheme is completely
hidden behind the API of <em>ResourceHandler</em> and <em>Resource</em> and is not
exposed in any way to the Jakarta Faces run-time.</p>
</div>
<div class="paragraph">
<p>[P1-start resource versioning] The default
implementation of <em>ResourceHandler.createResource()</em> , for all variants
of that method, must implement the following to discover which actual
resource will be encapsulated within the returned <em>Resource</em> instance.
An implementation may perform caching of the resource metadata to
improve performance if the <em>ProjectStage</em> is <em>ProjectStage.Production</em> .</p>
</div>
<div class="paragraph">
<p>Using the <em>resourceName</em> and <em>libraryName</em>
arguments to <em>createResource()</em> , and the resource packaging scheme
specified in <a href="#a750">See Packaging Resources into
the Web Application Root</a>, <a href="#a754">See Packaging
Resources into the Classpath</a>, and <a href="#a758">See
Resource Identifiers</a>, discover the file or entry that contains the
bytes of the resource. If there are multiple versions of the same
library, and <em>libraryVersion</em> is not specified, the library with the
highest version is chosen. If there are multiple versions of the same
resource, and <em>resourceVersion</em> is not specified, the resource with the
highest version is chosen. The algorithm is specified in pseudocode.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">function</span> <span class="function">createResource</span>(resourceName, libraryName) {
    <span class="keyword">var</span> resource = <span class="predefined-constant">null</span>;
    <span class="keyword">var</span> resourceId = <span class="predefined-constant">null</span>;
    <span class="keyword">for</span> (<span class="keyword">var</span> contract : getLibraryContracts()) {
        resourceId = deriveResourceIdConsideringResourceLoaders(contract,
                resourceName, libraryName)
        <span class="keyword">if</span> (<span class="predefined-constant">null</span> != resourceId) {
            resource = create the resource using the resourceId;
            <span class="keyword">return</span> resource;
        }
    }

    <span class="comment">// try without a contract</span>
    resourceId = deriveResourceIdConsideringResourceLoaders(<span class="predefined-constant">null</span>,
            resourceName, libraryName)
    <span class="keyword">if</span> (<span class="predefined-constant">null</span> != resourceId) {
        resource = create the resource using the resourceId;
    }
    <span class="keyword">return</span> resource;
}

<span class="keyword">function</span> <span class="function">deriveResourceIdConsideringResourceLoaders</span>(contract,
        resourceName, libraryName) {
    <span class="keyword">var</span> prefix = web app root resource prefix;
    <span class="keyword">var</span> resourceLoader = web app resource loader;
    <span class="comment">// these are shorthand for the prefix and resource loading</span>
    <span class="comment">// facility specified in Section 2.6.1.1. They are</span>
    <span class="comment">// not actual API per se.</span>
    <span class="keyword">var</span> resourceId = deriveResourceIdConsideringLocalePrefix(contract,
            prefix, resourceLoader, resourceName, libraryName);

    <span class="keyword">if</span> (<span class="predefined-constant">null</span> == resourceId) {
        prefix = classpath resource prefix;
        resourceLoader = classpath resource loader;
        <span class="comment">// these are shorthand for the prefix and resource</span>
        <span class="comment">// loading facility specified in Section 2.6.1.2. They are</span>
        <span class="comment">// not actual API per se.</span>
        resourceId = deriveResourceIdConsideringLocalePrefix(contract,
                prefix, resourceLoader, resourceName, libraryName);
    }
    <span class="keyword">return</span> resourceId;
}

<span class="keyword">function</span> <span class="function">deriveResourceIdConsideringLocalePrefix</span>(contract, prefix,
        resourceLoader, resourceName, libraryName) {
    <span class="keyword">var</span> localePrefix = getLocalePrefix();
    <span class="keyword">var</span> result = deriveResourceId(contract, prefix, resourceLoader,
            resourceName, libraryName, localePrefix);
    <span class="comment">// If the application has been configured to have a localePrefix,</span>
    <span class="comment">// and the resource is not found, try to find it again,</span>
    <span class="comment">// without the localePrefix.</span>
    <span class="keyword">if</span> (<span class="predefined-constant">null</span> == result &amp;&amp; <span class="predefined-constant">null</span> != localePrefix) {
        result = deriveResourceId(contract, prefix, resourceLoader,
                resourceName, libraryName, <span class="predefined-constant">null</span>);
    }
    <span class="keyword">return</span> result;
}

<span class="keyword">function</span> <span class="function">deriveResourceId</span>(contract, prefix, resourceLoader,
        resourceName, libraryName, localePrefix) {
    <span class="keyword">var</span> resourceVersion = <span class="predefined-constant">null</span>;
    <span class="keyword">var</span> libraryVersion = <span class="predefined-constant">null</span>;
    <span class="keyword">var</span> resourceId;
    <span class="keyword">if</span> (<span class="predefined-constant">null</span> != localePrefix) {
        prefix = localePrefix + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + prefix;
    }
    <span class="keyword">if</span> (<span class="predefined-constant">null</span> != contract) {
        prefix = contract + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + prefix;
    }

    <span class="keyword">if</span> (<span class="predefined-constant">null</span> != libraryName) {
        <span class="comment">// actual argument is</span>
        <span class="comment">// resourcesInContractInJar/resources/resourcesInContractInJar</span>
        <span class="keyword">var</span> libraryPaths = resourceLoader.getResourcePaths(
                prefix + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + libraryName);

        <span class="keyword">if</span> (<span class="predefined-constant">null</span> != libraryPaths &amp;&amp; !libraryPaths.isEmpty()) {
            libraryVersion = <span class="comment">// execute the comment</span>
            <span class="comment">// Look in the libraryPaths for versioned libraries.</span>
            <span class="comment">// If one or more versioned libraries are found, take</span>
            <span class="comment">// the one with the highest version number as the value</span>
            <span class="comment">// of libraryVersion. If no versioned libraries</span>
            <span class="comment">// are found, let libraryVersion remain null.</span>
        }
        <span class="keyword">if</span> (<span class="predefined-constant">null</span> != libraryVersion) {
            libraryName = libraryName + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + libraryVersion;
        }
        <span class="keyword">var</span> resourcePaths = resourceLoader.getResourcePaths(
            prefix + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + libraryName + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + resourceName);
        <span class="keyword">if</span> (<span class="predefined-constant">null</span> != resourcePaths &amp;&amp; !resourcePaths.isEmpty()) {
            resourceVersion = <span class="comment">// execute the comment +</span>
            <span class="comment">// Look in the resourcePaths for versioned resources.</span>
            <span class="comment">// If one or more versioned resources are found, take</span>
            <span class="comment">// the one with the â€œhighestâ€? version number as the value</span>
            <span class="comment">// of resourceVersion. If no versioned libraries</span>
            <span class="comment">// are found, let resourceVersion remain null.</span>
        }
        <span class="keyword">if</span> (<span class="predefined-constant">null</span> != resourceVersion) {
            resourceId = prefix + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + libraryName + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> +
                    resourceName + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + resourceVersion;
        }
        <span class="keyword">else</span> {
            resourceId = prefix + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + libraryName + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + resourceName;
        }
    } <span class="comment">// end of if (null != libraryName)</span>
    <span class="keyword">else</span> {
        <span class="comment">// libraryName == null</span>
        <span class="keyword">var</span> resourcePaths = resourceLoader.getResourcePaths(
                prefix + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + resourceName);
        <span class="keyword">if</span> (<span class="predefined-constant">null</span> != resourcePaths &amp;&amp; !resourcePaths.isEmpty()) {
            resourceVersion = <span class="comment">// execute the comment</span>
            <span class="comment">// Look in the resourcePaths for versioned resources.</span>
            <span class="comment">// If one or more versioned resources are found, take</span>
            <span class="comment">// the one with the â€œhighestâ€? version number as the value</span>
            <span class="comment">// of resourceVersion. If no versioned libraries</span>
            <span class="comment">// are found, let resourceVersion remain null.</span>
        }
        <span class="keyword">if</span> (<span class="predefined-constant">null</span> != resourceVersion) {
            resourceId = prefix + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + resourceName + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> +
                    resourceVersion;
        } <span class="keyword">else</span> {
            resourceId = prefix + <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span> + resourceName;
        }
    } <span class="comment">// end of else, when libraryName == null</span>
    <span class="keyword">return</span> resourceId;
}

<span class="keyword">function</span> <span class="function">getLocalePrefix</span>() {
    <span class="keyword">var</span> localePrefix;
    <span class="keyword">var</span> appBundleName = facesContext.application.messageBundle;
    <span class="keyword">if</span> (<span class="predefined-constant">null</span> != appBundleName) {
        <span class="keyword">var</span> locale =
            <span class="comment">// If there is a viewRoot on the current facesContext,</span>
            <span class="comment">// use its locale.</span>
            <span class="comment">// Otherwise, use the locale of the application's ViewHandler</span>
        ResourceBundle appBundle = ResourceBundle.getBundle(
                appBundleName, locale);
        localePrefix = appBundle.getString(ResourceHandler. LOCALE_PREFIX);
    }
    <span class="comment">// Any MissingResourceException instances that are encountered</span>
    <span class="comment">// in the above code must be swallowed by this method, and null</span>
    <span class="comment">// returned;</span>
    <span class="keyword">return</span> localePrefix;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a842"><a class="anchor" href="#a842"></a>2.6.2. Rendering Resources</h4>
<div class="paragraph">
<p>Resources such as images, stylesheets and
scripts use the resource handling mechanism as outlined in
<a href="#a748">See Packaging Resources</a>. So, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:graphicImage</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">Planets.gif</span><span class="error">”</span> <span class="attribute-name">library</span>=<span class="error">”</span><span class="attribute-value">images</span><span class="error">”</span><span class="tag">/&gt;</span>
<span class="tag">&lt;h:graphicImage</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">resource</span><span class="error">[</span><span class="error">‘</span><span class="attribute-name">images:Planets.gif</span><span class="error">’</span><span class="error">]</span><span class="error">}</span><span class="error">”</span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These entries render exactly the same markup.
In addition to using the name and library attributes, stylesheet and
script resources can be “relocated” to other parts of the view. For
example, we could specify that a script resource be rendered within an
HTML “head”, “body” or “form” element in the page.</p>
</div>
<div class="sect4">
<h5 id="a847"><a class="anchor" href="#a847"></a>2.6.2.1. Relocatable Resources</h5>
<div class="paragraph">
<p>Relocatable resources are resources that can
be told where to render themselves, and this rendered location may be
different than the resource tag placement in the view. For example, a
portion of the view may be described in the view declaration language as
follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:view</span> <span class="attribute-name">contentType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/html</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:head&gt;</span>
    <span class="tag">&lt;meta</span> <span class="attribute-name">http-equiv</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Content-Type</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/html;charset=iso-8859-1</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;title&gt;</span>Example View<span class="tag">&lt;/title&gt;</span>
  <span class="tag">&lt;/h:head&gt;</span>
  <span class="tag">&lt;h:body&gt;</span>
    <span class="tag">&lt;h:form&gt;</span>
      <span class="tag">&lt;h:outputScript</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">ajax.js</span><span class="error">”</span> <span class="attribute-name">library</span>=<span class="error">”</span><span class="attribute-value">jakarta.faces</span><span class="error">”</span>
          <span class="attribute-name">target</span>=<span class="error">”</span><span class="attribute-value">head</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/h:form&gt;</span>
  <span class="tag">&lt;/h:body&gt;</span>
<span class="tag">&lt;/f:view&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The &lt;h:outputScript&gt; tag refers to the
renderer, ScriptRenderer, that listens for PostAddToViewEvent event
types:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ListenerFor</span>(facesEventClass=PostAddToViewEvent.class,
        sourceClass=UIOutput.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ScriptRenderer</span> <span class="directive">extends</span> <span class="predefined-type">Renderer</span>
        <span class="directive">implements</span> ComponentSystemEventListener {...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Refer to <a href="#a1300">See
Event and Listener Model</a>. When the component for this resource is added
to the view, the ScriptRenderer processEvent method adds the component
to a facet (named by the target attribute) under the view root. using
the UIViewRoot component resource methods as described in
<a href="#a2257">See Methods</a>.</p>
</div>
<div class="paragraph">
<p>The &lt;h:head&gt; and &lt;h:body&gt; tags refer to the
renderers HeadRenderer and BodyRenderer respectively. They are described
in the Standard HTML Renderkit documentation referred to in
<a href="#a4314">See Standard HTML RenderKit Implementation</a>.
During the rendering phase, the encode methods for these renderers
render the HTML “head” and “body” elements respectively. Then they
render all component resources under the facet child (named by target)
under the UIViewRoot using the UIViewRoot component resource methods as
described in <a href="#a2257">See Methods</a>.</p>
</div>
<div class="paragraph">
<p>Existing component libraries (with existing
head and body components), that want to use this resource loading
feature must follow the rendering requirements described in
<a href="#a4314">See Standard HTML RenderKit Implementation</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="a869"><a class="anchor" href="#a869"></a>2.6.2.2. Resource Rendering Using Annotations</h5>
<div class="paragraph">
<p>Components and renderers may be declared as
requiring a resource using the @ResourceDependency annotation. The
implementation must scan for the presence of this annotation on the
component that was added to the List of child components. Check for the
presence of the annotation on the renderer for this component (if there
is a renderer for the component). The annotation check must be done
immediately after the component is added to the List. Refer to
<a href="#a937">See Component Tree Manipulation</a> for detailed
information.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a872"><a class="anchor" href="#a872"></a>2.7. Resource Library Contracts</h3>
<div class="paragraph">
<p>[P1-start_contract_packaging]A resource
library contract is a resource library, as specified in the preceding
section, except that instead of residing in the <em>resources</em> directory of
the web-app root, or in the <em>META-INF/resources</em> JAR entry name in a JAR
file, it resides in the <em>contracts</em> directory of the web-app root, or in
the <em>META-INF/contracts</em> JAR entry name in a JAR file. When packaged in
a JAR file, there is one additional packaging requirement: each resource
library contract in the JAR must have a marker file. The name of the
file is given by the value of the symbolic constant
<em>jakarta.faces.application.ResourceHandler.RESOURCE_CONTRACT_XML</em> . This
may be a zero length file, though future versions of the specification
may use the file to declare the usage contract. [P1-end] The requirement
to have a marker file enables implementations to optimize for faster
deployment while still enabling automatic discovery of the available
contracts.</p>
</div>
<div class="paragraph">
<p>Following is a listing of the entries in a
JAR file containing two resource library contracts.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>META-INF/contracts/
                  siteLayout/
                            jakarta.faces.contract.xml
                            topNav_template.xhtml
                            leftNav_foo.xhtml
                            styles.css
                            script.js
                            background.png
                  subSiteLayout/
                            jakarta.faces.contract.xml
                            sub_template.xhtml</pre>
</div>
</div>
<div class="paragraph">
<p>All of the other packaging, encoding and
decoding requirements are the same as for resource libraries.</p>
</div>
<div class="paragraph">
<p>See FaceletsAndWebApplications.adoc#a5526,See Resource
Library Contracts Background&gt;&gt; for a non-normative overview of the
feature, including a brief usage example.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a883"><a class="anchor" href="#a883"></a>3. User Interface Component Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A Jakarta Faces <em>user interface component</em> is the basic
building block for creating a Jakarta Faces user interface. A particular component
represents a configurable and reusable element in the user interface,
which may range in complexity from simple (such as a button or text
field) to compound (such as a tree control or table). Components can
optionally be associated with corresponding objects in the data model of
an application, via <em>value expressions</em>.</p>
</div>
<div class="paragraph">
<p>Jakarta Faces also supports user interface components
with several additional helper APIs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Converters</em> —Pluggable support class to
convert the markup value of a component to and from the corresponding
type in the model tier.</p>
</li>
<li>
<p><em>Events and Listeners</em> —An event broadcast
and listener registration model based on the design patterns of the
JavaBeans Specification, version 1.0.1.</p>
</li>
<li>
<p><em>Validators</em> —Pluggable support classes that
can examine the local value of a component (as received in an incoming
request) and ensure that it conforms to the business rules enforced by
each Validator. Error messages for validation failures can be generated
and sent back to the user during rendering.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The user interface for a particular page of a
Jakarta Faces-based web application is created by assembling the user interface
components for a particular request or response into a <em>view</em>. The view
is a tree of classes that implement <em>UIComponent</em>. The components in
the tree have parent-child relationships with other components, starting
at the <em>root element</em> of the tree, which must be an instance of
<em>UIViewRoot</em>. Components in the tree can be anonymous or they can be
given a <em>component identifier</em> by the framework user. Components in the
tree can be located based on <em>component identifiers</em>, which must be
unique within the scope of the nearest ancestor to the component that is
a <em>naming container</em>. For complex rendering scenarios, components can
also be attached to other components as <em>facets</em>.</p>
</div>
<div class="paragraph">
<p>This chapter describes the basic architecture
and APIs for user interface components and the supporting APIs.</p>
</div>
<div class="sect2">
<h3 id="uicomponent-and-uicomponentbase"><a class="anchor" href="#uicomponent-and-uicomponentbase"></a>3.1. UIComponent and UIComponentBase</h3>
<div class="paragraph">
<p>The base abstract class for all user
interface components is <em>jakarta.faces.component.UIComponent</em>. This class
defines the state information and behavioral contracts for all
components through a Java programming language API, which means that
components are independent of a rendering technology such as Jakarta Server
Pages. A standard set of components (described in
<a href="#a1823">Standard User Interface Components</a>)
that add specialized properties, attributes, and behavior, is also
provided as a set of concrete subclasses.</p>
</div>
<div class="paragraph">
<p>Component writers, tool providers,
application developers, and Jakarta Faces implementors can also create additional
<em>UIComponent</em> implementations for use within a particular application.
To assist such developers, a convenience subclass,
<em>jakarta.faces.component.UIComponentBase</em>, is provided as part of Jakarta Faces.
This class provides useful default implementations of nearly every
<em>UIComponent</em> method, allowing the component writer to focus on the
unique characteristics of a particular <em>UIComponent</em> implementation.</p>
</div>
<div class="paragraph">
<p>The following subsections define the key
functional capabilities of Jakarta Faces user interface components.</p>
</div>
<div class="sect3">
<h4 id="a895"><a class="anchor" href="#a895"></a>3.1.1. Component Identifiers</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getId();
<span class="directive">public</span> <span class="type">void</span> setId(<span class="predefined-type">String</span> componentId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[N/T-start may-component-identifier] Every
component may be named by a <em>component identifier</em> that must conform to
the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>They must start with a letter (as defined by
the <em>Character.isLetter()</em> method).</p>
</li>
<li>
<p>Subsequent characters must be letters (as
defined by the <em>Character.isLetter()</em> method), digits as defined by the
<em>Character.isDigit()</em> method, dashes (‘-’), or underscores (‘_’).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end] To minimize the size of responses
generated by Jakarta Server Faces, it is recommended that component
identifiers be as short as possible.</p>
</div>
<div class="paragraph">
<p>If a component has been given an identifier,
it must be unique in the namespace of the closest ancestor to that
component that is a <em>NamingContainer</em> (if any).</p>
</div>
</div>
<div class="sect3">
<h4 id="component-type"><a class="anchor" href="#component-type"></a>3.1.2. Component Type</h4>
<div class="paragraph">
<p>While not a property of <em>UIComponent</em> , the
<em>component-type</em> is an important piece of data related to each
<em>UIComponent</em> subclass that allows the <em>Application</em> instance to create
new instances of <em>UIComponent</em> subclasses with that type. Please see
<a href="#a3468">Object Factories</a> for more on
<em>component-type</em>.</p>
</div>
<div class="paragraph">
<p>Component types starting with “jakarta.faces.”
are reserved for use by the Jakarta Faces specification.</p>
</div>
</div>
<div class="sect3">
<h4 id="component-family"><a class="anchor" href="#component-family"></a>3.1.3. Component Family</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getFamily();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each standard user interface component class
has a standard value for the component family, which is used to look up
renderers associated with this component. Subclasses of a generic
UIComponent class will generally inherit this property from its
superclass, so that renderers who only expect the superclass will still
be able to process specialized subclasses.</p>
</div>
<div class="paragraph">
<p>Component families starting with
“jakarta.faces.” are reserved for use by the Jakarta Faces specification.</p>
</div>
</div>
<div class="sect3">
<h4 id="a911"><a class="anchor" href="#a911"></a>3.1.4. ValueExpression properties</h4>
<div class="paragraph">
<p>Properties and attributes of standard
concrete component classes may be <em>value expression enabled</em>. This
means that, rather than specifying a literal value as the parameter to a
property or attribute setter, the caller instead associates a
<em>ValueExpression</em> (see <a href="#a3029">ValueBinding</a>)
whose <em>getValue()</em> method must be called (by the property getter) to
return the actual property value to be returned if no value has been set
via the corresponding property setter. If a property or attribute value
has been set, that value must be returned by the property getter
(shadowing any associated value binding expression for this property).</p>
</div>
<div class="paragraph">
<p>Value binding expressions are managed with
the following method calls:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ValueExpression getValueExpression(<span class="predefined-type">String</span> name);
<span class="directive">public</span> <span class="type">void</span> setValueExpression(<span class="predefined-type">String</span> name, ValueExpression expression);</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <em>name</em> is the name of the
attribute or property for which to establish the value expression.
[P1-start setValueExpression rules] The implementation of
setValueExpression must detemine if the expression is a literal by
calling ValueExpression.isLiteralText() on the expression argument. If
the expression argument is literal text, then ValueExpression.getValue()
must be called on the expression argument. The result must be used as
the value argument, along with the name argument to this component’s
getAttributes().put(name, value) method call. [P1-end] [P1-start which
properties are value expression enabled] For the standard component
classes defined by this specification, all attributes, and all
properties other than <em>id</em>, <em>parent</em>, <em>action</em>, <em>listener</em>,
<em>actionListener</em>, <em>valueChangeListener</em>, and <em>validator</em> are value
expression enabled. The <em>action</em>, <em>listener</em>, <em>actionListener</em>,
<em>valueChangeListener</em>, and <em>validator</em> attributes are method expression
enabled.[P1-end]</p>
</div>
<div class="paragraph">
<p>In previous versions of this specification,
this concept was called “value binding”. Methods and classes referring
to this concept are deprecated, but remain implemented to preserve
backwards compatibility.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ValueBinding getValueBinding(<span class="predefined-type">String</span> name);
<span class="directive">public</span> <span class="type">void</span> setValueBinding(<span class="predefined-type">String</span> name, ValueBinding binding);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please consult the javadoc for these methods
to learn how they are implemented in terms of the new “value expression”
concept.</p>
</div>
</div>
<div class="sect3">
<h4 id="a923"><a class="anchor" href="#a923"></a>3.1.5. Component Bindings</h4>
<div class="paragraph">
<p>A <em>component binding</em> is a special value
expression that can be used to facilitate “wiring up” a component
instance to a corresponding property of a JavaBean that is associated
with the page, and wants to manipulate component instances
programatically. It is established by calling <em>setValueExpression()</em>
(see <a href="#a911">ValueExpression properties</a>) with
the special property name <em>binding</em>.</p>
</div>
<div class="paragraph">
<p>The specified <em>ValueExpression</em> must point to
a read-write JavaBeans property of type <em>UIComponent</em> (or appropriate
subclass). Such a component binding is used at two different times
during the processing of a Faces Request:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>[P3-start how a component binding is
used from a Jakarta Server Pages page] When a component instance is first created
(typically by virtue of being referenced by a <em>UIComponentELTag</em> in a
Jakarta Server Pages page), the Jakarta Faces implementation will retrieve the <em>ValueExpression</em>
for the name <em>binding</em>, and call <em>getValue()</em> on it. If this call
returns a non-null <em>UIComponent</em> value (because the JavaBean
programmatically instantiated and configured a component already), that
instance will be added to the component tree that is being created. If
the call returns <em>null</em>, a new component instance will be created,
added to the component tree, and <em>setValue()</em> will be called on the
<em>ValueExpression</em> (which will cause the property on the JavaBean to be
set to the newly created component instance). [P3-end]</p>
</li>
<li>
<p>[P1-start how a component binding is
used when restoring the tree]When a component tree is recreated during
the <em>Restore View</em> phase of the request processing lifecycle, for each
component that has a <em>ValueExpression</em> associated with the name
“binding”, <em>setValue()</em> will be called on it, passing the recreated
component instance. [P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Component bindings are often used in
conjunction with JavaBeans that are dynamically instantiated via the
Managed Bean Creation facility (see <a href="#a3020">VariableResolver and the Default VariableResolver</a>). If application
developers place managed beans that are pointed at by component binding
expressions in any scope other than request scope, the system cannot
behave correctly. This is because placing it in a scope wider than
request scope would require thread safety, since UIComponent instances
depend on running inside of a single thread. There are also potentially
negative impacts on memory management when placing a component binding
in “session” or “view” scopes.</p>
</div>
</div>
<div class="sect3">
<h4 id="client-identifiers"><a class="anchor" href="#client-identifiers"></a>3.1.6. Client Identifiers</h4>
<div class="paragraph">
<p>Client identifiers are used by Jakarta Faces
implementations, as they decode and encode components, for any occasion
when the component must have a client side name. Some examples of such
an occasion are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>to name request parameters for a subsequent
request from the Jakarta Faces-generated page.</p>
</li>
<li>
<p>to serve as anchors for client side scripting
code.</p>
</li>
<li>
<p>to serve as anchors for client side
accessibility labels.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getClientId(FacesContext context);
<span class="directive">protected</span> <span class="predefined-type">String</span> getContainerClientId(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The client identifier is derived from the
component identifier (or the result of calling
<em>UIViewRoot.createUniqueId()</em> if there is not one), and the client
identifier of the closest parent component that is a <em>NamingContainer</em>
according to the algorithm specified in the javadoc for
<em>UIComponent.getClientId()</em>. The <em>Renderer</em> associated with this
component, if any, will then be asked to convert this client identifier
to a form appropriate for sending to the client. The value returned from
this method must be the same throughout the lifetime of the component
instance unless <em>setId()</em> is called, in which case it will be
recalculated by the next call to <em>getClientId()</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a937"><a class="anchor" href="#a937"></a>3.1.7. Component Tree Manipulation</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIComponent getParent();
<span class="directive">public</span> <span class="type">void</span> setParent(UIComponent parent);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Components that have been added as children
of another component can identify the parent by calling the <em>getParent</em>
method. For the root node component of a component tree, or any
component that is not part of a component tree, <em>getParent</em> will return
<em>null</em>. In some special cases, such as transient components, it is
possible that a component in the tree will return <em>null</em> from
getParent(). The <em>setParent()</em> method should only be called by the
<em>List</em> instance returned by calling the <em>getChildren()</em> method, or the
<em>Map</em> instance returned by calling the <em>getFacets()</em> method, when child
components or facets are being added, removed, or replaced.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">List</span>&lt;UIComponent&gt; getChildren();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a mutable <em>List</em> that contains all of
the child <em>UIComponent</em>s for this component instance. [P1-start
requirements of UIComponent.getChildren() ] The returned <em>List</em>
implementation must support all of the required and optional methods of
the <em>List</em> interface, as well as update the parent property of children
that are added and removed, as described in the Javadocs for this
method. [P1-end] Note that the <em>add()</em> methods have a special
requirement to cause the <em>PostAddToViewEvent</em> method to be fired, as
well as the processing of the <em>ResourceDependency</em> annotation. See the
javadocs for <em>getChildren()</em> for details.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">int</span> getChildCount();</code></pre>
</div>
</div>
<div class="paragraph">
<p>A convenience method to return the
number of child components for this component. [P2-start
UIComponent.getChildCount requirements.] If there are no children, this
method must return 0. The method must not cause the creation of a child
component list, so it is preferred over calling <em>getChildren().size()</em>
when there are no children. [P2-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a946"><a class="anchor" href="#a946"></a>3.1.8. Component Tree Navigation</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIComponent findComponent(<span class="predefined-type">String</span> expr);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Search for and return the UIComponent with an
<em>id</em> that matches the specified search expression (if any), according to
the algorithm described in the Javadocs for this method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;UIComponent&gt; getFacetsAndChildren();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return an immutable <em>Iterator</em> over all of
the facets associated with this component (in an undetermined order),
followed by all the child components associated with this component (in
the order they would be returned by <em>getChildren()</em>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> invokeOnComponent(FacesContext context,
    <span class="predefined-type">String</span> clientId, ContextCallback callback) <span class="directive">throws</span> FacesException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Starting at <em>this</em> component in the view,
search for the UIComponent whose <em>getClientId()</em> method returns a String
that exactly matches the argument <em>clientId</em> using the algorithm
specified in the Javadocs for this method. If such a UIComponent is
found, call the <em>invokeContextCallback()</em> method on the argument
<em>callback</em> passing the current <em>FacesContext</em> and the found UIComponent.
Upon normal return from the callback, return <em>true</em> to the caller. If
the callback throws an exception, it must be wrapped inside of a
<em>FacesException</em> and re-thrown. If no such UIComponent is found, return
<em>false</em> to the caller.</p>
</div>
<div class="paragraph">
<p>Special consideration should be given to the
implementation of <em>invokeOnComponent()</em> for UIComponent classes that
handle iteration, such as <em>UIData</em>. Iterating components manipulate
their own internal state to handle iteration, and doing so alters the
clientIds of components nested within the iterating component.
Implementations of <em>invokeOnComponent()</em> must guarantee that any state
present in the component or children is restored before returning.
Please see the Javadocs for <em>UIData.invokeOnComponent()</em> for details.</p>
</div>
<div class="paragraph">
<p>The <em>ContextCallback</em> interface is specified
as follows..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">ContextCallback</span> {
  <span class="directive">public</span> <span class="type">void</span> invokeContextCallback(
      FacesContext context, UIComponent target);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please consult the Javadocs for more details
on this interface.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> UIComponent getCurrentComponent(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns the UIComponent instance that is
currently being processed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> UIComponent getCurrentCompositeComponent(
    FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns the closest ancestor component
relative to getCurrentComponent that is a composite component, or null
if no such component is exists.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> visitTree(VisitContext context, VisitCallback callback);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Uses the visit API introduced in version 2 of
the specification to perform a flexible and customizable visit of the
tree from this instance and its children. Please see the package
description for the package <em>jakarta.faces.component.visit</em> for the
normative specification.</p>
</div>
</div>
<div class="sect3">
<h4 id="a968"><a class="anchor" href="#a968"></a>3.1.9. Facet Management</h4>
<div class="paragraph">
<p>Jakarta Server Faces supports the traditional
model of composing complex components out of simple components via
parent-child relationships that organize the entire set of components
into a tree, as described in <a href="#a937">Component
Tree Manipulation</a>. However, an additional useful facility is the
ability to define particular subordinate components that have a specific
<em>role</em> with respect to the owning component, which is typically
independent of the parent-child relationship. An example might be a
“data grid” control, where the children represent the columns to be
rendered in the grid. It is useful to be able to identify a component
that represents the column header and/or footer, separate from the usual
child collection that represents the column data.</p>
</div>
<div class="paragraph">
<p>To meet this requirement, Jakarta Server Faces
components offer support for <em>facets</em>, which represent a named
collection of subordinate (but non-child) components that are related to
the current component by virtue of a unique <em>facet name</em> that represents
the role that particular component plays. Although facets are not part
of the parent-child tree, they participate in request processing
lifecycle methods, as described in <a href="#a1059">Lifecycle Management Methods</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, UIComponent&gt; getFacets();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a mutable Map representing the facets
of this UIComponent, keyed by the facet name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIComponent getFacet(<span class="predefined-type">String</span> name);</code></pre>
</div>
</div>
<div class="paragraph">
<p>A convenience method to return a facet value,
if it exists, or <em>null</em> otherwise. If the requested facet does not
exist, no facets <em>Map</em> must not be created, so it is preferred over
calling <em>getFacets().get()</em> when there are no <em>Facet</em>s.</p>
</div>
<div class="paragraph">
<p>For easy use of components that use facets,
component authors may include type-safe getter and setter methods that
correspond to each named facet that is supported by that component
class. For example, a component that supports a <em>header</em> facet of type
<em>UIHeader</em> should have methods with signatures and functionality as
follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIHeader getHeader() {
  <span class="keyword">return</span> ((UIHeader) getFacet(<span class="error">“</span>header<span class="error">”</span>);
}

<span class="directive">public</span> <span class="type">void</span> setHeader(UIHeader header) {
  getFacets().put(<span class="error">“</span>header<span class="error">”</span>, header);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a983"><a class="anchor" href="#a983"></a>3.1.10. Managing Component Behavior</h4>
<div class="paragraph">
<p><em>UIComponentBase</em> provides default
implementations for the methods from the <em>jakarta.faces.component.behavior.BehaviorHolder</em>
interface. <em>UIComponentBase</em> does not
implement the <em>jakarta.faces.component.behavior.BehaviorHolder</em> interface,
but it provides the default implementations to simplify subclass
implemenations. Refer to
<a href="#a1707">Component
Behavior Model</a> for more information.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addBehavior(<span class="predefined-type">String</span> eventName, Behavior behavior)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method attaches a <em>Behavior</em> to the
component for the specified <em>eventName</em>. The <em>eventName</em> must be one of
the values in the <em>Collection</em> returned from <em>getEventNames()</em>. For
example, it may be desired to have some behavior defined when a “click”
event occurs. The behavior could be some client side behavior in the
form of a script executing, or a server side listener executing.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">String</span>&gt; getEventNames()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns the logical event names that can be
associated with behavior for the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">List</span>&lt;Behavior&gt;&gt; getBehaviors()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns a <em>Map</em> defining the association of
events and behaviors. They keys in the <em>Map</em> are event names.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getDefaultEventName()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns the default event name (if any) for
the component.</p>
</div>
</div>
<div class="sect3">
<h4 id="a993"><a class="anchor" href="#a993"></a>3.1.11. Generic Attributes</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt; getAttributes();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The render-independent characteristics of
components are generally represented as Jakarta Bean component properties
with getter and setter methods (see <a href="#a1021">Render-Independent Properties</a>). In addition, components may also be
associated with generic attributes that are defined outside the
component implementation class. Typical uses of generic attributes
include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specification of render-dependent
characteristics, for use by specific <em>Renderer</em>s.</p>
</li>
<li>
<p>General purpose association of
application-specific objects with components.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The attributes for a component may be of any
Java programming language object type, and are keyed by attribute name
(a String). However, see <a href="#a4135">State Saving
Alternatives and Implications</a> for implications of your application’s
choice of state saving method on the classes used to implement attribute
values.</p>
</div>
<div class="paragraph">
<p>Attribute names that begin with <em>jakarta.faces</em>
are reserved for use by the Jakarta Faces specification. Names that begin with
<em>jakarta</em> are reserved for definition through the Eclipse Foundation Process.
Implementations are not allowed to define names that begin with <em>jakarta</em>.</p>
</div>
<div class="paragraph">
<p>[P1-start attribute property transparency
rules] The <em>Map</em> returned by <em>getAttributes()</em> must also support
attribute-property transparency, which operates as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When the <em>get()</em> method is called, if the
specified attribute name matches the name of a readable JavaBeans
property on the component implementation class, the value returned will
be acquired by calling the appropriate property getter method, and
wrapping Java primitive values (such as int) in their corresponding
wrapper classes (such as <em>java.lang.Integer</em>) if necessary. If the
specified attribute name does not match the name of a readable JavaBeans
property on the component implementation class, consult the internal
data-structure to in which generic attributes are stored. If no entry
exists in the internal data-structure, see if there is a
<em>ValueExpression</em> for this attribute name by calling
<em>getValueExpression()</em>, passing the attribute name as the key. If a
<em>ValueExpression</em> exists, call <em>getValue()</em> on it, returning the result.
If an <em>ELException</em> is thrown wrap it in a <em>FacesException</em> and re-throw
it.</p>
</li>
<li>
<p>When the <em>put()</em> method is called, if the
specified attribute name matches the name of a writable JavaBeans
property on the component implementation class, the appropriate property
setter method will be called. If the specified attribute name does not
match the name of a writable JavaBeans property, simply put the value in
the data-structure for generic attributes.</p>
</li>
<li>
<p>When the <em>remove()</em> method is called, if the
specified attribute name matches the name of a JavaBeans property on the
component, an <em>IllegalArgumentException</em> must be thrown.</p>
</li>
<li>
<p>When the <em>containsKey()</em> method is called, if
the specified attribute name matches the name of a JavaBeans property,
return <em>false</em>. Otherwise, return <em>true</em> if and only if the specified
attribute name exists in the internal data-structure for the generic
attributes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>Map</em> returned by
<em>getAttributes()</em> must also conform to the entire contract for the <em>Map</em>
interface. [P1-end]</p>
</div>
<div class="sect4">
<h5 id="a1006"><a class="anchor" href="#a1006"></a>3.1.11.1. Special Attributes</h5>
<div class="listingblock">
<div class="title">UIComponent Constants</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> CURRENT_COMPONENT =
    <span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.faces.component.CURRENT_COMPONENT</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is used as a key in the <em>FacesContext</em>
attributes Map to indicate the component that is currently being
processed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> CURRENT_COMPOSITE_COMPONENT =
    <span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.faces.component.CURRENT_COMPOSITE_COMPONENT</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is used as a key in the <em>FacesContext</em>
attributes Map to indicate the composite component that is currently
being processed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> BEANINFO_KEY =
    <span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.faces.component.BEANINFO_KEY</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a key in the component attributes Map
whose value is a java.beans.BeanInfo describing the composite component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> FACETS_KEY =
    <span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.faces.component.FACETS_KEY</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a key in the composite component
BeanDescriptor whose value is a Map&lt;PropertyDescriptor&gt; that contains
meta-information for the declared facets for the composite component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> COMPOSITE_COMPONENT_TYPE_KEY =
    <span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.faces.component.COMPOSITE_COMPONENT_TYPE</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a key in the composite component
BeanDescriptor whose value is a ValueExpression that evaluates to the
component-type of the composite component root.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> COMPOSITE_FACET_NAME =
    <span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.faces.component.COMPOSITE_FACET_NAME</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a key in the Map&lt;PropertyDescriptor&gt;
that is returned by using the key FACETS_KEY. The value of this constant
is also used as the key in the Map returned from getFacets(). In this
case, the value of this key is the facet (the UIPanel) that is the
parent of all the components in the composite implementation section of
the composite component VDL file.</p>
</div>
<div class="paragraph">
<p>Refer to the
jakarta.faces.component.UIComponent Javadocs for more detailed
information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1021"><a class="anchor" href="#a1021"></a>3.1.12. Render-Independent Properties</h4>
<div class="paragraph">
<p>The render-independent characteristics of a
user interface component are represented as JavaBean component
properties, following JavaBeans naming conventions. Specifically, the
method names of the getter and/or setter methods are determined using
standard JavaBeans component introspection rules, as defined by
<em>java.beans.Introspector</em>. The render-independent properties supported
by all <em>UIComponent</em>s are described in the following table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>id</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
component identifier, as described in <a href="#a895">Component Identifiers</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>parent</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UIComponent</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The parent component for which this
component is a child or a facet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rendered</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A
flag that, if set to <em>true</em>, indicates that this component should be
processed during all phases of the request processing lifecycle. The
default value is “true”.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rendererType</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifier of the <em>Renderer</em> instance (from
the set of <em>Renderer</em> instances supported by the <em>RenderKit</em> associated
with the component tree we are processing. If this property is set,
several operations during the request processing lifecycle (such as
<em>decode</em> and the <em>encodeXxx</em> family of methods) will be delegated to a
<em>Renderer</em> instance of this type. If this property is not set, the
component must implement these methods directly.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rendersChildren</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A flag that, if set to <em>true</em>, indicates
that this component manages the rendering of all of its children
components (so the Jakarta Faces implementation should not attempt to render
them). The default implementation in <em>UIComponentBase</em> delegates this
setting to the associated <em>Renderer</em>, if any, and returns <em>false</em>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>transient</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A flag
that, if set to <em>true</em>, indicates that this component must not be
included in the state of the component tree. The default implementation
in <em>UIComponentBase</em> returns <em>false</em> for this property.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The method names for the render-independent
property getters and setters must conform to the design patterns in the
JavaBeans specification. See <a href="#a4135">State
Saving Alternatives and Implications</a> for implications of your
application’s choice of state saving method on the classes used to
implement property values.</p>
</div>
</div>
<div class="sect3">
<h4 id="a1041"><a class="anchor" href="#a1041"></a>3.1.13. Component Specialization Methods</h4>
<div class="paragraph">
<p>The methods described in this section are
called by the Jakarta Faces implementation during the various phases of the
request processing lifecycle, and may be overridden in a concrete
subclass to implement specialized behavior for this component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> broadcast(FacesEvent event)
    <span class="directive">throws</span> AbortProcessingException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>broadcast()</em> method is called during the
common event processing (see <a href="#a494">Common
Event Processing</a>) at the end of several request processing lifecycle
phases. For more information about the event and listener model, see
<a href="#a1300">Event and Listener Model</a>. Note that it
is not necessary to override this method to support additional event
types.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> decode(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method is called during the <em>Apply
Request Values</em> phase of the request processing lifecycle, and has the
responsibility of extracting a new local value for this component from
an incoming request. The default implementation in <em>UIComponentBase</em>
delegates to a corresponding <em>Renderer</em>, if the <em>rendererType</em> property
is set, and does nothing otherwise.</p>
</div>
<div class="paragraph">
<p>Generally, component writers will choose to
delegate decoding and encoding to a corresponding <em>Renderer</em> by setting
the <em>rendererType</em> property (which means the default behavior described
above is adequate).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> encodeAll(FacesContext context) <span class="directive">throws</span> <span class="exception">IOException</span>
<span class="directive">public</span> <span class="type">void</span> encodeBegin(FacesContext context) <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> encodeChildren(FacesContext context) <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> encodeEnd(FacesContext context) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>These methods are called during the
<em>Render Response</em> phase of the request processing lifecycle.
<em>encodeAll()</em> will cause this component and all its children and facets
that return <em>true</em> from <em>isRendered()</em> to be rendered, regardless of the
value of the <em>getRendersChildren()</em> return value. <em>encodeBegin()</em>,
<em>encodeChildren()</em>, and <em>encodeEnd()</em> have the responsibility of
creating the response data for the beginning of this component, this
component’s children (only called if the <em>rendersChildren</em> property of
this component is <em>true</em>), and the ending of this component,
respectively. Typically, this will involve generating markup for the
output technology being supported, such as creating an HTML <em>&lt;input&gt;</em>
element for a <em>UIInput</em> component. For clients that support it, the
encode methods might also generate client-side scripting code (such as
JavaScript), and/or stylesheets (such as CSS). The default
implementations in <em>UIComponentBase</em> <em>encodeBegin()</em> and <em>encodeEnd()</em>
delegate to a corresponding <em>Renderer</em>, if the <em>rendererType</em> property
is <em>true</em>, and do nothing otherwise. [P1-start-comp-special]The default
implementation in UIComponentBase <em>encodeChildren()</em> must iterate over
its children and call <em>encodeAll()</em> for each child component.
<em>encodeBegin()</em> must publish a <em>PreRenderComponentEvent</em>. [P1-end]</p>
</div>
<div class="paragraph">
<p>Generally, component writers will choose to
delegate encoding to a corresponding <em>Renderer</em>, by setting the
<em>rendererType</em> property (which means the default behavior described
above is adequate).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> queueEvent(FacesEvent event);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Enqueue the specified event for broadcast at
the end of the current request processing lifecycle phase. Default
behavior is to delegate this to the <em>queueEvent()</em> of the parent
component, normally resulting in broadcast via the default behavior in
the <em>UIViewRoot</em> lifecycle methods.</p>
</div>
<div class="paragraph">
<p>The component author can override any of the
above methods to customize the behavior of their component.</p>
</div>
</div>
<div class="sect3">
<h4 id="a1059"><a class="anchor" href="#a1059"></a>3.1.14. Lifecycle Management Methods</h4>
<div class="paragraph">
<p>The following methods are called by the
various phases of the request processing lifecycle, and implement a
recursive tree walk of the components in a component tree, calling the
component specialization methods described above for each component.
These methods are not generally overridden by component writers, but
doing so may be useful for some advanced component implementations. See
the javadocs for detailed information on these methods</p>
</div>
<div class="paragraph">
<p>In order to support the “component” implicit
object (See <a href="#a2830">Implicit Object ELResolver
for Facelets and Programmatic Access</a>), the following methods have been
added to <em>UIComponent</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">protected</span> <span class="type">void</span> pushComponentToEL(FacesContext context);
<span class="directive">protected</span> <span class="type">void</span> popComponentFromEL(FacesContext context)</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>pushComponentToEL()</em> and
<em>popComponentFromEL()</em> must be called inside each of the lifecycle
management methods in this section as specified in the javadoc for that
method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processRestoreState(FacesContext context, <span class="predefined-type">Object</span> state);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Perform the component tree processing
required by the <em>Restore View</em> phase of the request processing lifecycle
for all facets of this component, all children of this component, and
this component itself.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processDecodes(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Perform the component tree processing
required by the <em>Apply Request Values</em> phase of the request processing
lifecycle for all facets of this component, all children of this
component, and this component itself</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processValidators(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Perform the component tree processing
required by the <em>Process Validations</em> phase of the request processing
lifecycle for all facets of this component, all children of this
component, and this component itself.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processUpdates(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Perform the component tree processing
required by the Update Model Values phase of the request processing
lifecycle for all facets of this component, all children of this
component, and this component itself.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processSaveState(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Perform the component tree processing
required by the state saving portion of the <em>Render Response</em> phase of
the request processing lifecycle for all facets of this component, all
children of this component, and this component itself.</p>
</div>
</div>
<div class="sect3">
<h4 id="a1075"><a class="anchor" href="#a1075"></a>3.1.15. Utility Methods</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">protected</span> FacesContext getFacesContext();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the FacesContext instance for the
current request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">protected</span> <span class="predefined-type">Renderer</span> getRenderer(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the <em>Renderer</em> that is associated this
<em>UIComponent</em>, if any, based on the values of the <em>family</em> and
<em>rendererType</em> properties currently stored as instance data on the
<em>UIComponent</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">protected</span> <span class="type">void</span> addFacesListener(FacesListener listener);
<span class="directive">protected</span> <span class="type">void</span> removeFacesListener(FacesListener listener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>These methods are used to register and
deregister an event listener. They should be called only by a public
addXxxListener() method on the component implementation class, which
provides typesafe listener registration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; getResourceBundleMap();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a Map of the ResourceBundle for this
component. Please consult the Javadocs for more information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a1088"><a class="anchor" href="#a1088"></a>3.2. Component Behavioral Interfaces</h3>
<div class="paragraph">
<p>In addition to extending <em>UIComponent</em>,
component classes may also implement one or more of the <em>behavioral
interfaces</em> described below. Components that implement these interfaces
must provide the corresponding method signatures and implement the
described functionality.</p>
</div>
<div class="sect3">
<h4 id="a1090"><a class="anchor" href="#a1090"></a>3.2.1. ActionSource</h4>
<div class="paragraph">
<p>The <em>ActionSource</em> interface defines a way
for a component to indicate that wishes to be a source of <em>ActionEvent</em>
events, including the ability invoke application actions (see
<a href="#a3553">Application Actions</a>) via the default
<em>ActionListener</em> facility (see <a href="#a3402">ActionListener Property</a>).</p>
</div>
<div class="sect4">
<h5 id="a1092"><a class="anchor" href="#a1092"></a>3.2.1.1. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>ActionSource</em> interface:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>action</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>MethodBinding</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEPRECATED A <em>MethodBinding</em> (see
<a href="#a3039">MethodBinding</a>) that must (if non-
<em>null</em>) point at an action method (see <a href="#a3553">Application Actions</a>). The specified method will be called during the
<em>Apply Request Values</em> or <em>Invoke Application</em> phase of the request
processing lifecycle, as described in <a href="#a454">Invoke Application</a>. This method is replaced by the <em>actionExpression</em>
property on <em>ActionSource2</em>. See the javadocs for the backwards
compatibility implementation strategy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">actionListener</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodBinding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEPRECATED A <em>MethodBinding</em> (see
<a href="#a3039">MethodBinding</a>) that (if non- <em>null</em>)
must point at a method accepting an <em>ActionEvent</em>, with a return type
of <em>void</em>. Any <em>ActionEvent</em> that is sent by this <em>ActionSource</em> will
be passed to this method along with the <em>processAction()</em> method of any
registered <em>ActionListener</em>s, in either Apply Request Values or Invoke
Application phase, depending upon the state of the <em>immediate</em> property.
See the javadocs for the backwards compatibility implementation
strategy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">immediate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A flag
indicating that the default <em>ActionListener</em> should execute immediately
(that is, during the <em>Apply Request Values</em> phase of the request
processing lifecycle, instead of waiting for <em>Invoke Application</em>
phase). The default value of this property must be <em>false</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="methods"><a class="anchor" href="#methods"></a>3.2.1.2. Methods</h5>
<div class="paragraph">
<p><em>ActionSource</em> adds no new processing
methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events"><a class="anchor" href="#events"></a>3.2.1.3. Events</h5>
<div class="paragraph">
<p>A component implementing <em>ActionSource</em> is a
source of <em>ActionEvent</em> events. There are three important moments in the
lifetime of an <em>ActionEvent</em> :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>when an the event is <em>created</em></p>
</li>
<li>
<p>when the event is <em>queued</em> for later
processing</p>
</li>
<li>
<p>when the listeners for the event are
<em>notified</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>ActionEvent</em> creation occurs when the
system detects that the component implementing <em>ActionSource</em> has been
activated. For example, a button has been pressed. This happens when the
<em>decode()</em> processing of the <em>Apply Request Values</em> phase of the request
processing lifecycle detects that the corresponding user interface
control was activated.</p>
</div>
<div class="paragraph">
<p><em>ActionEvent</em> queueing occurs immediately
after the event is created.</p>
</div>
<div class="paragraph">
<p>Event listeners that have registered an
interest in <em>ActionEvent</em> s fired by this component (see below) are
notified at the end of the <em>Apply Request Values</em> or <em>Invoke
Application</em> phase, depending upon the immediate property of the
originating <em>UICommand</em> .</p>
</div>
<div class="paragraph">
<p><em>ActionSource</em> includes the following
methods to register and deregister <em>ActionListener</em> instances interested
in these events. See <a href="#a1300">Event and Listener
Model</a> for more details on the event and listener model provided by Jakarta Faces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addActionListener(<span class="predefined-type">ActionListener</span> listener);
<span class="directive">public</span> <span class="type">void</span> removeActionListener(<span class="predefined-type">ActionListener</span> listener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to manually registered listeners,
the Jakarta Faces implementation provides a default <em>ActionListener</em> that will
process <em>ActionEvent</em> events during the <em>Apply Request Values</em> or
<em>Invoke Application</em> phases of the request processing lifecycle. See
RequestProcessingLifecycle.adoc#a454,Invoke Application&gt;&gt; for more
information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1120"><a class="anchor" href="#a1120"></a>3.2.2. ActionSource2</h4>
<div class="paragraph">
<p>The <em>ActionSource2</em> interface extends
<em>ActionSource</em> and provides a JavaBeans property analogous to the
<em>action</em> property on <em>ActionSource</em> . This allows the <em>ActionSource</em>
concept to leverage the Jakarta Expression Language API.</p>
</div>
<div class="sect4">
<h5 id="properties"><a class="anchor" href="#properties"></a>3.2.2.1. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>ActionSource</em> interface:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>actionExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>jakarta.el.MethodExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A
<em>MethodExpression</em> (see <a href="#a3039">MethodBinding</a>)
that must (if non- <em>null</em> ) point at an action method (see
<a href="#a3553">Application Actions</a>). The specified
method will be called during the <em>Apply Request Values</em> or <em>Invoke
Application</em> phase of the request processing lifecycle, as described in
<a href="#a454">Invoke Application</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="methods-2"><a class="anchor" href="#methods-2"></a>3.2.2.2. Methods</h5>
<div class="paragraph">
<p><em>ActionSource2</em> adds no new processing
methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-2"><a class="anchor" href="#events-2"></a>3.2.2.3. Events</h5>
<div class="paragraph">
<p><em>ActionSource2</em> adds no new events.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1134"><a class="anchor" href="#a1134"></a>3.2.3. NamingContainer</h4>
<div class="paragraph">
<p><em>NamingContainer</em> is a marker interface.
Components that implement <em>NamingContainer</em> have the property that, for
all of their children that have non- <em>null</em> component identifiers, all
of those identifiers are unique. This property is enforced by the
<em>renderView()</em> method on <em>ViewHandler</em> . In Jakarta Server Pages based applications, it
is also enforced by the <em>UIComponentELTag</em> . Since this is just a marker
interface, there are no properties, methods, or events. Among the
standard components, <em>UIForm</em> and <em>UIData</em> implement <em>NamingContainer</em> .
See <a href="#a1932">UIForm</a> and <em>Section</em>
<a href="#a1921">Methods</a> “UIData” for details of how the
<em>NamingContainer</em> concept is used in these two cases.</p>
</div>
<div class="paragraph">
<p><em>NamingContainer</em> defines a public static
final character constant, <em>SEPARATOR_CHAR</em> , that is used to separate
components of client identifiers, as well as the components of search
expressions used by the <em>findComponent()</em> method see
(<a href="#a946">Component Tree Navigation</a>). The value
of this constant must be a colon character (“:”).</p>
</div>
<div class="paragraph">
<p>Use of this separator character in client
identifiers rendered by <em>Renderer</em> s can cause problems with CSS
stylesheets that attach styles to a particular client identifier. For
the Standard HTML RenderKit, this issue can be worked around by using
the <em>style</em> attribute to specify CSS style values directly, or the
<em>styleClass</em> attribute to select CSS styles by class rather than by
identifier.</p>
</div>
</div>
<div class="sect3">
<h4 id="a1138"><a class="anchor" href="#a1138"></a>3.2.4. StateHolder</h4>
<div class="paragraph">
<p>The <em>StateHolder</em> interface is implemented by
<em>UIComponent</em> , <em>Converter</em> , <em>FacesListener</em> , and <em>Validator</em> classes
that need to save their state between requests. <em>UIComponent</em> implements
this interface to denote that components have state that must be saved
and restored between requests.</p>
</div>
<div class="sect4">
<h5 id="properties-2"><a class="anchor" href="#properties-2"></a>3.2.4.1. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>StateHolder</em> interface:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>transient</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A
flag indicating whether this instance has decided to opt out of having
its state information saved and restored. The default value for all
standard component, converter, and validator classes that implement
<em>StateHolder</em> must be <em>false</em> .</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="methods-3"><a class="anchor" href="#methods-3"></a>3.2.4.2. Methods</h5>
<div class="paragraph">
<p>Any class implementing <em>StateHolder</em> must
implement both the <em>saveState()</em> and <em>restoreState()</em> methods, since
these two methods have a tightly coupled contract between themselves. In
other words, if there is an inheritance hierarchy, it is not permissible
to have the <em>saveState()</em> and <em>restoreState()</em> methods reside at
different levels of the hierarchy.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> saveState(FacesContext context);
<span class="directive">public</span> <span class="type">void</span> restoreState(FacesContext context,
    <span class="predefined-type">Object</span> state) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gets or restores the state of the instance as
a <em>Serializable</em> <em>Object</em> .</p>
</div>
<div class="paragraph">
<p>If the class that implements this interface
has references to Objects which also implement <em>StateHolder</em> (such as a
<em>UIComponent</em> with a converter, event listeners, and/or validators)
these methods must call the <em>saveState()</em> or <em>restoreState()</em> method on
all those instances as well.</p>
</div>
<div class="paragraph">
<p>Any class implementing <em>StateHolder</em> must
have a public no-args constructor.</p>
</div>
<div class="paragraph">
<p>If the state saving method is server, these
methods may not be called.</p>
</div>
<div class="paragraph">
<p>If the class that implements this interface
has references to Objects which do not implement <em>StateHolder</em> , these
methods must ensure that the references are preserved. For example,
consider class <em>MySpecialComponent</em> , which implements <em>StateHolder</em> ,
and keeps a reference to a helper class, <em>MySpecialComponentHelper</em> ,
which does not implement <em>StateHolder</em> .
<em>MySpecialComponent.saveState()</em> must save enough information about
<em>MySpecialComponentHelper</em> , so that when
<em>MySpecialComponent.restoreState()</em> is called, the reference to
<em>MySpecialComponentHelper</em> can be restored. The return from
<em>saveState()</em> must be <em>Serializable</em> .</p>
</div>
<div class="paragraph">
<p>Since all of the standard user interface
components listed in <a href="#a1823">Standard User
Interface Components</a>” extend from <em>UIComponent</em> , they all implement
the <em>StateHolder</em> interface. In addition, the standard <em>Converter</em> and
<em>Validator</em> classes that require state to be saved and restored also
implement <em>StateHolder.</em></p>
</div>
</div>
<div class="sect4">
<h5 id="events-3"><a class="anchor" href="#events-3"></a>3.2.4.3. Events</h5>
<div class="paragraph">
<p><em>StateHolder</em> does not originate any
standard events.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1159"><a class="anchor" href="#a1159"></a>3.2.5. PartialStateHolder</h4>
<div class="paragraph">
<p><em>PartialStateHolder</em> extends <em>StateHolder</em>
and adds a usage contract for components that wish to take part in the
partial state saving mechanism introduced in version 2.0.
Implementations of this interface should use the
<em>jakarta.faces.component.StateHelper</em> instance returned from
<em>UIComponent.getStateHelper()</em> to store stateful component information
that otherwise would have been stored as instance variables on the class
implementing <em>PartialStateHolder</em> .</p>
</div>
<div class="sect4">
<h5 id="properties-3"><a class="anchor" href="#properties-3"></a>3.2.5.1. Properties</h5>
<div class="paragraph">
<p><em>PartialStateHolder</em> adds no properties to
the <em>StateHolder</em> contract</p>
</div>
</div>
<div class="sect4">
<h5 id="a1215"><a class="anchor" href="#a1215"></a>3.2.5.2. Methods</h5>
<div class="paragraph">
<p>The following methods support the partial
state saving feature:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">void</span> clearInitialState();
<span class="type">boolean</span> initialStateMarked();
<span class="type">void</span> markInitialState();</code></pre>
</div>
</div>
<div class="paragraph">
<p>These methods allow the state saving feature
to determine if the component is in its initial state or not, and to set
the flag indicating this condition of existence. The Javadocs for these
methods specify the conditions under which these methods are invoked.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-4"><a class="anchor" href="#events-4"></a>3.2.5.3. Events</h5>
<div class="paragraph">
<p><em>PartialStateHolder</em> does not originate any
standard events.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1173"><a class="anchor" href="#a1173"></a>3.2.6. ValueHolder</h4>
<div class="paragraph">
<p><em>ValueHolder</em> is an interface that may be
implemented by any concrete <em>UIComponent</em> that wishes to support a local
value, as well as access data in the model tier via a <em>value expression</em>
, and support conversion between <em>String</em> and the model tier data&#8217;s
native data type.</p>
</div>
<div class="sect4">
<h5 id="a1175"><a class="anchor" href="#a1175"></a>3.2.6.1. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>ValueHolder</em> interface:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">converter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
<em>Converter</em> (if any) that is registered for this UIComponent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">First
consult the local value property of this component. If non- <em>null</em>
return it. If the local value property is <em>null</em> , see if we have a
<em>ValueExpression</em> for the value property. If so, return the result of
evaluating the property, otherwise return <em>null</em> .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">localValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allows
any value set by calling <em>setValue()</em> to be returned, without
potentially evaluating a <em>ValueExpression</em> the way that <em>getValue()</em>
will do</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Like nearly all component properties, the
<em>value</em> property may have a value binding expression (see
<a href="#a911">ValueExpression properties</a>) associated
with it. If present (and if there is no <em>value</em> set directly on this
component), such an expression is utilized to retrieve a value
dynamically from a model tier object during <em>Render Response Phase</em> of
the request processing lifecycle. In addition, for input components, the
value expression is used during <em>Update Model Values</em> phase (on the
subsequent request) to push the possibly updated component value back to
the model tier object.</p>
</div>
<div class="paragraph">
<p>The <em>Converter</em> property is used to allow the
component to know how to convert the model type from the <em>String</em> format
provided by the Servlet API to the proper type in the model tier.</p>
</div>
<div class="paragraph">
<p>The <em>Converter</em> property must be inspected
for the presence of <em>ResourceDependency</em> and <em>ResourceDependencies</em>
annotations as described in the Javadocs for the <em>setConverter</em> method.</p>
</div>
</div>
<div class="sect4">
<h5 id="methods-4"><a class="anchor" href="#methods-4"></a>3.2.6.2. Methods</h5>
<div class="paragraph">
<p>ValueHolder adds no methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-5"><a class="anchor" href="#events-5"></a>3.2.6.3. Events</h5>
<div class="paragraph">
<p><em>ValueHolder</em> does not originate any
standard events.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1192"><a class="anchor" href="#a1192"></a>3.2.7. EditableValueHolder</h4>
<div class="paragraph">
<p>The <em>EditableValueHolder</em> interface (extends
<em>ValueHolder</em>, see <a href="#a1173">ValueHolder</a>)
describes additional features supported by editable components,
including <em>ValueChangeEvents</em> and <em>Validators</em>.</p>
</div>
<div class="sect4">
<h5 id="properties-4"><a class="anchor" href="#properties-4"></a>3.2.7.1. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>EditableValueHolder</em> interface:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">immediate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating that conversion and validation of this component’s value
should occur during <em>Apply Request Values</em> phase instead of <em>Process
Validations</em> phase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">localValueSet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating whether the <em>value</em> property has been set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the
user required to provide a non-empty value for this component? Default
value must be <em>false</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">submittedValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The submitted, unconverted, value of this
component. This property should only be set by the decode() method of
this component, or its corresponding Renderer, or by the validate method
of this component. This property should only be read by the validate()
method of this component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A flag
indicating whether the local value of this component is valid (that is,
no conversion error or validation error has occurred).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodBinding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEPRECATED A <em>MethodBinding</em> that (if not
null) must point at a method accepting a <em>FacesContext</em> and a <em>UIInput</em>,
with a return type of <em>void</em>. This method will be called during
<em>Process Validations</em> phase, after any validators that are externally
registered. See the javadocs for the backwards compatibility strategy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">valueChangeListener</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodBinding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEPRECATED A MethodBinding that (if not
null) must point at a method that accepts a <em>ValueChangeEvent</em>, with a
return type of <em>void</em>. The specified method will be called during the
<em>Process Validations</em> phase of the request processing lifecycle, after
any externally registered <em>ValueChangeListener</em>s. See the javadocs for
the backwards compatibility strategy.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="methods-5"><a class="anchor" href="#methods-5"></a>3.2.7.2. Methods</h5>
<div class="paragraph">
<p>The following methods support the validation
functionality performed during the <em>Process Validations</em> phase of the
request processing lifecycle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addValidator(<span class="predefined-type">Validator</span> validator);
<span class="directive">public</span> <span class="type">void</span> removeValidator(<span class="predefined-type">Validator</span> validator);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>addValidator()</em> and <em>removeValidator()</em>
methods are used to register and deregister additional external
<em>Validator</em> instances that will be used to perform correctness checks on
the local value of this component.</p>
</div>
<div class="paragraph">
<p>If the <em>validator</em> property is not null, the
method it points at must be called by the <em>processValidations()</em> method,
after the <em>validate()</em> method of all registered <em>Validator</em> s is called.</p>
</div>
<div class="paragraph">
<p>The addValidator’s Validator argument must be
inspected for the presense of the ResourceDependency and
ResourceDependencies annotations as described in the Javadocs for the
addValidator method.</p>
</div>
</div>
<div class="sect4">
<h5 id="a1223"><a class="anchor" href="#a1223"></a>3.2.7.3. Events</h5>
<div class="paragraph">
<p><em>EditableValueHolder</em> is a source of
<em>ValueChangeEvent</em>, <em>PreValidateEvent</em> and <em>PostValidate</em> events. These
are emitted during calls to <em>validate()</em>, which happens during the
<em>Process Validations</em> phase of the request processing lifecycle. The
<em>PreValidateEvent</em> is published immediately before the component gets
validated. <em>PostValidate</em> is published after validation has occurred,
regardless if the validation was successful or not. If the validation
for the component did pass successfully, and the previous value of this
component differs from the current value, the <em>ValueChangeEvent</em> is
published. The following methods allow listeners to register and
deregister for <em>ValueChangeEvent</em>s. See
<a href="#a1300">Event and Listener Model</a> for more
details on the event and listener model provided by Jakarta Faces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addValueChangeListener(ValueChangeListener listener);
<span class="directive">public</span> <span class="type">void</span> removeValueChangeListener(ValueChangeListener listener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to the above listener
registration methods, If the <em>valueChangeListener</em> property is not
<em>null</em>, the method it points at must be called by the <em>broadcast()</em>
method, after the <em>processValueChange()</em> method of all registered
<em>ValueChangeListener</em> s is called.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1229"><a class="anchor" href="#a1229"></a>3.2.8. SystemEventListenerHolder</h4>
<div class="paragraph">
<p>Classes that implement this interface agree
to maintain a list of <em>SystemEventListener</em> instances for each kind of
<em>SystemEvent</em> they can generate. This interface enables arbitrary
Objects to act as the source for <em>SystemEvent</em> instances.</p>
</div>
<div class="sect4">
<h5 id="properties-5"><a class="anchor" href="#properties-5"></a>3.2.8.1. Properties</h5>
<div class="paragraph">
<p>This interface contains no JavaBeans
properties</p>
</div>
</div>
<div class="sect4">
<h5 id="methods-6"><a class="anchor" href="#methods-6"></a>3.2.8.2. Methods</h5>
<div class="paragraph">
<p>The following method gives the Jakarta Faces runtime
access to the list of listeners stored by this instance.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">List</span>&lt;FacesLifecycleListener&gt; getListenersForEventClass(
    <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> SystemEvent&gt; facesEventClass);</code></pre>
</div>
</div>
<div class="paragraph">
<p>During the processing for
<em>Application.publishEvent()</em>, if the <em>source</em> argument to that method
implements <em>SystemEventListenerHolder</em>, the
<em>getListenersForEventClass()</em> method is invoked on it, and each listener
in the list is given an opportunity to process the event, as specified
in the javadocs for <em>Application.publishEvent()</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-6"><a class="anchor" href="#events-6"></a>3.2.8.3. Events</h5>
<div class="paragraph">
<p>While the class that implements
<em>SystemEventListenerHolder</em> is indeed a source of events, it is a call
to <em>Application.publishEvent()</em> that causes the event to actually be
emitted. In the interest of maximum flexibility, this interface does not
define how listeners are added, removed, or stored. See
<a href="#a1300">Event and Listener Model</a> for more
details on the event and listener model provided by Jakarta Faces.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1239"><a class="anchor" href="#a1239"></a>3.2.9. ClientBehaviorHolder</h4>
<div class="paragraph">
<p>[P1-start-addBehavior] Components must
implement the <em>ClientBehaviorHolder</em> interface to add the ability for
attaching ClientBehavior instances (see
<a href="#a1707">Component
Behavior Model</a>). Components that extend UIComponentBase only need to
implement the getEventNames() method and specify "implements
ClientBehaviorHolder". UIComponentBase provides base implementations for
all other methods. [P1-end] The concrete HTML component classes that
come with Jakarta Faces implement the <em>ClientBehaviorHolder</em> interface.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addClientBehavior(<span class="predefined-type">String</span> eventName, ClientBehavior behavior);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Attach a ClientBehavior to a component
implementing this <em>ClientBehaviorHolder</em> interface for the specified
event. A default implementation of this method is provided in
UIComponentBase to make it easier for subclass implementations to add
behaviors.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">String</span>&gt; getEventNames();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a Collection of logical event
names that are supported by the component implementing this
<em>ClientBehaviorHolder</em> interface. [P1-start-getEventNames]The Collection
must be non null and unmodifiable.[P1-end]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">List</span>&lt;ClientBehavior&gt;&gt; getClientBehaviors();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a Map containing the event-client
behavior association. Each event in the Map may contain one or more
ClientBehavior instances that were added via the addClientBehavior()
method.</p>
</div>
<div class="paragraph">
<p>[P1-start-getBehaviors]Each key value
in this Map must be one of the event names in the Collection returned
from getEventNames().[P1-end]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getDefaultEventName();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the default event name for this
component behavior if the component defines a default event.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a1251"><a class="anchor" href="#a1251"></a>3.3. Conversion Model</h3>
<div class="paragraph">
<p>This section describes the facilities
provided by Jakarta Server Faces to support type conversion between
server-side Java objects and their (typically String-based)
representation in presentation markup.</p>
</div>
<div class="sect3">
<h4 id="overview-2"><a class="anchor" href="#overview-2"></a>3.3.1. Overview</h4>
<div class="paragraph">
<p>A typical web application must constantly
deal with two fundamentally different viewpoints of the underlying data
being manipulated through the user interface:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>model</em> view—Data is typically
represented as Java programming language objects (often JavaBeans
components), with data represented in some native Java programming
language datatype. For example, date and time values might be
represented in the model view as instances of <em>java.util.Date</em>.</p>
</li>
<li>
<p>The <em>presentation</em> view—Data is typically
represented in some form that can be perceived or modified by the user
of the application. For example, a date or type value might be
represented as a text string, as three text strings (one each for
month/date/year or one each for hour/minute/second), as a calendar
control, associated with a spin control that lets you increment or
decrement individual elements of the date or time with a single mouse
click, or in a variety of other ways. Some presentation views may depend
on the preferred language or locale of the user (such as the commonly
used mm/dd/yy and dd/mm/yy date formats, or the variety of punctuation
characters in monetary amount presentations for various currencies).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To transform data formats between these
views, Jakarta Server Faces provides an ability to plug-in an optional
<em>Converter</em> for each <em>ValueHolder</em>, which has the responsibility of
converting the internal data representation between the two views. The
application developer attaches a particular <em>Converter</em> to a particular
<em>ValueHolder</em> by calling <em>setConverter</em>, passing an instance of the
particular converter. A <em>Converter</em> implementation may be acquired from
the <em>Application</em> instance (see <a href="#a3468">Object
Factories</a>) for your application.</p>
</div>
</div>
<div class="sect3">
<h4 id="a1258"><a class="anchor" href="#a1258"></a>3.3.2. Converter</h4>
<div class="paragraph">
<p>Jakarta Faces provides the
<em>jakarta.faces.convert.Converter</em> interface to define the behavioral
characteristics of a <em>Converter</em>. Instances of implementations of this
interface are either identified by a <em>converter identifier</em>, or by a
class for which the <em>Converter</em> class asserts that it can perform
successful conversions, which can be registered with, and later
retrieved from, an <em>Application</em>, as described in
<a href="#a3468">Object Factories</a>.</p>
</div>
<div class="paragraph">
<p>Often, a <em>Converter</em> will be an object that
requires no extra configuration information to perform its
responsibilities. However, in some cases, it is useful to provide
configuration parameters to the <em>Converter</em> (such as a
<em>java.text.DateFormat</em> pattern for a <em>Converter</em> that supports
<em>java.util.Date</em> model objects). Such configuration information will
generally be provided via JavaBeans properties on the <em>Converter</em>
instance.</p>
</div>
<div class="paragraph">
<p><em>Converter</em> implementations should be
programmed so that the conversions they perform are symmetric. In other
words, if a model data object is converted to a String (via a call to
the <em>getAsString</em> method), it should be possible to call <em>getAsObject</em>
and pass it the converted String as the value parameter, and return a
model data object that is semantically equal to the original one. In
some cases, this is not possible. For example, a converter that uses the
formatting facilities provided by the <em>java.text.Format</em> class might
create two adjacent integer numbers with no separator in between, and in
this case the <em>Converter</em> could not tell which digits belong to which
number.</p>
</div>
<div class="paragraph">
<p>For <em>UIInput</em> and <em>UIOutput</em> components that
wish to explicitly select a <em>Converter</em> to be used, a new <em>Converter</em>
instance of the appropriate type must be created, optionally configured,
and registered on the component by calling <em>setConverter()</em>
<a href="#a9086">4</a>. Otherwise, the Jakarta Faces implementation will
automatically create new instances based on the data type being
converted, if such Converter classes have been registered. In either
case, Converter implementations need not be threadsafe, because they
will be used only in the context of a single request processing thread.</p>
</div>
<div class="paragraph">
<p>The following two method signatures are
defined by the <em>Converter</em> interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> getAsObject(FacesContext context,
    UIComponent component, <span class="predefined-type">String</span> value) <span class="directive">throws</span> ConverterException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method is used to convert the
presentation view of a component’s value (typically a String that was
received as a request parameter) into the corresponding model view. It
is called during the <em>Apply Request Values</em> phase of the request
processing lifecycle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getAsString(FacesContext context,
    UIComponent component, <span class="predefined-type">Object</span> value) <span class="directive">throws</span> ConverterException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method is used to convert the model view
of a component’s value (typically some native Java programming language
class) into the presentation view (typically a String that will be
rendered in some markup language. It is called during the <em>Render
Response</em> phase of the request processing lifecycle.</p>
</div>
<div class="paragraph">
<p>[P1-start-converter-resource]If the
class implementing Converter has a ResourceDependency annotation or a
ResourceDependencies annotation, the action described in the Javadocs
for the Converter interface must be followed when
ValueHolder.setConverter is called.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="standard-converter-implementations"><a class="anchor" href="#standard-converter-implementations"></a>3.3.3. Standard Converter Implementations</h4>
<div class="paragraph">
<p>Jakarta Faces provides a set of standard <em>Converter</em>
implementations. A Jakarta Faces implementation must register the <em>DateTime</em> and
<em>Number</em> converters by name with the <em>Application</em> instance for this web
application, as described in the table below. This ensures that the
converters are available for subsequent calls to
<em>Application.createConverter()</em>. Each concrete implementation class
must define a static final String constant <em>CONVERTER_ID</em> whose value is
the standard converter id under which this Converter is registered.</p>
</div>
<div class="paragraph">
<p>[P1-start standard converters] The following
converter id values must be registered to create instances of the
specified Converter implementation classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>jakarta.faces.BigDecimal</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.BigDecimalConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.BigInteger</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.BigIntegerConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.Boolean</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.BooleanConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.Byte</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.ByteConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.Character</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.CharacterConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.DateTime</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.DateTimeConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.Double</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.DoubleConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.Float</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.FloatConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.Integer</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.IntegerConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.Long</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.LongConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.Number</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.NumberConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>jakarta.faces.Short</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.ShortConverter</em> (or a subclass of this class).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end] See the Javadocs for these classes
for a detailed description of the conversion operations they perform,
and the configuration properties that they support.</p>
</div>
<div class="paragraph">
<p>[P1-start by-Class converters] A Jakarta Faces
implementation must register converters for all of the following classes
using the by-type registration mechanism:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>java.math.BigDecimal</em>, and
<em>java.math.BigDecimal.TYPE</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.BigDecimalConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>java.math.BigInteger</em>, and
<em>java.math.BigInteger.TYPE</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.BigIntegerConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>java.lang.Boolean</em>, and
<em>java.lang.Boolean.TYPE</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.BooleanConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>java.lang.Byte</em>, and <em>java.lang.Byte.TYPE</em>&#8201;&#8212;&#8201;An instance of <em>jakarta.faces.convert.ByteConverter</em> (or a subclass of
this class).</p>
</li>
<li>
<p><em>java.lang.Character</em>, and
<em>java.lang.Character.TYPE</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.CharacterConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>java.lang.Double</em>, and
<em>java.lang.Double.TYPE</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.DoubleConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>java.lang.Float</em>, and
<em>java.lang.Float.TYPE</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.FloatConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>java.lang.Integer</em>, and
<em>java.lang.Integer.TYPE</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.IntegerConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>java.lang.Long</em>, and <em>java.lang.Long.TYPE</em>&#8201;&#8212;&#8201;An instance of <em>jakarta.faces.convert.LongConverter</em> (or a subclass of
this class).</p>
</li>
<li>
<p><em>java.lang.Short</em>, and
<em>java.lang.Short.TYPE</em>&#8201;&#8212;&#8201;An instance of
<em>jakarta.faces.convert.ShortConverter</em> (or a subclass of this class).</p>
</li>
<li>
<p><em>java.lang.Enum</em>, and <em>java.lang.Enum.TYPE</em>&#8201;&#8212;&#8201;An instance of <em>jakarta.faces.convert.EnumConverter</em> (or a subclass of
this class).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end] See the Javadocs for these classes
for a detailed description of the conversion operations they perform,
and the configuration properties that they support.</p>
</div>
<div class="paragraph">
<p>[P1-start allowing string converters]
A compliant implementation must allow the registration of a converter
for class <em>java.lang.String</em> and <em>java.lang.String.TYPE</em> that will be
used to convert values for these types. [P1-end]</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a1300"><a class="anchor" href="#a1300"></a>3.4. Event and Listener Model</h3>
<div class="paragraph">
<p>This section describes how Jakarta Server Faces
provides support for generating and handling user interface events and
system events.</p>
</div>
<div class="sect3">
<h4 id="a1302"><a class="anchor" href="#a1302"></a>3.4.1. Overview</h4>
<div class="paragraph">
<p>Jakarta Faces implements a model for event notification
and listener registration based on the design patterns in the <em>JavaBeans
Specification</em>, version 1.0.1. This is similar to the approach taken in
other user interface toolkits, such as the Swing Framework included in
the JDK.</p>
</div>
<div class="paragraph">
<p>A <em>UIComponent</em> subclass may choose to emit
<em>events</em> that signify significant state changes, and broadcast them to
<em>listeners</em> that have registered an interest in receiving events of the
type indicated by the event’s implementation class. At the end of
several phases of the request processing lifecycle, the Jakarta Faces
implementation will broadcast all of the events that have been queued to
interested listeners. Jakarta Faces also
defines <em>system events</em>. System events are events that are not specific
to any particular application, but rather stem from specific points in
time of running a Jakarta Faces application. The following UML class diagram
illustrates the key players in the event model. Boxes shaded in gray
indicate classes or interfaces defined outside of the
<em>jakarta.faces.event</em> package.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="data:image/png;base64,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" alt="image"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="a1306"><a class="anchor" href="#a1306"></a>3.4.2. Application Events</h4>
<div class="paragraph">
<p>Application events are events that are
specific to a particular application. Application events are the
standard events that have been in Jakarta Faces from the beginning.</p>
</div>
<div class="sect4">
<h5 id="a1308"><a class="anchor" href="#a1308"></a>3.4.2.1. Event Classes</h5>
<div class="paragraph">
<p>All events that are broadcast by Jakarta Faces user
interface components must extend the <em>jakarta.faces.event.FacesEvent</em>
abstract base class. The parameter list for the constructor(s) of this
event class must include a <em>UIComponent</em>, which identifies the
component from which the event will be broadcast to interested
listeners. The source component can be retrieved from the event object
itself by calling <em>getComponent</em>. Additional constructor parameters
and/or properties on the event class can be used to relay additional
information about the event.</p>
</div>
<div class="paragraph">
<p>In conformance to the naming patterns defined
in the <em>JavaBeans Specification</em>, event classes typically have a class
name that ends with <em>Event</em>. It is recommended that application event
classes follow this naming pattern as well.</p>
</div>
<div class="paragraph">
<p>The component that is the source of a
FacesEvent can be retrieved via this method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIComponent getComponent();</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>FacesEvent</em> has a <em>phaseId</em> property (of
type <em>PhaseId</em>, see <a href="#a1335">Phase Identifiers</a>)
used to identify the request processing lifecycle phase after which the
event will be delivered to interested listeners.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> PhaseId getPhaseId();
<span class="directive">public</span> <span class="type">void</span> setPhaseId(PhaseId phaseId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If this property is set to PhaseId.ANY_PHASE
(which is the default), the event will be delivered at the end of the
phase in which it was enqueued.</p>
</div>
<div class="paragraph">
<p>To facilitate general management of event
listeners in Jakarta Faces components, a <em>FacesEvent</em> implementation class must
support the following methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">boolean</span> isAppropriateListener(FacesListener listener);
<span class="directive">public</span> <span class="directive">abstract</span> <span class="type">void</span> processListener(FacesListener listener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>isAppropriateListener()</em> method returns
true if the specified <em>FacesListener</em> is a relevant receiver of this
type of event. Typically, this will be implemented as a simple
“instanceof” check to ensure that the listener class implements the
<em>FacesListener</em> subinterface that corresponds to this event class</p>
</div>
<div class="paragraph">
<p>The <em>processListener()</em> method must call the
appropriate event processing method on the specified listener.
Typically, this will be implemented by casting the listener to the
corresponding <em>FacesListener</em> subinterface and calling the appropriate
event processing method, passing this event instance as a parameter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> queue();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above convenience method calls the
<em>queueEvent()</em> method of the source <em>UIComponent</em> for this event,
passing this event as a parameter.</p>
</div>
<div class="paragraph">
<p>Jakarta Faces includes two standard <em>FacesEvent</em>
subclasses, which are emitted by the corresponding standard
<em>UIComponent</em> subclasses described in the following chapter.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>ActionEvent</em> —Emitted by a <em>UICommand</em>
component when the user activates the corresponding user interface
control (such as a clicking a button or a hyperlink).</p>
</li>
<li>
<p><em>ValueChangeEvent</em> —Emitted by a <em>UIInput</em>
component (or appropriate subclass) when a new local value has been
created, and has passed all validations.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a1329"><a class="anchor" href="#a1329"></a>3.4.2.2. Listener Classes</h5>
<div class="paragraph">
<p>For each event type that may be emitted, a
corresponding listener interface must be created, which extends the
<em>jakarta.faces.event.FacesListener</em> interface. The method signature(s)
defined by the listener interface must take a single parameter, an
instance of the event class for which this listener is being created. A
listener implementation class will implement one or more of these
listener interfaces, along with the event handling method(s) specified
by those interfaces. The event handling methods will be called during
event broadcast, one per event.</p>
</div>
<div class="paragraph">
<p>In conformance to the naming patterns defined
in the <em>JavaBeans Specification</em>, listener interfaces have a class name
based on the class name of the event being listened to, but with the
word <em>Listener</em> replacing the trailing <em>Event</em> of the event class name
(thus, the listener for a <em>FooEvent</em> would be a <em>FooListener</em>). It is
recommended that application event listener interfaces follow this
naming pattern as well.</p>
</div>
<div class="paragraph">
<p>Corresponding to the two standard event
classes described in the previous section, Jakarta Faces defines two standard
event listener interfaces that may be implemented by application
classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>ActionListener</em> —a listener that is
interested in receiving <em>ActionEvent</em> events.</p>
</li>
<li>
<p><em>ValueChangeListener</em> —a listener that is
interested in receiving <em>ValueChangeEvent</em> events.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a1335"><a class="anchor" href="#a1335"></a>3.4.2.3. Phase Identifiers</h5>
<div class="paragraph">
<p>As described in
<a href="#a494">Common Event Processing</a>, event handling
occurs at the end of several phases of the request processing lifecycle.
In addition, a particular event must indicate, through the value it
returns from the <em>getPhaseId()</em> method, the phase in which it wishes to
be delivered. This indication is done by returning an instance of
<em>jakarta.faces.event.PhaseId</em>. The class defines a typesafe enumeration
of all the legal values that may be returned by <em>getPhaseId()</em>. In
addition, a special value (<em>PhaseId.ANY_PHASE</em>) may be returned to
indicate that this event wants to be delivered at the end of the phase
in which it was queued.</p>
</div>
</div>
<div class="sect4">
<h5 id="listener-registration"><a class="anchor" href="#listener-registration"></a>3.4.2.4. Listener Registration</h5>
<div class="paragraph">
<p>A concrete <em>UIComponent</em> subclass that emits
events of a particular type must include public methods to register and
deregister a listener implementation. [P1-start listener methods must
conform to javabeans naming] In order to be recognized by development
tools, these listener methods must follow the naming patterns defined in
the <em>JavaBeans Specification</em>. [P1-end] For example, for a component
that emits <em>FooEvent</em> events, to be received by listeners that implement
the <em>FooListener</em> interface, the method signatures (on the component
class) must be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addFooListener(FooListener listener);
<span class="directive">public</span> FooListener<span class="type">[]</span> getFooListeners();
<span class="directive">public</span> <span class="type">void</span> removeFooListener(FooListener listener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The application (or other components) may
register listener instances at any time, by calling the appropriate add
method. The set of listeners associated with a component is part of the
state information that Jakarta Faces saves and restores. Therefore, listener
implementation classes must have a public zero-argument constructor, and
may implement <em>StateHolder</em> (see <a href="#a1138">StateHolder</a>) if they have internal state information that needs to be
saved and restored.</p>
</div>
<div class="paragraph">
<p>The <em>UICommand</em> and <em>UIInput</em> standard
component classes include listener registration and deregistration
methods for event listeners associated with the event types that they
emit. The <em>UIInput</em> methods are also inherited by <em>UIInput</em> subclasses,
including <em>UISelectBoolean</em>, <em>UISelectMany</em>, and <em>UISelectOne</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="event-queueing"><a class="anchor" href="#event-queueing"></a>3.4.2.5. Event Queueing</h5>
<div class="paragraph">
<p>During the processing being performed by any
phase of the request processing lifecycle, events may be created and
queued by calling the <em>queueEvent()</em> method on the source <em>UIComponent</em>
instance, or by calling the <em>queue()</em> method on the <em>FacesEvent</em>
instance itself. As described in <a href="#a494">Common
Event Processing</a>, at the end of certain phases of the request
processing lifecycle, any queued events will be broadcast to interested
listeners in the order that the events were originally queued.</p>
</div>
<div class="paragraph">
<p>Deferring event broadcast until the end of a
request processing lifecycle phase ensures that the entire component
tree has been processed by that state, and that event listeners all see
the same consistent state of the entire tree, no matter when the event
was actually queued.</p>
</div>
</div>
<div class="sect4">
<h5 id="a1349"><a class="anchor" href="#a1349"></a>3.4.2.6. Event Broadcasting</h5>
<div class="paragraph">
<p>As described in
<a href="#a494">Common Event Processing</a>, at the end of
each request processing lifecycle phase that may cause events to be
queued, the lifecycle management method of the <em>UIViewRoot</em> component at
the root of the component tree will iterate over the queued events and
call the <em>broadcast()</em> method on the source component instance to
actually notify the registered listeners. See the Javadocs of the
<em>broadcast()</em> method for detailed functional requirements.</p>
</div>
<div class="paragraph">
<p>During event broadcasting, a listener
processing an event may:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Examine or modify the state of any component
in the component tree.</p>
</li>
<li>
<p>Add or remove components from the component
tree.</p>
</li>
<li>
<p>Add messages to be returned to the user, by
calling <em>addMessage</em> on the <em>FacesContext</em> instance for the current
request.</p>
</li>
<li>
<p>Queue one or more additional events, from the
same source component or a different one, for processing during the
current lifecycle phase.</p>
</li>
<li>
<p>Throw an <em>AbortProcessingException</em>, to tell
the Jakarta Faces implementation that no further broadcast of this event should
take place.</p>
</li>
<li>
<p>Call <em>renderResponse()</em> on the <em>FacesContext</em>
instance for the current request. This tells the Jakarta Faces implementation
that, when the current phase of the request processing lifecycle has
been completed, control should be transferred to the <em>Render Response</em>
phase.</p>
</li>
<li>
<p>Call <em>responseComplete()</em> on the
<em>FacesContext</em> instance for the current request. This tells the Jakarta Faces
implementation that, when the current phase of the request processing
lifecycle has been completed, processing for this request should be
terminated (because the actual response content has been generated by
some other means).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1359"><a class="anchor" href="#a1359"></a>3.4.3. System Events</h4>
<div class="paragraph">
<p>System Events represent specific points in time for a Jakarta Faces
application. <em>PhaseEvent</em>s also represent specific points in time in a
Jakarta Faces application, but the granularity they offer is not as precise as
System Events. For more on <em>PhaseEvent</em>s, please see
<a href="#a6626">PhaseEvent</a>.</p>
</div>
<div class="sect4">
<h5 id="a1361"><a class="anchor" href="#a1361"></a>3.4.3.1. Event Classes</h5>
<div class="paragraph">
<p>All system events extend from the base class
<em>SystemEvent</em>. <em>SystemEvent</em> has a similar API to <em>FacesEvent</em>, but
the <em>source</em> of the event is of type <em>Object</em> (instead of <em>UIComponent</em>
), <em>SystemEvent</em> has no <em>PhaseId</em> property and <em>SystemEvent</em> has no
<em>queue()</em> method because <em>SystemEvent</em> s are never queued. <em>SystemEvent</em>
shares <em>isAppropriateListener()</em> and <em>processListener()</em> with
<em>FacesEvent</em>. For the specification of these methods see
<a href="#a1308">Event Classes</a>.</p>
</div>
<div class="paragraph">
<p>System events that originate from or are
associated with specific component instances should extend from
<em>ComponentSystemEvent</em>, which extends <em>SystemEvent</em> and adds a
<em>getComponent()</em> method, as specififed in
<a href="#a1308">Event Classes</a>.</p>
</div>
<div class="paragraph">
<p>The specification defines the following
<em>SystemEvent</em> subclasses, all in package <em>jakarta.faces.event</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>ExceptionQueuedEvent</em> indicates a
non-expected <em>Exception</em> has been thrown. Please see
<a href="#a3253">ExceptionHandler</a> for the normative
specification.</p>
</li>
<li>
<p><em>PostConstructApplicationEvent</em> must be
published immediately after application startup. Please see
<a href="UsingJSFInWebApplications.html#a6201">Application Startup Behavior</a> for the
normative specification.</p>
</li>
<li>
<p><em>PreDestroyApplicationEvent</em> must be
published as immediately before application shutdown. Please see
<a href="UsingJSFInWebApplications.html#a6248">Application Shutdown Behavior</a> for the
normative specification</p>
</li>
<li>
<p><em>PostKeepFlashEvent</em> This event must be
published by a call to <em>Application.publishEvent()</em> when a value is kept
in the flash.</p>
</li>
<li>
<p><em>PostPutFlashEvent</em> This event must be
published by a call to <em>Application.publishEvent()</em> when a value is
stored in the flash.</p>
</li>
<li>
<p><em>PreClearFlashEvent</em> This event must be
published by a call to <em>Application.publishEvent()</em> when a before the
flash is cleared.</p>
</li>
<li>
<p><em>PreRemoveFlashEvent</em> This event must be
published by a call to <em>Application.publishEvent()</em> when a value is
removed from the flash.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The specification defines the following
<em>ComponentSystemEvent</em> classes, all in package <em>jakarta.faces.event</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>InitialStateEvent</em> must be published with a
direct call to <em>UIComponent.processEvent()</em>, during the <em>apply()</em>
method of the class <em>jakarta.faces.webapp.vdl.ComponentHandler</em>. Please
see the javadocs for the normative specification.</p>
</li>
<li>
<p><em>PostAddToViewEvent</em> indicates that the
<em>source</em> component has just been added to the view. Please see
<a href="#a937">Component Tree Manipulation</a> for a
reference to the normative specification.</p>
</li>
<li>
<p><em>PostConstructViewMapEvent</em> indicates that
the <em>Map</em> that is the view scope has just been created. Please see, the
UIViewRoot <a href="#a2268">Events</a> for a
reference to the normative specification.</p>
</li>
<li>
<p>PostRenderViewEvent indicates that the
UIViewRoot source component has just been rendered. Please see
<a href="#a457">Render Response</a> for the normative specification.</p>
</li>
<li>
<p>PostRestoreStateEvent indicates that an
individual component instance has just had its state restored. Please
see the <em>UIViewRoot</em> <a href="#a2268">Events</a>
for a reference to the normative specification.</p>
</li>
<li>
<p>PostValidateEvent indicates that an
individual component instance has just been validated. Please see the
<em>EditableValueHolder</em> <a href="#a1223">Events</a> for the
normative specification.</p>
</li>
<li>
<p><em>PreDestroyViewMapEvent</em> indicates that the
<em>Map</em> that is the view scope is about to be destroyed. Please see, the
UIViewRoot <a href="#a2230">Properties</a> for the normative
specification.</p>
</li>
<li>
<p><em>PreRenderComponentEvent</em> indicates that the
<em>source</em> component is about to be rendered. Please see
<a href="#a937">Component Tree Manipulation</a> for a
reference to the normative specification.</p>
</li>
<li>
<p><em>PreRenderViewEvent</em> indicates that the
<em>UIViewRoot</em> source component is about to be rendered. Please see
<a href="#a457">Render Response</a> for the normative
specification.</p>
</li>
<li>
<p>PreValidateEvent indicates that an individual
component instance is about to be validated. Please see the
<em>EditableValueHolder</em> <a href="#a1223">Events</a> for the
normative specification.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="listener-classes"><a class="anchor" href="#listener-classes"></a>3.4.3.2. Listener Classes</h5>
<div class="paragraph">
<p>Unlike application events, the creation of
new event types for system events does not require the creation of new
listener interfaces. All <em>SystemEvent</em> types can be listened for by
listeners that implement <em>jakarta.faces.event.SystemEventListener</em>.
Please see the javadocs for that class for the complete specification.</p>
</div>
<div class="paragraph">
<p>As a developer convenience, the listener
interface <em>ComponentSystemEventListener</em> has been defined for those
cases when a <em>SystemEventListener</em> is being attached to a specific
<em>UIComponent</em> instance. <em>ComponentSystemEventListener</em> lacks the
<em>isListenerForSource()</em> method because it is implcictly defined by
virture of the listener being added to a specific component instance.</p>
</div>
</div>
<div class="sect4">
<h5 id="programmatic-listener-registration"><a class="anchor" href="#programmatic-listener-registration"></a>3.4.3.3. Programmatic Listener Registration</h5>
<div class="paragraph">
<p>System events may be listened for at the
Application level, using <em>Application.subscribeToEvent()</em> or at the
component level, by calling <em>subscribeToEvent()</em> on a specific component
instance. The specification for <em>Application.subscribeToEvent()</em> may be
found in <a href="#a3526">System Event Methods</a>.</p>
</div>
<div class="paragraph">
<p>The following methods are defined on
<em>UIComponent</em> to support per-component system events.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> subscribeToEvent(<span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> SystemEvent&gt; eventClass,
    ComponentSystemEventListener componentListener);
<span class="directive">public</span> <span class="type">void</span> unsubscribeFromEvent(<span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> SystemEvent&gt; eventClass,
    ComponentSystemEventListener componentListener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>See the javadoc for <em>UIComponent</em> for the
normative specification of these methods.</p>
</div>
<div class="paragraph">
<p>In addition to the above methods, the
<em>@ListenerFor</em> and <em>@ListenersFor</em> annotations allow components,
renderers, validators and converters to declare that they want to
register for system events. Please see the javadocs for those
annotations for the complete specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="a1393"><a class="anchor" href="#a1393"></a>3.4.3.4. Declarative Listener Registration</h5>
<div class="paragraph">
<p>Page authors can subscribe to events using
the &lt;f:event/&gt; tag. This tag will allow the application developer to
specify the method to be called when the specifed event fires for the
component of which the tag is a child. The tag usage is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:inputText</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{myBean.text}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;f:event</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">preRenderComponent</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">listener</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{myBean.beforeTextRender}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/h:inputText&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>type</em> attribute specifies the type of
event, and can be any of the specification-defined events or one of any
user-defined events, but must be a <em>ComponentSystemEvent</em>, using either
the short-hand name for the event or the fully-qualified class name
(e.g., <em>com.foo.app.event.CustomEvent</em>). If the event can not be found,
a <em>FacesException</em> listing the offending event type will be thrown.
Please see the VDLDocs for the <em>&lt;f:event /&gt;</em> tag for the normative
specification of the declarative event feature.</p>
</div>
<div class="paragraph">
<p>The method signature for the
<em>MethodExpression</em> pointed to by the <em>listener</em> attribute must match the
signature of
<em>jakarta.faces.event.ComponentSystemEventListener.processEvent()</em>, which
is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processEvent(jakarta.faces.event.ComponentSystemEvent event)
    <span class="directive">throws</span> AbortProcessingException</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="a1403"><a class="anchor" href="#a1403"></a>3.4.3.5. Listener Registration By Annotation</h5>
<div class="paragraph">
<p>The <em>ListenerFor</em> and <em>ListenersFor</em>
annotations can be applied to components and rendererers. Classes tagged
with the <em>ListenerFor</em> annotation are installed as listeners. The
<em>ListenersFor</em> annotation is a container annotation tp specify multiple
<em>ListenerFor</em> annotations for a single class. Please refer to the
Javadocs for the <em>ListenerFor</em> and <em>ListenersFor</em> classes for more
details.</p>
</div>
</div>
<div class="sect4">
<h5 id="listener-registration-by-application-configuration-resources"><a class="anchor" href="#listener-registration-by-application-configuration-resources"></a>3.4.3.6. Listener Registration By Application Configuration Resources</h5>
<div class="paragraph">
<p>A <em>&lt;system-event-listener&gt;</em> element, within
the <em>&lt;application&gt;</em> element of an application configuration resource,
declares an application scoped listener and causes a call to
<em>Application.subscribeToEvent()</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="event-broadcasting"><a class="anchor" href="#event-broadcasting"></a>3.4.3.7. Event Broadcasting</h5>
<div class="paragraph">
<p>System events are broadcast immediately by
calls to <em>Application.publishEvent()</em> Please see
<a href="#a3526">System Event Methods</a> for the normative
specification of <em>publishEvent()</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a1410"><a class="anchor" href="#a1410"></a>3.5. Validation Model</h3>
<div class="paragraph">
<p>This section describes the facilities
provided by Jakarta Server Faces for validating user input.</p>
</div>
<div class="sect3">
<h4 id="overview-3"><a class="anchor" href="#overview-3"></a>3.5.1. Overview</h4>
<div class="paragraph">
<p>Jakarta Faces supports a mechanism for registering zero
or more <em>validators</em> on each <em>EditableValueHolder</em> component in the
component tree. A validator’s purpose is to perform checks on the local
value of the component, during the <em>Process Validations</em> phase of the
request processing lifecycle. In addition, a component may implement
internal checking in a <em>validate</em> method that is part of the component
class.</p>
</div>
</div>
<div class="sect3">
<h4 id="a1414"><a class="anchor" href="#a1414"></a>3.5.2. Validator Classes</h4>
<div class="paragraph">
<p>A validator must implement the
<em>jakarta.faces.validator.Validator</em> interface, which contains a
<em>validate()</em> method signature.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> validate(FacesContext context,
    UIComponent component, <span class="predefined-type">Object</span> value);</code></pre>
</div>
</div>
<div class="paragraph">
<p>General purpose validators may require
configuration values in order to define the precise check to be
performed. For example, a validator that enforces a maximum length might
wish to support a configurable length limit. Such configuration values
are typically implemented as JavaBeans component properties, and/or
constructor arguments, on the <em>Validator</em> implementation class. In
addition, a validator may elect to use generic attributes of the
component being validated for configuration information.</p>
</div>
<div class="paragraph">
<p>Jakarta Faces includes implementations of several
standard validators, as described in <a href="#a1446">Standard Validator Implementations</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a1419"><a class="anchor" href="#a1419"></a>3.5.3. Validation Registration</h4>
<div class="paragraph">
<p>The <em>EditableValueHolder</em> interface
(implemented by <em>UIInput</em>) includes an <em>addValidator</em> method to
register an additional validator for this component, and a
<em>removeValidator</em> method to remove an existing registration. In pre-Jakarta Faces JSF 1.1 (under the JCP)
there was the ability to set a <em>MethodBinding</em> that points to a method
that adheres to the <em>validate</em> signature in the <em>Validator</em> interface,
which will be called after the Validator instances added by calling
addValidator() have been invoked. In pre-Jakarta Faces JSF 1.2 (under the JCP), this has been replaced by
providing a new wrapper class that implements <em>Validator</em>, and accepts
a <em>MethodExpression</em> instance that points to the same method that the
<em>MethodBinding</em> pointed to in pre-Jakarta Faces JSF 1.1. Please see the javadocs for
<em>EditableValueHolder.setValidator()</em>.</p>
</div>
<div class="paragraph">
<p>The application (or other components) may
register validator instances at any time, by calling the <em>addValidator</em>
method. The set of validators associated with a component is part of the
state information that Jakarta Faces saves and restores. Validators that wish to
have configuration properties saved and restored must also implement
<em>StateHolder</em> (see <a href="#a1138">StateHolder</a>).</p>
</div>
<div class="paragraph">
<p>In addition to validators which are
registered explicitly on the component, either through the Java API or
in the view markup, zero or more “default validators” can be declared in
the application configuration resources, which will be registered on all
<em>UIInput</em> instances in the component tree unless explicitly disabled.
[P1-start-validator-reg]The default validators are appended after any
locally defined validators once the <em>EditableValueHolder</em> is populated
and added to the component tree. A default validator must not be added
to a <em>UIInput</em> if a validator having the same id is already present.</p>
</div>
<div class="paragraph">
<p>The typical way of registering a default
validator id is by declaring it in a configuration resource, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config&gt;</span>
  <span class="tag">&lt;application&gt;</span>
    <span class="tag">&lt;default-validators&gt;</span>
      <span class="tag">&lt;validator-id&gt;</span>jakarta.faces.Bean<span class="tag">&lt;/validator-id&gt;</span>
    <span class="tag">&lt;/default-validators&gt;</span>
  <span class="tag">&lt;/application&gt;</span>
<span class="tag">&lt;/faces-config&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A default validator may also be registered
using the <em>isDefault</em> attribute on the <em>@FacesValidator</em> annotation on a
<em>Validator</em> class, as specified in <a href="UsingJSFInWebApplications.html#a6598">Requirements for scanning of classes for annotations</a>.</p>
</div>
<div class="paragraph">
<p>The during application startup, the runtime
must cause any default validators declared either in the application
configuration resources, or via a <em>@FacesValidator</em> annotation with
<em>isDefault</em> set to <em>true</em> to be added with a call to
<em>Application.addDefaultValidatorId()</em>. This method is declared in
<a href="#a3510">Default Validator Ids</a>.</p>
</div>
<div class="paragraph">
<p>Any configuration resource that declares a
list of default validators overrides any list provided in a previously
processed configuration resource. If an empty <em>&lt;default-validators/&gt;</em>
element is found in a configuration resource, the list of default
validators must be cleared.</p>
</div>
<div class="paragraph">
<p>In environments that include Bean Validation,
the following additional actions must be taken at startup time. If the
<em>jakarta.faces.validator.DISABLE_DEFAULT_BEAN_VALIDATOR</em> <em>&lt;context-param&gt;</em>
exists and its value is <em>true</em>, the following step must be skipped:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The runtime must guarantee that the
validator id <em>jakarta.faces.Bean</em> is included in the result from a call to
<em>Application.getDefaultValidatorInfo()</em> (see
<a href="#a3510">Default Validator Ids</a>), regardless of
any configuration found in the application configuration resources or
via the <em>@FacesValidator</em> annotation.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="validation-processing"><a class="anchor" href="#validation-processing"></a>3.5.4. Validation Processing</h4>
<div class="paragraph">
<p>During the <em>Process Validations</em> phase of the
request processing lifecycle (as described in
<a href="#a438">Process Validations</a>), the Jakarta Faces
implementation will ensure that the <em>validate()</em> method of each
registered <em>Validator</em> , the method referenced by the <em>validator</em>
property (if any), and the <em>validate()</em> method of the component itself,
is called for each <em>EditableValueHolder</em> component in the component
tree, regardless of the validity state of any of the components in the
tree. The responsibilities of each <em>validate()</em> method include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Perform the check for which this validator
was registered.</p>
</li>
<li>
<p>If violation(s) of the correctness rules are
found, create a <em>FacesMessage</em> instance describing the problem, and
create a <em>ValidatorException</em> around it, and throw the
<em>ValidatorException</em>. The <em>EditableValueHolder</em> on which this
validation is being performed will catch this exception, set <em>valid</em> to
<em>false</em> for that instance, and cause the message to be added to the
<em>FacesContext</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, a <em>validate()</em> method may:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Examine or modify the state of any component
in the component tree.</p>
</li>
<li>
<p>Add or remove components from the component
tree.</p>
</li>
<li>
<p>Queue one or more events, from the same
component or a different one, for processing during the current
lifecycle phase.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The render-independent property <em>required</em> is
a shorthand for the function of a “required” validator. If the value of
this property is true, there is an entry in the request payload
corresponding to this component, and the component has no value, the
component is marked invalid and a message is added to the <em>FacesContext</em>
instance. See <a href="#a584">Localized Application
Messages</a> for details on the message.</p>
</div>
</div>
<div class="sect3">
<h4 id="a1446"><a class="anchor" href="#a1446"></a>3.5.5. Standard Validator Implementations</h4>
<div class="paragraph">
<p>Jakarta Server Faces defines a standard suite of
<em>Validator</em> implementations that perform a variety of commonly required
checks. In addition, component writers, application developers, and tool
providers will often define additional <em>Validator</em> implementations that
may be used to support component-type-specific or application-specific
constraints. These implementations share the following common
characteristics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standard <em>Validators</em> accept configuration
information as either parameters to the constructor that creates a new
instance of that <em>Validator</em>, or as JavaBeans component properties on
the <em>Validator</em> implementation class.</p>
</li>
<li>
<p>To support internationalization,
<em>FacesMessage</em> instances should be created. The message identifiers for
such standard messages are also defined by manifest String constants in
the implementation classes. It is the user’s responsibility to ensure
the content of a <em>FacesMessage</em> instance is properly localized, and
appropriate parameter substitution is performed, perhaps using
<em>java.text.MessageFormat</em>.</p>
</li>
<li>
<p>See the javadocs for
<em>UIInput.validateValue()</em> for further normative specification regarding
validation.</p>
</li>
<li>
<p>Concrete Validator implementations must
define a public static final String constant VALIDATOR_ID, whose value
is the standard identifier under which the Jakarta Faces implementation must
register this instance (see below).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please see <a href="#a584">Localized Application Messages</a> for the list of message identifiers.</p>
</div>
<div class="paragraph">
<p>[P1-start standard validators] The following
standard <em>Validator</em> implementations (in the <em>jakarta.faces.validator</em>
package) are provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>DoubleRangeValidator</em> —Checks the local
value of a component, which must be of any numeric type, against
specified maximum and/or minimum values. Standard identifier is
“jakarta.faces.DoubleRange”.</p>
</li>
<li>
<p><em>LengthValidator</em> —Checks the length (i.e.
number of characters) of the local value of a component, which must be
of type <em>String</em>, against maximum and/or minimum values. Standard
identifier is “jakarta.faces.Length”.</p>
</li>
<li>
<p><em>LongRangeValidator</em> —Checks the local value
of a component, which must be of any numeric type convertible to <em>long</em>
, against maximum and/or minimum values. Standard identifier is
“jakarta.faces.LongRange”.</p>
</li>
<li>
<p><em>RegexValidator</em> —Accepts a “pattern”
attribute that is interpreted as a regular expression from the
<em>java.util.regex</em> package. The local value of the component is checked
fora match against this regular expression. Standard identifier is
“jakarta.faces.RegularExpression”</p>
</li>
<li>
<p><em>BeanValidator</em> - The implementation must
ensure that this validator is only available when running in an
environment in which JSR-303 Beans Validation is available. Please see
the javadocs for <em>BeanValidator.validate()</em> for the
specification. Standard identifier is “jakarta.faces.Bean”</p>
</li>
<li>
<p>RequiredValidator - Analogous to setting the
required attribute to true on the EditableValueHolder. Enforces that the
local value is not empty. Reuses the logic and error messages defined on
UIInput. Standard identifier for this validator is
"jakarta.faces.Required"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p> <em>MethodExpressionValidator</em> —Wraps a
<em>MethodExpression</em> and interprets it as pointing to a method that
performs validation. Any exception thrown when the expression is invoked
is wrapped in a <em>ValidatorException</em> in similar fashion as the above
validators. [P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a1461"><a class="anchor" href="#a1461"></a>3.5.6. Bean Validation Integration</h4>
<div class="paragraph">
<p>If the implementation is running in a
container environment that requires Jakarta Bean Validation, it must expose the
bean validation as described in this specification.</p>
</div>
<div class="paragraph">
<p>As stated in the specification goals of Jakarta Bean Validation,
validation often gets spread out across the application, from user
interface components to persistent objects. Jakarta Bean Validation strives to
avoid this duplication by defining a set of metadata that can be used to
express validation constraints that are sharable by any layer of the
application. Since its inception, Jakarta Faces has supported a “field level
validation” approach. Rather than requiring the developer to define
validators for each input component (i.e., <em>EditableValueHolder</em>), the
BeanValidator can be automatically applied to all fields on a page so
that the work of enforcing the constraints can be delegated to the Bean
Validation provider.</p>
</div>
<div class="sect4">
<h5 id="a1464"><a class="anchor" href="#a1464"></a>3.5.6.1. Bean Validator Activation</h5>
<div class="paragraph">
<p>[P1-BeanValidationIntegration]If Bean
Validation is present in the runtime environment, the system must ensure
that the standard validator with validator-id <em>jakarta.faces.Bean</em> is
added with a call to <em>Application.addDefaultValidatorId()</em>.[P1-end] See
<a href="#a1446">Standard Validator Implementations</a> for
the description of the standard <em>BeanValidator</em>, and
<a href="#a5828">&lt;f:validateBean&gt; </a> for the Facelet tag
that exposes this validator to the page author. This ensures Bean
Validation will be called for every field in the application.</p>
</div>
<div class="paragraph">
<p>If Bean Validation is present, and the
<em>jakarta.faces.VALIDATE_EMPTY_FIELDS</em> <em>&lt;context-param&gt;</em> is not explicitly
set to <em>false</em>, Jakarta Faces will validate <em>null</em> and empty fields so that the
<em>@NotNull</em> and <em>@NotEmpty</em> constraints from Bean Validation can be
leveraged. The next section describes how the reference to the Bean
Validation ValidatorFactory is obtained by that validator.</p>
</div>
</div>
<div class="sect4">
<h5 id="a1467"><a class="anchor" href="#a1467"></a>3.5.6.2. Obtaining a ValidatorFactory</h5>
<div class="paragraph">
<p>The Bean Validation ValidatorFactory is the
main entry point into Bean Validation and is responsible for creating
Validator instances. [P1-start-validatoryfactory]A ValidatorFactory is
retrieved using the following algorithm:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the servlet context contains a
ValidatorFactory instance under the attribute named
jakarta.faces.validator.beanValidator.ValidatorFactory, this instance is
used by Jakarta Faces to acquire Validator instances (specifically in the
BeanValidator). This key should be defined in the constant named
VALIDATOR_FACTORY_KEY on BeanValidator.</p>
</li>
<li>
<p>If the servlet context does not contain such
an entry, Jakarta Faces looks for a Bean Validation provider in the classpath. If
present, the standard Bean Validation bootstrap strategy is used. If not
present, Bean Validation integration is disabled. If the BeanValidator
is used an no ValidatorFactory can be retrieved, a FacesException is
raised. The standard Bean Validation bootstrap procedure is shown here:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ValidatorFactory validatorFactory =
    Validation.buildDefaultValidatorFactory();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once instantiated, the result can be
stored in the servlet context attribute mentioned as a means of caching
the result. If Jakarta Faces is running in a Jakarta EE environment, Jakarta Bean Validation
will be available, as defined by the Jakarta EE specification, and thus
activated in Jakarta Faces. The EE container will be responsible for making the
ValidatorFactory available as an attribute in the ServletContext as
mentioned above.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="class-level-validation"><a class="anchor" href="#class-level-validation"></a>3.5.6.3. Class-Level Validation</h5>
<div class="paragraph">
<p>Jakarta Faces conversion and validation as described in
this chapter operates on the principle that all conversion and
validation is performed before values are pushed into the model. This
principle allows one to safely assume that if a value is pushed into the
model, it is of the proper type and has been validated. This validation
is done on a “field level” basis, as mentioned in
<a href="#a1461">Bean Validation Integration</a>. This
approach poses challenges for higher level validation that needs to take
the value of several fields together into account to decide if they are
valid or not. For example, consider the common case of a user account
creation page with two fields for the password. The page can only be
considered valid if both password fields are themselves individually
valid based on the specified password constraints and also are both the
same value. Jakarta Faces provides for this case by providing a facility for
performing Class-Level Validation using Bean Validation. Please see the
VDLDoc for the <em>&lt;f:validateWholeBean /&gt;</em> tag for the normative
specification of this feature as well as a usage example showing the
password validation scenario.</p>
</div>
</div>
<div class="sect4">
<h5 id="localization-of-bean-validation-messages"><a class="anchor" href="#localization-of-bean-validation-messages"></a>3.5.6.4. Localization of Bean Validation Messages</h5>
<div class="paragraph">
<p>To ensure proper localization of the
messages, Jakarta Faces should provide a custom BeanValidation MessageInterpolator
resolving the Locale according to Jakarta Faces defaults and delegating to the
default MessageInterpolator as defined in
ValidationFactory.getMessageInterpolator(). A possible implementation is
shown here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">FacesMessageInterpolator</span> <span class="directive">implements</span> MessageInterpolator {
  <span class="directive">private</span> <span class="directive">final</span> MessageInterpolator delegate;

  <span class="directive">public</span> FacesMessageInterpolator(MessageInterpolator delegate) {
    <span class="local-variable">this</span>.delegate = delegate;
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> interpolate(<span class="predefined-type">String</span> message,
      ConstraintDescriptor constraintDescriptor,<span class="predefined-type">Object</span> value) {
    <span class="predefined-type">Locale</span> locale = FacesContext.getCurrentInstance()
        .getViewRoot().getLocale();
    <span class="keyword">return</span> <span class="local-variable">this</span>.delegate.interpolate(
        message, constraintDescriptor, value, locale);
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> interpolate(<span class="predefined-type">String</span> message, ConstraintDescriptor
      constraintDescriptor, <span class="predefined-type">Object</span> value, <span class="predefined-type">Locale</span> locale) {
    <span class="keyword">return</span> <span class="local-variable">this</span>.delegate.interpolate(
        message, constraintDescriptor, value, locale);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once a ValidatorFactory is obtained, as
described in <a href="#a1467">Obtaining a
ValidatorFactory</a>, Jakarta Faces receives a Validator instance by providing the
custom message interpolator to the validator state.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//could be cached</span>
MessageInterpolator facesMessageInterpolator = <span class="keyword">new</span> FacesMessageInterpolator(
    validatorFactory.getMessageInterpolator() );

<span class="comment">//...</span>

<span class="predefined-type">Validator</span> validator = validatorFactory
    .usingContext()
    .messageInterpolator(facesMessageInterpolator)
    .getValidator();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The local value is then passed to the
Validator.validateValue() method to check for constraint violations.
Since Bean Validation defines a strategy for localized message
reporting, the BeanValidator does not need to concern itself with
producing the validation message. Instead, the BeanValidator should
accept the interpolated message returned from Bean Validation API, which
is accessed via the method getInterpolatedMessage() on the
ContraintFailure class, and use it as the replacement value for the
first numbered placeholder for the key
jakarta.faces.validator.BeanValidator.MESSAGE (i.e., {0}). To encourage
use of the Bean Validation message facility, the default message format
string for the BeanValidator message key must be a single placeholder,
as shown here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">jakarta.faces.validator.BeanValidator.MESSAGE={<span class="integer">0</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Putting the Bean Validation message
resolution in full control of producing the displayed message is the
recommended approach. However, to allow the developer to align the
messages generated by the BeanValidator with existing Jakarta Faces
validators, the developer may choose to override this message key in an
application resource bundle and reference the component label, which
replaces the second numbered placeholder (i.e., {1}).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">jakarta.faces.validator.BeanValidator.MESSAGE={<span class="integer">1</span>}:{<span class="integer">0</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This approach is useful if you are already
using localized labels for your input components and are displaying the
messages above the form, rather than adjacent to the input.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a1515"><a class="anchor" href="#a1515"></a>3.6. Composite User Interface Components</h3>
<div class="sect3">
<h4 id="non-normative-background"><a class="anchor" href="#non-normative-background"></a>3.6.1. Non-normative Background</h4>
<div class="paragraph">
<p>To aid implementors in providing a spec
compliant runtime for composite components, this section provides a
non-normative background to motivate the discussion of the composite
component feature. The composite component feature enables developers to
write real, reusable, Jakarta Faces UI components without any Java code or
configuration XML.</p>
</div>
<div class="sect4">
<h5 id="a1518"><a class="anchor" href="#a1518"></a>3.6.1.1. What does it mean to be a Jakarta Faces User Interface component?</h5>
<div class="paragraph">
<p>Jakarta Faces is a component based framework, and Jakarta Faces
UI components are the main point of Jakarta Faces. But what is a Jakarta Faces UI component,
really? Conceptually, a Jakarta Faces UI Component is a software artifact that
represents a reusable, self contained piece of a user interface. A very
narrow definition for “Jakarta Faces UI Component” is imposed at runtime. This
definition can be summarized as</p>
</div>
<div class="paragraph">
<p>A Jakarta Faces UI Component is represented at runtime
by an instance of a Java class that includes
<em>jakarta.faces.component.UIComponent</em> as an ancestor in its inheritance
hierarchy.</p>
</div>
<div class="paragraph">
<p>It is easy to write a class that adheres to
this definition, but in practice, component authors need to do more than
just this in order to get the most from Jakarta Faces and to conform to user’s
expectations of what a Jakarta Faces UI Component is. For example, users expect a
Jakarta Faces UI Component can do some or all of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>be exposed to the page-author via a markup
tag with sensible attributes</p>
</li>
<li>
<p>emit events (such a <em>ValueChangeEvent</em> or
<em>ActionEvent</em>)</p>
</li>
<li>
<p>allow attaching listeners</p>
</li>
<li>
<p>allow attaching a <em>Converter</em> and/or
<em>Validator</em>(s)</p>
</li>
<li>
<p>render itself to the user-agent, with full
support for styles, localization and accessibility</p>
</li>
<li>
<p>support delegated rendering to allow for
client device independence</p>
</li>
<li>
<p>read values sent from the user-agent and
correctly adapt them to the faces lifecycle</p>
</li>
<li>
<p>correctly handle saving and restoring its
state across multiple requests from the user-agent</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Another important dimension to consider
regarding UI components is the context in which the developer interacts
with the component. There are generally two such contexts.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the context of a markup view, such as a
Jakarta Server Pages or Facelet view. In this context the developer interacts with the UI
component using a markup element, setting attributes on that element,
and nesting child elements within that component markup element.</p>
</li>
<li>
<p>In the context of code, such as a listener, a
managed-bean, or other programming language context. In this context,
the developer is writing JavaCode that is either passed the UI component
as an argument, or obtains a reference to the UI component in some other
way.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="how-does-one-make-a-custom-jakarta-faces-user-interface-component"><a class="anchor" href="#how-does-one-make-a-custom-jakarta-faces-user-interface-component"></a>3.6.1.2. How does one make a custom Jakarta Faces User Interface component?</h5>
<div class="paragraph">
<p>To satisfy a user’s expectations for a Jakarta Faces UI
component, the component author must adhere to one of the following best
practices.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>extend the custom component class from an
existing subclass of <em>UIComponent</em> that most closely represents the
meaning and behavior of the piece of the UI you are encapsulating in the
component.</p>
</li>
<li>
<p>extend the custom component class directly
from <em>UIComponentBase</em> and implement the appropriate “behavioral
interface”(s) that most closely represents the meaning and behavior of
the piece of the UI you are encapsulating in the component. See
<a href="#a1088">Component Behavioral Interfaces</a> for
more.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that the first best practice includes
the second one “for free” since the stock <em>UIComponent</em> subclasses
already implement the appropriate behavioral interfaces.</p>
</div>
<div class="paragraph">
<p>When following either best practice, the Jakarta Faces
UI component developer must follow several steps to make the component
available for use in markup pages or in code, including but not
necessarily limited to</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make entries in a <em>faces-config.xml</em> file,
linking the component class to its <em>component-type</em> , which enables the
<em>Application.createComponent()</em> method to create instances of the
component.</p>
</li>
<li>
<p>Make entries in a <em>faces-config.xml</em> file to
declare a <em>Renderer</em> that provides client-device independence.</p>
</li>
<li>
<p>Provide a Jakarta Server Pages or Facelet tag handler that
allows the page author to build UIs that include the component, and to
customize each instance of the component with listeners, properties and
model associations. This includes making the association between the
<em>Renderer</em> and the <em>UIComponent</em>.</p>
</li>
<li>
<p>Provide a <em>Renderer</em> that provides client
device independency for the component</p>
</li>
<li>
<p>Make entries in a <em>faces-config.xml</em> file
that links the <em>Renderer</em> and its Java class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These steps are complex, yet the components
one creates by following them can be very flexible and powerful. By
making some simplifying assumptions, it is possible to allow the
creation of components that are just as powerful but require far less
complexity to develop. This is the whole point of composite components:
to enable developers to write real, reusable, Jakarta Faces UI components without
any Java code or configuration XML.</p>
</div>
</div>
<div class="sect4">
<h5 id="a1545"><a class="anchor" href="#a1545"></a>3.6.1.3. How does one make a composite component?</h5>
<div class="paragraph">
<p>The composite component feature builds on two
features in Jakarta Faces: resources
(<a href="#a746">Resource Handling</a>) and Facelets
(<a href="#a5476">Facelets and its use in Web
Applications</a>”). Briefly, a composite component is any Facelet markup
file that resides inside of a resource library. For example, if a
Facelet markup file named <em>loginPanel.xhtml</em> resides inside of a
resource library called <em>ezcomp</em>, then page authors can use this
component by declaring the xml namespace
<em>xmlns:ez="http://java.sun.com/jsf/composite/ezcomp"</em> and including the
tag <em>&lt;ez:loginPanel /&gt;</em> in their pages. Naturally, it is possible for a
composite component author to declare an alternate XML namespace for
their composite components, but doing so is optional.</p>
</div>
<div class="paragraph">
<p>Any valid Facelet markup is valid for use
inside of a composite component, including the templating features
specified in
<a href="#a6043">Facelet
Templating Tag Library</a>. In addition, the tag library specified in
<a href="#a6045">Composite Component Tag Library</a> must be
used to declare the metadata for the composite component. Future
versions of the Jakarta Faces specification may relax this requirement, but for
now at least the <em>&lt;composite:interface&gt;</em> and
<em>&lt;composite:implementation&gt;</em> sections are required when creating a
composite component.</p>
</div>
</div>
<div class="sect4">
<h5 id="a1548"><a class="anchor" href="#a1548"></a>3.6.1.4. A simple composite component example</h5>
<div class="paragraph">
<p>Create the page that uses the composite
component, <em>index.xhtml</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>

<span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:h</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/html</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:f</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/core</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:ez</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/composite/ezcomp</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:head&gt;</span>
    <span class="tag">&lt;title&gt;</span>A simple example of EZComp<span class="tag">&lt;/title&gt;</span>
  <span class="tag">&lt;/h:head&gt;</span>
  <span class="tag">&lt;h:body&gt;</span>
    <span class="tag">&lt;h:form&gt;</span>
      <span class="tag">&lt;ez:loginPanel</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">loginPanel</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;f:actionListener</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">loginEvent</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">binding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{bean.loginEventListener}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
      <span class="tag">&lt;/ez:loginPanel&gt;</span>
    <span class="tag">&lt;/h:form&gt;</span>
  <span class="tag">&lt;/h:body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The only thing special about this page is the
<em>ez</em> namespace declaration and the inclusion of the <em>&lt;ez:loginPanel /&gt;</em>
tag on the page. The occurrence of the string
“http://java.sun.com/jsf/composite/” in a Facelet XML namespace
declaration means that whatever follows that last “<em>/</em>” is taken to be
the name of a resource library. For any usage of this namespace in the
page, such as <em>&lt;ez:loginPanel /&gt;</em>, a Facelet markup file with the
corresponding name is loaded and taken to be the composite component, in
this case the file <em>loginPanel.xhtml</em>. The implementation requirements
for this and other Facelet features related to composite components are
specified in <a href="#a5661">Requirements specific to
composite components</a>.</p>
</div>
<div class="paragraph">
<p>Create the composite component markup page.
In this case, <em>loginPanel.xhtml</em> resides in the <em>./resources/ezcomp</em>
directory relative to the <em>index.xhtml</em> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>

<span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:h</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/html</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:f</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/core</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:ui</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/facelets</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:composite</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/composite</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;head&gt;</span>
    <span class="tag">&lt;title&gt;</span>Not present in rendered output<span class="tag">&lt;/title&gt;</span>
  <span class="tag">&lt;/head&gt;</span>
  <span class="tag">&lt;body&gt;</span>
    <span class="tag">&lt;composite:interface&gt;</span>
      <span class="tag">&lt;composite:actionSource</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">loginEvent</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/composite:interface&gt;</span>
    <span class="tag">&lt;composite:implementation&gt;</span>
      <span class="tag">&lt;p&gt;</span>Username: <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">usernameInput</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span><span class="tag">&lt;/p&gt;</span>
      <span class="tag">&lt;p&gt;</span>Password: <span class="tag">&lt;h:inputSecret</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">passwordInput</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span><span class="tag">&lt;/p&gt;</span>
      <span class="tag">&lt;p&gt;</span><span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">loginEvent</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">login</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span><span class="tag">&lt;/p&gt;</span>
    <span class="tag">&lt;/composite:implementation&gt;</span>
  <span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>&lt;composite:interface&gt;</em> section declares
the public interface that users of this component need to understand. In
this case, the component declares that it contains an implementation of
<em>ActionSource2</em> (see <a href="#a1120">ActionSource2</a>),
and therefore anything one can do with an <em>ActionSource2</em> in a Facelet
markup page you one do with the composite component. (See
<a href="#a1088">Component Behavioral Interfaces</a> for
more on <em>ActionSource2</em> and other behavioral interfaces). The
<em>&lt;composite:implementation&gt;</em> section defines the implementation of this
composite component.</p>
</div>
</div>
<div class="sect4">
<h5 id="walk-through-of-the-run-time-for-the-simple-composite-component-example"><a class="anchor" href="#walk-through-of-the-run-time-for-the-simple-composite-component-example"></a>3.6.1.5. Walk through of the run-time for the simple composite component example</h5>
<div class="paragraph">
<p>This section gives a non-normative traversal
of the composite component feature using the previous example as a
guide. Please refer to the javadocs for the normative specification for
each method mentioned below. Any text in <em>italics</em> is a term defined in
<a href="#a1619">Composite Component Terms</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The user-agent requests the <em>index.html</em> from
<a href="#a1548">A simple composite component example</a>.
This page contains the
‘xmlns:ez="http://java.sun.com/jsf/composite/ezcomp"‘ declaration and an
occurrence of the <em>&lt;ez:loginPanel&gt;</em> tag. Because this page contains a
usage of a composite component, it is called a <em>using page</em> for
discussion.</p>
<div class="paragraph">
<p>The runtime notices the use of an xml
namespace beginning with “http://java.sun.com/jsf/composite/”. Takes the
substring of the namespace after the last “/”, exclusive, and looks for
a resource library with the name “<em>ezcomp</em>” by calling
<em>ResourceHandler.libraryExists()</em>.</p>
</div>
</li>
<li>
<p>The runtime encounters the <em>&lt;ez:loginPanel&gt;</em>
component in the <em>using page</em>. This causes
<em>Application.createComponent(FacesContext, Resource)</em> to be called. This
method instantiates the <em>top level component</em> but does not populate it
with children. Pay careful attention to the javadocs for this method.
Depending on the circumstances, the <em>top level component</em> instance can
come from a developer supplied Java Class, a Script, or an
implementation specific java class. This method calls
<em>ViewDeclarationLanguage.getComponentMetadata(FacesContext, Resource)</em>,
which obtains the <em>composite component BeanInfo</em> (and therefore also the
<em>composite component BeanDescriptor</em>) that exposes the <em>composite
component metadata</em>. The <em>composite component metadata</em> also includes
any <em>attached object targets</em> exposed by the <em>composite component
author</em>. One thing that <em>Application.createComponent(FacesContext,
Resource)</em> does to the component before returning it is set the
component’s renderer type to be <em>jakarta.faces.Composite</em>. This is
important during rendering.</p>
<div class="paragraph">
<p>Again,
<em>Application.createComponent(FacesContext, Resource)</em> does not populate
the <em>top level component</em> with children. Subsequent processing done as
the runtime traverses the rest of the page takes care of that. One very
important aspect of that subsequent processing is ensuring that all of
the <em>UIComponent</em> children in the <em>defining page</em> are placed in a facet
underneath the <em>top level component</em>. The name of that facet is given
by the <em>UIComponent.COMPOSITE_FACET_NAME</em> constant.</p>
</div>
</li>
<li>
<p>After the children of the <em>composite
component tag</em> in the <em>using page</em> have been processed by the VDL
implementation, the VDL implementation must call
<em>VDLUtils.retargetAttachedObjects()</em>. This method examines the
<em>composite component metadata</em> and retargets any attached objects from
the <em>using page</em> to their approriate <em>inner component</em> targets.</p>
</li>
<li>
<p>Because the renderer type of the composite
component was set to <em>jakarta.faces.Composite</em>, the <em>composite component
renderer</em> is invoked to render the composite component.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="a1619"><a class="anchor" href="#a1619"></a>3.6.1.6. Composite Component Terms</h5>
<div class="paragraph">
<p>The following terms are commonly used to
describe the composite component feature.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Attached Object</dt>
<dd>
<p>Any artifact that can be attached to a
<em>UIComponent</em> (composite or otherwise). Usually, this means a
<em>Converter</em>, <em>Validator</em>, <em>ActionListener</em>, or <em>ValueChangeListener</em>.</p>
</dd>
<dt class="hdlist1">Attached Object Target</dt>
<dd>
<p>Part of the <em>composite component metadata</em>
that allows the <em>composite component author</em> to expose the semantics of
an inner component to the <em>using page author</em> without exposing the
rendering or implementation details of the inner component.</p>
</dd>
<dt class="hdlist1">Composite Component</dt>
<dd>
<p>A tree of <em>UIComponent</em> instances, rooted at
a <em>top level component</em>, that can be thought of and used as a single
component in a view. The component hierarchy of this subtree is
described in the <em>composite component defining page</em>.</p>
</dd>
<dt class="hdlist1">Composite Component Author</dt>
<dd>
<p>The individual or role creating the
<em>composite component</em>. This usually involves authoring the <em>composite
component defining page</em>.</p>
</dd>
<dt class="hdlist1">Composite Component <em>BeanDescriptor</em></dt>
<dd>
<p>A constituent element of the <em>composite
component metadata</em>. This version of the spec uses the JavaBeans API to
expose the component metadata for the composite component. Future
versions of the spec may use a different API to expose the component
metadata.</p>
</dd>
<dt class="hdlist1">Composite Component <em>BeanInfo</em></dt>
<dd>
<p>The main element of the <em>composite component</em>
<em>metadata</em>.</p>
</dd>
<dt class="hdlist1">Composite Component Declaration</dt>
<dd>
<p>The section of markup within the <em>composite
component defining page</em> that includes the <em>&lt;composite:interface&gt;</em>
section and its children.</p>
</dd>
<dt class="hdlist1">Composite Component Definition</dt>
<dd>
<p>The section of markup within the <em>composite
component defining page</em> that includes the <em>&lt;composite:implementation&gt;</em>
section and its children.</p>
</dd>
<dt class="hdlist1">Composite Component Library</dt>
<dd>
<p>A resource library that contains a <em>defining
page</em> for each <em>composite component</em> that the <em>composite component
author</em> wishes to expose to the <em>using page author</em>.</p>
</dd>
<dt class="hdlist1">Composite Component Metadata</dt>
<dd>
<p>Any data about the <em>composite component</em>.
The normative specification for what must be in the <em>composite component
metadata</em> is in the javadocs for
<em>ViewDeclarationLanguage.getComponentMetadata()</em>.</p>
</dd>
<dt class="hdlist1">Composite Component Renderer</dt>
<dd>
<p>A new renderer in the <em>HTML_BASIC</em> render kit
that knows how to render a <em>composite component</em>.</p>
</dd>
<dt class="hdlist1">Composite Component Tag</dt>
<dd>
<p>The tag in the <em>using page</em> that references a
<em>composite component</em> declared and defined in a <em>defining page</em>.</p>
</dd>
<dt class="hdlist1">Defining page</dt>
<dd>
<p>The markup page, usually Facelets markup,
that contains the <em>composite component declaration</em> and <em>composite
component definition</em>.</p>
</dd>
<dt class="hdlist1">Inner Component</dt>
<dd>
<p>Any <em>UIComponent</em> inside of the <em>defining
page</em> or a page that is referenced from the <em>defining page</em>.</p>
</dd>
<dt class="hdlist1">Top level component</dt>
<dd>
<p>The <em>UIComponent</em> instance in the tree that
is the parent of all <em>UIComponent</em> instances within the <em>defining page</em>
and any pages used by that <em>defining page</em>.</p>
</dd>
<dt class="hdlist1">Using Page</dt>
<dd>
<p>The VDL page in which a <em>composite component
tag</em> is used.</p>
</dd>
<dt class="hdlist1">Using Page Author</dt>
<dd>
<p>The individual or role that creates pages
that use the <em>composite component</em>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="normative-requirements"><a class="anchor" href="#normative-requirements"></a>3.6.2. Normative Requirements</h4>
<div class="paragraph">
<p>This section contains the normative
requirements for the composite component runtime, or pointers to other
parts of the specification that articulate those requirements in the
appropriate context.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. References to Composite Component Requirements in Context</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Section</th>
<th class="tableblock halign-left valign-top">Feature</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#a2830">Implicit Object ELResolver for Facelets and Programmatic Access</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ability for the <em>composite component author</em>
to refer to the <em>top level component</em> from a Jakarta Expression Language expression, such as
<em>#{cc.children[3]}</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#a2908">Composite Component Attributes ELResolver</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ability for the <em>composite component author</em>
to refer to attributes declared on the <em>composite component tag</em> using
EL expressions such as <em>#{cc.attrs.usernameLabel}</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#a3468">Object
Factories</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Methods called by the VDL page to create a
new instance of a <em>top level component</em> for eventual inclusion in the
view</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#a5661">Requirements specific to composite components</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requirements of the Facelet implementation
relating to Facelets.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#a6045">Composite Component Tag Library</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag handlers for the <em>composite</em> tag library</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="a1671"><a class="anchor" href="#a1671"></a>3.6.2.1. Composite Component Metadata</h5>
<div class="paragraph">
<p>In the current version of the specification,
only composite <em>UIComponent</em>s must have component metadata. It is
possible that future versions of the specification will broaden this
requirement so that all <em>UIComponent</em>s must have metadata.</p>
</div>
<div class="paragraph">
<p>This section describes the implementation of
the <em>composite component metadata</em> that is returned from the method
<em>ViewDeclarationLanguage.getComponentMetadata()</em>. This method is
formally declared in <a href="#a4046">ViewDeclarationLanguage.getComponentMetadata()</a>, but for reference its
signature is repeated here.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">BeanInfo</span> getComponentMetadata(
    FacesContext context, Resource componentResource)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The specification requires that this method
is called from <em>Application.createComponent(FacesContext context,
Resource componentResource)</em>. See the javadocs for that method for
actions that must be taken based on the composite component metadata
returned from <em>getComponentMetadata()</em>.</p>
</div>
<div class="paragraph">
<p>The default implementation of this method
must support authoring the component metadata using tags placed inside
of a <em>&lt;composite:interface /&gt;</em> element found on a <em>defining page</em>. This
element is specified in the Facelets taglibrary docs.</p>
</div>
<div class="paragraph">
<p>Composite component metadata currently
consists of the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>composite component BeanInfo</em>, returned
from this method.</p>
</li>
<li>
<p>The <em>Resource</em> from which the composite
component was created.</p>
</li>
<li>
<p>The <em>composite component BeanDescriptor</em>.</p>
<div class="paragraph">
<p>This <em>BeanDescriptor</em> must be returned when
<em>getBeanDescriptor()</em> is called on the composite component <em>BeanInfo</em>.</p>
</div>
<div class="paragraph">
<p>The composite component <em>BeanDescriptor</em>
exposes the following information.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The “name” attributes of the
<em>&lt;composite:interface/ &gt;</em> element is exposed using the corresponding
method on the composite component <em>BeanDescriptor</em>. If <em>ProjectStage</em>
is <em>Development</em>, The “displayName”, “shortDescription”, “expert”,
“hidden”, and “preferred” attributes of the <em>&lt;composite:interface/ &gt;</em>
element are exposed using the corresponding methods on the composite
component <em>BeanDescriptor</em>. Any additional attributes on
<em>&lt;composite:interface/ &gt;</em> are exposed as attributes accessible from the
<em>getValue()</em> and <em>attributeNames()</em> methods on <em>BeanDescriptor</em>
(inherited from <em>FeatureDescriptor</em>). The return type from <em>getValue()</em>
must be a <em>jakarta.el.ValueExpression</em> for such attributes.</p>
</li>
<li>
<p>The list of exposed <em>AttachedObjectTarget</em>s
to which the <em>page author</em> can attach things such as listeners,
converters, or validators.</p>
<div class="paragraph">
<p>The VDL implementation must populate the
composite component metadata with a <em>List&lt;AttachedObjectTarget&gt;</em> that
includes all of the inner components exposed by the composite component
author for use by the page author.</p>
</div>
<div class="paragraph">
<p>This List must be exposed in the value set of
the composite component <em>BeanDescriptor</em> under the key
<em>AttachedObjectTarget.ATTACHED_OBJECT_TARGETS_KEY</em>.</p>
</div>
<div class="paragraph">
<p>For example, if the defining page has</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;composite:interface&gt;</span>
  <span class="tag">&lt;composite:editableValueHolder</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">username</span><span class="error">”</span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;composite:actionSource</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">loginEvent</span><span class="error">”</span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;composite:actionSource</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">allEvents</span><span class="error">”</span>
      <span class="attribute-name">targets</span>=<span class="error">”</span><span class="attribute-value">loginEvent</span> <span class="attribute-name">cancelEvent</span><span class="error">”</span> <span class="tag">/&gt;</span>
<span class="tag">&lt;composite:interface&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The list of attached object targets would
consist of instances of implementations of the following interfaces from
the package <em>jakarta.faces.webapp.vdl</em>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>EditableValueHolderAttachedObjectTarget</p>
</li>
<li>
<p>ActionSource2AttachedObjectTarget</p>
</li>
<li>
<p>ActionSource2AttachedObjectTarget</p>
</li>
<li>
<p>BehaviorHolderAttachedObjectTarget</p>
</li>
</ol>
</div>
</li>
<li>
<p>A <em>ValueExpression</em> that evaluates to the
component type of the composite component. By default this is
"<em>jakarta.faces.NamingContainer</em>" but the composite component page author
can change this, or provide a Java or script-based <em>UIComponent</em>
implementation that is required to implement <em>NamingContainer</em>.</p>
<div class="paragraph">
<p>This <em>ValueExpression</em> must be exposed in the
value set of the composite component <em>BeanDescriptor</em> under the key
<em>UIComponent.COMPOSITE_COMPONENT_TYPE_KEY</em>.</p>
</div>
</li>
<li>
<p>A <em>Map&lt;String, PropertyDescriptor&gt;</em>
representing the facets declared by the composite component author for
use by the page author.</p>
<div class="paragraph">
<p>This <em>Map</em> must be exposed in the value set
of the composite component BeanDescriptor under the key
<em>UIComponent.FACETS_KEY</em>.</p>
</div>
</li>
<li>
<p>Any attributes declared by the composite
component author using <em>&lt;composite:attribute/ &gt;</em> elements must be
exposed in the array of <em>PropertyDescriptor</em>s returned from
<em>getPropertyDescriptors()</em> on the composite component <em>BeanInfo</em>.</p>
<div class="paragraph">
<p>For each such attribute, for any <em>String</em> or
<em>boolean</em> valued <em>JavaBeans</em> properties on the interface
<em>PropertyDescriptor</em> (and its superinterfaces) that are also given as
attributes on a <em>&lt;composite:attribute/ &gt;</em> element, those properties must
be exposed as properties on the <em>PropertyDescriptor</em> for that markup
element. Any additional attributes on <em>&lt;composite:attribute/ &gt;</em> are
exposed as attributes accessible from the <em>getValue()</em> and
<em>attributeNames()</em> methods on <em>PropertyDescriptor</em>. The return type
from getValue() must be a <em>ValueExpression</em> with the exception of the
<em>getValue(“type”)</em>. The return type from <em>getValue(“type”)</em> must be
<em>Class</em>. If the value specified for the <em>type</em> attribute of
<em>&lt;cc:attribute/&gt;</em> cannot be converted to an actual <em>Class</em>, a
<em>TagAttributeException</em> must be thrown, including the <em>Tag</em> and
<em>TagAttribute</em> instances in the constructor.</p>
</div>
<div class="paragraph">
<p>The <em>composite component BeanDescriptor</em> must
return a <em>Collection&lt;String&gt;</em> when its <em>getValue()</em> method is called
with an argument equal to the value of the symbolic constant
<em>UIComponent.ATTRS_WITH_DECLARED_DEFAULT_VALUES</em>. The
<em>Collection&lt;String&gt;</em> must contain the names of any
<em>&lt;composite:attribute&gt;</em> elements for which the <em>default</em> attribute was
specified, or <em>null</em> if none of the attributes have been given a default
value.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a1707"><a class="anchor" href="#a1707"></a>3.7. Component Behavior Model</h3>
<div class="paragraph">
<p>This section describes the facilities for
adding Behavior attached objects to Jakarta Server Faces components.</p>
</div>
<div class="sect3">
<h4 id="overview-4"><a class="anchor" href="#overview-4"></a>3.7.1. Overview</h4>
<div class="paragraph">
<p>Jakarta Faces supports a mechanism for enhancing
components with additional behaviors that are not explicitly defined by
the component author.</p>
</div>
<div class="paragraph">
<p>At the root of the behavior model is he
Behavior interface. This interface serves as a supertype for additional
behavior contracts. The ClientBehavior interface extends the Behavior
interface by providing a contract for defining reusable scripts that can
be attached to any component that implements the ClientBehaviorHolder
interface. The ClientBehaviorHolder interface defines the set of attach
points, or "events", to which a ClientBehavior may be attached. For
example, an "AlertBehavior" implementation might display a JavaScript
alert when attached to a component and activated by the end user.</p>
</div>
<div class="paragraph">
<p>While client behaviors typically add
client-side capabilities, they are not limited to client. Client
behaviors can also participate in the Jakarta Faces request processing lifecycle.
Jakarta Faces&#8217;s AjaxBehavior is a good example of such a cross-tier behavior. The
AjaxBehavior both triggers an Ajax request from the client and also
delivers AjaxBehaviorEvents to listeners on the server.</p>
</div>
<div class="paragraph">
<p>The standard HTML components provided by Jakarta Faces
are all client behavior-ready. That is, all of the standard HTML
components implement the ClientBehaviorHolder interface and allow client
behaviors to be attached to well defined events. .</p>
</div>
</div>
<div class="sect3">
<h4 id="behavior-interface"><a class="anchor" href="#behavior-interface"></a>3.7.2. Behavior Interface</h4>
<div class="paragraph">
<p>The Behavior interface is the root of the
component behavior model. It defines a single method to enable generic
behavior event delivery.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> broadcast(BehaviorEvent event) <span class="directive">throws</span> AbortProcessingException</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method is called by UIComponent
implementations to re-broadcast behavior events that were queued by by
calling UIComponent.queueEvent.</p>
</div>
</div>
<div class="sect3">
<h4 id="behaviorbase"><a class="anchor" href="#behaviorbase"></a>3.7.3. BehaviorBase</h4>
<div class="paragraph">
<p>The BehaviorBase abstract class implements
the broadcast method from the Behavior interface. BehaviorBase also
implements the PartialStateHolder interface (see
<a href="#a1159">PartialStateHolder</a>). It
also provides behavior event listener registration methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> broadcast(BehaviorEvent event) <span class="directive">throws</span> AbortProcessingException</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method delivers the BehaviorEvent to
listeners that were registered via addBehaviorListener.</p>
</div>
<div class="paragraph">
<p>The following methods are provided for add
and removing BehaviorListeners.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">protected</span> <span class="type">void</span> addBehaviorListener(BehaviorListener listener)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">protected</span> <span class="type">void</span> removeBehaviorListener(BehaviorListener listener);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="the-client-behavior-contract"><a class="anchor" href="#the-client-behavior-contract"></a>3.7.4. The Client Behavior Contract</h4>
<div class="paragraph">
<p>The <em>ClientBehavior</em> interface extends the
<em>Behavior</em> interface and lays the foundation on which behavior authors
can define custom script producing behaviors. The logic for producing
these scripts is defined in the <em>getScript()</em> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getScript(BehaviorContext behaviorContext)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method returns a String that is an
executable script that can be attached to a client side event handler.
The BehaviorContext argument contains information that may be useful for
getScript implementations.</p>
</div>
<div class="paragraph">
<p>In addition to client side functionality,
client behaviors can also post back to the server and participate in the
request processing lifecycle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> decode(FacesContext context,UIComponent component)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method can perform request decoding and
queue server side events.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Set</span>&lt;ClientBehaviorHint&gt; getHints()</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method provides information about the
client behavior implementation that may be useful to components and
renderers that interact with the client behavior.</p>
</div>
<div class="paragraph">
<p>Refer to the javadocs for these methods for
more details.</p>
</div>
</div>
<div class="sect3">
<h4 id="clientbehaviorholder"><a class="anchor" href="#clientbehaviorholder"></a>3.7.5. ClientBehaviorHolder</h4>
<div class="paragraph">
<p>Components that support client behaviors must
implement the ClientBehaviorHolder interface. Refer to
<a href="#a1239">ClientBehaviorHolder</a> for
more details.</p>
</div>
</div>
<div class="sect3">
<h4 id="clientbehaviorrenderer"><a class="anchor" href="#clientbehaviorrenderer"></a>3.7.6. ClientBehaviorRenderer</h4>
<div class="paragraph">
<p>Client behaviors may implement script
generation and decoding in a client behavior class or delegate to a
ClientBehaviorRenderer. Refer to
<a href="#a4264">ClientBehaviorRenderer</a>
for more specifics.</p>
</div>
</div>
<div class="sect3">
<h4 id="clientbehaviorcontext"><a class="anchor" href="#clientbehaviorcontext"></a>3.7.7. ClientBehaviorContext</h4>
<div class="paragraph">
<p>The specification provides a
ClientBehaviorContext that contains information that may be used at
script rendering time. Specifically it includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>FacesContext</p>
</li>
<li>
<p>UIComponent that the current behavior is
attached to</p>
</li>
<li>
<p>The name of the event that the behavior is
associated with</p>
</li>
<li>
<p>The identifier of the source - this may
correspond to the identifier of the source of the behavior</p>
</li>
<li>
<p>A collection of parameters that submitting
behaviors should include when posting back to the server</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The ClientBehaviorContext is created with the
use of this static method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> ClientBehaviorContext createClientBehaviorContext(
    FacesContext context,UIComponent component,
    <span class="predefined-type">String</span> eventName, <span class="predefined-type">String</span> sourceId,
    <span class="predefined-type">Collection</span>&lt;ClientBehaviorContext.Parameter&gt; parameters)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method must throw a NullPointerException
if context, component or eventName is null.</p>
</div>
</div>
<div class="sect3">
<h4 id="clientbehaviorhint"><a class="anchor" href="#clientbehaviorhint"></a>3.7.8. ClientBehaviorHint</h4>
<div class="paragraph">
<p>The ClientBehaviorHint enum is used to convey
information about the client behavior implementation. Currently, only
one hint is provided.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">SUBMITTING</code></pre>
</div>
</div>
<div class="paragraph">
<p>This hint indicates that a client behavior
implementation posts back to the server.</p>
</div>
</div>
<div class="sect3">
<h4 id="clientbehaviorbase"><a class="anchor" href="#clientbehaviorbase"></a>3.7.9. ClientBehaviorBase</h4>
<div class="paragraph">
<p><em>ClientBehaviorBase</em> is an extension of
<em>BehaviorBase</em> that implements the <em>ClientBehavior</em> interface. It It is
a convenience class that contains default implementations for the
methods in <em>ClientBehavior</em> plus additional methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getScript(BehaviorContext behaviorContext)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default implementation calls getRenderer
to retrieve the <em>ClientBehaviorRenderer</em>. If a <em>ClientBehaviorRenderer</em>
is found, it is used to obtain the script. If no
<em>ClientBehaviorRenderer</em> is found, this method returns null.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> decode(FacesContext context,UIComponent component)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default implementation calls getRenderer
to retrieve the <em>ClientBehaviorRenderer</em>. If a <em>ClientBehaviorRenderer</em>
is found, it is used to perform decoding. If no <em>ClientBehaviorRenderer</em>
is found, no decoding is performed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Set</span>&lt;ClientBehaviorHint&gt; getHints()</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default implementation returns an empty
set</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getRendererType();</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method identifies the
<em>ClientBehaviorRenderer</em> type. By default, no <em>ClientBehaviorRenderer</em>
type is provided. Subclasses should either override this method to
return a valid type or override the getScript and decode methods if a
<em>ClientBehaviorRenderer</em> is not available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">protected</span> ClientBehaviorRenderer getRenderer(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method returns the
<em>ClientBehaviorRenderer</em> instance that is associated with this
ClientBehavior. It uses the renderer type returned from get
<em>RendererType()</em> to look up the renderer on the RenderKit using
<em>RenderKit.getClientBehaviorRenderer</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="behavior-event-listener-model"><a class="anchor" href="#behavior-event-listener-model"></a>3.7.10. Behavior Event / Listener Model</h4>
<div class="paragraph">
<p>The behavior event / listener model is an
extension of the Jakarta Faces event / listener model as described in
<a href="#a1300">Event and Listener Model</a>.
BehaviorHolder components are responsible for broadcasting
BehaviorEvents to behaviors.</p>
</div>
<div class="sect4">
<h5 id="event-classes"><a class="anchor" href="#event-classes"></a>3.7.10.1. Event Classes</h5>
<div class="paragraph">
<p>Behaviors can broadcast events in the same
way that UIComponents can broadcast events. At the root of the behavior
event hierarchy is BehaviorEvent that extends
<em>jakarta.faces.event.FacesEvent</em>. All events that are broadcast by Jakarta Faces
behaviors must extend the <em>jakarta.faces.event.BehaviorEvent</em> abstract
base class. The parameter list for the constructor(s) of this event
class must include a <em>UIComponent</em>, which identifies the component from
which the event will be broadcast to interested listeners, and a
<em>Behavior</em> which identifies the behavior associated with the component.
The source component can be retrieved from the event object itself by
calling <em>getComponent</em> and the behavior can be retrieved by calling
<em>getBehavior</em>. Additional constructor parameters and/or properties on
the event class can be used to relay additional information about the
event.</p>
</div>
<div class="paragraph">
<p>In conformance to the naming patterns defined
in the <em>JavaBeans Specification</em>, event classes typically have a class
name that ends with <em>Event</em>. The following method is available to
determine the Behavior for the event (in addition to the other methods
inherited from <em>jakarta.faces.event.FacesEvent</em>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Behavior getBehavior()</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="listener-classes-2"><a class="anchor" href="#listener-classes-2"></a>3.7.10.2. Listener Classes</h5>
<div class="paragraph">
<p>For each event type that may be emitted, a
corresponding listener interface must be created, which extends the
<em>jakarta.faces.event.BehaviorListener</em> interface. <em>BehaviorListener</em>
extends from <em>jakarta.faces.event.FacesListener</em>. The method signature(s)
defined by the listener interface must take a single parameter, an
instance of the event class for which this listener is being created. A
listener implementation class will implement one or more of these
listener interfaces, along with the event handling method(s) specified
by those interfaces. The event handling methods will be called during
event broadcast, one per event.</p>
</div>
<div class="paragraph">
<p>In conformance to the naming patterns defined
in the <em>JavaBeans Specification</em>, listener interfaces have a class name
based on the class name of the event being listened to, but with the
word <em>Listener</em> replacing the trailing <em>Event</em> of the event class name
(thus, the listener for a <em>FooEvent</em> would be a <em>FooListener</em>). It is
recommended that application event listener interfaces follow this
naming pattern as well.</p>
</div>
</div>
<div class="sect4">
<h5 id="a1776"><a class="anchor" href="#a1776"></a>3.7.10.3. Listener Registration</h5>
<div class="paragraph">
<p><em>BehaviorListener</em> registration follows the
same conventions as outlined in <a href="#a1776">Listener
Registration</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ajax-behavior"><a class="anchor" href="#ajax-behavior"></a>3.7.11. Ajax Behavior</h4>
<div class="sect4">
<h5 id="ajaxbehavior"><a class="anchor" href="#ajaxbehavior"></a>3.7.11.1. AjaxBehavior</h5>
<div class="paragraph">
<p>The specification defines a single
concrete <em>ClientBehavior</em> implementation:
<em>jakarta.faces.component.behavior.AjaxBehavior</em>. This class extends
<em>jakarta.faces.component.behavior.ClientBehaviorBase</em>. The presence of
this behavior on a component causes the rendering of JavaScript that
will produce an Ajax request to the server using the JavaScript API
outlined in Section “JavaScript API”. This behavior may also broadcast
<em>jakarta.faces.event.AjaxBehaviorEvents</em> to registered
<em>jakarta.faces.event.AjaxBehaviorListener</em> implementations. Refer to the
javadocs for more details about <em>AjaxBehavior</em>.
[P1-start-ajaxbehavior]This behavior must define the behavior id
“jakarta.faces.behavior.Ajax”. The renderer type must also be
“jakarta.faces.behavior.Ajax”.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="ajax-behavior-event-listener-model"><a class="anchor" href="#ajax-behavior-event-listener-model"></a>3.7.11.2. Ajax Behavior Event / Listener Model</h5>
<div class="paragraph">
<p>Corresponding to the standard behavior event
classes described in the previous section the specification supports an
event listener model for broadcasting and handling <em>AjaxBehavior</em>
events.</p>
</div>
<div class="paragraph">
<div class="title"><em>jakarta.faces.event.AjaxBehaviorEvent</em></div>
<p>This event type extends from
<em>jakarta.faces.event.BehaviorEvent</em> and it is broadcast from an
AjaxBehavior. This class follows the standard Jakarta Faces event / listener
model, incorporating the usual methods as outlined in
<a href="#a1300">Event and Listener Model</a>. This class is
responsible for invoking the method implementation of
<em>jakarta.faces.event.AjaxBehaviorListener.processAjaxBehavior</em>. Refer to
the javadocs for more complete details about this class.</p>
</div>
<div class="paragraph">
<div class="title"><em>jakarta.faces.event.AjaxBehaviorListener</em></div>
<p>This listener type extends from
<em>jakarta.faces.event.BehaviorListener</em> and it is invoked in response to
<em>AjaxBehaviorEvents</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processAjaxBehavior(AjaxBehaviorEvent event)</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>AjaxBehaviorListener</em> implementations
implement this method to provide server side functionality in response
to <em>AjaxBehavior</em> Events. See the javadocs for more details about this
class.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="adding-behavior-to-components"><a class="anchor" href="#adding-behavior-to-components"></a>3.7.12. Adding Behavior To Components</h4>
<div class="paragraph">
<p>Using the ClientBehaviorHolder interface
(<a href="#a1239">See ClientBehaviorHolder</a>)
<em>ClientBehavior</em> instances can be added to components. For
<em>ClientBehavior</em> implementations that extend <em>UIComponentBase</em>, the
minimal requirement is to override <em>getEventNames()</em> to return a
non-empty collection of the event names exposed by the
<em>ClientBehaviorHolder</em>. A optional default event name may be specified
as well. For example:</p>
</div>
<div class="paragraph">
<p>Here’s an example code snippet from one of
the Html components:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">HtmlCommandButton</span> <span class="directive">extends</span>
    jakarta.faces.component.UICommand <span class="directive">implements</span> ClientBehaviorHolder {
...
  private <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">String</span>&gt; EVENT_NAMES =
      <span class="predefined-type">Collections</span>.unmodifiableCollection(
          <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">&quot;</span><span class="content">blur</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">change</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">click</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">action</span><span class="delimiter">&quot;</span></span>,...) );

  <span class="directive">public</span> <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">String</span>&gt; getEventNames() {
    <span class="keyword">return</span> EVENT_NAMES;
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> getDefaultEventName() {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">action</span><span class="delimiter">&quot;</span></span>;
  }
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Users of the component will be able to attach
<em>ClientBehavior</em> instances to any of the event names specified by the
<em>getEventNames()</em> implementation by calling
<em>ClientBehaviorHolder.addBehavior(eventName, clientBehavior)</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="behavior-registration"><a class="anchor" href="#behavior-registration"></a>3.7.13. Behavior Registration</h4>
<div class="paragraph">
<p>Jakarta Faces provides methods for registering
<em>Behavior</em> implementations and these methods are similar to the methods
used to register converters and validators. Refer to
<a href="#a3468">Object Factories</a> for the specifics
about these methods.</p>
</div>
<div class="sect4">
<h5 id="xml-registration"><a class="anchor" href="#xml-registration"></a>3.7.13.1. XML Registration</h5>
<div class="paragraph">
<p>Jakarta Faces provides the usual faces-config.xml
registration of custom component behavior implementations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;behavior&gt;</span>
  <span class="tag">&lt;behavior-id&gt;</span>custom.behavior.Greet<span class="tag">&lt;/behavior-id&gt;</span>
  <span class="tag">&lt;behavior-class&gt;</span>greet.GreetBehavior<span class="tag">&lt;/behavior-class&gt;</span>
<span class="tag">&lt;/behavior&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="registration-by-annotation"><a class="anchor" href="#registration-by-annotation"></a>3.7.13.2. Registration By Annotation</h5>
<div class="paragraph">
<p>Jakarta Faces provides the @FacesBehavior annotation
for registering custom behavior implementations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FacesBehavior</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">custom.behavior.Greet</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">GreetBehavior</span> <span class="directive">extends</span> BehaviorBase <span class="directive">implements</span> <span class="predefined-type">Serializable</span> {
...
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a1823"><a class="anchor" href="#a1823"></a>4. Standard User Interface Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to the abstract base class
<em>UIComponent</em> and the abstract base class <em>UIComponentBase</em>, described
in the previous chapter, Jakarta Faces provides a number of concrete user
interface component implementation classes that cover the most common
requirements. In addition, component writers will typically create new
components by subclassing one of the standard component classes (or the
<em>UIComponentBase</em> class). It is anticipated that the number of standard
component classes will grow in future versions of the Jakarta Server Faces
specification.</p>
</div>
<div class="paragraph">
<p>Each of these classes defines the
render-independent characteristics of the corresponding component as
JavaBeans component properties. Some of these properties may be <em>value
expressions</em> that indirectly point to values related to the current
request, or to the properties of model data objects that are accessible
through request-scope, session-scope, or application-scope attributes.
In addition, the <em>rendererType</em> property of each concrete implementation
class is set to a defined value, indicating that decoding and encoding
for this component will (by default) be delegated to the corresponding
<em>Renderer</em>.</p>
</div>
<div class="sect2">
<h3 id="standard-user-interface-components"><a class="anchor" href="#standard-user-interface-components"></a>4.1. Standard User Interface Components</h3>
<div class="paragraph">
<p>This section documents the features and
functionality of the standard <em>UIComponent</em> classes and implementations
that are included in Jakarta Server Faces.</p>
</div>
<div class="paragraph">
<p>[P1-start-componentConstant]The
implementation for each standard <em>UIComponent</em> class must specify two
public static final String constant values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>COMPONENT_TYPE</em>&#8201;&#8212;&#8201;The standard component
type identifier under which the corresponding component class is
registered with the <em>Application</em> object for this application. This
value may be used as a parameter to the <em>createComponent()</em> method.</p>
</li>
<li>
<p> <em>COMPONENT_FAMILY</em>&#8201;&#8212;&#8201;The standard
component family identifier used to select an appropriate Renderer for
this component.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For all render-independent properties in the
following sections (except for <em>id</em>, <em>scope</em>, and <em>var</em>) the value
may either be a literal, or it may come from a value expression. Please
see <a href="#a2349">Value Expressions</a> for more
information.</p>
</div>
<div class="paragraph">
<p>The following UML class diagram shows the
classes and interfaces in the package <em>jakarta.faces.component</em>.</p>
</div>
<div id="a1834" class="paragraph">
<div class="title">The <em>jakarta.faces.component</em> package</div>
<p><span class="image"><img src="data:image/png;base64,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" alt="image"></span></p>
</div>
<div class="sect3">
<h4 id="uicolumn"><a class="anchor" href="#uicolumn"></a>4.1.1. UIColumn</h4>
<div class="paragraph">
<p><em>UIColumn</em> (extends <em>UIComponentBase</em>) is a
component that represents a single column of data with a parent <em>UIData</em>
component. The child components of a <em>UIColumn</em> will be processed once
for each row in the data managed by the parent <em>UIData</em>.</p>
</div>
<div class="sect4">
<h5 id="component-type-2"><a class="anchor" href="#component-type-2"></a>4.1.1.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIColumn</em>
components is “jakarta.faces.Column”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-6"><a class="anchor" href="#properties-6"></a>4.1.1.2. Properties</h5>
<div class="paragraph">
<p><em>UIColumn</em> adds the following
render-independent properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>footer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UIComponent</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convenience methods to get and set the
“footer” facet for this component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>header</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIComponent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convenience methods to get and set the
“header” facet for this component.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uicolumn]UIColumn</em> specializes
the behavior of render-independent properties inherited from the parent
class as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “jakarta.faces.Column”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to <em>null</em>.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a1852"><a class="anchor" href="#a1852"></a>4.1.1.3. Methods</h5>
<div class="paragraph">
<p><em>UIColumn</em> adds no new processing methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-7"><a class="anchor" href="#events-7"></a>4.1.1.4. Events</h5>
<div class="paragraph">
<p><em>UIColumn</em> adds no new event handling
methods.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uicommand"><a class="anchor" href="#uicommand"></a>4.1.2. UICommand</h4>
<div class="paragraph">
<p><em>UICommand</em> (extends <em>UIComponentBase</em>;
implements <em>ActionSource</em>) is a control which, when activated by the
user, triggers an application-specific “command” or “action.” Such a
component is typically rendered as a push button, a menu item, or a
hyperlink.</p>
</div>
<div class="sect4">
<h5 id="component-type-3"><a class="anchor" href="#component-type-3"></a>4.1.2.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UICommand</em>
components is “<em>jakarta.faces.Command</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-7"><a class="anchor" href="#properties-7"></a>4.1.2.2. Properties</h5>
<div class="paragraph">
<p><em>UICommand</em> adds the following
render-independent properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
value of this component, normally used as a label.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="#a1090">ActionSource</a> for information about properties introduced by the
implemented classes.</p>
</div>
<div class="paragraph">
<p><em>[P1-start-uicommand]UICommand</em> components
specialize the behavior of render-independent properties inherited from
the parent class as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “jakarta.faces.Command”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “jakarta.faces.Button”.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-7"><a class="anchor" href="#methods-7"></a>4.1.2.3. Methods</h5>
<div class="paragraph">
<p><em>UICommand</em> adds no new processing methods.
See <a href="#a1090">ActionSource</a> for information about
methods introduced by the implemented classes.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-8"><a class="anchor" href="#events-8"></a>4.1.2.4. Events</h5>
<div class="paragraph">
<p><em>UICommand</em> adds no new event processing
methods. See <a href="#a1090">ActionSource</a> for
information about event handling introduced by the implemented classes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uidata"><a class="anchor" href="#uidata"></a>4.1.3. UIData</h4>
<div class="paragraph">
<p><em>UIData</em> (extends <em>UIComponentBase</em>;
implements <em>NamingContainer</em>) is a component that represents a data
binding to a collection of data objects represented by a DataModel
instance (see <a href="#a2281">DataModel</a>). Only children
of type <em>UIColumn</em> should be processed by renderers associated with this
component.</p>
</div>
<div class="sect4">
<h5 id="component-type-4"><a class="anchor" href="#component-type-4"></a>4.1.3.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIData</em>
components is “jakarta.faces.Data”</p>
</div>
</div>
<div class="sect4">
<h5 id="a1878"><a class="anchor" href="#a1878"></a>4.1.3.2. Properties</h5>
<div class="paragraph">
<p><em>UIData</em> adds the following
render-independent properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dataModel</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">protected RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>DataModel</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The internal value
representation of the <em>UIData</em> instance. Subclasses might write to this
property if they want to restore the internal model during the <em>Restore
View Phase</em> or if they want to explicitly refresh the model for the
<em>Render Response</em> phase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>first</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zero-relative row number of the first row in
the underlying data model to be displayed, or zero to start at the
beginning of the data model.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>footer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UIComponent</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convenience methods to get and set the
“footer” facet for this component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>header</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIComponent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convenience methods to get and set the
“header” facet for this component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rowCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number
of rows in the underlying <em>DataModel</em>, which can be -1 if the number of
rows is unknown.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rowAvailable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return
<em>true</em> if there is row data available for the currently specified
<em>rowIndex</em> ; else return <em>false</em> .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rowData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The data
object representing the data for the currently selected <em>rowIndex</em>
value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rowIndex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zero-relative index of the row currently
being accessed in the underlying <em>DataModel</em>, or -1 for no current row.
See below for further information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number
of rows (starting with the one identified by the <em>first</em> property) to be
displayed, or zero to display the entire set of available rows.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
<em>DataModel</em> instance representing the data to which this component is
bound, or a collection of data for which a <em>DataModel</em> instance is
synthesized. See below for more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">var</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
request-scope attribute (if any) under which the data object for the
current row will be exposed when iterating.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="#a1134">NamingContainer</a> for information about properties introduced by the
implemented classes.</p>
</div>
<div class="paragraph">
<p><em>[P1-start-uidata]UIData</em> specializes the
behavior of render-independent properties inherited from the parent
component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “jakarta.faces.Data”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “<em>jakarta.faces.Table</em>”.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The current value identified by the <em>value</em>
property is normally of type <em>DataModel</em>.
[P1-start-uidataModel]However, a <em>DataModel</em> wrapper instance must
automatically be provided by the Jakarta Faces implementation if the current value
is of one of the following types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>java.util.List</em></p>
</li>
<li>
<p>Array of <em>java.util.Object</em></p>
</li>
<li>
<p><em>java.sql.ResultSet</em> (which therefore also
supports <em>javax.sql.RowSet</em>)</p>
</li>
<li>
<p><em>jakarta.servlet.jsp.jstl.sql.Result</em></p>
</li>
<li>
<p>java.util.Map (uses the wrapper for
java.lang.Iterable by providing access to java.util.Map#entrySet())</p>
</li>
<li>
<p>Any other Java object is wrapped by a
<em>DataModel</em> instance with a single row.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Convenience implementations of <em>DataModel</em>
are provided in the <em>jakarta.faces.model</em> package for each of the above
(see <a href="#a2302">Concrete Implementations</a>), and
must be used by the <em>UIData</em> component to create the required
<em>DataModel</em> wrapper.</p>
</div>
</div>
<div class="sect4">
<h5 id="a1921"><a class="anchor" href="#a1921"></a>4.1.3.3. Methods</h5>
<div class="paragraph">
<p><em>UIData</em> adds no new processing methods.
However, the getDataModel() method is now protected, so implementations
have access to the underlying data model. See
 <a href="#a1134">NamingContainer</a> for information about
methods introduced by the implemented classes.</p>
</div>
<div class="paragraph">
<p>UIData specializes the behavior of the
<em>getClientId()</em> method inherited from its parent, in order to create a
client identifier that includes the current rowIndex value (if it is not
-1). Because <em>UIData</em> is a <em>NamingContainer</em>, this makes it possible
for rendered client identifiers of child components to be row-specific.</p>
</div>
<div class="paragraph">
<p><em>UIData</em> specializes the behavior of the
<em>queueEvent()</em> method inherited from its parent, to wrap the specified
event (bubbled up from a child component) in a private wrapper
containing the current rowIndex value, so that this rowIndex can be
reset when the event is later broadcast.</p>
</div>
<div class="paragraph">
<p><em>UIData</em> specializes the behavior of the
<em>broadcast()</em> method to unwrap the private wrapper (if this event was
wrapped), and call <em>setRowIndex()</em> to re-establish the context in which
the event was queued, followed by delivery of the event.</p>
</div>
<div class="paragraph">
<p><em>[P1-start-uidataDecode]UIData</em> specializes
the behavior of the <em>processDecodes()</em>, <em>processValidators()</em>, and
<em>processUpdates()</em> methods inherited from its parent as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For each of these methods, the <em>UIData</em>
implementation must iterate over each row in the underlying data model,
starting with the row identified by the <em>first</em> property, for the number
of rows indicated by the <em>rows</em> property, by calling the <em>setRowIndex()</em>
method.</p>
</li>
<li>
<p>When iteration is complete, set the
<em>rowIndex</em> property of this component, and of the underlying <em>DataModel</em>,
to zero, and remove any request attribute exposed via the <em>var</em>
property.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>UIData</em> specializes the behavior of
<em>invokeOnComponent()</em> inherited from <em>UIComponentBase</em> to examine the
argument <em>clientId</em> and extract the <em>rowIndex</em>, if any, and position
the data properly before proceeding to locate the component and invoke
the callback. Upon normal or exception return from the callback the data
must be repositioned to match how it was before invoking the callback.
Please see the javadocs for <em>UIData.invokeOnComponent()</em> for more
details.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-9"><a class="anchor" href="#events-9"></a>4.1.3.4. Events</h5>
<div class="paragraph">
<p><em>UIData</em> adds no new event handling methods.
See <a href="#a1134">NamingContainer</a> for information
about event handling introduced by the implemented classes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1932"><a class="anchor" href="#a1932"></a>4.1.4. UIForm</h4>
<div class="paragraph">
<p><em>UIForm</em> (extends <em>UIComponentBase</em>;
implements <em>NamingContainer</em>) is a component that represents an input
form to be presented to the user, and whose child components (among
other things) represent the input fields to be included when the form is
submitted.</p>
</div>
<div class="paragraph">
<p>[P1-start-uiformEncodeEnd]The <em>encodeEnd()</em>
method of the renderer for <em>UIForm</em> must call <em>ViewHandler.writeState()</em>
<em>before</em> writing out the markup for the closing tag of the
form.[P1-end]This allows the state for multiple forms to be saved.</p>
</div>
<div class="sect4">
<h5 id="component-type-5"><a class="anchor" href="#component-type-5"></a>4.1.4.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIForm</em>
components is “<em>jakarta.faces.Form</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-8"><a class="anchor" href="#properties-8"></a>4.1.4.2. Properties</h5>
<div class="paragraph">
<p><em>UIForm</em> adds the following
render-independent properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>prependId</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If
true, this <em>UIForm</em> instance does allow its id to be pre-pendend to its
descendent’s id during the generation of clientIds for the descendents.
The default value of this property is <em>true</em>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uiform]UIForm</em> specializes the
behavior of render-independent properties inherited from the parent
component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.Form</em>”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “<em>jakarta.faces.Form</em>”.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-8"><a class="anchor" href="#methods-8"></a>4.1.4.3. Methods.</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> isSubmitted();
<span class="directive">public</span> <span class="type">void</span> setSubmitted(<span class="type">boolean</span> submitted)</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-uiform-setSubmitted]The
<em>setSubmitted()</em> method of each <em>UIForm</em> instance in the view must be
called during the <em>Apply Request Values</em> phase of the request processing
lifecycle, during the processing performed by the <em>UIComponent.decode()</em>
method. If this <em>UIForm</em> instance represents the form actually being
submitted on this request, the parameter must be set to <em>true</em>;
otherwise, it must be set to <em>false</em>.[P1-end] The standard
implementation of <em>UIForm</em> delegates the responsibility for calling this
method to the <em>Renderer</em> associated with this instance..</p>
</div>
<div class="paragraph">
<p>[P1-start-uiform-submitted]The value
of a <em>UIForm</em>'s <em>submitted</em> property must not be saved as part of its
state.[P1-end]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processDecodes(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Override <em>UIComponent.processDecodes()</em> to
ensure that the <em>submitted</em> property is set for this component. If the
<em>submitted</em> property decodes to false, do not process the children and
return immediately.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processValidators(FacesContext context);
<span class="directive">public</span> <span class="type">void</span> processUpdates(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Override <em>processValidators()</em> and
<em>processUpdates()</em> to ensure that the children of this <em>UIForm</em> instance
are only processed if <em>isSubmitted()</em> returns true.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> saveState(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-uiformSaveState]The <em>saveState()</em>
method of UIForm must call <em>setSubmitted(false)</em> before calling
<em>super.saveState()</em> as an extra precaution to ensure the submitted state
is not persisted across requests.[P1-end].</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">protected</span> <span class="predefined-type">String</span> getContainerClientId(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-uiformPrependId]Override the
parent method to ensure that children of this <em>UIForm</em> instance in the
view have the form’s <em>clientId</em> prepended to their <em>clientId</em>s if and
only if the form’s <em>prependId</em> property is <em>true</em>.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="events-10"><a class="anchor" href="#events-10"></a>4.1.4.4. Events</h5>
<div class="paragraph">
<p><em>UIForm</em> adds no new event handling methods.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uigraphic"><a class="anchor" href="#uigraphic"></a>4.1.5. UIGraphic</h4>
<div class="paragraph">
<p><em>UIGraphic</em> (extends <em>UIComponentBase</em>) is
a component that displays a graphical image to the user. The user cannot
manipulate this component; it is for display purposes only.</p>
</div>
<div class="sect4">
<h5 id="component-type-6"><a class="anchor" href="#component-type-6"></a>4.1.5.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIGraphic</em>
components is “<em>jakarta.faces.Graphic</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-9"><a class="anchor" href="#properties-9"></a>4.1.5.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the UIGraphic component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>url</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
URL of the image to be displayed. If this URL begins with a <em>/</em>
character, it is assumed to be relative to the context path of the
current web application. This property is a typesafe alias for the
<em>value</em> property, so that the actual URL to be used can be acquired via
a value expression.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
value of this component, normally used as a URL.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uigraphic]UIGraphic</em> specializes
the behavior of render-independent properties inherited from the parent
component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “jakarta.faces.Graphic”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “<em>jakarta.faces.Image</em>”.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-9"><a class="anchor" href="#methods-9"></a>4.1.5.3. Methods</h5>
<div class="paragraph">
<p><em>UIGraphic</em> adds no new processing methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-11"><a class="anchor" href="#events-11"></a>4.1.5.4. Events</h5>
<div class="paragraph">
<p><em>UIGraphic</em> does not originate any standard
events.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a1981"><a class="anchor" href="#a1981"></a>4.1.6. UIInput</h4>
<div class="paragraph">
<p><em>UIInput</em> (extends <em>UIOutput</em>, implements
<em>EditableValueHolder</em>) is a component that both displays the current
value of the component to the user (as <em>UIOutput</em> components do), and
processes request parameters on the subsequent request that need to be
decoded.</p>
</div>
<div class="sect4">
<h5 id="component-type-7"><a class="anchor" href="#component-type-7"></a>4.1.6.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIInput</em>
components is “<em>jakarta.faces.Input</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-10"><a class="anchor" href="#properties-10"></a>4.1.6.2. Properties</h5>
<div class="paragraph">
<p><em>UIInput</em> adds the following renderer
independent properties.:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requiredMessage</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression enabled property. If
non-null, this property is used as the <em>summary</em> and <em>detail</em> strings of
the <em>FacesMessage</em> that is queued on the <em>FacesContext</em> instead of the
default message for the required validaiton failure. Note that the
message is fully internationalizable via either the <em>f:loadBundle</em> tag
or via <em>ResourceBundle</em> access from the EL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>converterMessage</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression enabled property. If
non-null, this property is used as the <em>summary</em> and <em>detail</em> strings of
the <em>FacesMessage</em> that is queued on the <em>FacesContext</em> instead of the
default message for conversion failure. Note that the message is fully
internationalizable via either the <em>f:loadBundle</em> tag or via
<em>ResourceBundle</em> access from the EL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>validatorMessage</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression enabled property. If
non-null, this property is used as the <em>summary</em> and <em>detail</em> strings of
the <em>FacesMessage</em> that is queued on the <em>FacesContext</em> instead of the
default message for validation failure. Note that the message is fully
internationalizable via either the <em>f:loadBundle</em> tag or via
<em>ResourceBundle</em> access from the EL.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="#a1192">EditableValueHolder</a> for information about properties introduced by the
implemented interfaces.</p>
</div>
<div class="paragraph">
<p>[P1-start-uiinput]UIInput specializes the
behavior of render-independent properties inherited from the parent
component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.Input</em>”.</p>
</li>
<li>
<p>The default value of the <em>rendererType</em>
property must be set to “<em>jakarta.faces.Text</em>”.</p>
</li>
<li>
<p>The <em>Converter</em> specified by the
<em>converter</em> property (if any) must also be used to perform
String&#8594;Object conversions during decoding.[P1-end]</p>
</li>
<li>
<p>If the <em>value</em> property has an associated
<em>ValueExpression</em>, the <em>setValue()</em> method of that <em>ValueExpression</em>
will be called during the <em>Update Model Values</em> phase of the request
processing lifecycle to push the local value of the component back to
the corresponding model bean property.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a2005"><a class="anchor" href="#a2005"></a>4.1.6.3. Methods</h5>
<div class="paragraph">
<p>The following method is used during the
<em>Update Model Values</em> phase of the request processing lifecycle, to push
the converted (if necessary) and validated (if necessary) local value of
this component back to the corresponding model bean property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> updateModel(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following method is over-ridden from
<em>UIComponent</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> broadcast(FacesEvent event);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to the default
<em>UIComponent.broadcast(jakarta.faces.event.FacesEvent)</em> processing, pass
the <em>ValueChangeEvent</em> being broadcast to the method referenced by the
<em>valueChangeListener</em> property (if any).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> validate(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Perform the algorithm described in the
javadoc to validate the local value of this <em>UIInput</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> resetValue();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Perform the algorithm described in the
javadoc to reset this <em>UIInput</em> to the state where it has no local
value. This method does not touch the value expresson associated with
the “<em>value</em>” property.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-12"><a class="anchor" href="#events-12"></a>4.1.6.4. Events</h5>
<div class="paragraph">
<p>All events are described in
<a href="#a1192">EditableValueHolder</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uimessage"><a class="anchor" href="#uimessage"></a>4.1.7. UIMessage</h4>
<div class="paragraph">
<p><em>UIMessage</em> (extends <em>UIComponentBase</em>)
encapsulates the rendering of error message(s) related to a specified
input component.</p>
</div>
<div class="sect4">
<h5 id="component-type-8"><a class="anchor" href="#component-type-8"></a>4.1.7.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIMessage</em>
components is “<em>jakarta.faces.Message</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-11"><a class="anchor" href="#properties-11"></a>4.1.7.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the UIMessage component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>for</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifier of the component for which to
render error messages. If this component is within the same
NamingContainer as the target component, this must be the component
identifier. Otherwise, it must be an absolute component identifier
(starting with “:”). See the UIComponent.findComponent() Javadocs for
more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">showDetail</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating whether the “detail” property of messages for the specified
component should be rendered. Default value is “true”.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">showSummary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating whether the “summary” property of messages for the specified
component should be rendered. Default value is “false”.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uimessage]UIMessage</em> specializes
the behavior of render-independent properties inherited from the parent
component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.Message</em>”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “<em>jakarta.faces.Message</em>”.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-10"><a class="anchor" href="#methods-10"></a>4.1.7.3. Methods.</h5>
<div class="paragraph">
<p><em>UIMessage</em> adds no new processing methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-13"><a class="anchor" href="#events-13"></a>4.1.7.4. Events</h5>
<div class="paragraph">
<p><em>UIMessage</em> adds no new event handling
methods.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uimessages"><a class="anchor" href="#uimessages"></a>4.1.8. UIMessages</h4>
<div class="paragraph">
<p><em>UIMessage</em> (extends <em>UIComponentBase</em>)
encapsulates the rendering of error message(s) not related to a
specified input component, or all enqueued messages.</p>
</div>
<div class="sect4">
<h5 id="component-type-9"><a class="anchor" href="#component-type-9"></a>4.1.8.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIMessages</em>
components is “<em>jakarta.faces.Messages</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-12"><a class="anchor" href="#properties-12"></a>4.1.8.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the UIMessages component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>globalOnly</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating whether only messages not associated with any specific
component should be rendered. If not set, all messages will be rendered.
Default value is “false”.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">showDetail</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating whether the “detail” property of messages for the specified
component should be rendered. Default value is “false”.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">showSummary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating whether the “summary” property of messages for the specified
component should be rendered. Default value is “true”.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-stat-uimessages]UIMessages</em> specializes
the behavior of render-independent properties inherited from the parent
component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.Messages</em>”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “<em>jakarta.faces.Messages</em>”.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-11"><a class="anchor" href="#methods-11"></a>4.1.8.3. Methods.</h5>
<div class="paragraph">
<p><em>UIMessages</em> adds no new processing methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-14"><a class="anchor" href="#events-14"></a>4.1.8.4. Events</h5>
<div class="paragraph">
<p><em>UIMessages</em> adds no new event handling
methods.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a2060"><a class="anchor" href="#a2060"></a>4.1.9. UIOutcomeTarget</h4>
<div class="paragraph">
<p>UIOutcomeTarget (<em>UIOutput</em>) is a component
that has a value and an outcome, either which may optionally be
retrieved from a model tier bean via a value expression (see
<a href="#a2349">Value Expressions</a>), and is displayed to
the user as a hyperlink, appearing in the form of a link or a button.
The user cannot modify the value of the hyperlink, as it&#8217;s for display
purposes only. The target URL of the hyperlink is derived by passing the
outcome to the <em>ConfigurationNavigationHandler</em> to retrieve the matching
<em>NavigationCase</em> and then using the <em>ViewHandler</em> to translate the
<em>NavigationCase</em> into an action URL. When the client activates the
hyperlink, typically by clicking it, the target URL is retrieved using a
non-faces request and the response is rendered.</p>
</div>
<div class="paragraph">
<p>This component introduces a scenario known as
"preemptive navigation". The navigation case is resolved during the
Render Response phase, before the client activates the link (and may
never activate the link). The predetermined navigation is pursued after
the client activates the link. In contrast, the UICommand components
resolve and execute the navigation at once, after the Invoke Application
phase.</p>
</div>
<div class="paragraph">
<p>The <em>UIOutcomeTarget</em> component allows the
developer to leverage the navigation model while at the same time being
able to generate bookmarkable, non-faces requests to be included in the
response.</p>
</div>
<div class="sect4">
<h5 id="component-type-10"><a class="anchor" href="#component-type-10"></a>4.1.9.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for
UIOutcomeTarget is "jakarta.faces.OutcomeTarget".</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-13"><a class="anchor" href="#properties-13"></a>4.1.9.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by thec component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outcome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
logical outcome that is used to resolve a NavigationCase which in turn
is used to build the target URL of this component. Default value is the
current view ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">includePageParams</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag indicating whether the page parameters
should be appended to the query string of the target URL. Default value
is "false".</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uioutcometarget]</em> UIOutcomeTarget
specializes the behavior of render-independent properties inherited from
the parent component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the family property must
be set to "jakarta.faces.UIOutcomeTarget"</p>
</li>
<li>
<p>The default value of the rendererType
property must be set to "jakarta.faces.Link" <em>[P1-end]</em></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-12"><a class="anchor" href="#methods-12"></a>4.1.9.3. Methods</h5>
<div class="paragraph">
<p>The UIOutcomeTarget adds no event handling
methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-15"><a class="anchor" href="#events-15"></a>4.1.9.4. Events</h5>
<div class="paragraph">
<p>The UIOutcomeTarget adds no event handling
methods.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uioutput"><a class="anchor" href="#uioutput"></a>4.1.10. UIOutput</h4>
<div class="paragraph">
<p><em>UIOutput</em> (extends <em>UIComponentBase</em>;
implements <em>ValueHolder</em>) is a component that has a value, optionally
retrieved from a model tier bean via a value expression (see
<a href="#a2349">Value Expressions</a>), that is displayed
to the user. The user cannot directly modify the rendered value; it is
for display purposes only:</p>
</div>
<div class="sect4">
<h5 id="component-type-11"><a class="anchor" href="#component-type-11"></a>4.1.10.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIOutput</em>
components is “<em>jakarta.faces.Output</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-14"><a class="anchor" href="#properties-14"></a>4.1.10.2. Properties</h5>
<div class="paragraph">
<p><em>UIOutput</em> adds no new render-independent
properties. See <a href="#a1173">ValueHolder</a> for
information about properties introduced by the implemented classes.</p>
</div>
<div class="paragraph">
<p><em>[P1-start-uioutput]UIOutput</em> specializes
the behavior of render-independent properties inherited from the parent
component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “jakarta.faces.Output”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “jakarta.faces.Text”.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-13"><a class="anchor" href="#methods-13"></a>4.1.10.3. Methods</h5>
<div class="paragraph">
<p><em>UIOutput</em> adds no new processing methods.
See <a href="#a1173">ValueHolder</a> for information about
methods introduced by the implemented interfaces.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-16"><a class="anchor" href="#events-16"></a>4.1.10.4. Events</h5>
<div class="paragraph">
<p>UIOutput does not originate any standard
events. See <a href="#a1173">ValueHolder</a> for information
about events introduced by the implemented interfaces.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uipanel"><a class="anchor" href="#uipanel"></a>4.1.11. UIPanel</h4>
<div class="paragraph">
<p><em>UIPanel</em> (extends <em>UIComponentBase</em>) is a
component that manages the layout of its child components.</p>
</div>
<div class="sect4">
<h5 id="component-type-12"><a class="anchor" href="#component-type-12"></a>4.1.11.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIPanel</em>
components is “<em>jakarta.faces.Panel</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-15"><a class="anchor" href="#properties-15"></a>4.1.11.2. Properties</h5>
<div class="paragraph">
<p><em>UIPanel</em> adds no new render-independent
properties.</p>
</div>
<div class="paragraph">
<p><em>[P1-start-uipanel]UIPanel</em> specializes the
behavior of render-independent properties inherited from the parent
component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.Panel</em>”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to <em>null</em>.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-14"><a class="anchor" href="#methods-14"></a>4.1.11.3. Methods</h5>
<div class="paragraph">
<p><em>UIPanel</em> adds no new processing methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-17"><a class="anchor" href="#events-17"></a>4.1.11.4. Events</h5>
<div class="paragraph">
<p><em>UIPanel</em> does not originate any standard
events</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uiparameter"><a class="anchor" href="#uiparameter"></a>4.1.12. UIParameter</h4>
<div class="paragraph">
<p><em>UIParameter</em> (extends <em>UIComponentBase</em>) is
a component that represents an optionally named configuration parameter
that affects the rendering of its parent component. <em>UIParameter</em>
components do not generally have rendering behavior of their own.</p>
</div>
<div class="sect4">
<h5 id="component-type-13"><a class="anchor" href="#component-type-13"></a>4.1.12.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIParameter</em>
components is “<em>jakarta.faces.Parameter</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-16"><a class="anchor" href="#properties-16"></a>4.1.12.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>UIParameter</em> component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
optional name for this parameter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value
for this parameter.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uiparameter]UIParameter</em>
specializes the behavior of render-independent properties inherited from
the parent component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “jakarta.faces.Parameter”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to <em>null</em>.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-15"><a class="anchor" href="#methods-15"></a>4.1.12.3. Methods</h5>
<div class="paragraph">
<p><em>UIParameter</em> adds no new processing
methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-18"><a class="anchor" href="#events-18"></a>4.1.12.4. Events</h5>
<div class="paragraph">
<p><em>UIParameter</em> does not originate any
standard events</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uiselectboolean"><a class="anchor" href="#uiselectboolean"></a>4.1.13. UISelectBoolean</h4>
<div class="paragraph">
<p><em>UISelectBoolean</em> (extends <em>UIInput</em>) is a
component that represents a single boolean (<em>true</em> or <em>false</em>) value.
It is most commonly rendered as a checkbox.</p>
</div>
<div class="sect4">
<h5 id="component-type-14"><a class="anchor" href="#component-type-14"></a>4.1.13.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for
<em>UISelectBoolean</em> components is “<em>jakarta.faces.SelectBoolean</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-17"><a class="anchor" href="#properties-17"></a>4.1.13.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>UISelectBoolean</em> component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>selected</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
selected state of this component. This property is a typesafe alias for
the <em>value</em> property, so that the actual state to be used can be
acquired via a value expression.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uiselectboolean]UISelectBoolean</em>
specializes the behavior of render-independent properties inherited from
the parent component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.SelectBoolean</em>”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “<em>jakarta.faces.Checkbox</em>”.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-16"><a class="anchor" href="#methods-16"></a>4.1.13.3. Methods</h5>
<div class="paragraph">
<p><em>UISelectBoolean</em> adds no new processing
methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-19"><a class="anchor" href="#events-19"></a>4.1.13.4. Events</h5>
<div class="paragraph">
<p><em>UISelectBoolean</em> inherits the ability to
send <em>ValueChangeEvent</em> events from its parent <em>UIInput</em> component.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uiselectitem"><a class="anchor" href="#uiselectitem"></a>4.1.14. UISelectItem</h4>
<div class="paragraph">
<p><em>UISelectItem</em> (extends <em>UIComponentBase</em>)
is a component that may be nested inside a <em>UISelectMany</em> or
<em>UISelectOne</em> component, and represents exactly one <em>SelectItem</em>
instance in the list of available options for that parent component.</p>
</div>
<div class="sect4">
<h5 id="component-type-15"><a class="anchor" href="#component-type-15"></a>4.1.14.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for
<em>UISelectItem</em> components is “<em>jakarta.faces.SelectItem</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-18"><a class="anchor" href="#properties-18"></a>4.1.14.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>UISelectItem</em> component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>itemDescription</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional description of this available
selection item. This may be useful for tools.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">itemDisabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating that any synthesized <em>SelectItem</em> object should have its
<em>disabled</em> property set to <em>true</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">itemLabel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
localized label that will be presented to the user for this selection
item.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">itemValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
server-side value of this item, of the same basic data type as the
parent component’s value. If the parent component type’s value is a
value expression that points at a primitive, this value must be of the
corresponding wrapper type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.model.SelectItem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>SelectItem</em> instance associated with
this component.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uiselectitem]UISelectItem</em>
specializes the behavior of render-independent properties inherited</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “jakarta.faces.SelectItem”.</p>
</li>
<li>
<p>The default value of the <em>rendererType</em>
property must be set to <em>null</em>.</p>
</li>
<li>
<p>If the <em>value</em> property is non-<em>null</em>, it
must contain a <em>SelectItem</em> instance used to configure the selection
item specified by this component.</p>
</li>
<li>
<p>If the <em>value</em> property is a value
expression, it must point at a <em>SelectItem</em> instance used to configure
the selection item specified by this component.</p>
</li>
<li>
<p>If the <em>value</em> property is <em>null</em>,
and there is no corresponding value expression, the <em>itemDescription</em>,
<em>itemDisabled</em>, <em>itemLabel</em> and <em>itemValue</em> properties must be used to
construct a new <em>SelectItem</em> representing the selection item specified
by this component.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-17"><a class="anchor" href="#methods-17"></a>4.1.14.3. Methods</h5>
<div class="paragraph">
<p><em>UISelectItem</em> adds no new processing
methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-20"><a class="anchor" href="#events-20"></a>4.1.14.4. Events</h5>
<div class="paragraph">
<p><em>UISelectItem</em> does not originate any
standard events.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uiselectitems"><a class="anchor" href="#uiselectitems"></a>4.1.15. UISelectItems</h4>
<div class="paragraph">
<p><em>UISelectItems</em> (extends <em>UIComponentBase</em>)
is a component that may be nested inside a <em>UISelectMany</em> or
<em>UISelectOne</em> component, and represents zero or more <em>SelectItem</em>
instances for adding selection items to the list of available options
for that parent component.</p>
</div>
<div class="sect4">
<h5 id="component-type-16"><a class="anchor" href="#component-type-16"></a>4.1.15.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for
<em>UISelectItems</em> components is “<em>jakarta.faces.SelectItems</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-19"><a class="anchor" href="#properties-19"></a>4.1.15.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>UISelectItems</em> component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See below</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
<em>SelectItem</em> instances associated with this component.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uiselectitems]UISelectItems</em>
specializes the behavior of render-independent properties inherited</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.SelectItems</em>”.</p>
</li>
<li>
<p>The default value of the <em>rendererType</em>
property must be set to <em>null</em>.</p>
</li>
<li>
<p>If the <em>value</em> property (or the value
returned by a value expression associated with the <em>value</em> property) is
non-null, it must contain a <em>SelectItem</em> bean, an array of <em>SelectItem</em>
beans, a <em>Collection</em> of <em>SelectItem</em> beans, or a <em>Map</em>, where each map
entry is used to construct a <em>SelectItem</em> bean with the key as the
<em>label</em> property of the bean, and the value as the <em>value</em> property of
the bean (which must be of the same basic type as the value of the
parent component’s value).[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-18"><a class="anchor" href="#methods-18"></a>4.1.15.3. Methods</h5>
<div class="paragraph">
<p><em>UISelectItems</em> adds no new processing
methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-21"><a class="anchor" href="#events-21"></a>4.1.15.4. Events</h5>
<div class="paragraph">
<p><em>UISelectItems</em> does not originate any
standard events.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uiselectmany"><a class="anchor" href="#uiselectmany"></a>4.1.16. UISelectMany</h4>
<div class="paragraph">
<p><em>UISelectMany</em> (extends <em>UIInput</em>) is a
component that represents one or more selections from a list of
available options. It is most commonly rendered as a combobox or a
series of checkboxes.</p>
</div>
<div class="sect4">
<h5 id="component-type-17"><a class="anchor" href="#component-type-17"></a>4.1.16.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for
<em>UISelectMany</em> components is “<em>jakarta.faces.SelectMany</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-20"><a class="anchor" href="#properties-20"></a>4.1.16.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>UISelectMany</em> component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>selectedValues</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object[] or
array of primitives</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The selected item
values of this component. This property is a typesafe alias for the
<em>value</em> property, so that the actual state to be used can be acquired
via a value expression.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[P1-start-uiselectmany]UISelectMany</em>
specializes the behavior of render-independent properties inherited from
the parent component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.SelectMany</em>”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “<em>jakarta.faces.Listbox</em>”.[P1-end]</p>
</li>
<li>
<p>See the class Javadocs for <em>UISelectMany</em> for
additional requirements related to implicit conversions for the <em>value</em>
property.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-19"><a class="anchor" href="#methods-19"></a>4.1.16.3. Methods</h5>
<div class="paragraph">
<p>
<em>[P1-start-uselectmany-validate]UISelectMany</em> must provide a specialized
<em>validate()</em> method which ensures that any decoded values are valid
options (from the nested <em>UISelectItem</em> and <em>UISelectItems</em>
children).[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="events-22"><a class="anchor" href="#events-22"></a>4.1.16.4. Events</h5>
<div class="paragraph">
<p><em>UISelectMany</em> inherits the ability to send
<em>ValueChangeEvent</em> events from its parent <em>UIInput</em> component.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uiselectone"><a class="anchor" href="#uiselectone"></a>4.1.17. UISelectOne</h4>
<div class="paragraph">
<p><em>UISelectOne</em> (extends <em>UIInput</em>) is a
component that represents zero or one selection from a list of available
options. It is most commonly rendered as a combobox or a series of radio
buttons.</p>
</div>
<div class="sect4">
<h5 id="component-type-18"><a class="anchor" href="#component-type-18"></a>4.1.17.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UISelectOne</em>
components is “<em>jakarta.faces.SelectOne</em>”.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-21"><a class="anchor" href="#properties-21"></a>4.1.17.2. Properties</h5>
<div class="paragraph">
<p><em>UISelectOne</em> adds no new render-independent
properties.</p>
</div>
<div class="paragraph">
<p><em>[P1-start-uiselectone]UISelectOne</em>
specializes the behavior of render-independent properties inherited from
the parent component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.SelectOne</em>”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to “<em>jakarta.faces.Menu</em>”.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="methods-20"><a class="anchor" href="#methods-20"></a>4.1.17.3. Methods</h5>
<div class="paragraph">
<p>
<em>[P1-start-uiselectone-validate]UISelectOne</em> must provide a specialized
<em>validate()</em> method which ensures that any decoded value is a valid
option (from the nested <em>UISelectItem</em> and <em>UISelectItems</em>
children).[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="events-23"><a class="anchor" href="#events-23"></a>4.1.17.4. Events</h5>
<div class="paragraph">
<p><em>UISelectOne</em> inherits the ability to send
<em>ValueChangeEvent</em> events from its parent <em>UIInput</em> component.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="uiviewparameter"><a class="anchor" href="#uiviewparameter"></a>4.1.18. UIViewParameter</h4>
<div class="paragraph">
<p><em>UIViewParameter</em> (extends <em>UIInput</em>) is a
component that allows the query parameters included in the request by
<em>UIOutcomTarget</em> renderers to participate in the lifecycle. Please see
the javadocs for the normative speficication of this component.Events.</p>
</div>
</div>
<div class="sect3">
<h4 id="a2226"><a class="anchor" href="#a2226"></a>4.1.19. UIViewRoot</h4>
<div class="paragraph">
<p><em>UIViewRoot</em> (extends <em>UIComponentBase;</em>)
represents the root of the component tree.</p>
</div>
<div class="sect4">
<h5 id="component-type-19"><a class="anchor" href="#component-type-19"></a>4.1.19.1. Component Type</h5>
<div class="paragraph">
<p>The standard component type for <em>UIViewRoot</em>
components is “<em>jakarta.faces.ViewRoot</em>”</p>
</div>
</div>
<div class="sect4">
<h5 id="a2230"><a class="anchor" href="#a2230"></a>4.1.19.2. Properties</h5>
<div class="paragraph">
<p>The following render-independent properties
are added by the <em>UIViewRoot</em> component:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">locale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.util.Locale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Locale to be used in localizing the
response for this view.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">renderKitId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of
the <em>RenderKit</em> used to render this page.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>viewId</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
view identifier for this view.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>beforePhaseListener</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>MethodExpression</em> that will be invoked
before all lifecycle phases except for <em>Restore View</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>afterPhaseListener</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodExpression that will be invoked after
all lifecycle phases except for <em>Restore View</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">viewMap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.util.Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>Map</em> that acts as the interface to the
data store that is the "view scope".</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For an existing view, the <em>locale</em> property
may be modified only from the event handling portion of <em>Process
Validations</em> phase through <em>Invoke Application</em> phase, unless it is
modified by an <em>Apply Request Values</em> event handler for an
<em>ActionSource</em> or <em>EditableValueHolder</em> component that has its
<em>immediate</em> property set to true (which therefore causes <em>Process
Validations</em>, <em>Update Model Values</em>, and <em>Invoke Application</em> phases
to be skipped).</p>
</div>
<div class="paragraph">
<p> <em>[P1-start-viewmap]</em> The viewMap
property is lazily created the first time it is accessed, and it is
destroyed when a different <em>UIViewRoot</em> instance is installed from a
call to <em>FacesContext.setViewRoot()</em>. After the Map is created a
<em>PostConstructViewMapEvent</em> must be published using <em>UIViewRoot</em> as the
event source. Immediately before the Map is destroyed, a
<em>PreDestroyViewMapEvent</em> must be published using <em>UIViewRoot</em> as the
event source. [P1-end]</p>
</div>
<div class="paragraph">
<p><em>[P1-start-uiviewroot]UIViewRoot</em>
specializes the behavior of render-independent properties inherited from
the parent component as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default value of the <em>family</em> property
must be set to “<em>jakarta.faces.ViewRoot</em>”.</p>
</li>
<li>
<p>The default value of the
<em>rendererType</em> property must be set to <em>null</em>.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a2257"><a class="anchor" href="#a2257"></a>4.1.19.3. Methods</h5>
<div class="paragraph">
<p>The following methods are used for adding
UIComponent resources to a target area in the view, and they are also
used for retrieving UIComponent resources from a target area in the
view.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addComponentResource(FacesContext context,
    UIComponent componentResource);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>componentResource</em>, that is assumed to
represent a resource instance, to the current view. A resource instance
is rendered by a resource Renderer (such as ScriptRenderer,
StylesheetRenderer) as described in the Standard HTML RenderKit. This
method will cause the resource to be rendered in the “head” element of
the view.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addComponentResource(FacesContext context,
    UIComponent componentResource, <span class="predefined-type">String</span> target);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>componentResource</em>, that is
assumed to represent a resource instance, to the current view at the
specified target location. [P1-start-addComponentResource] The resource
must be added using the algorithm outlined in this method’s
Javadocs.[P1-end]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">List</span>&lt;UIComponent&gt; getComponentResources(<span class="predefined-type">String</span> target);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a List of <em>UIComponent</em>
instances residing under the facet identified by target. Each
<em>UIComponent</em> instance in the List represents a resource.
[P1-start-getCompRes] The List must be formulated in accordance with
this method’s Javadocs. [P1-end]</p>
</div>
<div class="paragraph">
<p><em>UIViewRoot</em> specializes the behavior of the
<em>UIComponent.queueEvent()</em> method to maintain a list of queued events
that can be transmitted later. It also specializes the behavior of the
<em>processDecodes()</em>, <em>processValidators()</em>, <em>processUpdates()</em>, and
<em>processApplication()</em> methods to broadcast queued events to registered
listeners. <em>UIViewRoot</em> clears any remaining events from the event queue
in these methods if <em>responseComplete()</em> or <em>renderResponse()</em> has been
set on the <em>FacesContext</em>. Please see <a href="#a427">Apply Request Values</a>, <a href="#a438">Process
Validations]</a>, <a href="#a446">Update Model Values</a> and
<a href="#a454">Invoke Application</a> for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="a2268"><a class="anchor" href="#a2268"></a>4.1.19.4. Events</h5>
<div class="paragraph">
<p><em>UIViewRoot</em> is a source of <em>PhaseEvent</em>
events, which are emitted when the instance moves through all phases of
the request processing lifecycle except <em>Restore View</em>. This phase
cannot emit events from <em>UIViewRoot</em> because the <em>UIViewRoot</em> instance
isn’t created when this phase starts. See
<a href="#a6626">PhaseEvent</a> and
<a href="#a6635">PhaseListener</a> for more details on the
event and listener class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addPhaseListener(PhaseListener listener);
<span class="directive">public</span> <span class="type">void</span> removePhaseListener(VPhaseListener listener);
<span class="directive">public</span> <span class="predefined-type">List</span>&lt;PhaseListener&gt; getPhaseListeners();</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-events] <em>UIViewRoot</em> must
listen for the top level <em>PostAddToViewEvent</em> event sent by the <em>Restore
View</em> phase. Refer to <em><a href="#a404">Restore View</a></em>
for more details about the publishing of this event. Upon receiving this
event, <em>UIViewRoot</em> must cause any “after” <em>Restore View</em> phase
listeners to be called.[P1-end]</p>
</div>
<div class="paragraph">
<p><em>UIViewRoot</em> is also the source for several
kinds of system events. The system must publish a <em>PostAddToViewEvent</em>,
with the <em>UIViewRoot</em> as the source, during the <em>Restore View</em> phase,
immediately after the new <em>UIViewRoot</em> is set into the <em>FacesContext</em>
for the request. The system must publish a <em>PreRenderView</em> event, with
<em>UIViewRoot</em> as the source, during the <em>Render Response</em> phase,
immediately before <em>ViewHandler.renderView()</em> is called.</p>
</div>
</div>
<div class="sect4">
<h5 id="a2277"><a class="anchor" href="#a2277"></a>4.1.19.5. Partial Processing</h5>
<div class="paragraph">
<p> <em>UIViewRoot</em> adds special behavior to
<em>processDecodes, processValidators, processUpdates, getRendersChildren
and encodeChildren</em> to facilitate partial processing - namely the
ability to have one or more components processed through the <em>execute</em>
and/or <em>render</em> phases of the request processing lifecycle. Refer to
<a href="#a6825">Partial View
Traversal</a>, <a href="#a6831">Partial
View Processing</a>, <a href="#a6833">Partial View Rendering</a> for an overview of partial processing.
[P1-start-viewroot-partial] <em>UIViewRoot</em> must perform partial processing
as outlined in the Javadocs for the “processXXX” and “encodeXXX” methods
if the current request is a partial request.[P1-end]</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="standard-uicomponent-model-beans"><a class="anchor" href="#standard-uicomponent-model-beans"></a>4.2. Standard UIComponent Model Beans</h3>
<div class="paragraph">
<p>Several of the standard <em>UIComponent</em>
subclasses described in the previous section reference JavaBean
components to represent the underlying model data that is rendered by
those components. The following subsections define the standard
<em>UIComponent</em> model bean classes.</p>
</div>
<div class="sect3">
<h4 id="a2281"><a class="anchor" href="#a2281"></a>4.2.1. DataModel</h4>
<div class="paragraph">
<p><em>DataModel</em> is an abstract base class for
creating wrappers around arbitrary data binding technologies. It can be
used to adapt a wide variety of data sources for use by Jakarta Server Faces
components that want to support access to an underlying data set that
can be modelled as multiple rows. The data underlying a DataModel
instance is modelled as a collection of row objects that can be accessed
randomly via a zero-relative index</p>
</div>
<div class="sect4">
<h5 id="properties-22"><a class="anchor" href="#properties-22"></a>4.2.1.1. Properties</h5>
<div class="paragraph">
<p>An instance of <em>DataModel</em> supports the
following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rowAvailable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating whether the current <em>rowIndex</em> value points at an actual row
in the underlying data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rowCount</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number
of rows of data objects represented by this DataModel instance, or -1 if
the number of rows is unknown.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rowData</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An
object representing the data for the currently selected row. <em>DataModel</em>
implementations must return an object that be successfully processed as
the “base” parameter for the <em>PropertyResolver</em> in use by this
application. If the current rowIndex value is -1, <em>null</em> is returned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rowIndex</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zero-relative index of the currently
selected row, or -1 if no row is currently selected. When first created,
a <em>DataModel</em> instance must return -1 for this property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">wrappedData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opaque
property representing the data object wrapped by this DataModel. Each
individual implementation will restrict the types of Object(s) that it
supports.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="a2298"><a class="anchor" href="#a2298"></a>4.2.1.2. Methods</h5>
<div class="paragraph">
<p><em>DataModel</em> must provide an <em>iterator()</em> to
iterate over the row data for this model.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-24"><a class="anchor" href="#events-24"></a>4.2.1.3. Events</h5>
<div class="paragraph">
<p>No events are generated for this component.</p>
</div>
</div>
<div class="sect4">
<h5 id="a2302"><a class="anchor" href="#a2302"></a>4.2.1.4. Concrete Implementations</h5>
<div class="paragraph">
<p>[P1-start-datamodel]The Jakarta Faces implementation
must provide concrete implementations of DataModel (in the
jakarta.faces.model package) for the following data wrapping scenarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>ArrayDataModel</em>&#8201;&#8212;&#8201;Wrap an array of Java
objects.</p>
</li>
<li>
<p><em>ListDataModel</em>&#8201;&#8212;&#8201;Wrap a <em>java.util.List</em>
of Java objects.</p>
</li>
<li>
<p><em>ResultDataModel</em>&#8201;&#8212;&#8201;Wrap an object of type
<em>jakarta.servlet.jsp.jstl.sql.Result</em> (the query results from JSTL’s SQL
tag library)</p>
</li>
<li>
<p><em>ResultSetDataModel</em>&#8201;&#8212;&#8201;Wrap an object of
type <em>java.sql.ResultSet</em> (which therefore means that <em>javax.sql.RowSet</em>
instances are also supported).</p>
</li>
<li>
<p><em>ScalarDataModel</em>&#8201;&#8212;&#8201;Wrap a single Java
object in what appears to be a one-row data set.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each concrete <em>DataModel</em> implementation must
extend the <em>DataModel</em> abstract base class, and must provide a
constructor that accepts a single parameter of the object type being
wrapped by that implementation (in addition to a zero-args
constructor).[P1-end] See the JavaDocs for specific implementation
requirements on <em>DataModel</em> defined methods, for each of the concrete
implementation classes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="selectitem"><a class="anchor" href="#selectitem"></a>4.2.2. SelectItem</h4>
<div class="paragraph">
<p><em>SelectItem</em> is a utility class representing
a single choice, from among those made available to the user, for a
<em>UISelectMany</em> or <em>UISelectOne</em> component. It is not itself a
<em>UIComponent</em> subclass.</p>
</div>
<div class="sect4">
<h5 id="properties-23"><a class="anchor" href="#properties-23"></a>4.2.2.1. Properties</h5>
<div class="paragraph">
<p>An instance of <em>SelectItem</em> supports the
following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A
description of this selection item, for use in development tools.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>disabled</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating that this option should be rendered in a fashion that
disables selection by the user. Default value is <em>false</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>label</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label
of this selection item that should be rendered to the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
server-side value of this item, of the same basic data type as the
parent component’s value. If the parent component type’s value is a
value expression that points at a primitive, this value must be of the
corresponding wrapper type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="methods-21"><a class="anchor" href="#methods-21"></a>4.2.2.2. Methods</h5>
<div class="paragraph">
<p>An instance of <em>SelectItem</em> supports no
additional public processing methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-25"><a class="anchor" href="#events-25"></a>4.2.2.3. Events</h5>
<div class="paragraph">
<p>An instance of SelectItem supports no events.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="selectitemgroup"><a class="anchor" href="#selectitemgroup"></a>4.2.3. SelectItemGroup</h4>
<div class="paragraph">
<p><em>SelectItemGroup</em> is a utility class
extending <em>SelectItem</em>, that represents a group of subordinate
<em>SelectItem</em> instances that can be rendered as a “sub-menu” or “option
group”. <em>Renderer</em>s will typically ignore the <em>value</em> property of this
instance, but will use the <em>label</em> property to render a heading for the
sub-menu.</p>
</div>
<div class="sect4">
<h5 id="properties-24"><a class="anchor" href="#properties-24"></a>4.2.3.1. Properties</h5>
<div class="paragraph">
<p>An instance of <em>SelectItemGroup</em> supports the
following additional properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectItems</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SelectItem[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of SelectItem instances representing
the subordinate selection items that are members of the group
represented by this SelectItemGroup instance.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that, since <em>SelectItemGroup</em> is a
subclass of <em>SelectItem</em>, <em>SelectItemGroup</em> instances can be included
in the <em>selectItems</em> property in order to create hierarchies of
subordinate menus. However, some rendering environments may limit the
depth to which such nesting is supported; for example, HTML/4.01 does
not allow an <em>&lt;optgroup&gt;</em> to be nested inside another <em>&lt;optgroup&gt;</em>
within a <em>&lt;select&gt;</em> control.</p>
</div>
</div>
<div class="sect4">
<h5 id="methods-22"><a class="anchor" href="#methods-22"></a>4.2.3.2. Methods</h5>
<div class="paragraph">
<p>An instance of <em>SelectItemGroup</em> supports no
additional public processing methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-26"><a class="anchor" href="#events-26"></a>4.2.3.3. Events</h5>
<div class="paragraph">
<p>An instance of <em>SelectItemGroup</em> supports no
events.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a2344"><a class="anchor" href="#a2344"></a>5. Expression Language and Managed Bean Facility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the descriptions of the standard user
interface component model, it was noted that all attributes, and nearly
all properties can have a <em>value expression</em> associated with them (see
<a href="#a911">ValueExpression properties</a>). In
addition, many properties, such as <em>action</em>, <em>actionListener</em>,
<em>validator</em>, and <em>valueChangeListener</em> can be defined by a <em>method
expression</em> pointing at a public method in some class to be executed.
This chapter describes the mechanisms and APIs that Jakarta Faces
utilizes in order to evaluate value expressions and method expressions.</p>
</div>
<div class="paragraph">
<p>Jakarta Faces relies on Jakarta Expression Language as described by version 4.0 of
the Jakarta Expression Language specification.
Please consult that document for complete details about the Expression Language.</p>
</div>
<div class="paragraph">
<p>Versions 1.0 and 1.1 of pre-Jakarta Faces JSF under the JCP
included a built in expression language and required an implementation
of it. The API for this old JSF EL is still preserved as deprecated
classes and methods, and Jakarta Faces implementations must still support that API.
Please consult the <a href="#a8777">Guide to Deprecated
Methods Relating to the Expression Language and their Corresponding Replacements</a>
for details. This chapter will focus exclusively on how Jakarta Faces leverages
and integrates with Jakarta Expression Language. It does not describe how Jakarta Expression Language operates.</p>
</div>
<div class="sect2">
<h3 id="a2349"><a class="anchor" href="#a2349"></a>5.1. Value Expressions</h3>
<div class="sect3">
<h4 id="overview-5"><a class="anchor" href="#overview-5"></a>5.1.1. Overview</h4>
<div class="paragraph">
<p>To support binding of attribute and property
of values to dynamically calculated results, the name of the attribute
or property can be associated with a value expression using the
<em>setValueExpression()</em> method. Whenever the dynamically calculated
result of evaluating the expression is required, the <em>getValue()</em> method
of the <em>ValueExpression</em> is called, which returns the evaluated result.
Such expressions can be used, for example, to dynamically calculate a
component value to be displayed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:outputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">customer.name</span><span class="error">}</span><span class="error">”</span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>which, when this page is rendered, will
retrieve the bean stored under the “customer” key, then acquire the name
property from that bean and render it.</p>
</div>
<div class="paragraph">
<p>Besides the component value itself, value
expressions can be used to dynamically compute attributes and
properties. The following example checks a <em>boolean</em> property <em>manager</em>
on the current <em>user</em> bean (presumably representing the logged-in user)
to determine whether the <em>salary</em> property of an employee should be
displayed or not:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:outputText</span> <span class="attribute-name">rendered</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">user.manager</span><span class="error">}</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">employee.salary</span><span class="error">}</span><span class="error">”</span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>which sets the <em>rendered</em> property of the
component to <em>false</em> if the user is not a manager, and therefore causes
this component to render nothing.</p>
</div>
<div class="paragraph">
<p>The Jakarta Expression Language has a
powerful set of coercion rules that automatically convert the type of
the value to the appropriate type. These rules occasionally rely on the
JavaBeans <em>PropertyEditor</em> facility to perform this conversion. Note
that this conversion is entirely separate from normal Jakarta Faces Conversion.</p>
</div>
<div class="paragraph">
<p>Value expressions can also be used to set a
value from the user into the item obtained by evaluating the expression.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:inputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">employee.number</span><span class="error">}</span><span class="error">”</span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When the page is rendered, the expression is
evaluated as an r-value and the result is displayed as the default value
in the text field. When the page is submitted, the expression is
evaluated as an l-value, and the value entered by the user (subject to
conversion and validation as usual) is pushed into the expression.</p>
</div>
</div>
<div class="sect3">
<h4 id="value-expression-syntax-and-semantics"><a class="anchor" href="#value-expression-syntax-and-semantics"></a>5.1.2. Value Expression Syntax and Semantics</h4>
<div class="paragraph">
<p>Please see Section 1.2 of the Jakarta Expression
Language Specification, Version 4.0 or higher for the complete specification of
ValueExpression syntax and semantics.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="methodexpressions"><a class="anchor" href="#methodexpressions"></a>5.2. MethodExpressions</h3>
<div class="paragraph">
<p><em>Method expressions</em> are a very similar to
value expressions, but rather than supporting the dynamic retrieval and
setting of properties, method expressions support the invocation (i.e.
execution) of an arbitrary public method of an arbitrary object, passing
a specified set of parameters, and returning the result from the called
method (if any). They may be used in any phase of the request processing
lifecycle; the standard Jakarta Faces components and framework employ them
(encapsulated in a <em>MethodExpression</em> object) at the following times:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>During <em>Apply Request Values</em> or <em>Invoke
Application</em> phase (depending upon the state of the <em>immediate</em>
property), components that implement the <em>ActionSource2</em> behavioral
interface (see <a href="#a1120">ActionSource2</a>) utilize
<em>MethodExpressions</em> as follows:</p>
<div class="ulist">
<ul>
<li>
<p>If the <em>actionExpression</em> property is
specified, it must be a <em>MethodExpression</em> expression that identifies an
Application Action method (see <a href="#a3553">Application Actions</a>) that takes no parameters and returns a String.</p>
</li>
<li>
<p>It’s possible to have a method expression act
as an <em>ActionListener</em> by using the classs
<em>MethodExpressionActionListener</em> to wrap a method expression and calling
the <em>addActionListener()</em> method on the <em>ActionSource</em>. The method
expression wrapped inside the <em>MethodExpressionActionListener</em> must
identify a public method that accepts an <em>ActionEvent</em> (see
<a href="#a1308">Event Classes</a>) instance, and has a
return type of <em>void</em>. The called method has exactly the same
responsibilities as the <em>processAction()</em> method of an <em>ActionListener</em>
instance (see <a href="#a1329">Listener Classes</a>) that
was built in to a separate Java class.</p>
</li>
</ul>
</div>
</li>
<li>
<p>During the <em>Apply Request Values</em> or <em>Process
Validations</em> phase (depending upon the state of the <em>immediate</em>
property), components that implement <em>EditableValueHolder</em> (such as
<em>UIInput</em> and its subclasses) components (see
<a href="#a1192">EditableValueHolder</a>) utilize method
expressions as follows:</p>
<div class="ulist">
<ul>
<li>
<p>The user can use the
<em>MethodExpressionValidator</em> class to wrap a method expression that
identifies a public method that accepts a <em>FacesContext</em> instance and a
<em>UIComponent</em> instance, and an <em>Object</em> containing the value to be
validated, and has a return type of <em>void</em>. This
<em>MethodExpressionValidator</em> instance can then be added as a normal
<em>Validator</em> using the <em>EditableValueHolder.addValidator()</em> method. The
called method has exactly the same responsibilities as the <em>validate()</em>
method of a <em>Validator</em> instance (see <a href="#a1414">Validator Classes</a>) that was built in to a separate Java class.</p>
</li>
<li>
<p>The user can use the
<em>MethodExpressionValueChangeListener</em> class to wrap a method expression
that identifies a public method that accepts a <em>ValueChangeEvent</em> (see
<a href="#a1308">Event Classes</a>) instance, and has a
return type of <em>void</em>. This <em>MethodExpressionValueChangeListener</em>
instance can then be added as a normal <em>ValueChangeListener</em> using
EditableValueHolder.addValueChangeListener(). The called method has
exactly the same responsibilities as the <em>processValueChange()</em> method
of a <em>ValueChangeListener</em> instance (see <a href="#a1329">Listener Classes</a>) that was built in to a separate Java class.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is the set of component properties that
currently support <em>MethodBinding</em>, and the method signatures to which
they must point:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. component properties whose type is DEPRECATED MethodBinding</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">component property</th>
<th class="tableblock halign-left valign-top">method signature</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DEPRECATED</strong> <em>action</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>public String &lt;methodName&gt;();</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DEPRECATED</strong> <em>actionListener</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>public void &lt;methodName&gt;(jakarta.faces.event.ActionEvent);</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DEPRECATED</strong> <em>validator</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>public void &lt;methodName&gt;(jakarta.faces.context.FacesContext,
jakarta.faces.component.UIComponent, java.lang.Object)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DEPRECATED</strong> <em>valueChangeListener</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>public void &lt;methodName&gt;(jakarta.faces.event.ValueChangeEvent);</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that for any of the parameters for the
above methods may also be a subclass of what is listed above. For the
above properties that are marked as DEPRECATED, wrapper classes have
been added that wrap a MethodExpression and implement the appropriate
listener interface, allowing the wrapped expression to be added as a
strongly typed listener, using the normal <em>add*()</em> pattern Here is the
list of such wrapper classes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. MethodExpression wrappers to take the place of DEPRECATED MethodBinding properties</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">component listener property</th>
<th class="tableblock halign-left valign-top">Wrapper class</th>
<th class="tableblock halign-left valign-top">method signature</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>actionListener</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>jakarta.faces.event.MethodExpressionActionListener</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>public void &lt;methodName&gt;(jakarta.faces.event.ActionEvent);</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>validator</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>jakarta.faces.validator.MethodExpressionValidator</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>public void &lt;methodName&gt;(jakarta.faces.context.FacesContext,
jakarta.faces.component.UIComponent, java.lang.Object);</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>valueChangeListener</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>jakarta.faces.event.MethodExpressionValueChangeListener</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>public void &lt;methodName&gt;(jakarta.faces.event.ValueChangeEvent);</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <em>MethodBinding</em> typed <em>action</em> property
of <em>ActionSource</em> is deprecated and has been replaced by the
<em>MethodExpression</em> typed <em>actionExpression</em> property of <em>ActionSource2</em>.</p>
</div>
<div class="sect3">
<h4 id="a2403"><a class="anchor" href="#a2403"></a>5.2.1. MethodExpression Syntax and Semantics</h4>
<div class="paragraph">
<p>The exact syntax and semantics of
MethodExpression are the domain of the Jakarta Expression Language. Please see
Section 1.2.1.2 of the Jakarta Expression Language Specification, Version 4.0 or higher.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a2406"><a class="anchor" href="#a2406"></a>5.3. The Managed Bean Facility</h3>
<div class="paragraph">
<p>The use of the managed bean facility as specified in this section is strongly
discouraged. A better and more cohesively integrated solution for
solving the same problem is to use Contexts and Dependency Injection
(CDI). (See <a href="#a173">Other Jakarta Platform Specifications</a>).</p>
</div>
<div class="paragraph">
<p>Perhaps the biggest value-add of bringing Expression Language
concepts to Jakarta Faces happens when the Expression Language is combined with the managed bean
facility. This feature allows the user to configure an entire complex
tree of POJO beans, including how they should be scoped and populated
with initial values, and expose them to Expression Language expressions. Please see
<em><a href="#a2477">Managed Bean Configuration Example</a></em>.</p>
</div>
<div class="paragraph">
<p>The Managed Bean Creation facility is
configured by the existence of <em>&lt;managed-bean&gt;</em> elements in one or more
application configuration resources (see <a href="UsingJSFInWebApplications.html#a6195">Application Configuration Resources</a>). Note that a special provision has
been made for application configuration resource files residing within
<em>META-INF/managed-beans.xml</em> entries on the application classpath.
Please see <a href="UsingJSFInWebApplications.html#a6254">Application Configuration
Resource Format</a> for the normative spec requirement. Such elements
describe the characteristics of a bean to be created, and properties to
be initialized, with the following nested elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>&lt;managed-bean-name&gt;</em>&#8201;&#8212;&#8201;The key under which
the created bean can be retrieved; also the key in the scope under which
the created bean will be stored, unless the value of
<em>&lt;managed-bean-scope&gt;</em> is set to <em>none</em>.</p>
</li>
<li>
<p><em>&lt;managed-bean-class&gt;</em>&#8201;&#8212;&#8201;The fully
qualified class name of the application class used to instantiate a new
instance. This class must conform to JavaBeans design patterns&#8201;&#8212;&#8201;in
particular, it must have a public zero-args constructor, and must have
public property setters for any properties referenced with nested
<em>&lt;managed-property&gt;</em> elements&#8201;&#8212;&#8201;or it must be a class that implements
<em>java.util.Map</em> or <em>java.util.List</em>.</p>
</li>
<li>
<p><em>&lt;managed-bean-scope&gt;</em>&#8201;&#8212;&#8201;The scope (
<em>request</em>, <em>view</em>, <em>session</em>, or <em>application</em>) under which the
newly instantiated bean will be stored after creation (under the key
specified by the <em>&lt;managed-bean-name&gt;</em> element), or <em>none</em> for a bean
that should be instantiated and returned, but not stored in any scope.
The latter option is useful when dynamically constructing trees of
related objects, as illustrated in the following example.<br>
The runtime must must allow the value of this element to be an EL
<em>ValueExpression</em>. If so, and the expression evaluates to <em>null</em>, an
informative error message including the expression string and the name
of the bean must be logged. If the expression evaluates to a <em>Map</em>,
that <em>Map</em> is used as the scope into which the bean will be stored. If
storing the bean into the <em>Map</em> causes an <em>Exception</em>, the exception is
allowed to flow up to the <em>ExceptionHandler</em>. If the <em>ValueExpression</em>
does not evaluate to a <em>Map</em>, a <em>FacesException</em> must be thrown with a
message that includes the expression string, the <em>toString()</em> of the
value, and the type of the value.</p>
</li>
<li>
<p><em>&lt;list-entries&gt;</em> or <em>&lt;map-entries&gt;</em>&#8201;&#8212;&#8201;Used
to configure managed beans that are themselves instances of
<em>java.util.List</em> or <em>java.util.Map</em>, respectively. See below for details
on the contents of these elements.</p>
</li>
<li>
<p><em>&lt;managed-property&gt;</em>&#8201;&#8212;&#8201;Zero or more
elements used to initialize the properties of the newly instantiated
bean (see below).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After the new managed bean instance is
instantiated, but before it is placed into the specified scope (if any),
each nested <em>&lt;managed-property&gt;</em> element must be processed and a call to
the corresponding property setter must be made to initialize the value
of the corresponding property. If the managed bean has properties not
referenced by <em>&lt;managed-property&gt;</em> elements, the values of such
properties will not be affected by the creation of this managed bean;
they will retain whatever default values are established by the
constructor.</p>
</div>
<div class="paragraph">
<p>Each <em>&lt;managed-property&gt;</em> element contains
the following elements used to configure the execution of the
corresponding property setter call:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>&lt;property-name&gt;</em>&#8201;&#8212;&#8201;The property name of
the property to be configured. The actual property setter method to be
called will be determined as described in the JavaBeans Specification.</p>
</li>
<li>
<p>Exactly one of the following sub-elements
that can be used to initialize the property value in a number of
different ways:</p>
<div class="ulist">
<ul>
<li>
<p><em>&lt;map-entries&gt;</em>&#8201;&#8212;&#8201;A set of key/value pairs
used to initialize the contents of a property of type <em>java.util.Map</em>
(see below for more details).</p>
</li>
<li>
<p><em>&lt;null-value/&gt;</em>&#8201;&#8212;&#8201;An empty element
indicating that this property must be explicitly initialized to <em>null</em>.
This element is not allowed if the underlying property is of a Java
primitive type.</p>
</li>
<li>
<p><em>&lt;value&gt;</em>&#8201;&#8212;&#8201;A String value that will have
any leading and trailing spaces stripped, and then be converted
(according to the rules described in the Jakarta Server Pages Specification for the
&lt;jsp:setProperty&gt; action) to the corresponding data type of the
property, prior to setting it to this value.</p>
</li>
<li>
<p><em>&lt;list-entries&gt;</em>&#8201;&#8212;&#8201;A set of values used to
initialize the contents of a property of type array or <em>java.util.List</em>
See below for more information.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>As described above, the <em>&lt;map-entries&gt;</em>
element is used to initialize the key-value pairs of a property of type
<em>java.util.Map</em>. This element may contain the following nested
elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>&lt;key-class&gt;</em>&#8201;&#8212;&#8201;Optional element specifying
the fully qualified class name for keys in the map to be created. If not
specified, <em>java.lang.String</em> is used.</p>
</li>
<li>
<p><em>&lt;value-class&gt;</em>&#8201;&#8212;&#8201;Optional element
specifying the fully qualified class name for values in the map to be
created. If not specified, <em>java.lang.String</em> is used.</p>
</li>
<li>
<p><em>&lt;map-entry&gt;</em>&#8201;&#8212;&#8201;Zero or more elements that
define the actual key-value pairs for a single entry in the map. Nested
inside is a <em>&lt;key&gt;</em> element to define the key, and then exactly one of
<em>&lt;null-value&gt;</em>, <em>&lt;value&gt;</em> to define the value. These elements have the
same meaning as when nested in a <em>&lt;managed-property&gt;</em> element, except
that they refer to an individual map entry’s value instead of the entire
property value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As described above, the <em>&lt;list-entries&gt;</em>
element is used to initialize a set of values for a property of type
array or <em>java.util.List</em>. This element may contain the following
nested elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>&lt;value-class&gt;</em>&#8201;&#8212;&#8201;Optional element
specifying the fully qualified class name for values in the map to be
created. If not specified, <em>java.lang.String</em> is used.</p>
</li>
<li>
<p>Zero or more elements of type <em>&lt;null-value&gt;</em>,
<em>&lt;value&gt;</em> to define the individual values to be initialized. These
elements have the same meaning as when nested in a <em>&lt;managed-property&gt;</em>
element, except that they refer to an individual list element instead of
the entire property value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following general rules apply to the
operation of the Managed Bean Creation facility:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Properties are assigned in the order that
their <em>&lt;managed-property&gt;</em> elements are listed in the application
configuration resource.</p>
</li>
<li>
<p>If a managed bean has writeable properties
that are not mentioned in <em>&lt;managed-property&gt;</em> elements, the values of
those properties are not assigned any values.</p>
</li>
<li>
<p>The bean instantiation and population with
properties must be done lazily, when an Expression Language expression causes the bean to
be referenced. For example, this is the case when a <em>ValueExpression</em> or
<em>MethodExpression</em> has its <em>getValue()</em> or <em>setValue()</em> method called.</p>
</li>
<li>
<p>Due to the above mentioned laziness
constraint, any error conditions that occur below are only required to
be manifested at runtime. However, it is conceivable that tools may want
to detect these errors earlier; this is perfectly acceptable. The
presense of any of the errors described below, until the end of this
section, must not prevent the application from deploying and being made
available to service requests.</p>
</li>
<li>
<p>[P1-start managed bean config error
conditions] It is an error to specify a managed bean class that does not
exist, or that cannot be instantiated with a public, zero-args
constructor.</p>
</li>
<li>
<p>It is an error to specify a <em>&lt;property-name&gt;</em>
for a property that does not exist, or does not have a public setter
method, on the specified managed bean class.</p>
</li>
<li>
<p>It is an error to specify a <em>&lt;value&gt;</em>
element that cannot be converted to the type required by a managed
property, or that, when evaluated, results in a value that cannot be
converted to the type required by a managed property. [P1-end]</p>
</li>
<li>
<p>If the type of the property referenced by the
<em>&lt;managed-property&gt;</em> element is a Java enum, the contents of the
<em>&lt;value&gt;</em> element must be a String that yields a valid return from
<em>java.lang.Enum.valueOf(PROPERTY_CLASS, VALUE)</em> where <em>PROPERTY_CLASS</em>
is the <em>java.lang.Class</em> for the property and <em>VALUE</em> is the contents of
the <em>&lt;value&gt;</em> element in the application configuration resource. If any
exception is thrown from <em>Enum.valueOf()</em> it is an error.</p>
</li>
<li>
<p>[P1-start managed bean scope errors] It is an
error for a managed bean created through this facility to have a
property that points at an object stored in a scope with a (potentially)
shorter life span. Specifically, this means, for an object created with
the specified <em>&lt;managed-bean-scope&gt;</em>, then <em>&lt;value&gt;</em> evaluations can
only point at created objects with the specified managed bean scope:</p>
<div class="ulist">
<ul>
<li>
<p>none&#8201;&#8212;&#8201;none</p>
</li>
<li>
<p>application&#8201;&#8212;&#8201;none, application</p>
</li>
<li>
<p>session&#8201;&#8212;&#8201;none, application, session</p>
</li>
<li>
<p>view&#8201;&#8212;&#8201;none, application, session, view</p>
</li>
<li>
<p>request&#8201;&#8212;&#8201;none, application, session,
view, request [P1-end]</p>
</li>
</ul>
</div>
</li>
<li>
<p>If a bean points to a property whose value is
a mixed expression containing literal strings and expressions, the net
scope of the mixed expression is considered to be the scope of the
narrowest sub-expression, excluding expressions in the none scope.</p>
</li>
<li>
<p>[P1-start implicit objects in request scope]
Data accessed via an implicit object is also defined to be in a scope.
The following implicit objects are considered to be in request scope:</p>
<div class="ulist">
<ul>
<li>
<p><em>cookie</em></p>
</li>
<li>
<p><em>facesContext</em></p>
</li>
<li>
<p><em>header</em></p>
</li>
<li>
<p><em>headerValues</em></p>
</li>
<li>
<p><em>param</em></p>
</li>
<li>
<p><em>paramValues</em></p>
</li>
<li>
<p><em>request</em></p>
</li>
<li>
<p><em>requestScope</em></p>
</li>
<li>
<p> <em>view</em> [P1-end]</p>
</li>
</ul>
</div>
</li>
<li>
<p>[P1-start implicit objects in session
scope] The only implicit objects in session scope are <em>session</em> and
<em>sessionScope</em> [P1-end]</p>
</li>
<li>
<p>[P1-start implicit objects in application
scope] The following implicit objects are considered to be in
application scope:</p>
<div class="ulist">
<ul>
<li>
<p><em>application</em></p>
</li>
<li>
<p><em>applicationScope</em></p>
</li>
<li>
<p> <em>initParam</em> [P1-end]</p>
</li>
</ul>
</div>
</li>
<li>
<p>[P1-start cyclic references error] It
is an error to configure cyclic references between managed beans.</p>
</li>
<li>
<p>[P1-start managed bean names
correctness] Managed bean names must conform to the syntax of a Java
language identifier. [P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The initialization of bean properties from
<em>&lt;map-entries&gt;</em> and <em>&lt;list-entries&gt;</em> elements must adhere to the
following algorithm, though any confirming implementation may be used.</p>
</div>
<div class="paragraph">
<p>For <em>&lt;map-entries&gt;</em>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Call the property getter, if it exists.</p>
</li>
<li>
<p>If the getter returns <em>null</em> or doesn&#8217;t
exist, create a <em>java.util.HashMap</em>, otherwise use the returned
<em>java.util.Map</em>.</p>
</li>
<li>
<p>Add all entries defined by nested
<em>&lt;map-entry&gt;</em> elements in the order they are listed, converting key
values defined by nested <em>&lt;key&gt;</em> elements to the type defined by
<em>&lt;key-class&gt;</em> and entry values defined by nested <em>&lt;value&gt;</em> elements to
the type defined by <em>&lt;value-class&gt;</em>. If a value is given as a value
expression, evaluate the reference and store the result, converting to
<em>&lt;value-class&gt;</em> if necessary. If <em>&lt;key-class&gt;</em> and/or <em>&lt;value-class&gt;</em>
are not defined, use <em>java.lang.String</em>. Add <em>null</em> for each
<em>&lt;null-value&gt;</em> element.</p>
</li>
<li>
<p>If a new <em>java.util.Map</em> was created in step
2), set the property by calling the setter method, or log an error if
there is no setter method.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For <em>&lt;list-entries&gt;</em>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Call the property getter, if it exists.</p>
</li>
<li>
<p>If the getter returns <em>null</em> or doesn&#8217;t
exist, create a <em>java.util.ArrayList</em>, otherwise use the returned
<em>Object</em> (an array or a <em>java.util.List</em>).</p>
</li>
<li>
<p>If a <em>List</em> was returned or created in step
2), add all elements defined by nested <em>&lt;value&gt;</em> elements in the order
they are listed, converting values defined by nested <em>&lt;value&gt;</em> elements
to the type defined by <em>&lt;value-class&gt;</em>. If a value is given as a value
expression, evaluate the reference and store the result, converting to
<em>&lt;value-class&gt;</em> if necessary. If a <em>&lt;value-class&gt;</em> is not defined, use
the value as-is (i.e., as a <em>java.lang.String</em>). Add null for each
<em>&lt;null-value&gt;</em> element.</p>
</li>
<li>
<p>If an array was returned in step 2), create a
<em>java.util.ArrayList</em> and copy all elements from the returned array to
the new <em>List</em>, wrapping elements of a primitive type. Add all elements
defined by nested <em>&lt;value&gt;</em> elements as described in step 3).</p>
</li>
<li>
<p>If a new <em>java.util.List</em> was created in step
2) and the property is of type <em>List</em>, set the property by calling the
setter method, or log an error if there is no setter method.</p>
</li>
<li>
<p>If a new <em>java.util.List</em> was created in step
2) and the property is a java array, convert the <em>List</em> into an array of
the property type, and set it by calling the setter method, or log an
error if there is no setter method.</p>
</li>
<li>
<p>If a new <em>java.util.List</em> was created in step
4), convert the <em>List</em> to an array of the proper type for the property
and set the property by calling the setter method, or log an error if
there is no setter method.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="a2477"><a class="anchor" href="#a2477"></a>5.3.1. Managed Bean Configuration Example</h4>
<div class="paragraph">
<p>The following &lt;managed-bean&gt; elements might
appear in one or more application configuration resources (see
<a href="UsingJSFInWebApplications.html#a6195">Application Configuration Resources</a>) to
configure the behavior of the Managed Bean Creation facility.</p>
</div>
<div class="paragraph">
<p>Assume that your application includes
<em>CustomerBean</em> with properties <em>mailingAddress</em> and <em>shippingAddress</em> of
type <em>Address</em> (along with additional properties that are not shown),
and <em>AddressBean</em> implementation classes with String properties of type
<em>street</em>, <em>city</em>, <em>state</em>, <em>country</em>, and <em>postalCode</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;managed-bean&gt;</span>
  <span class="tag">&lt;description&gt;</span>
    A customer bean will be created as needed, and stored in request
    scope. Its “mailingAddress” and “streetAddress” properties will
    be initialized by virtue of the fact that the “value” expressions
    will not encounter any object under key “addressBean” in any scope.
  <span class="tag">&lt;/description&gt;</span>
  <span class="tag">&lt;managed-bean-name&gt;</span>customer<span class="tag">&lt;/managed-bean-name&gt;</span>
  <span class="tag">&lt;managed-bean-class&gt;</span>
    com.mycompany.mybeans.CustomerBean
  <span class="tag">&lt;/managed-bean-class&gt;</span>
  <span class="tag">&lt;managed-bean-scope&gt;</span>request<span class="tag">&lt;/managed-bean-scope&gt;</span>
  <span class="tag">&lt;managed-property&gt;</span>
    <span class="tag">&lt;property-name&gt;</span>mailingAddress<span class="tag">&lt;/property-name&gt;</span>
    <span class="tag">&lt;value&gt;</span>#{addressBean}<span class="tag">&lt;/value&gt;</span>
  <span class="tag">&lt;/managed-property&gt;</span>
  <span class="tag">&lt;managed-property&gt;</span>
    <span class="tag">&lt;property-name&gt;</span>shippingAddress<span class="tag">&lt;/property-name&gt;</span>
    <span class="tag">&lt;value&gt;</span>#{addressBean}<span class="tag">&lt;/value&gt;</span>
  <span class="tag">&lt;/managed-property&gt;</span>
  <span class="tag">&lt;managed-property&gt;</span>
    <span class="tag">&lt;property-name&gt;</span>customerType<span class="tag">&lt;/property-name&gt;</span>
    <span class="tag">&lt;value&gt;</span>New<span class="tag">&lt;/value&gt;</span> <span class="comment">&lt;!-- Set to literal value --&gt;</span>
  <span class="tag">&lt;/managed-property&gt;</span>
<span class="tag">&lt;/managed-bean&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;managed-bean&gt;</span>
  <span class="tag">&lt;description&gt;</span>
    A new AddressBean will not be added to any scope, because we
    only want to create instances when a CustomerBean creation asks
    for them. Therefore, we set the scope to “none”.
  <span class="tag">&lt;/description&gt;</span>
  <span class="tag">&lt;managed-bean-name&gt;</span>addressBean<span class="tag">&lt;/managed-bean-name&gt;</span>
  <span class="tag">&lt;managed-bean-class&gt;</span>
    com.mycompany.mybeans.AddressBean
  <span class="tag">&lt;/managed-bean-class&gt;</span>
  <span class="tag">&lt;managed-bean-scope&gt;</span>none<span class="tag">&lt;/managed-bean-scope&gt;</span>
<span class="tag">&lt;/managed-bean&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If a value expression
“<em>#{customer.mailingAddress.city}</em>” were to be evaluated by the Jakarta Faces
implementation, and there was no object stored under key “<em>customer</em>”
in request, view, session, or application scope, a new <em>CustomerBean</em>
instance will be created and stored in request scope, with its
<em>mailingAddress</em> and <em>shippingAddress</em> properties being initialized to
instances of <em>AddressBean</em> as defined by the configuration elements
shown above. Then, the evaluation of the remainder of the expression can
proceed as usual.</p>
</div>
<div class="paragraph">
<p>Although not used by the Jakarta Faces implementation
at application runtime, it is also convenient to be able to indicate to
Jakarta Faces tools (at design time) that objects of particular types will be
created and made available (at runtime) by some other means. For
example, an application configuration resource could include the
following information to declare that a JDBC data source instance will
have been created, and stored in application scope, as part of the
application’s own startup processing.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;referenced-bean&gt;</span>
  <span class="tag">&lt;description&gt;</span>
    A JDBC data source will be initialized and made available in
    some scope (presumably application) for use by the Jakarta Faces based
    application when it is actually run. This information is not
    used by the Jakarta Faces implementation itself; only by tools.
  <span class="tag">&lt;/description&gt;</span>
  <span class="tag">&lt;referenced-bean-name&gt;</span>dataSource<span class="tag">&lt;/referenced-bean-name&gt;</span>
  <span class="tag">&lt;referenced-bean-class&gt;</span>
    javax.sql.DataSource
  <span class="tag">&lt;/referenced-bean-class&gt;</span>
<span class="tag">&lt;/referenced-bean&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This information can be utilized by the tool
to construct user interfaces based on the properties of the referenced
beans.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a2536"><a class="anchor" href="#a2536"></a>5.4. Managed Bean Annotations</h3>
<div class="paragraph">
<p>Jakarta Faces has several annotations, in
the package <em>jakarta.faces.bean</em>, that act as analogs to the managed bean
configuration syntax in the application configuration resources
described earlier in this chapter. Jakarta Faces is a component specification
of Jakarta EE, which also includes a much more powerful and complete set
of annotations, from several other component specifications, most
notably Jakarta Contexts and Dependency Injection (CDI). These annotations are
also usable with Jakarta Faces. The annotations in the package <em>jakarta.faces.bean</em>
are deprecated. Therefore, developers are strongly recommended to avoid using those
annotations and instead use the ones from CDI.</p>
</div>
<div class="sect3">
<h4 id="jakarta-faces-managed-classes-and-jakarta-ee-annotations"><a class="anchor" href="#jakarta-faces-managed-classes-and-jakarta-ee-annotations"></a>5.4.1. Jakarta Faces Managed Classes and Jakarta EE Annotations</h4>
<div class="paragraph">
<p>Jakarta Faces implementations that are running as a
part of Jakarta EE must allow managed bean implementations to
use the annotations specified in section 14.5 of the Jakarta Servlet
Specification to allow the container to inject references to container
managed resources into a managed bean instance before it is made
accessible to the Jakarta Faces application. Only beans declared to be in
<em>request</em>, <em>session</em>, or <em>application</em> scope are eligible for resource
injection.</p>
</div>
<div class="paragraph">
<p>In addition to managed beans being injectable
in this manner, the following Jakarta Faces artifacts are also injectable.</p>
</div>
<div id="a2541" class="paragraph">
<div class="title">Jakarta Faces Artifacts Eligible for Injection</div>
<p>Artifact Type</p>
</div>
<div class="ulist">
<ul>
<li>
<p>jakarta.el.ELResolver</p>
</li>
<li>
<p>jakarta.faces.application.ApplicationFactory</p>
</li>
<li>
<p><em>jakarta.faces.application.NavigationHandler</em></p>
</li>
<li>
<p><em>jakarta.faces.application.ResourceHandler</em></p>
</li>
<li>
<p><em>jakarta.faces.application.StateManager</em></p>
</li>
<li>
<p>jakarta.faces.component.visit.VisitContextFactory</p>
</li>
<li>
<p>jakarta.faces.context.ExceptionHandlerFactory</p>
</li>
<li>
<p>jakarta.faces.context.ExternalContextFactory</p>
</li>
<li>
<p>jakarta.faces.context.FacesContextFactory</p>
</li>
<li>
<p>jakarta.faces.context.PartialViewContextFactory</p>
</li>
<li>
<p><em>jakarta.faces.event.ActionListener</em></p>
</li>
<li>
<p><em>jakarta.faces.event.SystemEventListener</em></p>
</li>
<li>
<p>jakarta.faces.lifecycle.ClientWindowFactory</p>
</li>
<li>
<p>jakarta.faces.lifecycle.LifecycleFactory</p>
</li>
<li>
<p>jakarta.faces.event.PhaseListener</p>
</li>
<li>
<p>jakarta.faces.render.RenderKitFactory</p>
</li>
<li>
<p>jakarta.faces.view.ViewDeclarationLanguageFactory</p>
</li>
<li>
<p>jakarta.faces.view.facelets.FaceletCacheFactory</p>
</li>
<li>
<p>jakarta.faces.view.facelets.<br>
TagHandlerDelegateFactory</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please consult the Jakarta EE Specification for complete details of this
feature. Here is a summary of the Jakarta EE annotations one may use in a
managed bean or other artifact from the preceding table. [P1-start valid
annotations in a managed bean]</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>@jakarta.inject.Inject</em></p>
</li>
<li>
<p>@jakarta.inject.Named</p>
</li>
<li>
<p>@jakarta.inject.Qualifier</p>
</li>
<li>
<p>@jakarta.inject.Scope</p>
</li>
<li>
<p>@jakarta.inject.Singleton</p>
</li>
<li>
<p>@jakarta.enterprise.context.ApplicationScoped</p>
</li>
<li>
<p>@jakarta.enterprise.context.ConversationScoped</p>
</li>
<li>
<p>@jakarta.enterprise.context.Dependent</p>
</li>
<li>
<p>@jakarta.enterprise.context.RequestScoped</p>
</li>
<li>
<p>@jakarta.enterprise.context.SessionScoped</p>
</li>
<li>
<p><em>@jakarta.annotation.Resource</em></p>
</li>
<li>
<p><em>@jakarta.annotation.Resources</em></p>
</li>
<li>
<p><em>@jakarta.ejb.EJB</em></p>
</li>
<li>
<p><em>@jakarta.ejb.EJBs</em></p>
</li>
<li>
<p><em>@jakarta.xml.ws.WebServiceRef</em></p>
</li>
<li>
<p><em>@jakarta.xml.ws.WebServiceRefs</em></p>
</li>
<li>
<p><em>@jakarta.persistence.PersistenceContext</em></p>
</li>
<li>
<p><em>@jakarta.persistence.PersistenceContexts</em></p>
</li>
<li>
<p><em>@jakarta.persistence.PersistenceUnit</em></p>
</li>
<li>
<p><em>@jakarta.persistence.PersistenceUnits</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Following is an example of valid usages of
this feature in a managed bean or other artifact in the preceding table.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">User</span> <span class="directive">extends</span> <span class="predefined-type">Object</span> {
  <span class="directive">private</span> <span class="annotation">@EJB</span> ShoppingCart cart;
  <span class="directive">private</span> <span class="annotation">@Resource</span> Inventory inventory;
  <span class="directive">private</span> <span class="predefined-type">DataSource</span> customerData;

  <span class="annotation">@Resource</span>(name=<span class="error">”</span>customerData<span class="error">”</span>)
  <span class="directive">private</span> <span class="type">void</span> setCustomerData(<span class="predefined-type">DataSource</span> data) {
    customerData = data;
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> getOrderSummary() {
    <span class="comment">// Do something with the injected resources</span>
    <span class="comment">// And generate a textual summary of the order</span>
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example illustrates that the above
annotations can be attached to instance variables or to JavaBeans
setters. The Jakarta Faces implementation running in a Jakarta EE container must
guarantee that the injections are performed before the bean is handed
back to the user. Generally, this is done by performing the injection
immediately after the lazy instantiation of the managed bean.</p>
</div>
</div>
<div class="sect3">
<h4 id="a2601"><a class="anchor" href="#a2601"></a>5.4.2. Managed Bean Lifecycle Annotations</h4>
<div class="paragraph">
<p>Jakarta Faces implementations running in a Jakarta EE
compliant container must support attaching the <em>@PostConstruct</em> and
<em>@PreDestroy</em> annotations to aid in awareness of the managed-bean
lifecycle.</p>
</div>
<div class="paragraph">
<p>Methods on managed beans declared to be in
<em>none</em>, <em>request</em>, <em>view</em>, <em>session</em>, or <em>application</em> scope,
annotated with <em>@PostConstruct</em>, must be called by the Jakarta Faces
implementation after resource injection is performed (if any) but before
the bean is placed into scope.</p>
</div>
<div class="paragraph">
<p>[P1-start rules governing invocation
of @PostConstruct annotated methods]If the method throws an unchecked
exception, the Jakarta Faces implementation must not put the managed-bean into
service, a message must be logged, and further methods on that managed
bean instance must not be called. [P1-end]</p>
</div>
<div class="paragraph">
<p>Methods on managed beans declared to be in
<em>request</em>, <em>session</em>, or <em>application</em> scope, annotated with
<em>@PreDestroy</em>, must be called by the Jakarta Faces implementation before the bean
is removed from its scope or before the scope itself is destroyed,
whichever comes first. In the case of a managed bean placed in <em>view</em>
scope, methods annotated with <em>@PreDestroy</em> must only be called when the
view scope is destroyed. See the javadoc for
<em>FacesContext.setViewRoot()</em>. This annotation must be supported in all
cases where the above <em>@PostConstruct</em> annotation is supported.</p>
</div>
<div class="paragraph">
<p>[P1-start rules governing invocation of
@PreDestroy annotated methods] If the method throws an unchecked
exception, the Jakarta Faces implementation may log it, but the exception must not
otherwise alter the execution.</p>
</div>
<div class="paragraph">
<p>Refer to the Jakarta EE specification
section 2.5 and the Jakarta Annotations
specification section 2.5 for more details.[P1-end]</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="how-faces-leverages-the-expression-language"><a class="anchor" href="#how-faces-leverages-the-expression-language"></a>5.5. How Faces Leverages the Expression Language</h3>
<div class="paragraph">
<p>This section is non-normative and covers the
major players in the Jakarta Expression Language and how they relate to Jakarta Faces.
The number one goal in this version of the Jakarta Faces
specification is to export the concepts behind the Jakarta Faces EL into the
Jakarta Expression Language, and then rely on those facilities to get the work done.
Readers interested in how to implement the Jakarta Expression Language itself must
consult the Jakarta Expression Language Spec document.</p>
</div>
<div class="sect3">
<h4 id="elcontext"><a class="anchor" href="#elcontext"></a>5.5.1. ELContext</h4>
<div class="paragraph">
<p>The ELContext is a handy little “holder”
object that gets passed all around the Jakarta Expression Language API. It has two
purposes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To allow technologies that use the Jakarta Expression Language
, such as Jakarta Faces, the Jakarta Faces View Declaration Language, and Jakarta Server Pages,
to store any context information specific to that
technology so it can be leveraged during expression evaluation. For
example the expression “<em>${view.viewId}</em>” is specific to Jakarta Faces. It
means, “find the <em>UIViewRoot</em> instance for the current view, and return
its <em>viewId</em>”. The Jakarta Expression Language doesn’t know about the “view” implicit
object or what a UIViewRoot is, but Jakarta Faces does. The Jakarta Expression Language
has plugin points that will get called to resolve “view”, but to do
so, Jakarta Faces needs access to the <em>FacesContext</em> from within the
callstack of Expression Language evaluation. Therefore, the <em>ELContext</em> comes to the
rescue, having been populated with the <em>FacesContext</em> earlier in the
request processing lifecycle.</p>
</li>
<li>
<p>To allow the pluggable resolver to tell the
Jakarta Expression Language that it did, in fact, resolve a property and that further
resolvers must not be consulted. This is done by setting the
“<em>propertyResolved</em>” property to <em>true</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The complete specification for ELResolver may
be found in Chapter 2 of the Jakarta Expression Language Specification, Version
4.0.</p>
</div>
<div class="sect4">
<h5 id="lifetime-ownership-and-cardinality"><a class="anchor" href="#lifetime-ownership-and-cardinality"></a>5.5.1.1. Lifetime, Ownership and Cardinality</h5>
<div class="paragraph">
<p>An ELContext instance is created the first
time <em>getELContext()</em> is called on the <em>FacesContext</em> for this request.
Please see <em><a href="#a3099">ELContext</a></em> for details. Its
lifetime ends the same time the <em>FacesContext</em>’s lifetime ends. The
<em>FacesContext</em> maintains the owning reference to the <em>ELContext</em>. There
is at most one <em>ELContext</em> per <em>FacesContext</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-25"><a class="anchor" href="#properties-25"></a>5.5.1.2. Properties</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ELResolver</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>jakarta.el.ELResolver</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the ELResolver instance described in
<em><a href="#a2667">Faces ELResolver for Jakarta Server Pages Pages</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>propertyResolved</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set by an ELResolver implementation if it
successfully resolved a property. See <em><a href="#a2634">ELResolver</a></em> for how this property is used.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="methods-23"><a class="anchor" href="#methods-23"></a>5.5.1.3. Methods</h5>
<div class="paragraph">
<p>Here is a subset of the methods that are relevant to Jakarta Faces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> getContext(<span class="predefined-type">Class</span> key);
<span class="type">void</span> putContext(<span class="predefined-type">Class</span> key, <span class="predefined-type">Object</span> contextInstance);
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>As mentioned in
<em><a href="#a3099">ELContext</a></em>, the <em>putContext()</em> method
is called, passing the current <em>FacesContext</em> instance the first time
the system asks the <em>FacesContext</em> for its <em>ELContext</em>. The
<em>getContext()</em> method will be called by any <em>ELResolver</em> instances that
need to access the <em>FacesContext</em> to perform their resolution.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-27"><a class="anchor" href="#events-27"></a>5.5.1.4. Events</h5>
<div class="paragraph">
<p>The creation of an ELContext instance
precipitates the emission of an <em>ELContextEvent</em> from the <em>FacesContext</em>
that created it. Please see <em><a href="#a3099">ELContext</a></em>
for details.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a2634"><a class="anchor" href="#a2634"></a>5.5.2. ELResolver</h4>
<div class="paragraph">
<p>Faces 1.1 used the <em>VariableResolver</em> and
<em>PropertyResolver</em> classes as the workhorses of expression evaluation.
The Unified API has the <em>ELResolver</em> instead. The ELResolver concept is
the heart of the Jakarta Expression Language. When an expression is evaluated, the
ELResolver is responsible for resolving each segment in the expression.
For example, in rendering the component behind the tag “<em>&lt;h:outputText
value=”#{user.address.street}” /&gt;”</em> the ELResolver is called three
times. Once to resolve “user”, again to resolve the “address” property
of user, and finally, to resolve the “street” property of “address”. The
complete specification for ELResolver may be found in Chapter 2 of the
Jakarta Expression Language Specification, Version 4.0 or higher.</p>
</div>
<div class="paragraph">
<p>[N/T-start two ELResolver impls] As described
in more detail in <em><a href="#a2667">Faces ELResolver for
Jakarta Server Pages Pages</a></em>, Faces must provide two implementations of <em>ELResolver</em>.
[P1-end]Which of these two implementations is actually used to resolve
an expression depends on where the expresison is evaluated. If the
expression is evaluated in a markup page, the ELResolver for markup
pages is used. If the expression is evaluated in java VM hosted code
from Faces, another ELResolver is used that is tailored for use inside
of Faces java VM hosted code. During the course of evaluation of an
expression, a variety of sources must be considered to help resolve each
segment of the expression. These sources are linked in a chain-like
fashion. Each link in the chain has the opportunity to resolve the
current segment. If it does so, it must set the “<em>propertyResolved</em>”
property on the <em>ELContext</em>, to <em>true</em>. If not, it must not modify the
value of the “<em>propertyResolved</em>” property. If the
“<em>propertyResolved</em>” property is not set to <em>true</em> the return value from
the <em>ELResolver</em> method is ignored by the system.</p>
</div>
<div class="sect4">
<h5 id="lifetime-ownership-and-cardinality-2"><a class="anchor" href="#lifetime-ownership-and-cardinality-2"></a>5.5.2.1. Lifetime, Ownership, and Cardinality</h5>
<div class="paragraph">
<p>ELResolver instances have application
lifetime and scope. The Jakarta Server Pages container maintains one top level ELResolver
(into which a Faces specific ELResolver is added) accessible from
<em>JspContext.getELContext().getELResolver()</em>. This ELResolver instance is
also used from the Jakarta Faces VDL, even though Jakarta Faces VDL pages do not themselves
use Jakarta Server Pages. Faces maintains one <em>ELResolver</em> (separate from the one handed
to the Jakarta Server Pages container) accessible from
<em>FacesContext.getELContext().getELResolver()</em> and
<em>Application.getELResolver()</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-26"><a class="anchor" href="#properties-26"></a>5.5.2.2. Properties</h5>
<div class="paragraph">
<p>ELResolver has no proper JavaBeans properties</p>
</div>
</div>
<div class="sect4">
<h5 id="methods-24"><a class="anchor" href="#methods-24"></a>5.5.2.3. Methods</h5>
<div class="paragraph">
<p>Here is a subset of the methods that are
relevant to Faces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> getValue(ELContext context, <span class="predefined-type">Object</span> base, <span class="predefined-type">Object</span> property);
<span class="type">void</span> setValue(ELContext context,
    <span class="predefined-type">Object</span> base, <span class="predefined-type">Object</span> property, <span class="predefined-type">Object</span> value);
...</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>getValue()</em> looks at the argument <em>base</em>
and tries to return the value of the property named by the argument
<em>property</em>. For example, if base is a JavaBean, <em>property</em> would be the
name of the JavaBeans property, and the resolver would end up calling
the <em>getter</em> for that property.</p>
</div>
<div class="paragraph">
<p><em>setValue()</em> looks at the argument <em>base</em>
and tries to set the argument <em>value</em> into the property named by the
argument <em>property</em>. For example, if base is a JavaBean, <em>property</em>
would be the name of the JavaBeans property, and the resolver would end
up calling the <em>setter</em> for that property.</p>
</div>
<div class="paragraph">
<p>There are other methods, such as
<em>isReadOnly()</em> that are beyond the scope of this document, but described
completely in the Jakarta Expression Language Specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="events-28"><a class="anchor" href="#events-28"></a>5.5.2.4. Events</h5>
<div class="paragraph">
<p><em>ELResolver</em> precipitates no events.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a2651"><a class="anchor" href="#a2651"></a>5.5.3. ExpressionFactory</h4>
<div class="paragraph">
<p>Pre-Jakarta Faces JSF 1.1 (under the JCP) used the Application class as a
factory for <em>ValueBinding</em> and <em>MethodBinding</em> instances. The Jakarta Expression Language
has the <em>ExpressionFactory</em> class instead. It is a factory for
<em>ValueExpression</em> and <em>MethodExpression</em> instances.</p>
</div>
<div class="sect4">
<h5 id="lifetime-ownership-and-cardinality-3"><a class="anchor" href="#lifetime-ownership-and-cardinality-3"></a>5.5.3.1. Lifetime, Ownership, and Cardinality</h5>
<div class="paragraph">
<p><em>ExpressionFactory</em> instances are
application scoped. The <em>Application</em> object maintains the
<em>ExpressionFactory</em> instance used by Faces (See
<em><a href="#a3459">Acquiring ExpressionFactory Instance</a>)</em>.
The <em>JspApplicationContext</em> object maintains the <em>ExpressionFactory</em>
used by the Jakarta Server Pages container (and therefore by the Jakarta Faces VDL). It is
permissible for both of these access methods to yield the same java
object instance.</p>
</div>
</div>
<div class="sect4">
<h5 id="properties-27"><a class="anchor" href="#properties-27"></a>5.5.3.2. Properties</h5>
<div class="paragraph">
<p><em>ExpressionFactory</em> has no properties.</p>
</div>
</div>
<div class="sect4">
<h5 id="methods-25"><a class="anchor" href="#methods-25"></a>5.5.3.3. Methods</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> MethodExpression createMethodExpression(ELContext context,
    <span class="predefined-type">String</span> expression, FunctionMapper fnMapper, <span class="predefined-type">Class</span><span class="type">[]</span> paramTypes);
<span class="directive">public</span> ValueExpression createValueExpression(ELContext context,
    <span class="predefined-type">String</span> expression, <span class="predefined-type">Class</span> expectedType, FunctionMapper fnMapper);</code></pre>
</div>
</div>
<div class="paragraph">
<p>These methods take the human readable
expression string, such as <em>”#{user.address.street}”</em> and return an
object oriented representation of the expression. Which method one calls
depends on what kind of expression you need. The Faces <em>Application</em>
class has convenience methods specific to Faces needs for these
concepts, please see <a href="#a3463">Programmatically
Evaluating Expressions</a> .</p>
</div>
</div>
<div class="sect4">
<h5 id="events-29"><a class="anchor" href="#events-29"></a>5.5.3.4. Events</h5>
<div class="paragraph">
<p><em>ExpressionFactory</em> precipitates no events.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a2664"><a class="anchor" href="#a2664"></a>5.6. ELResolver Instances Provided by Faces</h3>
<div class="paragraph">
<p>This section provides details on what an
implementation of the Jakarta Server Faces specification must do to support
the Jakarta Expression Language for usage in a Jakarta Faces application.</p>
</div>
<div class="paragraph">
<p><em><a href="#a2634">ELResolver</a></em> mentions that a Faces implementation must provide two
implementations of ELResolver. One ELResolver, let’s call it the <em>Faces
ELResolver For Markup Pages</em>, is plugged in to the top level resolver
chain returned from <em>JspContext.getELContext().getELResolver()</em>. This
top level resolver chain is used by the view declaration language
container (Jakarta Server Pages or Jakarta Faces View Declaration Language), and possibly by tag
handlers, to resolve expressions. The other <em>ELResolver</em>, let’s call it
the <em>ELResolver for Facelets and Programmatic Access</em>, is used by
Facelets markup pages, and is returned from
<em>FacesContext.getELContext().getELResolver()</em> and
<em>Application.getELResolver()</em>, and is used to resolve expressions that
appear programmatically. See the javadocs for <em>jakarta.el.ELResolver</em> for
the specification and method semantics for each method in <em>ELResolver</em>.
The remainder of this section lists the implementation requirements for
these two resolvers.</p>
</div>
<div class="sect3">
<h4 id="a2667"><a class="anchor" href="#a2667"></a>5.6.1. Faces ELResolver for Jakarta Server Pages Pages</h4>
<div class="paragraph">
<p>As mentioned in
<em><a href="#a2634">ELResolver</a></em>, during the course of
evaluation of an expression, a variety of sources must be considered to
help resolve each segment of the expression. These sources are linked in
a chain-like fashion. Each link in the chain has the opportunity to
resolve the current segment. The Jakarta Expression Language provides a container class
to support this multi-source variable resolution:
<em>jakarta.el.CompositeELResolver</em>. The implementation for the <em>Faces
ELResolver for Jakarta Server Pages Pages</em> is described as a set of <em>ELResolvers</em> inside
of a <em>CompositeELResolver</em> instance, but any implementation strategy is
permissible as long as the semantics are preserved.</p>
</div>
<div class="paragraph">
<p>This diagram shows the set of
<em>ELResolver</em> instances that must be added to the <em>Faces ELResolver for
Jakarta Server Pages pages</em>. This instance must be handed to the Jakarta Server Pages container via a
call to
<em>JspFactory.getDefaultFactory().getJspApplicationContext().addELResolver()</em>
at application startup time. Even though we are making a Jakarta Server Pages API call to
install this <em>ELResolver</em>, we do not require using Jakarta Server Pages to develop Jakarta Faces
applications. It also shows the order in which they must be added.
[P2-start there are 18 methods in the below tables, each can
corresponding to a method on a particular ELResolver. With clever
testing, it is possible to write assertions for these. Testing the
legacy VariableResolver and PropertyResolvers is not included in this 18
methods number. These classes may be tested simply by noting that the
methods do indeed get called on a user-provided VariableResolver or
PropertyResolver.] [P1-end]</p>
</div>
<div id="a2670" class="paragraph">
<div class="title">Faces ELResolver for Jakarta Server Pages Pages</div>
<p><span class="image"><img src="data:image/png;base64,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" alt="image"></span></p>
</div>
<div class="paragraph">
<p>The semantics of each ELResolver are given
below, either in tables that describe what must be done to implement
each particular method on <em>ELResolver</em>, or in prose when such a table
is inappropriate.</p>
</div>
<div class="sect4">
<h5 id="a2673"><a class="anchor" href="#a2673"></a>5.6.1.1. Faces Implicit Object ELResolver For Jakarta Server Pages</h5>
<div class="paragraph">
<p>This resolver relies on the presence of
another, Jakarta Server Pages specific, implicit object ELResolver in the chain by only
resolving the “facesContext” and “view” implicit objects.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Faces ImplicitObjectELResolver for Jakarta Server Pages</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ELResolver method</th>
<th class="tableblock halign-left valign-top">implementation requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p><a href="#a2832">See
ImplicitObjectELResolver for Programmatic Access</a> If base is null and
property is a String equal to
“facesContext”, call
setPropertyResolved(true) on
the argument ELContext and return the
FacesContext
for this request.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to
“view”, call setPropertyResolved(true) on the
argument ELContext and return the UIViewRoot
for
this request by calling
facesContext.getUIViewRoot().</p>
</div>
<div class="paragraph">
<p>This ELResolver must also support the
implicit object “resource” as specified in
<a href="#a2830">Implicit Object ELResolver for Facelets
and Programmatic Access</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to “facesContext” or “view”, call setPropertyResolved(true) and
return null;</p>
</div>
<div class="paragraph">
<p>Otherwise, just return null;This
ELResolver must also support the implicit object “resuorce” as specified
in <a href="#a2830">Implicit Object ELResolver for
Facelets and Programmatic Access</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>setValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a
String equal to “facesContext” or “view”, <em>throw
jakarta.el.PropertyNotWriteable</em>, since “view” and “facesContext” are
read-only. This ELResolver must also support the implicit object
“resuorce” as specified in <a href="#a2830">Implicit
Object ELResolver for Facelets and Programmatic Access</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isReadOnly</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return false.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to “facesContext” or “view”, call <em>setPropertyResolved(true)</em> on
the argument <em>ELContext</em> and return <em>true</em>.</p>
</div>
<div class="paragraph">
<p>Otherwise return false;This ELResolver
must also support the implicit object “resuorce” as specified in
<a href="#a2830">Implicit Object ELResolver for Facelets
and Programmatic Access</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getFeatureDescriptors</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null, return an Iterator
containing three java.beans.FeatureDescriptor instances, one for the
“view” property, one for the “facesContext” property and one for the
“resource” property. It is required that all of the FeatureDescriptor
instances in the Iterator set Boolean.TRUE as the value of the
ELResolver.RESOLVABLE_AT_DESIGN_TIME attribute. The name and displayName
of the FeatureDescriptor must be “view”, “facesContext”, “ or “resource”
as appropriate. FacesContext.class, UIViewRoot.class, or
ResourceHandler.class must be stored as the value of the ELResolver.TYPE
attribute, as approriate. The shortDescription must be a suitable
description depending on the implementation. The expert and hidden
properties must be false. The preferred property must be true.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getCommonPropertyType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and return String.class.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="a2711"><a class="anchor" href="#a2711"></a>5.6.1.2. ManagedBean ELResolver</h5>
<div class="paragraph">
<p>This is the means by which the managed bean
creation facility described in <em><a href="#a2406">The
Managed Bean Facility</a></em> is called into play during Expression Language resolution.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. ManagedBeanELResolver</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ELResorver method</th>
<th class="tableblock halign-left valign-top">implementation requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If property matches the name of an entry in
the request, session, or application scopes, in that order, return null.</p>
</div>
<div class="paragraph">
<p>If base is null, and property matches one of
the managed-bean-name declarations in the application configuration
resources, instantiate the bean, populate it with properties as
described in <em><a href="#a2406">The Managed Bean
Facility</a></em>, store it in the scope specified by the managed-bean-scope
declaration for this this managed-bean, call setPropertyResolved(true)
on the argument ELContext, and return the freshly instantiated
managed-bean.</p>
</div>
<div class="paragraph">
<p>Otherwise, return null.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>Otherwise return null;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>setValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>Otherwise, if base is null, and property
matches one of the managed-bean-name declarations in the application
configuration resources, and a managed bean with that managed-bean-name
does not yet exist in the specified scope, instantiate the bean,
populate it with properties as described in
<em><a href="#a2406">The Managed Bean Facility</a></em>, store it
in the scope specified by the managed-bean-scope declaration for this
this managed-bean and return. If the managed bean does exist, take no
action and return. In either case (the bean exists or does not exist),
the actual setting will happen by virtue of the BeanELResolver.</p>
</div>
<div class="paragraph">
<p>Otherwise take no action and return.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isReadOnly</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return false.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null return false. We never set
the propertyResloved property in this method because the set
responsibility is taken care of by the ScopedAttributeELResolver.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getFeatureDescriptors</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null, return an Iterator
containing java.beans.FeatureDescriptor instances for each managed-bean
in the application-configuration resources. It is required that all of
the FeatureDescriptor instances in the Iterator set Boolean.TRUE as the
value of the ELResolver.RESOLVABLE_AT_DESIGN_TIME attribute. The name
and displayName of the FeatureDescriptor must be the managed-bean-name.
The actual java Class instance for the managed-bean-class must be stored
as the value of the ELResolver.TYPE attribute. The shortDescription of
the FeatureDescriptor must be the description of the managaged-bean
element, if present, null otherwise. The expert and hidden properties
must be false. The preferred property must be true.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getCommonPropertyType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null, return Object.class.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="resource-elresolver"><a class="anchor" href="#resource-elresolver"></a>5.6.1.3. Resource ELResolver</h5>
<div class="paragraph">
<p>Please see <a href="#a2940">Resource ELResolver</a> for the specification of this ELResolver.</p>
</div>
</div>
<div class="sect4">
<h5 id="a2741"><a class="anchor" href="#a2741"></a>5.6.1.4. ResourceBundle ELResolver for Jakarta Server Pages Pages</h5>
<div class="paragraph">
<p>This is the means by which resource bundles
defined in the application configuration resources are called into play
during Expression Language resolution.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. ResourceBundleELResolver</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ELResorver method</th>
<th class="tableblock halign-left valign-top">implementation requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to the value of the &lt;var&gt; element of one of the
&lt;resource-bundle&gt;'s in the application configuration resources, use the
Locale of the current UIViewRoot and the base-name of the
resource-bundle to load the ResourceBundle. Call
setPropertyResolved(true). Return the ResourceBundle. Otherwise, return
null.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to the value of the &lt;var&gt; element of one of the
&lt;resource-bundle&gt;'s in the application configuration resources, call
setPropertyResolved(true) and return ResourceBundle.class.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>setValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to the value of the &lt;var&gt; element of one of the
&lt;resource-bundle&gt;'s in the application configuration resources throw
jakarta.el.PropertyNotWriteable, since ResourceBundles are read-only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isReadOnly</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is
false and property is null, throw PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is
null and property is a String equal to the value of the &lt;var&gt; element of
one of the &lt;resource-bundle&gt;'s in the application configuration
resources, call setPropertyResolved(true) on the argument ELContext and
return true.</p>
</div>
<div class="paragraph">
<p>Otherwise return false;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getFeatureDescriptors</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null, return an Iterator
containing java.beans.FeatureDescriptor instances, one for each
&lt;resource-bundle&gt; in the &lt;application&gt; element. It is required that all
of these FeatureDescriptor instances set Boolean.TRUE as the value of
the ELResolver.RESOLVABLE_AT_DESIGN_TIME attribute. The name of the
FeatureDescriptor must be the var element of the &lt;resource-bundle&gt;. The
displayName of the FeatureDescriptor must be the display-name of the
&lt;resource-bundle&gt;. ResourceBundle.class must be stored as the value of
the ELResolver.TYPE attribute. The shortDescription must be a suitable
description depending on the implementation. The expert and hidden
properties must be false. The preferred property must be true.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getCommonPropertyType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null, return string.Class.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="a2771"><a class="anchor" href="#a2771"></a>5.6.1.5. ELResolvers in the application configuration resources</h5>
<div class="paragraph">
<p>The <em>&lt;el-resolver&gt;</em> element in the
application configuration resources will contain the fully qualified
classname to a class with a public no-arg constructor that implements
<em>jakarta.el.ELResolver</em>. These are added to the <em>Faces ELResolver for Jakarta Server Pages
Pages</em> and the Faces ELResolver for Facelets and Programmatic Access in
the order in which they occur in the application configuration
resources.</p>
</div>
</div>
<div class="sect4">
<h5 id="a2773"><a class="anchor" href="#a2773"></a>5.6.1.6. VariableResolver Chain Wrapper</h5>
<div class="paragraph">
<p>This is the means by which <em>VariableResolver</em>
instances that have been specified in <em>&lt;variable-resolver&gt;</em> elements
inside the application configuration resources are allowed to affect the
EL resolution process. If there are one or more <em>&lt;variable-resolver&gt;</em>
elements in the application configuration resources, an instance of
ELResolver with the following semantics must be created and added to the
<em>Faces ELResolver for Jakarta Server Pages Pages</em> as indicated in the
<em><a href="#a2670">Faces ELResolver for Jakarta Server Pages Pages</a></em>.</p>
</div>
<div class="paragraph">
<p>By virtue of the decorator pattern described
in <em><a href="UsingJSFInWebApplications.html#a6336">Delegating Implementation Support</a></em>
, the default <em>VariableResolver</em> will be at the end of the
<em>VariableResolver</em> chain (See <em><a href="#a3020">VariableResolver and the Default VariableResolver</a></em>), if each custom
<em>VariableResolver</em> chose to honor the full decorator pattern. If the
custom <em>VariableResolver</em> chose not to honor the decorator pattern, the
user is stating that they want to take over complete control of the
variable resolution system. Note that the head of the <em>VariableResolver</em>
chain is no longer accessible by calling
<em>Application.getVariableResolver()</em> (Please see
<em><a href="#a4171">VariableResolver Property</a></em> for what it
returns). The head of the <em>VariableResolver</em> chain is kept in an
implementation specific manner.</p>
</div>
<div class="paragraph">
<p>The semantics of the ELResolver that
functions as the VariableResolver chain wrapper are described in the
following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. ELResolver that is the VariableResolver Chain Wrapper</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ELResorver method</th>
<th class="tableblock halign-left valign-top">implementation requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>Otherwise, call setPropertyResolved(true) on
the argument ELContext.</p>
</div>
<div class="paragraph">
<p>Get the ELContext from the FacesContext.</p>
</div>
<div class="paragraph">
<p>Get the head of the VariableResolver chain
and call resolveVariable(facesContext, property) and return the result.</p>
</div>
<div class="paragraph">
<p>Catch any exceptions that may be thrown by
resolveVariable(), call setPropertyResolved(false) on the argument
ELContext, and rethrow the exception wrapped in an jakarta.el.ELException.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>return null;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>setValue</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If
base is null and property is null throw PropertyNotFoundException.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isReadOnly</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is null and property is null throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>return false;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getFeatureDescriptors</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">return null;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getCommonPropertyType</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If base is null, we return String.class.</p>
<p class="tableblock">If base is non-null, return null;</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="a2798"><a class="anchor" href="#a2798"></a>5.6.1.7. PropertyResolver Chain Wrapper</h5>
<div class="paragraph">
<p>This is the means by which <em>propertyResolver</em>
instances that have been specified in <em>&lt;property-resolver&gt;</em> elements
inside the application configuration resources are allowed to affect the
EL resolution process. If there are one or more <em>&lt;property-resolver&gt;</em>
elements in the application configuration resources, an instance of
<em>ELResolver</em> with the following semantics must be created and added to
the <em>Faces ELResolver for Jakarta Server Pages Pages</em> as indicated in the
<em><a href="#a2670">Faces ELResolver for Jakarta Server Pages Pages</a></em>.</p>
</div>
<div class="paragraph">
<p>By virtue of the decorator pattern described
in <em><a href="UsingJSFInWebApplications.html#a6336">Delegating Implementation Support</a></em>,
the default <em>propertyResolver</em> will be at the end of the
<em>propertyResolver</em> chain (See, <em><a href="#a3025">PropertyResolver and the Default PropertyResolver</a></em>), if each custom
<em>propertyResolver</em> chose to honor the full decorator pattern. If the
custom <em>propertyResolver</em> chose not to honor the decorator pattern, then
the user is stating that they want to take over complete control of the
<em>propertyResolution</em> system. Note that the head of the
<em>propertyResolver</em> chain is no longer accessible by calling
<em>Application.getPropertyResolver()</em> (Please see
<em><a href="#a4163">PropertyResolver Property</a></em> for what it
returns). The head of the property resolver chain is kept in an
implementation specific manner.</p>
</div>
<div class="paragraph">
<p>The semantics of the ELResolver that
functions as the property resolver chain wrapper are described in the
following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. ELResolver that is the PropertyResolver Chain Wrapper</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ELResorver method</th>
<th class="tableblock halign-left valign-top">implementation requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>getValue</em>,</p>
</div>
<div class="paragraph">
<p><em>getType</em>,</p>
</div>
<div class="paragraph">
<p><em>isReadOnly</em>,</p>
</div>
<div class="paragraph">
<p><em>setValue</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base or property are null, return null (or
false if the method returns boolean).</p>
</div>
<div class="paragraph">
<p>Call setPropertyResolved(true) on the
argument ELContext.</p>
</div>
<div class="paragraph">
<p>Get the ELContext from the FacesContext.</p>
</div>
<div class="paragraph">
<p>Get the head of the propertyResolver chain.</p>
</div>
<div class="paragraph">
<p>If base is a List or java language array,
coerce the property to an int and call the corresponding method on the
head of the property resolver chain that takes an int for property,
returning the result (except in the case of setValue()).</p>
</div>
<div class="paragraph">
<p>Otherwise, call the corresponding method on
the head of the property resolver chain that takes an Object for
property, returning the result (except in the case of setValue()).</p>
</div>
<div class="paragraph">
<p>If an Exception is thrown by calling the
above methods on the PropertyResolver chain, catch it, call
setPropertyResolved(false) on the argument ELContext, and rethrow the
Exception wrapped (snuggly) in a jakarta.el.ELException.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getFeatureDescriptors</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">return null;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getCommonPropertyType</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If base is null, return null.</p>
<p class="tableblock">If base is non-null, return Object.class.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="a2820"><a class="anchor" href="#a2820"></a>5.6.1.8. ELResolvers from Application.addELResolver()</h5>
<div class="paragraph">
<p>Any such resolvers are considered at this
point in the <em>Faces ELResolver for Jakarta Server Pages Pages</em> in the order in which they
were added.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a2822"><a class="anchor" href="#a2822"></a>5.6.2. ELResolver for Facelets and Programmatic Access</h4>
<div class="paragraph">
<p>This section documents the requirements for
the second <em>ELResolver</em> mentioned in <em><a href="#a2664">ELResolver Instances Provided by Faces</a></em>, the one that is used for
Facelets and for programmatic expression evaluation from Faces java
code.</p>
</div>
<div class="paragraph">
<p>The implementation for the <em>ELResolver for
Programmatic Access</em> is described as a set of <em>ELResolvers</em> inside of a
<em>CompositeELResolver</em> instance, but any implementation strategy is
permissible as long as the semantics are preserved. .</p>
</div>
<div class="paragraph">
<p>This diagram shows the set of
<em>ELResolver</em> instances that must be added to the <em>ELResolver for
Programmatic Access</em>. This instance must be returned from
<em>Application.getELResolver()</em> and
<em>FacesContext.getELContext().getELResolver()</em>. It also shows the
order in which they must be added. [P1-state there are 12 methods in the
below tables that can be tested for assertion. The remainder of the
section is covered by the tests in 5.6.1][P1-end]</p>
</div>
<div id="a2827" class="paragraph">
<div class="title"><em>ELResolver</em> for Facelets and Programmatic Access</div>
<p><span class="image"><img src="data:image/png;base64,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" alt="image"></span></p>
</div>
<div class="paragraph">
<p>The semantics of each <em>ELResolver</em> are given
below, either in tables that describe what must be done to implement
each particular method on <em>ELResolver</em>, in prose when such a table is
inappropriate, or as a reference to another section where the semantics
are exactly the same.</p>
</div>
<div class="sect4">
<h5 id="a2830"><a class="anchor" href="#a2830"></a>5.6.2.1. Implicit Object ELResolver for Facelets and Programmatic Access</h5>
<div class="paragraph">
<p>This resolver differs from the one in the
<a href="#a2673">Faces Implicit Object ELResolver For
Jakarta Server Pages</a> in that it must resolve all of the implicit objects, not just
<em>facesContext</em> and <em>view</em></p>
</div>
<table id="a2832" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. ImplicitObjectELResolver for Programmatic Access</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ELResolver method</th>
<th class="tableblock halign-left valign-top">implementation requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to <em>implicitObject</em>, call setPropertyResolved(true) on the
argument ELContext and return <em>result</em>, where <em>implicitObject</em> and
<em>result</em> are as follows:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>implicitObject</em></th>
<th class="tableblock halign-left valign-top"><em>result</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getContext()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">applicationScope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getApplicationMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cookie</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getRequestCookieMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">facesContext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the FacesContext for this request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">component</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the top of the stack of UIComponent instances, as pushed via calls to
UIComponent.pushComponentToEL().
See <a href="#a1059">Lifecycle Management Methods</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">flowScope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">facesContext.getApplication().getFlowHandler().getCurrentFlowScope()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the current composite component
relative to the declaring page in which the expression appears.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">flash</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getFlash()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">header</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getRequestHeaderMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">headerValues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getRequestHeaderValuesMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">initParam</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getInitParameterMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">param</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getRequestParameterMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">paramValues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getRequestParameterValuesMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getRequest()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestScope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getRequestMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">facesContext.getApplication().getResourceHandler()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">session</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getSession()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sessionScope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">externalContext.getSessionMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">facesContext.getViewRoot()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">viewScope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">facesContext.getViewRoot().getViewMap()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">facesContext.getApplication().getResourceHandler()</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If base is null, and property doesn’t match
one of the above <em>implicitObjects</em>, return null.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to “application”, “component”, “cc”, “cookie”, “facesContext”,
“header”, “headerValues”, “initParam”, “param”, “paramValues”,
“request”, “resource”, “session”, or “view”, <em>call
setPropertyResolved(true) on the argument ELContext and return null to
indicate that no types are accepted to setValue() for these attributes</em>.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to “requestScope”, “sessionScope”, or “applicationScope”, <em>call
setPropertyResolved(true) on the argument ELContext and return null</em>.</p>
</div>
<div class="paragraph">
<p>Otherwise, null;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>setValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to
“applicationScope”, “requestScope”,
“sessionScope”, “application”, “component”, “cc”, “cookie”,
“facesContext”, “header”, “headerValues”, “initParam”, “param”,
“paramValues”, “request”, “resource”, “session”, or “view”, <em>throw
jakarta.el.PropertyNotWriteableException</em>, since these implicit objects are
read-only.</p>
</div>
<div class="paragraph">
<p>Otherwise return null.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isReadOnly</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return (or false if the
method returns boolean).</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>If base is null and property is a String
equal to “applicationScope”, “component”, “cc”, “requestScope”,
“sessionScope”, “application”, “cookie”, “facesContext”, “header”,
“headerValues”, “initParam”, “param”, “paramValues”, “request”,
“resource”, “session”, or “view”, <em>call setPropertyResolved(true) on the
argument ELContext and return true</em>.</p>
</div>
<div class="paragraph">
<p>Otherwise return null.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getFeatureDescriptors</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null, return an Iterator
containing 17 java.beans.FeatureDescriptor instances, one for eath of
the following properties: application, component, cc, cookie,
facesContext, header, headerValues, initParam, param, paramValues,
request, resource, session, view, applicationScope, sessionScope, and
requestScope. It is required that all of these FeatureDescriptor
instances set Boolean.TRUE as the value of the
ELResolver.RESOLVABLE_AT_DESIGN_TIME attribute. For the name and short
of FeatureDescriptor, return the implicit object name. The appropriate
Class must be stored as the value of the ELResolver.TYPE attribute as
follows:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">implicitObject</th>
<th class="tableblock halign-left valign-top">ELResolver.TYPE value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">applicationScope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">component</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIComponent.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIComponent.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cookie</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">facesContext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FacesContext.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">header</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">headerValues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">initParam</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">param</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">paramValues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestScope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">session</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sessionScope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map.class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIViewRoot.class</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The shortDescription must be a suitable
description depending on the implementation. The expert and hidden
properties must be false. The preferred property must be true.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getCommonPropertyType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and return String.class</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="a2908"><a class="anchor" href="#a2908"></a>5.6.2.2. Composite Component Attributes ELResolver</h5>
<div class="paragraph">
<p>This ELResolver makes it so expressions that
refer to the attributes of a composite component get correctly
evaluated. For example, the expression <em>#{cc.attrs.usernameLabel}</em>
says, “find the current composite component, call its <em>getAttributes()</em>
method, within the returned <em>Map</em> look up the value under the key
“usernameLable”. If the value is a <em>ValueExpression</em>, call <em>getValue()</em>
on it and the result is returned as the evaluation of the expression.
Otherwise, if the value is <em>not</em> a <em>ValueExpression</em> the value itself is
returned as the evaluation of the expression.”</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Composite Component Attributes ELResolver</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ELResolver method</th>
<th class="tableblock halign-left valign-top">implementation requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, is an instance of
UIComponent, is a composite component, and property is non-null and is
equal to the string “attrs”, return a Map implementation with the
following characteristics.</p>
</div>
<div class="paragraph">
<p>Wrap the attributes map of the composite
component and delegate all calls to the composite component attributes
map with the following exceptions:</p>
</div>
<div class="paragraph">
<p>get(), put(), and containsKey() are required
to be supported.</p>
</div>
<div class="paragraph">
<p>get(): if the result of calling get() on the
component attributes map is null, and a default value was declared in
the composite component metadata, the value will be a ValueExpression.
Evaluate it and return it. Otherwise, simply return the value from the
component attributes map.</p>
</div>
<div class="paragraph">
<p>put(): Call getValueExpression() on the
component. If this returns non-null, call setValue() on it, passing the
value argument as the last argument. Otherwise, simply call through to
put on the component attributes map.</p>
</div>
<div class="paragraph">
<p>containsKey(): If the attributes map contains
the key, return true. Otherwise, if a default value has been declared
for the attribute, return true. Otherwise, return false.</p>
</div>
<div class="paragraph">
<p>The Map implementation must also implement
the interface</p>
</div>
<div class="paragraph">
<p>jakarta.faces.el.CompositeComponentExpressionHolder.</p>
</div>
<div class="paragraph">
<p>Otherwise, take no action.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getType</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If
the base argument to getType() is not an instance of the composite
component attributes map or the property argument to getType() is not an
instance of java.lang.String, return null. Otherwise, check the top
level component&#8217;s ValueExpression collection for an expression under the
name given by the property argument to getType(). If the expression
exists, call getType() on the expression. If the property argument to
getType() is not empty, search the composite component&#8217;s metadata for a
declared type on a &lt;composite:attribute&gt; whose name matches the property
argument to getType(). If the expression and the metadata both yield
results, the metadata takes precedence ONLY if it provides a narrower
result than does the expression, i.e. expression type is assignable from
metadata type. If the metadata result does take precedence, call
ELContext.setPropertyResolved(true). Otherwise, return whichever result
was available, or null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>setValue</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take
no action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isReadOnly</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take no action and return true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getFeatureDescriptors</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take no action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getCommonPropertyType</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return String.class</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="the-compositeelresolver"><a class="anchor" href="#the-compositeelresolver"></a>5.6.2.3. The CompositeELResolver</h5>
<div class="paragraph">
<p>As indicated in
<em><a href="#a2827">ELResolver for Facelets and
Programmatic Access</a></em>, following the ImplicitObjectELResolver, the
semantics obtained by adding a <em>CompositeELResolver</em> must be inserted
here. This <em>ELResolver</em> contains the following <em>ELResolvers</em>, described
in the referenced sections.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em><a href="#a2771">ELResolvers
in the application configuration resources</a></em></p>
</li>
<li>
<p><em><a href="#a2773">VariableResolver Chain Wrapper</a></em></p>
</li>
<li>
<p><em><a href="#a2798">PropertyResolver Chain Wrapper</a></em></p>
</li>
<li>
<p><em><a href="#a2820">ELResolvers
from Application.addELResolver()</a></em></p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="managedbean-elresolver"><a class="anchor" href="#managedbean-elresolver"></a>5.6.2.4. ManagedBean ELResolver</h5>
<div class="paragraph">
<p>This resolver has the same semantics as the
one in <em><a href="#a2711">ManagedBean ELResolver</a></em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="a2940"><a class="anchor" href="#a2940"></a>5.6.2.5. Resource ELResolver</h5>
<div class="paragraph">
<p>This resolver is a means by which Resource
instances are encoded into a faces request such that a subsequent faces
resource request from the browser can be satisfied using the
ResourceHandler as described in <em><a href="#a746">Resource Handling</a></em>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. ResourceELResolver</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ELResorver method</th>
<th class="tableblock halign-left valign-top">implementation requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base and property are not null, and base
is an instance of ResourceHandler (as will be the case with an
expression such as #\{resource[‘ajax.js’]}, perform the following.
(Note: This is possible due to the ImplicitObjectELResolver returning
the ResourceHandler, see <a href="#a2830">Implicit Object
ELResolver for Facelets and Programmatic Access</a>)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <em>property</em> does not contain a colon
character ‘:’, treat <em>property</em> as the <em>resourceName</em> and pass
<em>property</em> to <em>ResourceHandler.createResource(resourceName)</em>.</p>
</li>
<li>
<p>If <em>property</em> contains a single colon
character ‘:’, treat the content before the ‘:’ as the <em>libraryName</em> and
the content after the ‘:’ as the <em>resourceName</em> and pass both to
<em>ResourceHandler.createResource(resourceName, libraryName)</em>. If the
value of <em>libraryName</em> is the literal string “this” (without the
quotes), discover the library name of the current resource (or the
contract name of the current resource, the two are mutually exclusive)
and replace “this” with that library name (or contract name) before
calling <em>ResourceHandler.createResource()</em>. In the case of resource
library contracts, <em>libraryName</em> will actually be the contract name.</p>
</li>
<li>
<p>If <em>property</em> contains more than one colon
character ‘:’, throw a localized <em>ELException</em>, including <em>property</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If one of the above steps results in the
creation of a non-null Resource instance, call
ELContext.setPropertyResolved(true). Call the getRequestPath() method on
the Resource instance, pass the result through
ExternalContext.encodeResourceUrl() and return the result.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getType</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return null. This resolver only performs
lookups.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>setValue</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take
no action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isReadOnly</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return false in all cases.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getFeatureDescriptors</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getCommonPropertyType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null, return Object.class.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="a2962"><a class="anchor" href="#a2962"></a>5.6.2.6. el.ResourceBundleELResolver</h5>
<div class="paragraph">
<p>This entry in the chain must have the
semantics the same as the class <em>jakarta.el.ResourceBundleELResolver</em>.
The default implementation just includes an instance of this resolver in
the chain.</p>
</div>
</div>
<div class="sect4">
<h5 id="a2964"><a class="anchor" href="#a2964"></a>5.6.2.7. ResourceBundle ELResolver for Programmatic Access</h5>
<div class="paragraph">
<p>This resolver has the same semantics as the
one in <a href="#a2741">ResourceBundle ELResolver for Jakarta Server Pages
pages</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="a2966"><a class="anchor" href="#a2966"></a>5.6.2.8. Stream, StaticField, Map, List, Array, and Bean ELResolvers</h5>
<div class="paragraph">
<p>These ELResolver instances are provided by
the Jakarta Expression Language API and must be added in the following order:</p>
</div>
<div class="paragraph">
<p>[P1-start_EL_3_0] If running on a
container that supports Jakarta Expression Language 4.0 or higher: The return from
<em>ExpressionFactory.getStreamELResolver</em>,
<em>jakarta.el.StaticFieldELResolver</em>. [P1-end_EL_3_0]</p>
</div>
<div class="paragraph">
<p><em>jakarta.el.MapELResolver</em>,
<em>jakarta.el.ListELResolver</em>, <em>jakarta.el.ArrayELResolver</em>,
<em>jakarta.el.BeanELResolver</em>. These actual ELResolver instances must be
added. It is not compliant to simply add other resolvers that preserve
these semantics.</p>
</div>
</div>
<div class="sect4">
<h5 id="a2970"><a class="anchor" href="#a2970"></a>5.6.2.9. ScopedAttribute ELResolver</h5>
<div class="paragraph">
<p>This ELResolver is responsible for doing the
scoped lookup that makes it possible for expressions to pick up anything
stored in the request, session, or application scopes by name.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Scoped Attribute ELResolver</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ELResorver method</th>
<th class="tableblock halign-left valign-top">implementation requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>Use the argument property as the key in a
call to externalContext.getRequestMap().get(). If this returns non-null,
call setPropertyResolved(true) on the argument ELContext and return the
value.</p>
</div>
<div class="paragraph">
<p>Use the argument property as the key in a
call to facesContext.getViewRoot().getViewMap().get() (accounting for
the potential for null returns safely). If this returns non-null, call
setPropertyResolved(true) on the argument ELContext and return the
value.</p>
</div>
<div class="paragraph">
<p>Use the argument property as the key in a
call to externalContext.getSessionMap().get(). If this returns non-null,
call setPropertyResolved(true) on the argument ELContext and return the
value.</p>
</div>
<div class="paragraph">
<p>Use the argument property as the key in a
call to externalContext.getApplicationMap().get(). If this returns
non-null, call setPropertyResolved(true) on the argument ELContext and
return the value.</p>
</div>
<div class="paragraph">
<p>Otherwise call setPropertyResloved(true) and
return null;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>Otherwise, setPropertyResolved(true) and
return Object.class to indicate that any type is permissable to pass to
a call to setValue().</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>setValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null and property is null, throw
PropertyNotFoundException.</p>
</div>
<div class="paragraph">
<p>Consult the Maps for the request, session,
and application, in order, looking for an entry under the key property.
If found, replace that entry with argument value. If not found, call
externalContext.getRequestMap().put(property, value).</p>
</div>
<div class="paragraph">
<p>Call setPropertyResolved(true) and return;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isReadOnly</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is false, setPropertyResolved(true)
return false;</p>
</div>
<div class="paragraph">
<p>Otherwise, return false;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getFeatureDescriptors</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null, return an Iterator of
java.beans.FeatureDescriptor instances for all attributes in all scopes.
The FeatureDescriptor name and shortName is the name of the scoped
attribute. The actual runtime type of the attribute must be stored as
the value of the ELResolver.TYPE attribute. Boolean.TRUE must be set as
the value of the ELResolver.RESOLVABLE_AT_DESIGN_TIME attribute. The
shortDescription must be a suitable description depending on the
implementation. The expert and hidden properties must be false. The
preferred property must be true.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>getCommonPropertyType</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If base is non-null, return null.</p>
</div>
<div class="paragraph">
<p>If base is null return String.class.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="cdi-for-expression-language-resolution"><a class="anchor" href="#cdi-for-expression-language-resolution"></a>5.6.3. CDI for Expression Language Resolution</h4>
<div class="paragraph">
<p>If the any of the managed beans in the
application have the <em>@jakarta.faces.annotation.FacesConfig</em> annotation,
the ImplicitObjectELResolver from <a href="#a2830">Implicit Object ELResolver for Facelets and Programmatic Access</a> is not
present in the chain. Instead, CDI is used to perform Expression Language resolution in
the same manner is in <a href="#a2832">ImplicitObjectELResolver for Programmatic Access</a> with the following
additional implicit objects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>externalContext</em></p>
</li>
<li>
<p>the current <em>ExternalContext</em> from the
current <em>FacesContext</em></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="current-expression-evaluation-apis"><a class="anchor" href="#current-expression-evaluation-apis"></a>5.7. Current Expression Evaluation APIs</h3>
<div class="sect3">
<h4 id="elresolver"><a class="anchor" href="#elresolver"></a>5.7.1. ELResolver</h4>
<div class="paragraph">
<p>This class is the Jakarta Expression Language’s answer to
Faces’s <em>VariableResolver</em> and <em>PropertyResolver</em>. It turns out that
variable resolution can be seen as a special case of property resolution
with the base object being <em>null</em>. Please see
<em><a href="#a2634">ELResolver</a></em> for more details.</p>
</div>
</div>
<div class="sect3">
<h4 id="valueexpression"><a class="anchor" href="#valueexpression"></a>5.7.2. ValueExpression</h4>
<div class="paragraph">
<p>This class is the Jakarta Expression Language’s answer to
Jakarta Faces’s <em>ValueBinding</em>. It is the main object oriented abstraction for
an Expression Language expression that results in a value either being retrieved or set.
Please see Chapter 2 of the Jakarta Expression Language Specification, Version
4.0 or higher.</p>
</div>
</div>
<div class="sect3">
<h4 id="methodexpression"><a class="anchor" href="#methodexpression"></a>5.7.3. MethodExpression</h4>
<div class="paragraph">
<p>This class is the Jakarta Expression Language’s answer to
Jakarta Faces’s <em>MethodBinding</em>. It is the main object oriented abstraction for
an Expression Language expression that results in a method being invoked. Please see
Chapter 2 of the Jakarta Expression Language Specification, Version 4.0 or higher.</p>
</div>
</div>
<div class="sect3">
<h4 id="expression-evaluation-exceptions"><a class="anchor" href="#expression-evaluation-exceptions"></a>5.7.4. Expression Evaluation Exceptions</h4>
<div class="paragraph">
<p>Four exception classes are defined to report
errors related to the evaluation of value exceptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>jakarta.el.ELException</em> (which extends
<em>java.lang.Exception</em>)—used to report a problem evaluating a value
exception dynamically.</p>
</li>
<li>
<p><em>MethodNotFoundException</em> (which extends
<em>jakarta.el.ELException</em>)—used to report that a requested public method
does not exist in the context of evaluation of a method expression.</p>
</li>
<li>
<p><em>jakarta.el.PropertyNotFoundException</em> (which
extends <em>jakarta.el.ELException</em>)—used to report that a requested
property does not exist in the context of evaluation of a value
expression.</p>
</li>
<li>
<p><em>jakarta.el.PropertyNotWriteableException</em>
(which extends <em>jakarta.el.ELException</em>)—used to indicate that the
requested property could not be written to when evaluating the
expression.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-expression-evaluation-apis"><a class="anchor" href="#deprecated-expression-evaluation-apis"></a>5.8. Deprecated Expression Evaluation APIs</h3>
<div class="paragraph">
<p>Applications written for version 1.0 and 1.1
of the Faces specification must continue to run in this version of the
specification. This means deprecated APIs. This section describes the
migration story for these APIs that implementations must follow to allow
1.0 and 1.1 based applications to run.</p>
</div>
<div class="sect3">
<h4 id="a3020"><a class="anchor" href="#a3020"></a>5.8.1. VariableResolver and the Default VariableResolver</h4>
<div class="paragraph">
<p>User-provided VariableResolver instances will
still continue to work by virtue of <em><a href="#a2773">VariableResolver Chain Wrapper</a></em>. The decorator pattern described in
<em><a href="UsingJSFInWebApplications.html#a6336">Delegating Implementation Support</a></em>
must be supported. Users wishing to affect Expression Language resolution are advised to
author a custom ELResolver instead. These will get picked up as
specified in <em><a href="#a2771">ELResolvers in the
application configuration resources</a></em>.</p>
</div>
<div class="paragraph">
<p>The Jakarta Faces implementation must provide a default
<em>VariableResolver</em> implementation that gets the <em>ELContext</em> from the
argument <em>FacesContext</em> and calls <em>setPropertyResolved(false)</em>
on it</p>
</div>
<div class="paragraph">
<p>The <em>VariableResolver</em> chain is no longer
accessible from <em>Application.getVariableResolver()</em>. The chain must be
kept in an implementation dependent manner, but accessible to the
ELResolver described in <em><a href="#a2773">VariableResolver Chain Wrapper</a></em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a3025"><a class="anchor" href="#a3025"></a>5.8.2. PropertyResolver and the Default PropertyResolver</h4>
<div class="paragraph">
<p>User-provided propertyResolver instances will
still continue to work by virtue of <em><a href="#a2773">VariableResolver Chain Wrapper</a></em>. The decorator pattern described in
<em><a href="UsingJSFInWebApplications.html#a6336">Delegating Implementation Support</a></em>
must be supported. Users wishing to affect Expression Language resolution are advised to
author a custom ELResolver instead. These will get picked up as
specified in <em><a href="#a2771">ELResolvers in the
application configuration resources</a></em>.</p>
</div>
<div class="paragraph">
<p>The Jakarta Faces implementation must provide a default
<em>propertyResolver</em> implementation that gets the <em>ELContext</em> from the
argument <em>FacesContext</em> and calls <em>setPropertyResolved(false)</em> on it.</p>
</div>
<div class="paragraph">
<p>The <em>PropertyResolver</em> chain is no longer
accessible from <em>Application.getpropertyResolver()</em>. The chain must be
kept in an implementation dependent manner, but accessible to to the
ELResolver described in <em><a href="#a2798">PropertyResolver Chain Wrapper</a></em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a3029"><a class="anchor" href="#a3029"></a>5.8.3. ValueBinding</h4>
<div class="paragraph">
<p>The <em>ValueBinding</em> class encapsulates the
actual evaluation of a value binding. Instances of <em>ValueBinding</em> for
specific references are acquired from the <em>Application</em> instance by
calling the <em>createValueBinding</em> method (see
<a href="#a4179">Acquiring ValueBinding Instances</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> getValue(FacesContext context)
    <span class="directive">throws</span> EvaluationException, PropertyNotFoundException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate the value binding used to create
this <em>ValueBinding</em> instance, relative to the specified <em>FacesContext</em>,
and return the referenced value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> setValue(FacesContext context, <span class="predefined-type">Object</span> value)
    <span class="directive">throws</span> EvaluationException, PropertyNotFoundException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate the value binding used to create
this <em>ValueBinding</em> instance, relative to the specified <em>FacesContext</em>,
and update the referenced value to the specified new value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> isReadOnly(FacesContext context)
    <span class="directive">throws</span> EvaluationException, PropertyNotFoundException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate the value binding used to create
this <em>ValueBinding</em> instance, relative to the specified <em>FacesContext</em>,
and return <em>true</em> if the corresponding property is known to be
immutable. Otherwise, return <em>false</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Class</span> getType(FacesContext context)
    <span class="directive">throws</span> EvaluationException, PropertyNotFoundException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate the value binding used to create
this <em>ValueBinding</em> instance, relative to the specified <em>FacesContext</em>,
and return the <em>Class</em> that represents the data type of the referenced
value, if it can be determined. Otherwise, return <em>null</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a3039"><a class="anchor" href="#a3039"></a>5.8.4. MethodBinding</h4>
<div class="paragraph">
<p>The <em>MethodBinding</em> class encapsulates the
actual evaluation of a method binding. Instances of <em>MethodBinding</em> for
specific references are acquired from the <em>Application</em> instance by
calling the <em>createMethodBinding()</em> method. Note that instances of
<em>MethodBinding</em> are immutable, and contain no references to a
<em>FacesContext</em> (which is passed in as a parameter when the reference
binding is evaluated).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> invoke(FacesContext context, <span class="predefined-type">Object</span> params<span class="type">[]</span>)
    <span class="directive">throws</span> EvaluationException, MethodNotFoundException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate the method binding (see
<a href="#a2403">MethodExpression Syntax and Semantics</a>)
and call the identified method, passing the specified parameters. Return
any value returned by the invoked method, or return <em>null</em> if the
invoked method is of type <em>void</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Class</span> getType(FacesContext context) <span class="directive">throws</span> MethodNotFoundException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate the method binding (see
<a href="#a2403">MethodExpression Syntax and Semantics</a>)
and return the <em>Class</em> representing the return type of the identified
method. If this method is of type <em>void</em>, return <em>null</em> instead.</p>
</div>
</div>
<div class="sect3">
<h4 id="expression-evaluation-exceptions-2"><a class="anchor" href="#expression-evaluation-exceptions-2"></a>5.8.5. Expression Evaluation Exceptions</h4>
<div class="paragraph">
<p>Four exception classes are defined to report
errors related to the evaluation of value exceptions [Note that these
exceptions are deprecated]:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>EvaluationException</em> (which extends
<em>FacesException</em>)—used to report a problem evaluating a value exception
dynamically.</p>
</li>
<li>
<p><em>MethodNotFoundException</em> (which extends
<em>EvaluationException</em>)—used to report that a requested public method
does not exist in the context of evaluation of a method expression.</p>
</li>
<li>
<p><em>PropertyNotFoundException</em> (which extends
<em>EvaluationException</em>)—used to report that a requested property does
not exist in the context of evaluation of a value expression.</p>
</li>
<li>
<p><em>ReferenceSyntaxException</em> (which extends
<em>EvaluationException</em>)—used to report a syntax error in a value
exception.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cdi-integration"><a class="anchor" href="#cdi-integration"></a>5.9. CDI Integration</h3>
<div class="paragraph">
<p>Jakarta Faces must run in a container that supports CDI version 3.0 or higher. This requirement
allows CDI to provide all the functionality of the managed bean facility
from <a href="#a2406">The Managed Bean Facility</a> and
<a href="#a2536">Managed Bean Annotations</a> but in a
better integrated way with the rest of the Jakarta EE platform. Delegating
these features to CDI allows them to evolve independently of Jakarta Faces. The
remainder of this section specifies some details of CDI integration
pertinent to Jakarta Faces.</p>
</div>
<div class="sect3">
<h4 id="a3054"><a class="anchor" href="#a3054"></a>5.9.1. Jakarta Faces Objects Valid for @Inject Injection</h4>
<div class="paragraph">
<p>It must be possible to inject the following
Jakarta Faces objects into other objects using <em>@Inject</em>.</p>
</div>
<div class="paragraph">
<div class="title">Maps Returned by Various Jakarta Faces Accessors</div>
<p>The annotations in package
<em>jakarta.faces.annotation</em> are used to cause <em>@Inject</em> injection of the
corresponding <em>Map</em> into a field. Generics may be used.</p>
</div>
<div class="paragraph">
<div class="title">Jakarta Faces Objects</div>
<p>It must be possible to <em>@Inject</em> the following Jakarta Faces and Jakarta EE objects into CDI beans.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>jakarta.faces.application.ResourceHandler</em></p>
</li>
<li>
<p>jakarta.faces.context.ExternalContext</p>
</li>
<li>
<p>jakarta.faces.context.FacesContext</p>
</li>
<li>
<p>jakarta.faces.context.Flash</p>
</li>
<li>
<p><em>jakarta.servlet.http.HttpSession</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Support for Injection into Jakarta Faces Managed Objects</div>
<p>It must be possible to use <em>@Inject</em> when
specifying the following kinds of Jakarta Faces managed objects.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validators declared with
<em>@jakarta.faces.validator.FacesValidator(managed=”true”)</em></p>
</li>
<li>
<p>Converters declared with
<em>@jakarta.faces.convert.FacesConverter(managed=”true”)</em></p>
</li>
<li>
<p>FacesBehaviors declared with
<em>@jakarta.faces.component.behavior.FacesBehavior(managed=”true”)</em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="a3070"><a class="anchor" href="#a3070"></a>5.9.2. Expression Language Resolution</h4>
<div class="paragraph">
<p>The following implicit objects must be
resolved using CDI</p>
</div>
<div class="ulist">
<ul>
<li>
<p>application</p>
</li>
<li>
<p>cc</p>
</li>
<li>
<p>component</p>
</li>
<li>
<p>facesContext</p>
</li>
<li>
<p>flash</p>
</li>
<li>
<p>flowScope</p>
</li>
<li>
<p>header</p>
</li>
<li>
<p>headerValues</p>
</li>
<li>
<p>initParam</p>
</li>
<li>
<p>param</p>
</li>
<li>
<p>paramValues</p>
</li>
<li>
<p>session</p>
</li>
<li>
<p>view</p>
</li>
<li>
<p>viewScope</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="per-request-state-information"><a class="anchor" href="#per-request-state-information"></a>6. Per-Request State Information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During request processing for a Jakarta Faces page, a
context object is used to represent request-specific information, as
well as provide access to services for the application. This chapter
describes the classes which encapsulate this contextual information.</p>
</div>
<div class="sect2">
<h3 id="a3091"><a class="anchor" href="#a3091"></a>6.1. FacesContext</h3>
<div class="paragraph">
<p>Jakarta Faces defines the
<em>jakarta.faces.context.FacesContext</em> abstract base class for representing
all of the contextual information associated with processing an incoming
request, and creating the corresponding response. A <em>FacesContext</em>
instance is created by the Jakarta Faces implementation, prior to beginning the
request processing lifecycle, by a call to the <em>getFacesContext</em> method
of <em>FacesContextFactory</em>, as described in
<a href="#a3366">FacesContextFactory</a>. When the request
processing lifecycle has been completed, the Jakarta Faces implementation will
call the <em>release</em> method, which gives Jakarta Faces implementations the
opportunity to release any acquired resources, as well as to pool and
recycle <em>FacesContext</em> instances rather than creating new ones for each
request.</p>
</div>
<div class="sect3">
<h4 id="a3096"><a class="anchor" href="#a3096"></a>6.1.1. Application</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Application getApplication();</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-application]The Jakarta Faces
implementation must ensure that the <em>Application</em> instance for the
current web application is available via this method, as a convenient
alternative to lookup via an <em>ApplicationFactory</em>.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="attributes"><a class="anchor" href="#attributes"></a>6.1.2. Attributes</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">Object</span>,<span class="predefined-type">Object</span>&gt; getAttributes();</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-attributes]Return a mutable
<em>Map</em> representing the attributes associated wth this <em>FacesContext</em>
instance. This <em>Map</em> is useful to store attributes that you want to go
out of scope when the Faces lifecycle for the current request ends,
which is not always the same as the request ending, especially in the
case of <em>Servlet</em> filters that are invoked after the Faces lifecycle for
this request completes. Accessing this <em>Map</em> does not cause any events
to fire, as is the case with the other maps: for request, session, and
application scope.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a3099"><a class="anchor" href="#a3099"></a>6.1.3. ELContext</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ELContext getELContext();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the <em>ELContext</em> instance for this
<em>FacesContext</em> instance. This <em>ELContext</em> instance has the same lifetime
and scope as the <em>FacesContext</em> instance with which it is associated,
and may be created lazily the first time this method is called for a
given <em>FacesContext</em> instance. [P1-start-elcontext]Upon creation of the
ELContext instance, the implementation must take the following action:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call the
<em>ELContext.putContext(java.lang.Class, java.lang.Object)</em> method on the
instance, passing in <em>FacesContext.class</em> and the <em>this</em> reference for
the <em>FacesContext</em> instance itself.</p>
</li>
<li>
<p>If the <em>Collection</em> returned by
<em>jakarta.faces.Application.getELContextListeners()</em> is non-empty, create
an instance of <em>ELContextEvent</em> and pass it to each <em>ELContextListener</em>
instance in the <em>Collection</em> by calling the
<em>ELContextListener.contextCreated(jakarta.el.ELContextEvent)</em>
method.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="externalcontext"><a class="anchor" href="#externalcontext"></a>6.1.4. ExternalContext</h4>
<div class="paragraph">
<p>It is sometimes necessary to interact
with APIs provided by the containing environment in which the Jakarta Server
Faces application is running. In most cases this is the servlet API, but
it is also possible for a Jakarta Server Faces application to run inside of
a portlet. Jakarta Server Faces provides the <em>ExternalContext</em> abstract
class for this purpose. [P1-start-externalContext]This class must be
implemented along with the <em>FacesContext</em> class, and must be accessible
via the <em>getExternalContext</em> method in <em>FacesContext</em>.[P1-end]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ExternalContext getExternalContext();</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start externalContext during Init]
The default implementation must return a valid value when this method is
called during startup time. See the javadocs for this method for the
complete specification. [P1-end]</p>
</div>
<div class="paragraph">
<p>The <em>ExternalContext</em> instance provides
immediate access to all of the components defined by the containing
environment (servlet or portlet) within which a Jakarta Faces-based web
application is deployed. The following table lists the container objects
available from <em>ExternalContext</em>. Note that the Access column refers to
whether the returned object is mutable. None of the properties may be
set through <em>ExternalContext</em>. itself.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>applicationMap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application context
attributes for this application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>authType</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
method used to authenticate the currently logged on user (if any).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>context</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
application context object for this application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>initParameterMap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The context initialization
parameters for this application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>remoteUser</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
login name of the currently logged in user (if any).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>request</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
request object for this request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestContextPath</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The context path for this application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestCookieMap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cookies included with
this request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestHeaderMap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP headers included
with this request (value is a String).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestHeaderValuesMap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.The HTTP headers included
with this request (value is a String array).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestLocale</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Locale</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The preferred Locale for this
request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestLocales</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Iterator</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The preferred Locales for this
request, in descending order of preference.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestMap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The request scope attributes for this
request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestParameterMap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The request parameters
included in this request (value is a String).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestParameterNames</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Iterator</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The set of request parameter names included
in this request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestParameterValuesMap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The request parameters
included in this request (value is a String array).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestPathInfo</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The extra path information from the request
URI for this request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requestServletPath</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The servlet path information from the
request URI for this request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>response</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
response object for the current request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>sessionMap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.util.Map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The session scope attributes for this
request<a href="#a9087">5</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>userPrincipal</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>java.security.Principal</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Principal
object containing the name of the currently logged on user (if any).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See the JavaDocs for the normative
specification.</p>
</div>
<div class="sect4">
<h5 id="flash"><a class="anchor" href="#flash"></a>6.1.4.1. Flash</h5>
<div class="paragraph">
<p>The <em>Flash</em> provides a way to pass temporary
objects between the user views generated by the faces lifecycle.
Anything one places in the flash will be exposed to the next view
encountered by the same user session and then cleared out..</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>flash</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Flash</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See the
javadocs for the complete specification.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="viewroot"><a class="anchor" href="#viewroot"></a>6.1.5. ViewRoot</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIViewRoot getViewRoot();
<span class="directive">public</span> <span class="type">void</span> setViewRoot(UIViewRoot root);</code></pre>
</div>
</div>
<div class="paragraph">
<p>During the <em>Restore View</em> phase of the
request processing lifecycle, the state management subsystem of the Jakarta Faces
implementation will identify the component tree (if any) to be used
during the inbound processing phases of the lifecycle, and call
<em>setViewRoot()</em> to establish it.</p>
</div>
</div>
<div class="sect3">
<h4 id="message-queue"><a class="anchor" href="#message-queue"></a>6.1.6. Message Queue</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addMessage(<span class="predefined-type">String</span> clientId, FacesMessage message);</code></pre>
</div>
</div>
<div class="paragraph">
<p>During the <em>Apply Request Values</em>, <em>Process
Validations</em>, <em>Update Model Values</em>, and <em>Invoke Application</em> phases
of the request processing lifecycle, messages can be queued to either
the component tree as a whole (if <em>clientId</em> is <em>null</em>), or related to
a specific component based on its client identifier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Interator&lt;<span class="predefined-type">String</span>&gt; getClientIdsWithMessages();
<span class="directive">public</span> <span class="predefined-type">Severity</span> getMaximumSeverity();
<span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;FacesMessage&gt; getMessages(<span class="predefined-type">String</span> clientId);
<span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;FacesMessage&gt; getMessages();</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-messageQueue]The
<em>getClientIdsWithMessages()</em> method must return an <em>Iterator</em> over the
client identifiers for which at least one <em>Message</em> has been queued.
This method must be implemented so the clientIds are returned in the
order of calls to <em>addMessage()</em>.[P1-end] The <em>getMaximumSeverity()</em>
method returns the highest severity level on any <em>Message</em> that has been
queued, regardless of whether or not the message is associated with a
specific client identifier or not. The <em>getMessages(String)</em> method
returns an <em>Iterator</em> over queued <em>Message</em>s, either those associated
with the specified client identifier, or those associated with no client
identifier if the parameter is <em>null</em>. The <em>getMessages()</em> method
returns an <em>Iterator</em> over all queued <em>Message</em>s, whether or not they
are associated with a particular client identifier. Both of the
<em>getMessage()</em> variants must be implemented such that the messages are
returned in the order in which they were added via calls to
<em>addMessage()</em>.</p>
</div>
<div class="paragraph">
<p>For more information about the <em>Message</em>
class, see <a href="#a3300">FacesMessage</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="renderkit"><a class="anchor" href="#renderkit"></a>6.1.7. RenderKit</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> RenderKit getRenderKit();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the <em>RenderKit</em> associated with the
render kit identifier in the current <em>UIViewRoot</em> (if any).</p>
</div>
</div>
<div class="sect3">
<h4 id="a3198"><a class="anchor" href="#a3198"></a>6.1.8. ResponseStream and ResponseWriter</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ResponseStream getResponseStream();
<span class="directive">public</span> <span class="type">void</span> setResponseStream(ResponseStream responseStream);
<span class="directive">public</span> ResponseWriter getResponseWriter();
<span class="directive">public</span> <span class="type">void</span> setResponseWriter(ResponseWriter responseWriter);
<span class="directive">public</span> <span class="type">void</span> enableResponseWriting(<span class="type">boolean</span> enable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Jakarta Faces supports output that is generated as
either a byte stream or a character stream. <em>UIComponent</em>s or
<em>Renderer</em> s that wish to create output in a binary format should call
<em>getResponseStream()</em> to acquire a stream capable of binary output.
Correspondingly, <em>UIComponent</em>s or <em>Renderer</em>s that wish to create
output in a character format should call <em>getResponseWriter()</em> to
acquire a writer capable of character output.</p>
</div>
<div class="paragraph">
<p>Due to restrictions of the underlying servlet
APIs, either binary or character output can be utilized for a particular
response—they may not be mixed.</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a3871">ViewHandler</a> to learn when <em>setResponseWriter()</em> and
<em>setResponseStream()</em> are called.</p>
</div>
<div class="paragraph">
<p>The enableResponseWriting method is useful to
enable or disable the writing of content to the current <em>ResponseWriter</em>
instance in this FacesContext. [P1-start-enableWriting]If the enable
argument is false, content should not be written to the response if an
attempt is made to use the current <em>ResponseWriter</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="flow-control-methods"><a class="anchor" href="#flow-control-methods"></a>6.1.9. Flow Control Methods</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> renderResponse();
<span class="directive">public</span> <span class="type">void</span> responseComplete();
<span class="directive">public</span> <span class="type">boolean</span> getRenderResponse();
<span class="directive">public</span> <span class="type">boolean</span> getResponseComplete();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Normally, the phases of the request
processing lifecycle are executed sequentially, as described in
<a href="#a369">Request Processing Lifecycle</a>. However,
it is possible for components, event listeners, and validators to affect
this flow by calling one of these methods.</p>
</div>
<div class="paragraph">
<p>The <em>renderResponse()</em> method signals the Jakarta Faces
implementation that, at the end of the current phase (in other words,
after all of the processing and event handling normally performed for
this phase is completed), control should be transferred immediately to
the <em>Render Response</em> phase, bypassing any intervening phases that have
not yet been performed. For example, an event listener for a tree
control that was designed to process user interface state changes (such
as expanding or contracting a node) on the server would typically call
this method to cause the current page to be redisplayed, rather than
being processed by the application.</p>
</div>
<div class="paragraph">
<p>The <em>responseComplete()</em> method, on the other
hand, signals the Jakarta Faces implementation that the HTTP response for this
request has been completed by some means other than rendering the
component tree, and that the request processing lifecycle for this
request should be terminated when the current phase is complete. For
example, an event listener that decided an HTTP redirect was required
would perform the appropriate actions on the response object (i.e.
calling <em>ExternalContext.redirect()</em>) and then call this method.</p>
</div>
<div class="paragraph">
<p>In some circumstances, it is possible
that both <em>renderResponse()</em> and <em>responseComplete()</em> might have been
called for the request. [P1-start-flowControl]In this case, the Jakarta Faces
implementation must respect the <em>responseComplete()</em> call (if it was
made) before checking to see if <em>renderResponse()</em> was called.[P1-end]</p>
</div>
<div class="paragraph">
<p>The <em>getRenderResponse()</em> and
<em>getResponseComplete()</em> methods allow a Jakarta Faces-based application to
determine whether the renderResponse() or responseComplete() methods,
respectively, have been called already for the current request.</p>
</div>
</div>
<div class="sect3">
<h4 id="a3225"><a class="anchor" href="#a3225"></a>6.1.10. Partial Processing Methods</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> PartialViewContext getPartialViewContext();</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-getpartialViewContext]The
getPartialViewContext()method must return an instance of
PartialViewContext either by creating a new instance, or returning an
existing instance from the FacesContext.[P1-end-getpartialViewcontext]</p>
</div>
</div>
<div class="sect3">
<h4 id="a3229"><a class="anchor" href="#a3229"></a>6.1.11. Partial View Context</h4>
<div class="paragraph">
<p>The PartialViewContext contains the
constants, properties and methods to facilitate partial view processing
and partial view rendering. Refer to
<a href="#a6831">Partial View
Processing</a> and <a href="#a6833">Partial View Rendering</a>. Refer to the JavaDocs for the
jakarta.faces.context.PartialViewContext class for method requirements.</p>
</div>
</div>
<div class="sect3">
<h4 id="a3231"><a class="anchor" href="#a3231"></a>6.1.12. Access To The Current FacesContext Instance</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> FacesContext getCurrentInstance();
<span class="directive">protected</span> <span class="directive">static</span> <span class="type">void</span> setCurrentInstance(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Under most circumstances, Jakarta Faces
components, and application objects that access them, are passed a
reference to the <em>FacesContext</em> instance for the current request.
However, in some cases, no such reference is available. The
<em>getCurrentInstance()</em> method may be called by any Java class in the
current web application to retrieve an instance of the <em>FacesContext</em>
for this request. [P1-start-currentInstance]The Jakarta Faces implementation must
ensure that this value is set correctly before <em>FacesContextFactory</em>
returns a <em>FacesContext</em> instance, and that the value is maintained in a
thread-safe manner.[P1-end]</p>
</div>
<div class="paragraph">
<p>[P1-start facesContextDuringInit] The
default implementation must allow this method to be called during
application startup time, before any requests have been serviced. If
called during application startup time, the instance returned must have
the special properties as specified on the javadocs for
<em>FacesContext.getCurrentInstance()</em> The . [P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a3237"><a class="anchor" href="#a3237"></a>6.1.13. CurrentPhaseId</h4>
<div class="paragraph">
<p>The default lifecycle implementation is
responsible for setting the <em>currentPhaseId</em> property on the
<em>FacesContext</em> instance for this request, as specified in
<a href="#a401">Standard Request Processing Lifecycle
Phases</a>. The following table describes this property.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>currentPhaseId</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>PhaseId</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>PhaseId</em> constant for the current phase
of the request processing lifecycle</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="exceptionhandler"><a class="anchor" href="#exceptionhandler"></a>6.1.14. ExceptionHandler</h4>
<div class="paragraph">
<p>The <em>FacesContextFactory</em> ensures that each
newly created <em>FacesContext</em> instance is initialized with a fresh
instance of <em>ExceptionHandler</em>, created from <em>ExceptionHandlerFactory</em>.
The following table describes this property.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Access</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>exceptionHandler</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ExceptionHandler</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set by
<em>FacesContextFactory.getFacesContext()</em>, this class is the default
exception handler for any unexpected Exceptions that happen during the
Faces lifecycle. See the Javadocs for <em>ExceptionHandler</em> for details.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Please see <a href="#a6635">PhaseListener</a> for the circumstances under which <em>ExceptionHandler</em> is
used.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a3253"><a class="anchor" href="#a3253"></a>6.2. ExceptionHandler</h3>
<div class="paragraph">
<p><em>ExceptionHandler</em> is the central point for
handling <em>unexpected</em> <em>Exceptions</em> that are thrown during the Faces
lifecycle. The <em>ExceptionHandler</em> must <em>not</em> be notified of any
<em>Exceptions</em> that occur during application startup or shutdown.</p>
</div>
<div class="paragraph">
<p>Several places in the Faces specification
require an <em>Exception</em> to be thrown as a result of normal lifecycle
processing. [P1-start_expected_exceptions]The following expected
<em>Exception</em> cases must not be handled by the ExceptionHandler.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All cases where a <em>ValidatorException</em> is
specified to be thrown or caught</p>
</li>
<li>
<p>All cases where a <em>ConverterException</em> is
specified to be thrown or caught</p>
</li>
<li>
<p>The case when a MissingResourceException is
thrown during the processing of the <em>&lt;f:loadBundle /&gt;</em> tag.</p>
</li>
<li>
<p>If an exception is thrown when the runtime is
processing the <em>@PreDestroy</em> annotation on a managed bean.</p>
</li>
<li>
<p>All classes when an
<em>AbortProcessingException</em> is thrown.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All other <em>Exception</em> cases must not be
swallowed, and must be allowed to flow up to the <em>Lifecycle.execute()</em>
method where the individual lifecycle phases are implemented.
[P1-end_expected_exceptions] At that point, all <em>Exceptions</em> are passed
to the <em>ExceptionHandler</em> as described in
<a href="#a6635">PhaseListener</a>.</p>
</div>
<div class="paragraph">
<p>Any code that is not a part of the core Faces
implementation may leverage the <em>ExceptionHandler</em> in one of two ways.</p>
</div>
<div class="sect3">
<h4 id="default-exceptionhandler-implementation"><a class="anchor" href="#default-exceptionhandler-implementation"></a>6.2.1. Default ExceptionHandler implementation</h4>
<div class="paragraph">
<p>The default ExceptionHandler must implement
the following behavior for each of its methods</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ExceptionQueuedEvent getHandledExceptionEvent();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the first “handled”
<em>ExceptionQueuedEvent</em>, that is, the one that was actually re-thrown.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Iterable</span>&lt;ExceptionQueuedEvent&gt; getHandledExceptionEvents();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default implementation must return an
<em>Iterable</em> over all <em>ExceptionEvents</em> that have been handled by the
<em>handle()</em> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Throwable</span> getRootCause(<span class="predefined-type">Throwable</span> t);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unwrap the argument <em>t</em> until the unwrapping
encounters an <em>Object</em> whose <em>getClass()</em> is not equal to
<em>FacesException.class</em> or <em>jakarta.el.ELException.class</em>. If there is no
root cause, <em>null</em> is returned.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Iterable</span>&lt;ExceptionQueuedEvent&gt; getUnhandledExceptionEvents();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return an <em>Iterable</em> over all
<em>ExceptionEvents</em> that have not yet been handled by the <em>handle()</em>
method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> handle() <span class="directive">throws</span> FacesException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Inspect all unhandled <em>ExceptionQueuedEvent</em>
instances in the order in which they were queued by calls to
<em>Application.publishEvent(ExceptionQueuedEvent.class, eventContext)</em>.</p>
</div>
<div class="paragraph">
<p>For each <em>ExceptionQueuedEvent</em> in the list,
call its <em>getContext()</em> method and call <em>getException()</em> on the returned
result. Upon encountering the first such <em>Exception</em> the corresponding
<em>ExceptionQueuedEvent</em> must be set so that a subsequent call to
<em>getHandledExceptionEvent()</em> or <em>getHandledExceptionEvents()</em> returns
that <em>ExceptionQueuedEvent</em> instance. The implementation must also
ensure that subsequent calls to <em>getUnhandledExceptionEvents()</em> do not
include that <em>ExceptionQueuedEvent</em> instance. Let <em>toRethrow</em> be either
the result of calling <em>getRootCause()</em> on the <em>Exception</em>, or the
<em>Exception</em> itself, whichever is non-<em>null</em>. Re-wrap <em>toThrow</em> in a
<em>ServletException</em> or (<em>PortletException</em>, if in a portlet
environment) and throw it, allowing it to be handled by any
<em>&lt;error-page&gt;</em> declared in the web application deployment descriptor or
by the default error page as described elsewhere in this section.</p>
</div>
<div class="paragraph">
<p>There are two exceptions to the above
processing rules. In both cases, the <em>Exception</em> must be logged and not
re-thrown.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If an unchecked <em>Exception</em> occurs as a
result of calling a method annotated with <em>PreDestroy</em> on a managed
bean.</p>
</li>
<li>
<p>If the <em>Exception</em> originates inside the
<em>ELContextListener.removeElContextListener()</em> method</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>FacesException</em> must be thrown if and
only if a problem occurs while performing the algorithm to handle the
<em>Exception</em>, not as a means of conveying a handled Exception itself.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> isListenerForSource(<span class="predefined-type">Object</span> source);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default implementation must return <em>true</em>
if and only if the source argument is an instance of
<em>ExceptionEventContext</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processEvent(SystemEvent ExceptionQueuedEvent)
    <span class="directive">throws</span> AbortProcessingException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default implementation must store the
argument <em>ExceptionQueuedEvent</em> in a strongly ordered queue for later
processing by the <em>handle()</em> method.</p>
</div>
</div>
<div class="sect3">
<h4 id="backwards-compatible-exceptionhandler"><a class="anchor" href="#backwards-compatible-exceptionhandler"></a>6.2.2. Backwards Compatible ExceptionHandler</h4>
<div class="paragraph">
<p>[P1-startPreJsf2ExceptionHandler]The runtime
must provide an <em>ExceptionHandlerFactory</em> implementation with the fully
qualified java classname of
<em>jakarta.faces.webapp.PreJsf2ExceptionHandlerFactory</em> that creates
<em>ExceptionHandler</em> instances that behave exactly like the default
<em>ExceptionHandler</em> except that the <em>handle()</em> method behaves as follows.</p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>Pre-Jakarta Faces JSF 1.1 and 1.2 (under the JCP) stated in
<a href="#a6635">PhaseListener</a> “Any exceptions thrown
during the <em>beforePhase()</em> listeners must be caught, logged, and
swallowed&#8230;&#8203;Any exceptions thrown during the <em>afterPhase()</em> liseteners
must be caught, logged, and swallowed.” The <em>PreJsf2ExceptionHandler</em>
restores this behavior for backwards compatibilty.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The implementation must allow users to
install this <em>ExceptionHandlerFactory</em> into the application by nesting
<em>&lt;exception-handler-factory&gt;jakarta.faces.webapp.PreJsf2ExceptionHandlerFactory&lt;/exception-handler-factory&gt;</em>
inside the &lt;factory&gt; element in the application configuration
resource.[P1-endPreJsf2ExceptionHandler]</p>
</div>
</div>
<div class="sect3">
<h4 id="default-error-page"><a class="anchor" href="#default-error-page"></a>6.2.3. Default Error Page</h4>
<div class="paragraph">
<p>If no <em>&lt;error-page&gt;</em> elements are declared in
the web application deployment descriptor, the runtime must provide a
default error page that contains the following information.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The stack trace of the <em>Exception</em></p>
</li>
<li>
<p>The <em>UIComponent</em> tree at the time the
<em>ExceptionQueuedEvent</em> was handled.</p>
</li>
<li>
<p>All scoped variables in request, view,
session and application scope.</p>
</li>
<li>
<p>If the error happens during the execution of
the view declaration language page (VDL)</p>
<div class="ulist">
<ul>
<li>
<p>The physical file being traversed at the time
the <em>Exception</em> was thrown, such as <em>/user.xhtml</em></p>
</li>
<li>
<p>The line number within that physical file at
the time the <em>Exception</em> was thrown</p>
</li>
<li>
<p>Any available error message(s) from the VDL
page, such as: “The prefix "foz" for element "foz:bear" is not bound.”</p>
</li>
</ul>
</div>
</li>
<li>
<p>The viewId at the time the
<em>ExceptionQueuedEvent</em> was handled</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <em>Application.getProjectStage()</em> returns
<em>ProjectStage.Development</em>, the runtime must guarantee that the above
debug information is available to be included in any Facelet based error
page using the <em>&lt;ui:include /&gt;</em> with a <em>src</em> attribute equal to the
string “<em>jakarta.faces.error.xhtml</em>”.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a3300"><a class="anchor" href="#a3300"></a>6.3. FacesMessage</h3>
<div class="paragraph">
<p>Each message queued within a <em>FacesContext</em>
is an instance of the <em>jakarta.faces.application.FacesMessage</em> class. The
presence of one or more <em>FacesMessage</em> instances on the <em>FacesContext</em>
indicates a failure of some kind during the lifecycle. In particular, a
validation or conversion failure is required to cause a <em>FacesMessage</em>
to be added to the <em>FacesContext</em>.</p>
</div>
<div class="paragraph">
<p>It offers the following constructors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> FacesMessage();
<span class="directive">public</span> FacesMessage(<span class="predefined-type">String</span> summary, <span class="predefined-type">String</span> detail);
<span class="directive">public</span> FacesMessage(<span class="predefined-type">Severity</span> severity, <span class="predefined-type">String</span> summary, <span class="predefined-type">String</span> detail);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following method signatures are supported
to retrieve and set the properties of the completed message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getDetail();
<span class="directive">public</span> <span class="type">void</span> setDetail(<span class="predefined-type">String</span> detail);

<span class="directive">public</span> <span class="predefined-type">Severity</span> getSeverity();
<span class="directive">public</span> <span class="type">void</span> setSeverity(<span class="predefined-type">Severity</span> severity);

<span class="directive">public</span> <span class="predefined-type">String</span> getSummary();
<span class="directive">public</span> <span class="type">void</span> setSummary(<span class="predefined-type">String</span> summary);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The message properties are defined as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>detail</em> —Localized detail text for this
<em>FacesMessage</em> (if any). This will generally be additional text that can
help the user understand the context of the problem being reported by
this <em>FacesMessage</em>, and offer suggestions for correcting it.</p>
</li>
<li>
<p><em>severity</em> —A value defining how serious the
problem being reported by this <em>FacesMessage</em> instance should be
considered. Four standard severity values (<em>SEVERITY_INFO</em>,
<em>SEVERITY_WARN</em>, <em>SEVERITY_ERROR</em>, and <em>SEVERITY_FATAL</em>) are defined
as a typesafe enum in the <em>FacesMessage</em> class.</p>
</li>
<li>
<p><em>summary</em> —Localized summary text for this
<em>FacesMessage</em>. This is normally a relatively short message that
concisely describes the nature of the problem being reported by this
<em>FacesMessage</em>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="responsestream"><a class="anchor" href="#responsestream"></a>6.4. ResponseStream</h3>
<div class="paragraph">
<p><em>ResponseStream</em> is an abstract class
representing a binary output stream for the current response. It has
exactly the same method signatures as the <em>java.io.OutputStream</em> class.</p>
</div>
</div>
<div class="sect2">
<h3 id="a3324"><a class="anchor" href="#a3324"></a>6.5. ResponseWriter</h3>
<div class="paragraph">
<p><em>ResponseWriter</em> is an abstract class
representing a character output stream for the current response. A
<em>ResponseWriter</em> instance is obtained via a factory method on
<em>RenderKit.</em> Please see <a href="#a4223">RenderKit</a>. It
supports both low-level and high level APIs for writing character based
information</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> close() <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> flush() <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> write(<span class="type">char</span> c<span class="type">[]</span>) <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> write(<span class="type">char</span> c<span class="type">[]</span>, <span class="type">int</span> off, <span class="type">int</span> len) <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> write(<span class="type">int</span> c) <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> write(<span class="predefined-type">String</span> s) <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> write(<span class="predefined-type">String</span> s, <span class="type">int</span> off, <span class="type">int</span> len) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>ResponseWriter</em> class extends
<em>java.io.Writer</em>, and therefore inherits these method signatures for
low-level output. The <em>close()</em> method flushes the underlying output
writer, and causes any further attempts to output characters to throw an
<em>IOException</em>. The <em>flush</em> method flushes any buffered information to
the underlying output writer, and commits the response. The <em>write</em>
methods write raw characters directly to the output writer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="predefined-type">String</span> getContentType();
<span class="directive">public</span> <span class="directive">abstract</span> <span class="predefined-type">String</span> getCharacterEncoding();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the content type or character encoding
used to create this ResponseWriter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> startCDATA();
<span class="directive">public</span> <span class="type">void</span> endCDATA();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Start and end an XML CDATA Section..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> startDocument() <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> endDocument() <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Write appropriate characters at the beginning
(<em>startDocument</em>) or end (<em>endDocument</em>) of the current response.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> startElement(<span class="predefined-type">String</span> name,
    UIComponent componentForElement) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Write the beginning of a markup element (the
<em>&lt;</em> character followed by the element name), which causes the
<em>ResponseWriter</em> implementation to note internally that the element is
open. This can be followed by zero or more calls to <em>writeAttribute</em> or
<em>writeURIAttribute</em> to append an attribute name and value to the
currently open element. The element will be closed (i.e. the trailing
<em>&gt;</em> added) on any subsequent call to <em>startElement()</em>, <em>writeComment()</em>,
<em>writeText()</em>, <em>endDocument()</em>, <em>close()</em>, <em>flush()</em>, or
<em>write()</em>. The <em>componentForElement</em> parameter tells the
<em>ResponseWriter</em> which <em>UIComponent</em> this element corresponds to, if
any. This parameter may be null to indicate that the element has no
corresponding component. The presence of this parameter allows tools to
provide their own implementation of <em>ResponseWriter</em> to allow the design
time environment to know which component corresponds to which piece of
markup.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> endElement(<span class="predefined-type">String</span> name) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Write a closing for the specified element,
closing any currently opened element first if necessary.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> writeComment(<span class="predefined-type">Object</span> comment) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Write a comment string wrapped in appropriate
comment delimiters, after converting the comment object to a <em>String</em>
first. Any currently opened element is closed first.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> writeAttribute(<span class="predefined-type">String</span> name, <span class="predefined-type">Object</span> value,
    <span class="predefined-type">String</span> componentPropertyName) <span class="directive">throws</span> <span class="exception">IOException</span>;

<span class="directive">public</span> <span class="type">void</span> writeURIAttribute(<span class="predefined-type">String</span> name, <span class="predefined-type">Object</span> value,
    <span class="predefined-type">String</span> componentPropertyName) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>These methods add an attribute name/value
pair to an element that was opened with a previous call to
<em>startElement()</em>, throwing an exception if there is no currently open
element. The <em>writeAttribute()</em> method causes character encoding to be
performed in the same manner as that performed by the <em>writeText()</em>
methods. The <em>writeURIAttribute()</em> method assumes that the attribute
value is a URI, and performs URI encoding (such as <em>%</em> encoding for
HTML). The <em>componentPropertyName</em>, if present, denotes the property on
the associated <em>UIComponent</em> for this element, to which this attribute
corresponds. The <em>componentPropertyName</em> parameter may be null to
indicate that this attribute has no corresponding property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> writeText(<span class="predefined-type">Object</span> text, <span class="predefined-type">String</span> property) <span class="directive">throws</span> <span class="exception">IOException</span>;
<span class="directive">public</span> <span class="type">void</span> writeText(<span class="type">char</span> text<span class="type">[]</span>, <span class="type">int</span> off, <span class="type">int</span> len) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Write text (converting from <em>Object</em> to
<em>String</em> first, if necessary), performing appropriate character encoding
and escaping. Any currently open element created by a call to
<em>startElement</em> is closed first.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> ResponseWriter cloneWithWriter(<span class="predefined-type">Writer</span> writer);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Creates a new instance of this
<em>ResponseWriter</em>, using a different <em>Writer</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="a3366"><a class="anchor" href="#a3366"></a>6.6. FacesContextFactory</h3>
<div class="paragraph">
<p>[P1-start-facesContextFactory]A single
instance of <em>jakarta.faces.context.FacesContextFactory</em> must be made
available to each Jakarta Faces-based web application running in a servlet or
portlet container.[P1-end] This class is primarily of use by Jakarta Faces
implementors—applications will not generally call it directly. The
factory instance can be acquired, by Jakarta Faces implementations or by
application code, by executing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">FacesContextFactory factory = (FacesContextFactory)
    FactoryFinder.getFactory(FactoryFinder.FACES_CONTEXT_FACTORY);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>FacesContextFactory</em> implementation
class provides the following method signature to create (or recycle from
a pool) a <em>FacesContext</em> instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> FacesContext getFacesContext(<span class="predefined-type">Object</span> context,
    <span class="predefined-type">Object</span> request, <span class="predefined-type">Object</span> response, Lifecycle lifecycle);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create (if necessary) and return a
<em>FacesContext</em> instance that has been configured based on the specified
parameters. In a servlet environment, the first argument is a
<em>ServletContext</em>, the second a <em>ServletRequest</em> and the third a
<em>ServletResponse</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="a3375"><a class="anchor" href="#a3375"></a>6.7. ExceptionHandlerFactory</h3>
<div class="paragraph">
<p>[P1-start-exceptionHandlerFactory]A single
instance of <em>jakarta.faces.context.ExceptionHandlerFactory</em> must be made
available to each Jakarta Faces-based web application running in a servlet or
portlet container.[P1-end] The factory instance can be acquired, by Jakarta Faces
implementations or by application code, by executing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ExceptionHandlerFactory factory = (ExceptionHandlerFactory)
    FactoryFinder.getFactory(FactoryFinder.EXCEPTION_HANDLER_FACTORY);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>ExceptionHandlerFactory</em> implementation
class provides the following method signature to create an
<em>ExceptionHandler</em> instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ExceptionHandler getExceptionHandler(FacesContext currentContext);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create and return a <em>ExceptionHandler</em>
instance that has been configured based on the specified parameters.</p>
</div>
</div>
<div class="sect2">
<h3 id="a3384"><a class="anchor" href="#a3384"></a>6.8. ExternalContextFactory</h3>
<div class="paragraph">
<p>[P1-start-externalContextFactory]A single
instance of <em>jakarta.faces.context.ExternalContextFactory</em> must be made
available to each Jakarta Faces-based web application running in a servlet or
portlet container.[P1-end] This class is primarily of use by Jakarta Faces
implementors—applications will not generally call it directly. The
factory instance can be acquired, by Jakarta Faces implementations or by
application code, by executing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ExternalContextFactory factory = (ExternalContextFactory)
    FactoryFinder.getFactory(FactoryFinder.EXTERNAL_CONTEXT_FACTORY);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>ExternalContextFactory</em> implementation
class provides the following method signature to create (or recycle from
a pool) a <em>FacesContext</em> instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ExternalContext getExternalContext(
<span class="predefined-type">Object</span> context, <span class="predefined-type">Object</span> request, <span class="predefined-type">Object</span> response);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create (if necessary) and return an
<em>ExternalContext</em> instance that has been configured based on the
specified parameters. In a servlet environment, the first argument is a
<em>ServletContext</em>, the second a <em>ServletRequest</em> and the third a
<em>ServletResponse</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="application-integration"><a class="anchor" href="#application-integration"></a>7. Application Integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Previous chapters of this specification have
described the component model, request state information, and the next
chapter describes the rendering model for Jakarta Server Faces user
interface components. This chapter describes APIs that are used to link
an application’s business logic objects, as well as convenient pluggable
mechanisms to manage the execution of an application that is based on
Jakarta Server Faces. These classes are in the <em>jakarta.faces.application</em>
package.</p>
</div>
<div class="paragraph">
<p>Access to application related information is
centralized in an instance of the <em>Application</em> class, of which there is
a single instance per application based on Jakarta Server Faces.
Applications will typically provide one or more implementations of
<em>ActionListener</em> (or a method that can be referenced by an <em>action</em>
expression) in order to respond to <em>ActionEvent</em> events during the
<em>Apply Request Values</em> or <em>Invoke Application</em> phases of the request
processing lifecycle. Finally, a standard implementation of
<em>NavigationHandler</em> (replaceable by the application or framework) is
provided to manage the selection of the next view to be rendered.</p>
</div>
<div class="sect2">
<h3 id="a3400"><a class="anchor" href="#a3400"></a>7.1. Application</h3>
<div class="paragraph">
<p>There must be a single instance of
<em>Application</em> per web application that is utilizing Jakarta Server Faces. It
can be acquired by calling the <em>getApplication()</em> method on the
<em>FacesContext</em> instance for the current request, or the
<em>getApplication()</em> method of the <em>ApplicationFactory</em> (see
<a href="#a3542">ApplicationFactory</a>), and provides
default implementations of features that determine how application logic
interacts with the Jakarta Faces implementation. Advanced applications (or
application frameworks) can install replacements for these default
implementations, which will be used from that point on. Access to
several integration objects is available via JavaBeans property getters
and setters, as described in the following subsections.</p>
</div>
<div class="sect3">
<h4 id="a3402"><a class="anchor" href="#a3402"></a>7.1.1. ActionListener Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">ActionListener</span> getActionListener();
<span class="directive">public</span> <span class="type">void</span> setActionListener(<span class="predefined-type">ActionListener</span> listener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return or replace an <em>ActionListener</em>
instance that will be utilized to process <em>ActionEvent</em> events during
the <em>Apply Request Values</em> or <em>Invoke Application</em> phase of the request
processing lifecycle. [P1-start default ActionListener requirements] The
Jakarta Faces implementation must provide a default implementation
<em>ActionListener</em> that performs the following functions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>processAction()</em> method must first call
<em>FacesContext.renderResponse()</em> in order to bypass any intervening
lifecycle phases, once the method returns.</p>
</li>
<li>
<p>The <em>processAction()</em> method must next
determine the logical outcome of this event, as follows:</p>
<div class="ulist">
<ul>
<li>
<p>If the originating component has a non-null
<em>action</em> property, retrieve the <em>MethodBinding</em> and call <em>invoke()</em> to
perform the application-specified processing in this action method. If
the method returns non- <em>null</em>, call <em>toString()</em> on the result and use
the value returned as the logical outcome. See
<a href="#a1092">Properties</a> for a decription of the
<em>action</em> property.</p>
</li>
<li>
<p>Otherwise, the logical outcome is <em>null</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The processAction() method must
finally retrieve the <em>NavigationHandler</em> instance for this application,
and pass the logical outcome value (determined above) as a parameter to
the <em>handleNavigation()</em> method of the <em>NavigationHandler</em> instance. If
the originating component has an attribute whose name is equal to the
value of the symbolic constant
<em>ActionListener.TO_FLOW_DOCUMENT_ID_ATTR_NAME</em>, invoke
<em>handleNavigation(FacesContext, String, String, String)</em> passing the
value of the attribute as the last parameter. Otherwise, invoke
<em>handleNavigation(FacesContext, String, String)</em>. In either case, the
first <em>String</em> argument is the expression string of the <em>fromAction</em> and
the second <em>String</em> argument is the logical outcome.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the Javadocs for getActionListener() for
important backwards compatability information.</p>
</div>
</div>
<div class="sect3">
<h4 id="defaultrenderkitid-property"><a class="anchor" href="#defaultrenderkitid-property"></a>7.1.2. DefaultRenderKitId Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getDefaultRenderKitId();
<span class="directive">public</span> <span class="type">void</span> setDefaultRenderKitId(<span class="predefined-type">String</span> defaultRenderKitId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>An application may specify the render kit
identifier of the <em>RenderKit</em> to be used by the <em>ViewHandler</em> to render
views for this application. If not specified, the default render kit
identifier specified by <em>RenderKitFactory.HTML_BASIC_RENDER_KIT</em> will be
used by the default <em>ViewHandler</em> implementation.</p>
</div>
<div class="paragraph">
<p>[P1-start defaultRenderKit called after
startup] Unless the application has provided a custom <em>ViewHandler</em> that
supports the use of multiple RenderKit instances in the same
application, this method may only be called at application startup,
before any Faces requests have been processed. [P1-end] This is a
limitation of the current Specification, and may be lifted in a future
release.</p>
</div>
</div>
<div class="sect3">
<h4 id="flowhandler-property"><a class="anchor" href="#flowhandler-property"></a>7.1.3. FlowHandler Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> FlowHandler getFlowHandler();
<span class="directive">public</span> <span class="type">void</span> setFlowHandler(FlowHandler handler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return or replace the <em>FlowHandler</em> that will
be used by the <em>NavigationHandler</em> to make decisions about navigating
application flow. See <a href="#a3840">FlowHandler</a> for
an overview of the flow feature.</p>
</div>
<div class="paragraph">
<p>[P1-start flowHandler called after startup]
<em>setFlowHandler()</em> may only be called at application startup, before any
Faces requests have been processed. [P1-end] This is a limitation of the
current Specification, and may be lifted in a future release.
<em>getFlowHandler()</em> may be called at any time after application startup.</p>
</div>
</div>
<div class="sect3">
<h4 id="navigationhandler-property"><a class="anchor" href="#navigationhandler-property"></a>7.1.4. NavigationHandler Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> NavigationHandler getNavigationHandler();
<span class="directive">public</span> <span class="type">void</span> setNavigationHandler(NavigationHandler handler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return or replace the <em>NavigationHandler</em>
instance (see <a href="#a3561">NavigationHandler</a>) that
will be passed the logical outcome of the application <em>ActionListener</em>
as described in the previous subsection. A default implementation must
be provided, with functionality described in
<a href="#a3571">Default NavigationHandler Algorithm</a>:</p>
</div>
</div>
<div class="sect3">
<h4 id="statemanager-property"><a class="anchor" href="#statemanager-property"></a>7.1.5. StateManager Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> StateManager getStateManager();
<span class="directive">public</span> <span class="type">void</span> setStateManager(StateManager manager);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return or replace the <em>StateManager</em> instance
that will be utilized during the <em>Restore View</em> and <em>Render Response</em>
phases of the request processing lifecycle to manage state persistence
for the components belonging to the current view. A default
implementation must be provided, which operates as described in
<a href="#a4117">StateManager</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a3435"><a class="anchor" href="#a3435"></a>7.1.6. ELResolver Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ELResolver getELResolver();
<span class="directive">public</span> <span class="type">void</span> addELResolver(ELResolver resolver);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[N/T-start elresolver test] Return the
ELResolver instance to be used for all Expression Language resolution. This is actually
an instance of jakarta.el.CompositeELResolver that must contain the
ELResolver instances as specified in <em><a href="#a2822">ELResolver for Facelets and Programmatic Access</a></em>. [N/T-end]</p>
</div>
<div class="paragraph">
<p>[N/T-start addELResolver ordering]
addELResolver must cause the argument resolver to be added at the end of
the list in the jakarta.el.CompositeELResolver returned from
getELResolver(). See the diagram in <em><a href="#a2822">ELResolver for Facelets and Programmatic Access</a></em> [N/T-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="elcontextlistener-property"><a class="anchor" href="#elcontextlistener-property"></a>7.1.7. ELContextListener Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> addELContextListener(ELContextListener listener);
<span class="directive">public</span> <span class="type">void</span> removeELContextListener(ELContextListener listener);
<span class="directive">public</span> ELContextListener<span class="type">[]</span> getELContextListeners();</code></pre>
</div>
</div>
<div class="paragraph">
<p>addELContextListener() registers an
ELContextListener for the current Faces application. This listener will
be notified on creation of ELContext instances, and it will be called
once per request.</p>
</div>
<div class="paragraph">
<p>removeELContextListener() removes the
argument listener from the list of ELContextListeners. If listener is
null, no exception is thrown and no action is performed. If listener is
not in the list, no exception is thrown and no action is performed.</p>
</div>
<div class="paragraph">
<p>getELContextListeners() returns an array
representing the list of listeners added by calls to
addELContextListener().</p>
</div>
</div>
<div class="sect3">
<h4 id="a3450"><a class="anchor" href="#a3450"></a>7.1.8. ViewHandler Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ViewHandler getViewHandler();
<span class="directive">public</span> <span class="type">void</span> setViewHandler(ViewHandler handler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="#a3871">ViewHandler</a> for the description of the ViewHandler. The Jakarta Faces
implementation must provide a default <em>ViewHandler</em> implementation. This
implementation may be replaced by calling <em>setViewHandler()</em> before the
first time the <em>Render Response</em> phase has executed. [P1-start
setViewHandler() called after startup] If a call is made to
<em>setViewHandler()</em> after the first time the <em>Render Response</em> phase has
executed, the call must be ignored by the implementation. [P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a3455"><a class="anchor" href="#a3455"></a>7.1.9. ProjectStage Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ProjectStage getProjectStage();</code></pre>
</div>
</div>
<div class="paragraph">
<p> [P1-start getProjectStage]This method
must return the enum constant from the class
<em>jakarta.faces.application.ProjectStage</em> as specified in the corresponding
application init parameter, JNDI entry, or default Value. See
<a href="UsingJSFInWebApplications.html#a6088">Application Configuration
Parameters</a>.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a3459"><a class="anchor" href="#a3459"></a>7.1.10. Acquiring ExpressionFactory Instance</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ExpressionFactory getExpressionFactory();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the ExpressionFactory instance for
this application. This instance is used by the
evaluateExpressionGet (<em><a href="#a3463">See Programmatically Evaluating Expressions</a></em>) convenience method.</p>
</div>
<div class="paragraph">
<p>[P1-start getExpressionFactory
requirements] The default implementation simply returns the
ExpressionFactory from the Jakarta Server Pages container by calling
JspFactory.getDefaultFactory().getJspApplicationContext(servletContext).getExpressionFactory().[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a3463"><a class="anchor" href="#a3463"></a>7.1.11. Programmatically Evaluating Expressions</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> evaluateExpressionGet(FacesContext context,
    <span class="predefined-type">String</span> expression, <span class="predefined-type">Class</span> expectedType)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Get a value by evaluating an expression.</p>
</div>
<div class="paragraph">
<p>Call
<em>getExpressionFactory().createValueExpression()</em> passing the argument
<em>expression</em> and <em>expectedType</em>. Call <em>FacesContext.getELContext()</em> and
pass it to <em>ValueExpression.getValue()</em>, returning the result.</p>
</div>
<div class="paragraph">
<p>It is also possible and sometimes desireable
to obtain the actual <em>ValueExpression</em> or <em>MethodExpression</em> instance
directly. This can be accomplished by using the
<em>createValueExpression()</em> or <em>createMethodExpression()</em> methods on the
<em>ExpressionFactory</em> returned from <em>getExpressionFactory()</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a3468"><a class="anchor" href="#a3468"></a>7.1.12. Object Factories</h4>
<div class="paragraph">
<p>The <em>Application</em> instance for a web
application also acts as an object factory for the creation of new Jakarta Faces
objects such as components, converters, validators and behaviors..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIComponent createComponent(<span class="predefined-type">String</span> componentType);
<span class="directive">public</span> UIComponent createComponent(
    <span class="predefined-type">String</span> componentType, <span class="predefined-type">String</span> rendererType);

<span class="directive">public</span> Converter createConverter(<span class="predefined-type">Class</span> targetClass);
<span class="directive">public</span> Converter createConverter(<span class="predefined-type">String</span> converterId);
<span class="directive">public</span> <span class="predefined-type">Validator</span> createValidator(<span class="predefined-type">String</span> validatorId);
<span class="directive">public</span> Behavior createBehavior(<span class="predefined-type">String</span> behaviorId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each of these methods creates a new instance
of an object of the requested type <a href="#a9088">6</a>, based on the
requested identifier. The names of the implementation class used for
each identifier is normally provided by the Jakarta Faces implementation
automatically (for standard classes described in this Specification), or
in one or more application configuration resources (see
<a href="UsingJSFInWebApplications.html#a6195">Application Configuration Resources</a>)
included with a Jakarta Faces web application, or embedded in a JAR file
containing the corresponding implementation classes.</p>
</div>
<div class="paragraph">
<p>All variants <em>createConverter()</em> must take
some action to inspect the converter for <em>@ResourceDependency</em> and
<em>@ListenerFor</em> annotations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIComponent createComponent(ValueExpression componentExpression,
    FacesContext context, <span class="predefined-type">String</span> componentType);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start createComponent(ValueExpression)
requirements] This method has the following behavior:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call the <em>getValue()</em> method on the specified
<em>ValueExpression</em>, in the context of the specified <em>FacesContext</em>. If
this results in a non-null <em>UIComponent</em> instance, return it as the
value of this method.</p>
</li>
<li>
<p>If the getValue() call did not return
a component instance, create a new component instance of the specified
component type, pass the new component to the s <em>etValue()</em> method of
the specified ValueExpression, and return it.[P1-end]</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIComponent createComponent(
    FacesContext context, Resource componentResource);</code></pre>
</div>
</div>
<div class="paragraph">
<p>All variants <em>createComponent()</em> must take
some action to inspect the component for <em>@ResourceDependency</em> and
<em>@ListenerFor</em> annotations. Please see the JavaDocs and
<a href="#a1671">Composite Component Metadata</a> for the
normative specification relating to this method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addComponent(<span class="predefined-type">String</span> componentType, <span class="predefined-type">String</span> componentClass);
<span class="directive">public</span> <span class="type">void</span> addConverter(<span class="predefined-type">Class</span> targetClass, <span class="predefined-type">String</span> converterClass);
<span class="directive">public</span> <span class="type">void</span> addConverter(<span class="predefined-type">String</span> converterId, <span class="predefined-type">String</span> converterClass);
<span class="directive">public</span> <span class="type">void</span> addValidator(<span class="predefined-type">String</span> validatorId, <span class="predefined-type">String</span> validatorClass);
<span class="directive">public</span> <span class="type">void</span> addBehavior(<span class="predefined-type">String</span> behaviorId, <span class="predefined-type">String</span> behaviorClass);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Jakarta Faces-based applications can register
additional mappings of identifiers to a corresponding fully qualified
class name, or replace mappings provided by the Jakarta Faces implementation in
order to customize the behavior of standard Jakarta Faces features. These methods
are also used by the Jakarta Faces implementation to register mappings based on
<em>&lt;component&gt;</em>, <em>&lt;converter&gt;</em>, <em>&lt;behavior&gt;</em> and <em>&lt;validator&gt;</em> elements
discovered in an application configuration resource.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">String</span>&gt; getComponentTypes();
<span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">String</span>&gt; getConverterIds();
<span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">Class</span>&gt; getConverterTypes();
<span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">String</span>&gt; getValidatorIds();
<span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">String</span>&gt; getBehaviorIds();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Jakarta Faces-based applications can ask the
<em>Application</em> instance for a list of the registered identifiers for
components, converters, and validators that are known to the instance.</p>
</div>
<div class="sect4">
<h5 id="a3510"><a class="anchor" href="#a3510"></a>7.1.12.1. Default Validator Ids</h5>
<div class="paragraph">
<p>From the list of mappings of <em>validatorId</em> to
fully qualified class name, added to the application via calls to
<em>addValidator()</em>, the application maintains a subset of that list under
the heading of default validator ids. The following methods provide
access to the default validator ids registered on an application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addDefaultValidatorId(<span class="predefined-type">String</span> validatorId);
<span class="directive">public</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">String</span>&gt; getDefaultValidatorInfo();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The required callsites for these methods are
specified in <a href="#a1419">Validation Registration</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="internationalization-support"><a class="anchor" href="#internationalization-support"></a>7.1.13. Internationalization Support</h4>
<div class="paragraph">
<p>The following methods and properties allow an
application to describe its supported locales, and to provide
replacement text for standard messages created by Jakarta Faces objects.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">Locale</span>&gt; getSupportedLocales();
<span class="directive">public</span> <span class="type">void</span> setSupportedLocales(<span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Locale</span>&gt; newLocales);
<span class="directive">public</span> <span class="predefined-type">Locale</span> getDefaultLocale();
<span class="directive">public</span> <span class="type">void</span> setDefaultLocale(<span class="predefined-type">Locale</span> newLocale);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Jakarta Faces applications may state the <em>Locale</em> s
they support (and the default <em>Locale</em> within the set of supported
<em>Locale</em>s) in the application configuration resources file. The setters
for the following methods must be called when the configuration
resources are parsed. Each time the setter is called, the previous value
is overwritten.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getMessageBundle();
<span class="directive">public</span> <span class="type">void</span> setMessageBundle(<span class="predefined-type">String</span> messageBundle);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Specify the fully qualified name of the
ResourceBundle from which the Jakarta Faces implementation will acquire message
strings that correspond to standard message keys See
<a href="#a584">Localized Application Messages</a> for a
list of the standard message keys recognized by Jakarta Faces.</p>
</div>
</div>
<div class="sect3">
<h4 id="a3526"><a class="anchor" href="#a3526"></a>7.1.14. System Event Methods</h4>
<div class="paragraph">
<p>System events are described in
<a href="#a1359">System Events</a>. This section describes
the methods defined on <em>Application</em> that support system events</p>
</div>
<div class="sect4">
<h5 id="subscribing-to-system-events"><a class="anchor" href="#subscribing-to-system-events"></a>7.1.14.1. Subscribing to system events</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">void</span> subscribeToEvent(<span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> SystemEvent&gt;
    systemEventClass, SystemEventListener listener)

<span class="directive">public</span> <span class="directive">abstract</span> <span class="type">void</span> subscribeToEvent(<span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> SystemEvent&gt;
    systemEventClass, <span class="predefined-type">Class</span> sourceClass, SystemEventListener listener);

<span class="directive">public</span> <span class="directive">abstract</span> <span class="type">void</span> publishEvent(<span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> SystemEvent&gt;
    systemEventClass, SystemEventListenerHolder source);

<span class="directive">public</span> <span class="type">void</span> publishEvent(<span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> SystemEvent&gt;
    systemEventClass, <span class="predefined-type">Class</span>&lt;?&gt; sourceBaseType, <span class="predefined-type">Object</span> source)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first variant of <em>subscribeToEvent()</em>
subscribes argument <em>listener</em> to have its <em>isListenerForSource()</em>
method, and (depending on the result from <em>isListenerForSource()</em>) its
<em>processEvent()</em> method called any time any call is made to
<em>Application.publishEvent(Class&lt;? extends SystemEvent&gt; systemEventClass,
SystemEventListenerHolder source)</em> where the first argument in the call
to <em>publishEvent()</em> is equal to the first argument to
<em>subscribeToEvent()</em>. [P1-start eventClassAndInheritance] <em>NOTE</em> : The
implementation must not support subclasses for the <em>systemEventClass</em>
and/or <em>sourceClass</em> arguments to <em>subscribeToEvent()</em> or
<em>publishEvent()</em>.[P1-end] For example, consider two event types,
<em>SuperEvent</em> and <em>SubEvent extends SuperEvent</em>. If a listener
subscribes to <em>SuperEvent.class</em> events, but later someone publishes a
<em>SubEvent.class</em> event (which extends <em>SuperEvent</em>), the listener for
<em>SuperEvent.class</em> must not be called.</p>
</div>
<div class="paragraph">
<p>The second variant of <em>subscribeToEvent()</em> is
equivalent to the first, with the additional constraint the the
<em>sourceClass</em> argument to <em>publishEvent()</em> must be equal to the <em>Class</em>
object obtained by calling <em>getClass()</em> on the <em>source</em> argument to
<em>publishEvent()</em>.</p>
</div>
<div class="paragraph">
<p>See the javadocs for both variants of
<em>subscribeForEvent()</em> for the complete specification of these methods.</p>
</div>
<div class="paragraph">
<p><em>publishEvent()</em> is called by the system at
several points in time during the runtime of a Jakarta Faces application. The
specification for when <em>publishEvent()</em> is called is given in the
javadoc for the event classes that are listed in
<a href="#a1308">Event Classes</a>. See the javadoc for
<em>publishEvent()</em> for the complete specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="unsubscribing-from-system-events"><a class="anchor" href="#unsubscribing-from-system-events"></a>7.1.14.2. Unsubscribing from system events</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">void</span> unsubscribeFromEvent(<span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> SystemEvent&gt;
    systemEventClass, SystemEventListener listener);

<span class="directive">public</span> <span class="directive">abstract</span> <span class="type">void</span> unsubscribeFromEvent(<span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> SystemEvent&gt;
    systemEventClass, <span class="predefined-type">Class</span> sourceClass, SystemEventListener listener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>See the javadocs for both variants of
<em>unsubscribeFromEvent()</em> for the complete specification.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a3542"><a class="anchor" href="#a3542"></a>7.2. ApplicationFactory</h3>
<div class="paragraph">
<p>A single instance of
<em>jakarta.faces.application.ApplicationFactory</em> must be made available to
each Jakarta Faces-based web application running in a servlet or portlet
container. The factory instance can be acquired by Jakarta Faces implementations
or by application code, by executing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ApplicationFactory factory = (ApplicationFactory)
    FactoryFinder.getFactory(FactoryFinder.APPLICATION_FACTORY);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>ApplicationFactory</em> implementation class
supports the following methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Application getApplication();
<span class="directive">public</span> <span class="type">void</span> setApplication(Application application);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return or replace the <em>Application</em> instance
for the current web application. The Jakarta Faces implementation must provide a
default <em>Application</em> instance whose behavior is described in
<a href="#a3400">Application</a>.</p>
</div>
<div class="paragraph">
<p>Note that applications will generally find it
more convenient to access the <em>Application</em> instance for this
application by calling the <em>getApplication()</em> method on the
<em>FacesContext</em> instance for the current request.</p>
</div>
</div>
<div class="sect2">
<h3 id="a3553"><a class="anchor" href="#a3553"></a>7.3. Application Actions</h3>
<div class="paragraph">
<p>An <em>application action</em> is an
application-provided method on some Java class that performs some
application-specified processing when an <em>ActionEvent</em> occurs, during
either the <em>Apply Request Values</em> or the <em>Invoke Application</em> phase of
the request processing lifecycle (depending upon the <em>immediate</em>
property of the <em>ActionSource</em> instance initiating the event).</p>
</div>
<div class="paragraph">
<p>Application action is not a formal Jakarta Faces API;
instead any method that meets the following requirements may be used as
an Action by virtue of evaluating a method binding expression:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The method must be public.</p>
</li>
<li>
<p>The method must take no parameters.</p>
</li>
<li>
<p>The method must return <em>Object</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The action method will be called by the
default <em>ActionListener</em> implementation, as described in
<a href="#a3402">ActionListener Property</a> above. Its
responsibility is to perform the desired application actions, and then
return a logical “outcome” (represented as a <em>String</em>) that can be used
by a <em>NavigationHandler</em> in order to determine which view should be
rendered next. The action method to be invoked is defined by a
<em>MethodBinding</em> that is specified in the <em>action</em> property of a
component that implements <em>ActionSource</em>. Thus, a component tree with
more than one such <em>ActionSource</em> component can specify individual
action methods to be invoked for each activated component, either in the
same Java class or in different Java classes.</p>
</div>
</div>
<div class="sect2">
<h3 id="a3561"><a class="anchor" href="#a3561"></a>7.4. NavigationHandler</h3>
<div class="sect3">
<h4 id="a3562"><a class="anchor" href="#a3562"></a>7.4.1. Overview</h4>
<div class="paragraph">
<p>Most Jakarta Faces applications can be thought of as a
directed graph of views, each node of which roughly corresponds to the
user’s perception of “location” within the application. Applications
that use the Faces Flows feature have additional kinds of nodes in the
directed graph. In any case, navigating the nodes of this graph is the
responsibility of the <em>NavigationHandler</em>. A single <em>NavigationHandler</em>
instance is responsible for consuming the logical outcome returned by an
application action that was invoked, along with additional state
information that is available from the <em>FacesContext</em> instance for the
current request, and (optionally) selecting a new view to be rendered.
If the outcome returned by the applicationaction is <em>null</em> or the empty
string, and none of the navigation cases that map to the current view
identifier have a non-null condition expression, the same view must be
re-displayed. This is a change from the old behavior. As of pre-Jakarta Faces JSF 2.0 (under the JCP), the
NavigationHandler is consulted even on a <em>null</em> outcome, but under this
circumstance it only checks navigation cases that do not specify an
outcome (no &lt;from-outcome&gt;) and have a condition expression (specified
with &lt;if&gt;). This is the only case where the same view (and component
tree) is re-used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> handleNavigation(FacesContext context,
    <span class="predefined-type">String</span> fromAction, <span class="predefined-type">String</span> outcome);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>handleNavigation</em> method may select a
new view by calling <em>createView()</em> on the <em>ViewHandler</em> instance for
this application, optionally customizing the created view, and then
selecting it by calling the <em>setViewRoot()</em> method on the <em>FacesContext</em>
instance that is passed. Alternatively, the <em>NavigationHandler</em> can
complete the actual response (for example, by issuing an HTTP redirect),
and call <em>responseComplete()</em> on the <em>FacesContext</em> instance.</p>
</div>
<div class="paragraph">
<p>After a return from the <em>handleNavigation</em>
method, control will normally proceed to the <em>Render Response</em> phase of
the request processing lifecycle (see <a href="#a457">Render Response</a>), which will cause the newly selected view to be
rendered. If the <em>NavigationHandler</em> called the <em>responseComplete()</em>
method on the <em>FacesContext</em> instance, however, the <em>Render Response</em>
phase will be bypassed.</p>
</div>
<div class="paragraph">
<p>Jakarta Faces also contains the <em>ConfigurableNavigationHandler</em> interface, which extends
the contract of the <em>NavigationHandler</em> to include two additional
methods that accommodate runtime inspection of the NavigationCases that
represent the rule-based navigation metamodel. The method
<em>getNavigationCase</em> consults the <em>NavigationHandler</em> to determine which
<em>NavigationCase</em> the <em>handleNavigation</em> method would resolve for a given
"from action" expression and logical outcome combination. The method
<em>getNavigationCases</em> returns a java.util.Map of all the <em>NavigationCase</em>
instances known to this <em>NavigationHandler</em>. Each key in the map is a
from view ID and the cooresponding value is a java.util.Set of
NavigationCases for that from view ID.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> NavigationCase getNavigationCase(FacesContext context,
    <span class="predefined-type">String</span> fromAction, <span class="predefined-type">String</span> outcome);

<span class="directive">public</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Set</span>&lt;NavigationCase&gt;&gt; getNavigationCases();</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-configurablenavhandler]A Jakarta Faces
compliant-implemention must ensure that its <em>NavigationHandler</em>
implements the <em>ConfigurableNavigationHandler</em> interface. The
<em>handleNavigation</em> and <em>getNavigation</em> Case methods should use the same
logic to resolve a <em>NavigationCase</em>, which is outlined in the next
section.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a3571"><a class="anchor" href="#a3571"></a>7.4.2. Default NavigationHandler Algorithm</h4>
<div class="paragraph">
<p>Jakarta Faces implementations must provide a default
<em>NavigationHandler</em> implementation that maps the action reference that
was utilized (by the default <em>ActionListener</em> implementation) to invoke
an application action, the logical outcome value returned by that
application action, as well as other state information, into the view
identifier for the new view or flow node to be selected. The remainder
of this section describes the functionality provided by this default
implementation.</p>
</div>
<div class="paragraph">
<p>The behavior of the default
<em>NavigationHandler</em> implementation is configured, at web application
startup time, from the contents of zero or more <em>application
configuration resources</em> (see <a href="UsingJSFInWebApplications.html#a6195">Application Configuration Resources</a>). The configuration information is
represented as zero or more <em>&lt;navigation-rule&gt;</em> elements, each keyed to
a matching pattern for the <em>view identifier</em> of the current view
expressed in a <em>&lt;from-view-id&gt;</em> element. This matching pattern must be
either an exact match for a view identifier (such as “/index.jsp” if you
are using the default <em>ViewHandler</em>), or the prefix of a component view
id, followed by an asterisk (“*”) character. A matching pattern of “*”,
or the lack of a <em>&lt;from-view-id&gt;</em> element inside a <em>&lt;navigation-rule&gt;</em>
rule, indicates that this rule matches any possible component view
identifier.</p>
</div>
<div class="paragraph">
<p>Version 2.2 of the specification introduced
the Faces Flows feature. [P1-start-FlowNavigationConstraints] With
respect to the navigation algorithm, any text that references a <em>view
identifier</em>, such as <em>&lt;from-view-id&gt;</em> or <em>&lt;to-view-id&gt;</em>, can also
refer to a flow node, subject to these constraints.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When outside of a flow, <em>view identifier</em> has
the additional possibility of being a flow id.</p>
</li>
<li>
<p>When inside a flow, a <em>view
identifier</em> has the additional possibility of being the id of any node
within the current flow.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the specification needs to refer to a
<em>view identifier</em> that is an actual VDL view (and not a VDL view or a
flow, or flow node), the term <em>vdl view identifier</em> will be used.</p>
</div>
<div class="paragraph">
<p>Nested within each <em>&lt;navigation-rule&gt;</em>
element are zero or more <em>&lt;navigation-case&gt;</em> elements that contain
additional matching criteria based on the action reference expression
value used to select an application action to be invoked (if any), and
the logical outcome returned by calling the <em>invoke()</em> method of that
application action <em><a href="#a9089">7</a></em>. Navigation
cases support a condition element, &lt;if&gt;, whose content must be a single,
contiguous value expression expected to resolve to a boolean value (if
the content does not match this requirement, the condition is
ignored) <a href="#a9090">8</a>. When the &lt;if&gt; element is present, the
value expression it contains must evaluate to true when the navigation
case is being consulted in order for the navigation case to
match <a href="#a9092">9</a>. Finally, the &lt;navigation-case&gt; element
contains a &lt;to-view-id&gt; element, whose content is either the view
identifier or a value expression that resolves to the view identifier.
If the navigation case is a match, this view identifier is to be
selected and stored in the FacesContext for the current request
following the invocation of the NavigationHandler. See below for an
example of the configuration information for the default
<em>NavigationHandler</em> might be configured.</p>
</div>
<div class="paragraph">
<p>It is permissible for the application
configuration resource(s) used to configure the default
<em>NavigationHandler</em> to include more than one <em>&lt;navigation-rule&gt;</em> element
with the same <em>&lt;from-view-id&gt;</em> matching pattern. For the purposes of the
algorithm described below, all of the nested <em>&lt;navigation-case&gt;</em>
elements for all of these rules shall be treated as if they had been
nested inside a single <em>&lt;navigation-rule&gt;</em> element.</p>
</div>
<div class="paragraph">
<p>[P1-start navigation handler requirements]
The default <em>NavigationHandler</em> implementation must behave as if it were
performing the following algorithm (although optimized implementation
techniques may be utilized):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If no navigation case is matched by a call to
the handleNavigation() method, this is an indication that the current
view should be redisplayed. A null outcome does not
unconditionally cause all navigation rules to be skipped.</p>
</li>
<li>
<p>Find a <em>&lt;navigation-rule&gt;</em> element for which
the view identifier (of the view in the <em>FacesContext</em> instance for the
current request) matches the <em>&lt;from-view-id&gt;</em> matching pattern of the
<em>&lt;navigation-rule&gt;</em>. Rule instances are considered in the following
order:</p>
<div class="ulist">
<ul>
<li>
<p>An exact match of the view identifier against
a <em>&lt;from-view-id&gt;</em> pattern that does not end with an asterisk (“*”)
character.</p>
</li>
<li>
<p>For <em>&lt;from-view-id&gt;</em> patterns that end with
an asterisk, an exact match on characters preceding the asterisk against
the prefix of the view id. If the patterns for multiple navigation rules
match, pick the longest matching prefix first.</p>
</li>
<li>
<p>If there is a <em>&lt;navigation-rule&gt;</em> with a
<em>&lt;from-view-id&gt;</em> pattern of only an asterisk <a href="#a9093">10</a>, it
matches any view identifier.</p>
</li>
</ul>
</div>
</li>
<li>
<p>From the <em>&lt;navigation-case&gt;</em> elements nested
within the matching <em>&lt;navigation-rule&gt;</em> element, locate a matching
navigation case by matching the <em>&lt;from-action&gt;</em> and <em>&lt;from-outcome&gt;</em>
values against the <em>fromAction</em> and outcome parameter values passed to
the <em>handleNavigation()</em> method. To match an outcome value of null, the
<em>&lt;from-outcome&gt;</em> must be absent and the <em>&lt;if&gt;</em> element present.
Regardless of outcome value, if the <em>&lt;if&gt;</em> element is present, evaluate
the content of this element as a value expression and only select the
navigation case if the expression resolves to true. Navigation cases are
checked in the following order:</p>
<div class="ulist">
<ul>
<li>
<p>Cases specifying both a <em>&lt;from-action&gt;</em> value
and a <em>&lt;from-outcome&gt;</em> value are matched against the <em>action</em> expression
and <em>outcome</em> parameters passed to the <em>handleNavigation()</em> method (both
parameters must be not null, and both must be equal to the corresponding
condition values, in order to match).</p>
</li>
<li>
<p>Cases that specify only a <em>&lt;from-outcome&gt;</em>
value are matched against the <em>outcome</em> parameter passed to the
<em>handleNavigation()</em> method (which must be not null, and equal to the
corresponding condition value, to match).</p>
</li>
<li>
<p>Cases that specify only a <em>&lt;from-action&gt;</em>
value are matched against the <em>action</em> expression parameter passed to
the <em>handleNavigation()</em> method (which must be non-null, and equal to
the corresponding condition value, to match; if the &lt;if&gt; element is
absent, only match a non-null outcome; otherwise, match any outcome).</p>
</li>
<li>
<p>Any remaining case is assumed to match so
long as the outcome parameter is non-null or the &lt;if&gt; element is
present.</p>
</li>
<li>
<p>For cases that match up to this point and
contain an &lt;if&gt; element, the condition value expression must be
evaluated and the resolved value true for the case to match.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If a matching <em>&lt;navigation-case&gt;</em> element was
located, proceed as follows.</p>
<div class="ulist">
<ul>
<li>
<p>If the <em>&lt;to-view-id&gt;</em> element is the
id of a flow, discover that flow’s start node and resolve it to a <em>vdl
view identifier</em> by following the algorithm in
<a href="#a3622">Requirements for Explicit Navigation in
Faces Flow Call Nodes other than ViewNodes</a></p>
</li>
<li>
<p>If the <em>&lt;to-view-id&gt;</em> element is a non-view
flow node, resolve it to a <em>vdl view identifier</em> by following the
algorithm in <a href="#a3622">Requirements for Explicit
Navigation in Faces Flow Call Nodes other than ViewNodes</a>.</p>
</li>
<li>
<p>If <em>UIViewAction.isProcessingBroadcast()</em>
returns <em>true</em>, call <em>getFlash().setKeepMessages(true)</em> on the current
<em>FacesContext</em>. Compare the viewId of the current viewRoot with the
<em>&lt;to-view-id&gt;</em> of the matching <em>&lt;navigation-case&gt;</em>. If they differ,
take any necessary actions to effectively restart the Jakarta Faces lifecycle on
the <em>&lt;to-view-id&gt;</em> of the matching <em>&lt;navigation-case&gt;</em>. Care must be
taken to preserve any view parameters or navigation case parameters,
clear the view map of the <em>UIViewRoot</em>, and call <em>setRenderAll(true)</em>
on the <em>PartialViewContext</em>. Implementations may choose to meet this
requirement by treating this case as if a <em>&lt;redirect /&gt;</em> was specified
on the matching <em>&lt;navigation-case&gt;</em>. If the viewIds do not differ,
continue on to the next bullet point.</p>
</li>
<li>
<p>Clear the view map if the viewId of the new
<em>UIViewRoot</em> differs from the viewId of the current <em>UIViewRoot</em>.</p>
</li>
<li>
<p>If the <em>&lt;redirect/&gt;</em> element was <em>not</em>
specified in this <em>&lt;navigation-case&gt;</em> (or the application is running in
a Portlet environment, where redirects are not possible), use the
<em>&lt;to-view-id&gt;</em> element of the matching case to request a new
<em>UIViewRoot</em> instance from the <em>ViewHandler</em> instance for this
application. Call <em>transition()</em> on the <em>FlowHandler</em>, passing the
current <em>FacesContext</em>, the current flow, the new flow and the
<em>facesFlowCallNode</em> corresponding to this faces flow call, if any. Pass
the new <em>UIViewRoot</em> to the <em>setViewRoot()</em> method of the <em>FacesContext</em>
instance for the current request.</p>
<div class="paragraph">
<p>Then, exit the algorithm. If the content of
&lt;to-view-id&gt; is a value expression, first evaluate it to obtain the
value of the view id.</p>
</div>
</li>
<li>
<p>If the <em>&lt;redirect/&gt;</em> element <em>was</em> specified
in this <em>&lt;navigation-case&gt;</em>, or this invocation of <em>handleNavigation()</em>
was due to a <em>UIViewAction</em> broadcast event where the new <em>viewId</em> is
different from the current <em>viewId</em>, resolve the <em>&lt;to-view-id&gt;</em> to a
view identifier, using the algorithm in <em><a href="#a3622">Requirements for Explicit Navigation in Faces Flow Call Nodes other than
ViewNodes</a></em>. Call <em>getRedirectURL()</em> on the <em>ViewHandler</em>, passing the
current <em>FacesContext</em>, the <em>&lt;to-view-id&gt;</em>, any name=value parameter
pairs specified within <em>&lt;view-param&gt;</em> elements within the <em>&lt;redirect&gt;</em>
element, and the value of the <em>include-view-params</em> attribute of the
<em>&lt;redirect /&gt;</em> element if present, <em>false</em>, if not. If this navigation
is a flow transition (where current flow is not the same as the new
flow), include the relevant flow metadata as entries in the <em>parameters</em>
.</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>If current flow is not null and new flow is
null, include the following entries:
<em>FlowHandler.TO_FLOW_DOCUMENT_ID_REQUEST_PARAM_NAME</em>:
<em>FlowHandler.NULL_FLOW</em><br>
<em>FlowHandler.FLOW_ID_REQUEST_PARAM_NAME</em>: “” (the empty string)</p>
</li>
<li>
<p>If current flow is null and new flow is not
null, include the following entries:<br>
<em>FlowHandler.TO_FLOW_DOCUMENT_ID_REQUEST_PARAM_NAME</em>: The to flow
document id<br>
<em>FlowHandler.FLOW_ID_REQUEST_PARAM_NAME</em>: the flow id for the flow that
is the destination of the transition.</p>
</li>
<li>
<p>If the <em>parameters</em> map has entries for
either of these keys, both of the entries must be replaced with the new
values. This allows the call to <em>FlowHandler.clientWindowTransition()</em>
to perform correctly when the GET request after the redirect happens.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>The return from <em>getRedirectURL()</em> is the
value to be sent to the client to which the redirect will occur. Call
<em>getFlash().setRedirect(true)</em> on the current <em>FacesContext</em>. Cause the
current response to perform an HTTP redirect to this path, and call
<em>responseComplete()</em> on the <em>FacesContext</em> instance for the current
request. If the content of &lt;to-view-id&gt; is a value expression, first
evaluate it to obtain the value of the view id.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>If no matching <em>&lt;navigation-case&gt;</em> element
was located, return to Step 1 and find the next matching
<em>&lt;navigation-rule&gt;</em> element (if any). If there are no more matching rule
elements, execute the following algorithm to search for an implicit
match based on the current <em>outcome</em>. This implicit matching algorithm
also includes navigating within the current faces flow, and returning
from the current faces flow.</p>
<div class="ulist">
<ul>
<li>
<p>Let <em>outcome</em> be <em>viewIdToTest</em>.</p>
</li>
<li>
<p>Examine the <em>viewIdToTest</em> for the presence
of a “?” character, indicating the presence of a URI query string. If
one is found, remove the query string from <em>viewIdToTest</em>, including
the leading “<em>?</em>” and let it be <em>queryString</em>, look for the string
“<em>faces-redirect=true</em>” within the query string. If found, let
<em>isRedirect</em> be <em>true</em>, otherwise let <em>isRedirect</em> be <em>false</em>. Look
for the string “<em>includeViewParams=true</em>” or
“<em>faces-include-view-params=true</em>”. If either are found, let
<em>includeViewParams</em> be <em>true</em>, otherwise let <em>includeViewParams</em> be
<em>false</em>. When performing preemptive navigation, redirect is implied,
even if the navigation case doesn&#8217;t indicate it, and the query string
must be preserved. Refer to <a href="#a2060">UIOutcomeTarget</a> for more information on preemptive navigation.</p>
</li>
<li>
<p>If <em>viewIdToTest</em> does not have a “file
extension”, take the file extension from the current <em>viewId</em> and append
it properly to <em>viewIdToTest</em>.</p>
</li>
<li>
<p>If <em>viewIdToTest</em> does not begin with “/”,
take the current <em>viewId</em> and look for the last “<em>/</em>”. If not found,
prepend a “<em>/</em>” and continue. Otherwise remove all characters in
<em>viewId</em> after, but not including, “<em>/</em>”, then append <em>viewIdToTest</em>
and let the result be <em>viewIdToTest</em>.</p>
</li>
<li>
<p>Obtain the current ViewHandler and call its
<em>deriveViewId()</em> method, passing the current <em>FacesContext</em> and
<em>viewIdToTest</em>. If <em>UnsupportedOperationException</em> is thrown, which
will be the case if the <em>ViewHandler</em> is a Pre-Jakarta Faces JSF 1.1 or 1.2 (under the JCP) <em>ViewHandler</em>,
the implementation must ensure the algorithm described for
<em>ViewHandler.deriveViewId()</em> specified in
<em><a href="#a3910">Default ViewHandler Implementation</a></em> is
performed. Let the result be <em>implicitViewId</em>.</p>
</li>
<li>
<p>If <em>implicitViewId</em> is non-<em>null</em>, discover
if <em>fromOutcome</em> is equal to the flow-id of an existing flow in the
<em>FlowHandler</em>. If so find the start node of the flow. If the start node
is a <em>ViewNode</em>, let <em>viewIdToTest</em> be the <em>vdlDocumentId</em> value of the
<em>ViewNode</em>. Call <em>deriveViewId</em> as in the preceding step and let the
result be <em>implicitViewId</em>. If <em>fromOutcome</em> is not equal to the
flow-id of an existing flow in the <em>FlowHandler</em>, and we are currently
in a flow, discover if this is call to a <em>faces-flow-return</em> node. If
so, obtain the <em>fromOutcome</em> of the <em>faces-flow-return</em> node, re-apply
this algorithm to derive the value of the <em>implicitViewId</em> and continue.</p>
</li>
<li>
<p>If the <em>implicitViewId</em> is non-<em>null</em>, take
the following action. If <em>isRedirect</em> is <em>true</em>, append the
<em>queryString</em> to <em>implicitViewId</em>. Let <em>implicitNavigationCase</em> be a
conceptual <em>&lt;navigation-case&gt;</em> element whose <em>fromViewId</em> is the current
<em>viewId</em>, <em>fromAction</em> is passed through from the arguments to
<em>handleNavigation()</em>, <em>fromOutcome</em> is passed through from the
arguments to <em>handleNavigation()</em>, <em>toViewId</em> is <em>implicitViewId</em>, and
<em>redirect</em> is the value of <em>isRedirect</em>, and <em>include-view-params</em> is
<em>includeViewParams</em>. Treat <em>implicitNavigationCase</em> as a matching
navigation case and return to the first step above that starts with “If
a matching <em>&lt;navigation-case&gt;</em> element was located&#8230;&#8203;”.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If <em>UIViewAction.isProcessingBroadcast()</em>
returns <em>true</em>, call <em>getFlash().setKeepMessages(true)</em> on the current
<em>FacesContext</em>. Compare the viewId of the current viewRoot with the
effective <em>&lt;to-view-id&gt;</em> of the matching <em>&lt;navigation-case&gt;</em>. If they
differ, take any necessary actions effectively restart the Jakarta Faces lifecycle
on the effective <em>&lt;to-view-id&gt;</em> of the matching <em>&lt;navigation-case&gt;</em>.
Care must be taken to preserve any view parameters or navigation case
parameters, clear the view map of the <em>UIViewRoot</em>, and call
<em>setRenderAll(true)</em> on the <em>PartialViewContext</em>.</p>
</li>
<li>
<p>If none of the above steps found a matching
<em>&lt;navigation-case&gt;</em>, perform the steps in
<a href="#a3622">Requirements for Explicit Navigation in
Faces Flow Call Nodes other than ViewNodes</a> to find a matching
<em>&lt;navigation-case&gt;</em>.</p>
</li>
<li>
<p>If none of the above steps found a matching
<em>&lt;navigation-case&gt;</em>, if <em>ProjectStage</em> is not <em>Production</em> render a
message in the page that explains that there was no match for this
outcome.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A rule match always causes a new view to be
created, losing the state of the old view. This includes clearing out
the view map.</p>
</div>
<div class="paragraph">
<p>Query string parameters may be contributed by
three different sources: the outcome (implicit navigation), a nested
<em>&lt;f:param&gt;</em> on the component tag (e.g., <em>&lt;h:link&gt;</em>, <em>&lt;h:button&gt;</em>,
<em>&lt;h:commandLink&gt;</em>, <em>&lt;h:commandButton&gt;</em>), and view parameters. When a
redirect URL is built, whether it be by the N <em>avigationHandler</em> on a
redirect case or a <em>UIOutcomeTarget</em> renderer, the query string
parameter sources should be consulted in the following order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the outcome (implicit navigation)</p>
</li>
<li>
<p>view parameter</p>
</li>
<li>
<p>nested <em>&lt;f:param&gt;</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a query string parameter is found in two
or more sources, the latter source must replace all instances of the
query string parameter from the previous source(s).</p>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
<div class="sect4">
<h5 id="a3622"><a class="anchor" href="#a3622"></a>7.4.2.1. Requirements for Explicit Navigation in Faces Flow Call Nodes other than ViewNodes</h5>
<div class="paragraph">
<p>[P1-start ExplicitNavigationNonViewFlowNode
requirements] These steps must be performed in this order to determine
the <em>vdl view identifier</em> when navigating to a flow node that is not a
view node.</p>
</div>
<div class="paragraph">
<p>Algorithm for resolving a <em>nodeId</em> to a <em>vdl
view identifier</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <em>nodeId</em> is a view node, let <em>vdl view
identifier</em> be the value of <em>nodeId</em> and exit the algorithm.</p>
</li>
<li>
<p>If the node is a <em>SwitchNode</em>, iterate over
the <em>NavigationCase</em> instances returned from its <em>getCases()</em> method.
For each, one call <em>getCondition()</em>. If the result is <em>true</em>, let
<em>nodeId</em> be the value of its <em>fromOutcome</em> property.</p>
</li>
<li>
<p>If the node is a <em>MethodCallNode</em>, let
<em>nodeId</em> be the value invoking the value of its <em>methodExpression</em>
property. If the result is <em>null</em>, let <em>nodeId</em> be the value of the
<em>MethodCallNode</em>’s <em>outcome</em> property.</p>
</li>
<li>
<p>If the node is a <em>FlowCallNode</em>, save it
aside as <em>facesFlowCallNode</em>. Let <em>flowId</em> be the value of its
<em>calledFlowId</em> property and <em>flowDocumentId</em> be the value of its
<em>calledFlowDocumentId</em> property. If no <em>flowDocumentId</em> exists for the
node, let it be the string resulting from <em>flowId + “/” + flowId<br>
“.xhtml”</em>. Ask the <em>FlowHandler</em> for a <em>Flow</em> for this <em>flowId</em>,
<em>flowDocumentId</em> pair. Obtain a reference to the start node and execute
this algorithm again, on that start node.</p>
</li>
<li>
<p>If the node is a <em>ReturnNode</em> obtain its
navigation case and call <em>FlowHandler.pushReturnMode()</em>. This enables
the navigation to proceed with respect to the calling flow’s navigation
rules, or the application’s navigation rules if there is no calling
flow. Start the navigation algorithm over using it as the basis but pass
the value of the symbolic constant
<em>jakarta.faces.flow.FlowHandler.NULL_FLOW</em> as the value of the
<em>toFlowDocumentId</em> argument. If this does not yield a navigation case,
call <em>FlowHandler.getLastDisplayedViewId()</em>, which will return the last
displayed view id of the calling flow, or <em>null</em> if there is no such
flow. In a <em>finally</em> block, when the re-invocation of the navigation
algorithms completes, call <em>FlowHandler.popReturnMode()</em>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="requirements-for-entering-a-flow"><a class="anchor" href="#requirements-for-entering-a-flow"></a>7.4.2.2. Requirements for Entering a Flow</h5>
<div class="paragraph">
<p>[P1-start FlowEntryRequirements] If any of
the preceding navigation steps cause a flow to be entered, the
implementation must perform the following steps, in this order, before
continuing with navigation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make it so any <em>@FlowScoped</em> beans for this
flow are able to be activated when an Expression Language expression that references them
is evaluated.</p>
</li>
<li>
<p>Call the initializer for the flow, if any.</p>
</li>
<li>
<p>Proceed to the start node of the flow, which
may be any flow node type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An attempt to navigate into a flow other than
via the identified start node of that throw should cause a
<em>FacesException</em>.</p>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="requirements-for-exiting-a-flow"><a class="anchor" href="#requirements-for-exiting-a-flow"></a>7.4.2.3. Requirements for Exiting a Flow</h5>
<div class="paragraph">
<p>[P1-start FlowExitRequirements] If any of the
preceding navigation steps cause a flow to be exited, the implementation
must perform the following steps, in this order, before continuing with
navigation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call the finalizer for the flow, if any.</p>
</li>
<li>
<p>De-activate any <em>@FlowScoped</em> beans for the
current flow.</p>
</li>
<li>
<p>If exiting via a return node ensure the
return parameters are correctly passed back to the caller.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="requirements-for-calling-a-flow-from-the-current-flow"><a class="anchor" href="#requirements-for-calling-a-flow-from-the-current-flow"></a>7.4.2.4. Requirements for Calling A Flow from the Current Flow</h5>
<div class="paragraph">
<p>[P1-start FlowExitRequirements] If any of the
preceding navigation steps cause a flow to be called from another flow,
the <em>transition()</em> method on <em>FlowHandler</em> will ensure parameters are
correctly passed.</p>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a3646"><a class="anchor" href="#a3646"></a>7.4.3. Example NavigationHandler Configuration</h4>
<div class="paragraph">
<p>The following <em>&lt;navigation-rule&gt;</em> elements
might appear in one or more application configuration resources (see
<a href="UsingJSFInWebApplications.html#a6195">Application Configuration Resources</a>) to
configure the behavior of the default <em>NavigationHandler</em>
implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;navigation-rule&gt;</span>
  <span class="tag">&lt;description&gt;</span>
    APPLICATION WIDE NAVIGATION HANDLING
  <span class="tag">&lt;/description&gt;</span>
  <span class="tag">&lt;from-view-id&gt;</span> * <span class="tag">&lt;/from-view-id&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      Assume there is a “Logout” button on every page that
      invokes the logout Action.
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Generic Logout Button<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{userBean.logout}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/logout.jsp<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      Handle a generic error outcome that might be returned
      by any application Action.
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Generic Error Outcome<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-outcome&gt;</span>loginRequired<span class="tag">&lt;/from-outcome&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/must-login-first.jsp<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      Illustrate paramaters
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;from-outcome&gt;</span>redirectPasswordStrength<span class="tag">&lt;/from-outcome&gt;</span>
    <span class="tag">&lt;redirect&gt;</span>
      <span class="tag">&lt;view-param&gt;</span>
        <span class="tag">&lt;name&gt;</span>userId<span class="tag">&lt;/name&gt;</span>
        <span class="tag">&lt;value&gt;</span>someValue<span class="tag">&lt;/value&gt;</span>
      <span class="tag">&lt;/view-param&gt;</span>
      <span class="tag">&lt;include-view-params&gt;</span>true<span class="tag">&lt;/include-view-params&gt;</span>
    <span class="tag">&lt;/redirect&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>
<span class="tag">&lt;/navigation-rule&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;navigation-rule&gt;</span>
  <span class="tag">&lt;description&gt;</span>
    LOGIN PAGE NAVIGATION HANDLING
  <span class="tag">&lt;/description&gt;</span>
  <span class="tag">&lt;from-view-id&gt;</span> /login.jsp <span class="tag">&lt;/from-view-id&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      Handle case where login succeeded.
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Successful Login<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{userBean.login}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;from-outcome&gt;</span>success<span class="tag">&lt;/from-outcome&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/home.jsp<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      User registration for a new user succeeded.
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Successful New User Registration<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{userBean.register}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;from-outcome&gt;</span>success<span class="tag">&lt;/from-outcome&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/welcome.jsp<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      User registration for a new user failed because of a
      duplicate username.
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Failed New User Registration<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{userBean.register}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;from-outcome&gt;</span>duplicateUserName<span class="tag">&lt;/from-outcome&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/try-another-name.jsp<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>
<span class="tag">&lt;/navigation-rule&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;navigation-rule&gt;</span>
  <span class="tag">&lt;description&gt;</span>
    Assume there is a search form on every page. These navigation
    cases get merged with the application-wide rules above because
    they use the same “from-view-id” pattern. The same thing would
    also happen if “from-view-id” was omitted here, because that is
    equivalent to a matching pattern of “*”.
  <span class="tag">&lt;/description&gt;</span>
  <span class="tag">&lt;from-view-id&gt;</span> * <span class="tag">&lt;/from-view-id&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Search Form Success<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{searchForm.go}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;from-outcome&gt;</span>success<span class="tag">&lt;/from-outcome&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/search-results.jsp<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Search Form Failure<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{searchForm.go}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/search-problem.jsp<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>
<span class="tag">&lt;/navigation-rule&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;navigation-rule&gt;</span>
  <span class="tag">&lt;description&gt;</span>
    Searching works slightly differently in part of the site.
  <span class="tag">&lt;/description&gt;</span>
  <span class="tag">&lt;from-view-id&gt;</span> /movies/* <span class="tag">&lt;/from-view-id&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Search Form Success<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{searchForm.go}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;from-outcome&gt;</span>success<span class="tag">&lt;/from-outcome&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/movie-search-results.jsp<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Search Form Failure<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#\{searchForm.go}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/search-problem.jsp<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>
<span class="tag">&lt;/navigation-rule&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">public void savePizza();

<span class="tag">&lt;navigation-rule&gt;</span>
  <span class="tag">&lt;description&gt;</span>
    Pizza topping selection navigation handling
  <span class="tag">&lt;/description&gt;</span>
  <span class="tag">&lt;from-view-id&gt;</span>/selectToppings.xhtml<span class="tag">&lt;/from-view-id&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      Case where pizza is saved but there is additional cost
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Pizza saved w/ extras<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{pizzaBuilder.savePizza}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;if&gt;</span>#{pizzaBuilder.additionalCost}<span class="tag">&lt;/if&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/approveExtras.xhtml<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      Case where pizza is saved and additional pizzas are needed
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Pizza saved, additional pizzas needed<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{pizzaBuilder.savePizza}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;if&gt;</span>#{not order.complete}<span class="tag">&lt;/if&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/createPizza.xhtml<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      Handle case where pizza is saved and order is complete
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Pizza complete<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{pizzaBuilder.savePizza}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;if&gt;</span>#{order.complete}<span class="tag">&lt;/if&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/cart.xhtml<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>
<span class="tag">&lt;/navigation-rule&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">public String placeOrder();

<span class="tag">&lt;navigation-rule&gt;</span>
  <span class="tag">&lt;description&gt;</span>
    Cart navigation handling
  <span class="tag">&lt;/description&gt;</span>
  <span class="tag">&lt;from-view-id&gt;</span>/cart.xhtml<span class="tag">&lt;/from-view-id&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      Handle case where account has one click delivery enabled
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Place order w/ one-click delivery<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{pizzaBuilder.placeOrder}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;if&gt;</span>#{account.oneClickDelivery}<span class="tag">&lt;/if&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/confirmation.xhtml<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>

  <span class="tag">&lt;navigation-case&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      Handle case where delivery information is required
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>Place order w/o one-click delivery<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;from-action&gt;</span>#{pizzaBuilder.placeOrder}<span class="tag">&lt;/from-action&gt;</span>
    <span class="tag">&lt;if&gt;</span>#{not account.oneClickDelivery}<span class="tag">&lt;/if&gt;</span>
    <span class="tag">&lt;to-view-id&gt;</span>/delivery.xhtml<span class="tag">&lt;/to-view-id&gt;</span>
  <span class="tag">&lt;/navigation-case&gt;</span>
<span class="tag">&lt;/navigation-rule&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a3840"><a class="anchor" href="#a3840"></a>7.5. FlowHandler</h3>
<div class="paragraph">
<p>Any Jakarta Faces application can be modeled as a
directed graph where the nodes are views and the edges are transitions
between the views. Faces Flows introduces several other kinds of nodes
to this directed graph, providing support for encapsulating related
views and edges together. Applications can be created as composites of
modules of functionality, with each module consisting of well defined
entry and exit conditions, and the ability to share state among the
nodes within each module. This feature is heavily influenced by the
design of ADF Task Flows in Oracle’s Fusion Middleware and also by
Spring Web Flow and Apache MyFaces CODI. The normative specification for
this feature proceeds from the Javadoc for the class
<em>jakarta.faces.flow.FlowHandler</em>, and also from related requirements in
<a href="#a3561">NavigationHandler</a>. This section
provides a non-normative usage example and walkthrough of feature so
that all the other parts of the specification that intersect with this
feature can be discovered.</p>
</div>
<div class="sect3">
<h4 id="non-normative-example"><a class="anchor" href="#non-normative-example"></a>7.5.1. Non-normative example</h4>
<div class="paragraph">
<p>Here is a simple example to introduce the
feature. It does not touch on all aspects of the feature. The example
has two flows, each of which calls the other, passing parameters. Any
view outside of a flow may navigate to either of the flows, named flow-a
and flow-b.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="data:image/png;base64,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" alt="image"></span></p>
</div>
<div class="paragraph">
<p>This diagram uses the following conventions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>view nodes are boxes</p>
</li>
<li>
<p>faces flow return nodes are circles</p>
</li>
<li>
<p>faces flow call nodes are boxes with the
corners chopped off</p>
</li>
<li>
<p><em>@FlowScoped</em> beans are rectangles
semi-circular short sides</p>
</li>
<li>
<p>the start node is marked “start”</p>
</li>
<li>
<p>inbound and outbound parameters are listed by
name</p>
</li>
<li>
<p>arrows show valid traversals among the nodes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These flows are identical, except for the
names of their constituents, and each has the following properties.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Three view nodes, one of which is the
implicit start node</p>
</li>
<li>
<p>One faces flow return node, each of which
returns the outcome “return1”</p>
</li>
<li>
<p>One flow call node, which calls the other
flow, with two outbound parameters, named to match up with the other
flow</p>
</li>
<li>
<p>Two inbound parameters, named to match up
with the other flow</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The different kinds of nodes mentioned in the
preceding discussion are defined in the javadoc for class
<em>jakarta.faces.flow.FlowHandler</em>.</p>
</div>
<div class="paragraph">
<p>Consider this simple web app, called
<em>basic_faces_flow_call.war</em>, containing the above mentioned flows. The
file layout for of the app is shown next. The example is shown using
maven war packaging</p>
</div>
<div class="literalblock">
<div class="content">
<pre>basic_faces_flow_call/
  pom.xml
  src/main/webapp/
             index.xhtml
             return1.xhtml
             WEB-INF/beans.xml
             flow-a/
               flow-a.xhtml
               next_a.xhtml
               next_b.xhtml
             flow-b/
               flow-b-flow.xml
               next_a.xhtml
               next_b.xhtml
  src/main/java/com/sun/faces/basic_faces_flow_call/
                                FlowA.java
                                Flow_a_Bean.java
                                Flow_b_Bean.java</pre>
</div>
</div>
<div class="paragraph">
<p>To complete the example, the execution of the
flows is examined. When the application containing these flows is
deployed, the runtime discovers the flow definitions and adds them to
the internal flow data structure. One flow is defined in
<em>flow-b-flow.xml</em>. This is an XML file conforming to the Application
Configuration Resources syntax described in
<a href="UsingJSFInWebApplications.html#a6195">Application Configuration Resources</a>.
The other flow is defined in <em>FlowA.java</em>, a class with a method with
the <em>@FlowDefinition</em> annotation. When the flow discovery is complete,
an application scoped, thread safe data structure containing the flow
definitions is available from the <em>jakarta.faces.flow.FlowHandler</em>
singleton. This data structure is navigable by the runtime via the
<em>jakarta.faces.flow.Flow</em> API.</p>
</div>
<div class="paragraph">
<p>When the user agent visits
<em><a href="http://localhost:8080/basic_faces_flow_call/faces/index.xhtml" class="bare">http://localhost:8080/basic_faces_flow_call/faces/index.xhtml</a></em>, they
see a page with two buttons, the actions of which are <em>flow-a</em>, and
<em>flow-b</em>, respectively. Clicking either button causes entry to the
corresponding flow. In this case, the user clicks the <em>flow-a</em> button.
The <em>@FlowScoped</em> bean <em>Flow_a_Bean</em> is instantiated by the container
and navigation proceeds immediately to the start node, in this case
<em>flow-a.xhtml</em>. The user proceeds directly to click a button taking
them to <em>next_a.xhtml</em>, and then to <em>next_b.xhtml</em>. On that page there
is a button whose action is <em>callB</em>. Clicking this button activates the
correspondingly named faces flow call node, which prepares the specified
outbound parameters, de-activates <em>Flow_a_Bean</em> and calls <em>flow-b</em>.</p>
</div>
<div class="paragraph">
<p>Upon entry to <em>flow-b</em>, the <em>@FlowScoped</em>
bean <em>Flow_b_Bean</em> is instantiated by the container, the outbound
parameters from <em>flow-a</em> are matched up with corresponding inbound
parameters on <em>flow-b</em> and navigation proceeds immediately to the start
node, in this case <em>flow-b.xhtml</em>. The user proceeds directly to click
a button taking them to <em>next_a.xhtml</em>, and then to <em>next_b.xhtml</em>. On
that page there is a button whose action is <em>taskFlowReturn1</em>. Clicking
this button causes <em>Flow_b_Bean</em> to be deactivated and navigation to the
view named <em>return1</em> to be performed.</p>
</div>
</div>
<div class="sect3">
<h4 id="non-normative-feature-overview"><a class="anchor" href="#non-normative-feature-overview"></a>7.5.2. Non-normative Feature Overview</h4>
<div class="paragraph">
<p>The normative requirements of the feature are
stated in the context of the part of the specification impacted. This
section gives the reader a non-normative overview of the feature that
touches on all the parts of the specification that intersect with this
feature.</p>
</div>
<div class="paragraph">
<div class="title"><em>Startup Time</em></div>
<p>At startup time, the runtime will discover
flows available for this application. <em>This behavior is normatively
specified in <a href="UsingJSFInWebApplications.html#a6228">Faces Flows</a> and in the XML
schema for the application configuration resources.</em></p>
</div>
<div class="paragraph">
<div class="title"><em>Invoke Application Time</em></div>
<p>The default <em>ActionListener</em> may need to take
special action when calling into a flow. <em>This behavior is normatively
specified in <a href="#a3402">ActionListener Property</a>.</em></p>
</div>
<div class="paragraph">
<p>The default <em>NavigationHandler</em>
implementation must use the <em>FlowHandler</em> during its operation. <em>This
behavior is normatively specified in <a href="#a3571">Default NavigationHandler Algorithm</a></em>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a3871"><a class="anchor" href="#a3871"></a>7.6. ViewHandler</h3>
<div class="paragraph">
<p><em>ViewHandler</em> is the pluggability mechanism
for allowing implementations of or applications using the Jakarta Server
Faces specification to provide their own handling of the activities in
the <em>Render Response</em> and <em>Restore View</em> phases of the request
processing lifecycle. This allows for implementations to support
different response generation technologies, as well as different state
saving/restoring approaches.</p>
</div>
<div class="paragraph">
<p>A Jakarta Faces implementation must provide a default
implementation of the <em>ViewHandler</em> interface. See
<a href="#a3450">ViewHandler Property</a> for information on
replacing this default implementation with another implementation.</p>
</div>
<div class="sect3">
<h4 id="a3874"><a class="anchor" href="#a3874"></a>7.6.1. Overview</h4>
<div class="paragraph">
<p>ViewHandler defines the public APIs
described in the following paragraphs</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Locale</span> calculateLocale(FacesContext context);
<span class="directive">public</span> <span class="predefined-type">String</span> calculateRenderKitId(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>These methods are called from <em>createView()</em>
to allow the new view to determine the <em>Locale</em> to be used for all
subsequent requests, and to find out which <em>renderKitId</em> should be used
for rendering the view.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> initView(FacesContext) <span class="directive">throws</span> FacesException;
<span class="directive">public</span> <span class="predefined-type">String</span> calculateCharacterEncoding(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>initView()</em> method must be called as the
first method in the implementation of the <em>Restore View Phase</em> of the
request processing lifecycle, immediately after checking for the
existence of the <em>FacesContext</em> parameter. See the javadocs for this
method for the specification.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> deriveViewId(FacesContext context, <span class="predefined-type">String</span> input);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>deriveViewId()</em> method is an
encapsulation of the viewId derivation algorithm in previous versions of
the specification. This method looks at the argument <em>input</em>, and the
current request and derives the <em>viewId</em> upon which the lifecycle will
be run.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIViewRoot createView(FacesContext context, <span class="predefined-type">String</span> viewId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create and return a new <em>UIViewRoot</em>
instance, initialized with information from the specified <em>FacesContext</em>
and view identifier parameters.</p>
</div>
<div class="paragraph">
<p>If the view being requested is a Facelet
view, the <em>createView()</em> method must ensure that the <em>UIViewRoot</em> is
fully populated with all the children defined in the VDL page before
<em>createView()</em> returns.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getActionURL(FacesContext context, <span class="predefined-type">String</span> viewId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns a URL, suitable for encoding and
rendering, that (if activated) will cause the Jakarta Faces request processing
lifecycle for the specified <em>viewId</em> to be executed</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getBookmarkableURL(FacesContext context, <span class="predefined-type">String</span> viewId,
    <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt;&gt; parameters, <span class="type">boolean</span> includeViewParams);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a Jakarta Faces action URL derived from the
viewId argument that is suitable to be used as the target of a link in a
Jakarta Faces response. The URL, if activated, would cause the browser to issue an
initial request to the specified viewId</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getRedirectURL(FacesContext context, <span class="predefined-type">String</span> viewId,
    <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt;&gt; parameters, <span class="type">boolean</span> includeViewParams);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a Jakarta Faces action URL derived from the
<em>viewId</em> argument that is suitable to be used by the <em>NavigationHandler</em>
to issue a redirect request to the URL using an initial request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getResourceURL(FacesContext context, <span class="predefined-type">String</span> path);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns a URL, suitable for encoding and
rendering, that (if activated) will retrieve the specified web
application resource.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> renderView(FacesContext context, UIViewRoot viewToRender)
    <span class="directive">throws</span> <span class="exception">IOException</span>, FacesException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method must be called during the <em>Render
Response</em> phase of the request processing lifecycle. It must provide a
valid <em>ResponseWriter</em> or <em>ResponseStream</em> instance, storing it in the
<em>FacesContext</em> instance for the current request (see
<a href="#a3198">ResponseStream and ResponseWriter</a>), and
then perform whatever actions are required to cause the view currently
stored in the <em>viewRoot</em> of the <em>FacesContext</em> instance for the current
request to be rendered to the corresponding writer or stream. It must
also interact with the associated <em>StateManager</em> (see
<a href="#a4117">StateManager</a>), by calling the
<em>getSerializedView()</em> and <em>saveView()</em> methods, to ensure that state
information for current view is saved between requests.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIViewRoot restoreView(FacesContext context,
    <span class="predefined-type">String</span> viewId) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method must be called from the <em>Restore
View</em> phase of the request processing lifecycle. It must perform
whatever actions are required to restore the view associated with the
specified <em>FacesContext</em> and <em>viewId</em>.</p>
</div>
<div class="paragraph">
<p>It is the caller’s responsibility to ensure
that the returned <em>UIViewRoot</em> instance is stored in the <em>FacesContext</em>
as the new <em>viewRoot</em> property. In addition, if <em>restoreView()</em> returns
<em>null</em> (because there is no saved state for this view identifier), the
caller must call <em>createView()</em>, and call <em>renderResponse()</em> on the
<em>FacesContext</em> instance for this request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> writeState(FacesContext context) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Take any appropriate action to either
immediately write out the current view’s state information (by calling
<em>StateManager.writeState()</em>), or noting where state information may
later be written. This method must be called once per call to the
<em>encodeEnd()</em> method of any renderer for a <em>UIForm</em> component, in order
to provide the <em>ViewHandler</em> an opportunity to cause saved state to be
included with each submitted form.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ViewDeclarationLanguage getViewDeclarationLanguage();</code></pre>
</div>
</div>
<div class="paragraph">
<p>See the javadocs for this method for the
specification.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; getProtectedViewsUnmodifiable();
<span class="directive">public</span> <span class="type">void</span> addProtectedView(<span class="predefined-type">String</span> urlPattern);
<span class="directive">public</span> <span class="type">boolean</span> removeProtectedView(<span class="predefined-type">String</span> urlPattern)</code></pre>
</div>
</div>
<div class="paragraph">
<p>See the javadocs for these methods for the
specification.</p>
</div>
</div>
<div class="sect3">
<h4 id="a3910"><a class="anchor" href="#a3910"></a>7.6.2. Default ViewHandler Implementation</h4>
<div class="paragraph">
<p>The terms <em>view identifier</em> and <em>viewId</em> are
used interchangeably below and mean the context relative path to the web
application resource that produces the view, such as a Jakarta Server Pages page or a
Facelets page. In the Jakarta Server Pages case, this is a context relative path to the
jsp page representing the view, such as <em>/foo.jsp</em>. In the Facelets
case, this is a context relative path to the XHTML page representing the
view, such as <em>/foo.xhtml</em>.</p>
</div>
<div class="paragraph">
<p>Jakarta Faces implementations must provide a default
<em>ViewHandler</em> implementation, along with a default
<em>ViewDeclarationLanguageFactory</em> implementation that vends
<em>ViewDeclarationLanguage</em> implementations designed to support the
rendering of Jakarta Server Pages pages containing Jakarta Faces components and Facelets pages
containing Jakarta Faces components. The default <em>ViewHandler</em> is specified in
this section and the default <em>ViewDeclarationLanguage</em> implementations
are specified in the following section.</p>
</div>
<div class="sect4">
<h5 id="a3913"><a class="anchor" href="#a3913"></a>7.6.2.1. ViewHandler Methods that Derive Information From the Incoming Request</h5>
<div class="paragraph">
<p>[P1-start ViewHandler.deriveViewId()
requirements] The <em>deriveViewId()</em> method must fulfill the following
responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the argument input is <em>null</em>, return
<em>null</em>.</p>
</li>
<li>
<p>If prefix mapping (such as “/faces/*”) is
used for <em>FacesServlet</em>, normalize the <em>viewId</em> according to the
following algorithm, or its semantic equivalent, and return it.</p>
<div class="ulist">
<ul>
<li>
<p>Remove any number of occurrences of the
prefix mapping from the viewId. For example, if the incoming value was
<em>/faces/faces/faces/view.xhtml</em> the result would be simply <em>view.xhtml</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If suffix mapping (such as “*.faces”) is used
for <em>FacesServlet</em>, the <em>viewId</em> is set using following algorithm.</p>
<div class="ulist">
<ul>
<li>
<p>Let <em>requestViewId</em> be the value of argument
<em>input</em>.</p>
</li>
<li>
<p>Consult the javadocs for
<em>ViewHandler.FACELETS_VIEW_MAPPINGS_PARAM_NAME</em> and perform the steps
necessary to obtain a value for that param (or its alias as in the
javadocs). Let this be <em>faceletsViewMappings</em>.</p>
</li>
<li>
<p>Obtain the value of the context
initialization parameter named by the symbolic constant
<em>ViewHandler.DEFAULT_SUFFIX_PARAM_NAME</em> (if no such context
initialization parameter is present, use the value of the symbolic
constant <em>ViewHandler.DEFAULT_SUFFIX</em>). Let this be
<em>jspDefaultSuffixes</em>. For each entry in the list from
<em>jspDefaultSuffixes</em>, replace the suffix of <em>requestViewId</em> with the
current entry from <em>jspDefaultSuffixes</em>. For discussion, call this
<em>candidateViewId</em>. For each entry in <em>faceletsViewMappings</em>, If the
current entry is a prefix mapping entry, skip it and continue to the
next entry. If <em>candidateViewId</em> is exactly equal to the current entry,
consider the algorithm complete with the result being <em>candidateViewId</em>.
If the current entry is a wild-card extension mapping, apply it
non-destructively to <em>candidateViewId</em> and look for a physical resource
with that name. If present, consider the algorithm complete with the
result being the name of the physical resource. Otherwise look for a
physical resource with the name <em>candidateViewId</em>. If such a resource
exists, consider the algorithm complete with the result being
<em>candidateViewId</em>. If there are no entries in <em>faceletsViewMappings</em>,
look for a physical resource with the name <em>candidateViewId</em>. If such a
resource exists, <em>candidateViewId</em> is the correct <em>viewId</em>.</p>
</li>
<li>
<p>Otherwise, obtain the value of the context
initialization parameter named by the symbolic constant
<em>ViewHandler.FACELETS_SUFFIX_PARAM_NAME</em>. (if no such context
initialization parameter is present, use the value of the symbolic
constant <em>ViewHandler.DEFAULT_FACELETS_SUFFIX</em>). Let this be
<em>faceletsDefaultSuffix</em>. Replace the suffix of <em>requestViewId</em> with
<em>faceletsDefaultSuffix</em>. For discussion, call this <em>candidateViewId</em>.
If a physical resource exists with that name, <em>candidateViewId</em> is the
correct <em>viewId</em>.</p>
</li>
<li>
<p>Otherwise, if a physical resource exists with
the name <em>requestViewId</em> let that value be <em>viewId</em>.</p>
</li>
<li>
<p>Otherwise return <em>null</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If an exact mapping (such as /foo) is used
for FacesServlet, the viewId is set using following algorithm.</p>
<div class="ulist">
<ul>
<li>
<p>Let <em>requestViewId</em> be the value of the
argument input.</p>
</li>
<li>
<p>Obtain the value of the context
initialization parameter named by the symbolic constant
<em>ViewHandler.FACELETS_SUFFIX_PARAM_NAME</em>. (if no such context
initialization parameter is present, use the value of the symbolic
constant <em>ViewHandler.DEFAULT_FACELETS_SUFFIX</em>). Let this be
<em>faceletsDefaultSuffix</em>.</p>
</li>
<li>
<p>Obtain the value of the context
initialization parameter named by the symbolic constant
<em>ViewHandler.DEFAULT_SUFFIX_PARAM_NAME</em> (if no such context
initialization parameter is present, use the value of the symbolic
constant <em>ViewHandler.DEFAULT_SUFFIX</em>). Let this be <em>defaultSuffixes</em>.</p>
</li>
<li>
<p>Add <em>faceletsDefaultSuffix</em> to
<em>defaultSuffixes</em>.</p>
</li>
<li>
<p>For each entry in the list from
<em>defaultSuffixes</em>, add that current entry to the end of <em>requestViewId</em>.
For discussion, call this <em>candidateViewId</em>. Look for a physical
resource with the name <em>candidateViewId</em>. If such a resource exists,
consider the algorithm complete with the result being <em>candidateViewId</em>.</p>
</li>
<li>
<p>Otherwise, if a physical resource exists with
the name <em>requestViewId</em> let that value be <em>viewId</em>. Otherwise return
<em>null</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The getViewDeclarationLanguage() must fulfill
the following responsibilites.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>See the javadocs for the normative
specification for this method.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start
ViewHandler.deriveLogicalViewId() requirements] The
<em>deriveLogicalViewId()</em> method is identical to <em>deriveViewId()</em> except
that it does not check for the existence of the resource. [P1-end]</p>
</div>
<div class="paragraph">
<p>[P1-start
ViewHandler.calculateCharacterEncoding() requirements] The
<em>calculateCharacterEncoding()</em> method must fulfill the following
responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Examine the <em>Content-Type</em> request header. If
it has a <em>charset</em> parameter extract it and return it.</p>
</li>
<li>
<p>If not, test for the existence of a
session by calling <em>getSession(false)</em> on the <em>ExternalContext</em> for this
<em>FacesContext</em>. If the session is non- <em>null</em>, look in the <em>Map</em>
returned by the <em>getSessionMap()</em> method of the <em>ExternalContext</em> for a
value under the key given by the value of the symbolic constant
<em>jakarta.faces.application.ViewHandler.CHARACTER_ENCODING_KEY</em>. If a
value is found, convert it to a String and return it. [P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start calculateLocale() requirements] The
<em>calculateLocale()</em> method must fulfill the following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Attempt to match one of the locales returned
by the <em>getLocales()</em> method of the <em>ExternalContext</em> instance for this
request, against the supported locales for this application as defined
in the application configuration resources. Matching is performed by the
algorithm described in Section JSTL.8.3.2 of the JSTL Specification. If
a match is found, return the corresponding <em>Locale</em> object.</p>
</li>
<li>
<p>Otherwise, if the application has specified a
default locale in the application configuration resources, return the
corresponding <em>Locale</em> object.</p>
</li>
<li>
<p>Otherwise, return the value returned
by calling <em>Locale.getDefault()</em>.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start calculateRenderKitId()
requirements] The <em>calculateRenderKitId()</em> method must fulfill the
following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Return the value of the request parameter
named by the symbolic constant
<em>ResponseStateManager.RENDER_KIT_ID_PARAM</em> if it is not <em>null</em>.</p>
</li>
<li>
<p>Otherwise, return the value returned by
<em>Application.getDefaultRenderKitId()</em> if it is not <em>null</em>.</p>
</li>
<li>
<p>Otherwise, return the value specified by the
symbolic constant <em>RenderKitFactory.HTML_BASIC_RENDER_KIT</em>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="viewhandler-methods-that-are-called-to-fill-a-specific-role-in-the-lifecycle"><a class="anchor" href="#viewhandler-methods-that-are-called-to-fill-a-specific-role-in-the-lifecycle"></a>7.6.2.2. ViewHandler Methods that are Called to Fill a Specific Role in the Lifecycle</h5>
<div class="paragraph">
<p>[P1-start createView() requirements]
The <em>createView()</em> method must obtain a reference to the
<em>ViewDeclarationLanguage</em> for this <em>viewId</em> and call its
<em>ViewDeclarationLanguage.createView()</em> method, returning the result and
not swallowing any exceptions thrown by that method.[P1-end]</p>
</div>
<div class="paragraph">
<p>[P1-start initView() requirements] The
<em>initView()</em> method must fulfill the following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>See the javadocs for this method for
the specification.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start renderView() requirements]
The <em>renderView()</em> method must obtain a reference to the
<em>ViewDeclarationLanguage</em> for the <em>viewId</em> of the argument
<em>viewToRender</em> and call its <em>ViewDeclarationLanguage.restoreView()</em>
method, returning the result and not swallowing any exceptions thrown by
that method.[P1-end]</p>
</div>
<div class="paragraph">
<p>[P1-start restoreView()
requirements]The <em>restoreView()</em> method must obtain a reference to the
<em>ViewDeclarationLanguage</em> for the <em>viewId</em> of the argument
<em>viewToRender</em> and call its <em>ViewDeclarationLanguage.restoreView()</em>
method, returning the result and not swallowing any exceptions thrown by
that method.[P1-end]</p>
</div>
<div class="paragraph">
<p>The <em>writeState()</em> method must fulfill the
following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Obtain the saved state stored in a
thread-safe manner during the invocation of <em>renderView()</em> and pass it
to the <em>writeState()</em> method of the <em>StateManager</em> for this application.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a3955"><a class="anchor" href="#a3955"></a>7.6.2.3. ViewHandler Methods Relating to Navigation</h5>
<div class="paragraph">
<p>[P1-start getActionURL() requirements] The
<em>getActionURL()</em> method must fulfill the following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the specified <em>viewId</em> does not start with
a “/”, throw <em>IllegalArgumentException</em>.</p>
</li>
<li>
<p>If exact mapping (such as /foo) is used for
FacesServlet, the following algorithm must be followed to derive the
result.</p>
<div class="ulist">
<ul>
<li>
<p>Retrieve the collection of existing mappings
of the FacesServlet, e.g. using <em>ServletRegistration#getMappings()</em>.
Let this be <em>facesServletMappings</em>. If the argument <em>viewId</em> has an
extension, then obtain the value of the context initialization parameter
named by the symbolic constant <em>ViewHandler.FACELETS_SUFFIX_PARAM_NAME</em>.
(if no such context initialization parameter is present, use the value
of the symbolic constant <em>ViewHandler.DEFAULT_FACELETS_SUFFIX</em>). Let
this be <em>faceletsDefaultSuffix</em>.</p>
</li>
<li>
<p>Obtain the value of the context
initialization parameter named by the symbolic constant
<em>ViewHandler.DEFAULT_SUFFIX_PARAM_NAME</em> (if no such context
initialization parameter is present, use the value of the symbolic
constant <em>ViewHandler.DEFAULT_SUFFIX</em>). Let this be <em>defaultSuffixes</em>.</p>
</li>
<li>
<p>Add <em>faceletsDefaultSuffix</em> to
<em>defaultSuffixes</em>.</p>
</li>
<li>
<p>For each entry in the list from
<em>defaultSuffixes</em>, if the extension of the argument <em>viewId</em> is equal
to this entry, remove the extension from <em>viewId</em>. For discussion, call
this <em>candidateViewId</em>.</p>
</li>
<li>
<p>Look if the <em>candidateViewId</em> is present in
<em>facesServletMappings</em>. If so,the result is <em>contextPath<br>
candidateViewId</em>.</p>
</li>
<li>
<p>If the argument <em>viewId</em> has no extension,
then look if the <em>viewId</em> is present in <em>facesServletMappings</em>. If so,
the result is <em>contextPath + viewId</em>.</p>
</li>
<li>
<p>If no result has been obtained, pick any
prefix mapping or extension mapping from <em>facesServletMappings</em>. If no
such mapping is found, throw an <em>IllegalStateException</em>.</p>
</li>
<li>
<p>If such mapping is found remove the "*"
character from that mapping, take that as the new mapping and continue
with evaluating this mapping as specified below for "if prefix mapping
[&#8230;&#8203;] is used" and for "if suffix mapping [&#8230;&#8203;] is used</p>
</li>
</ul>
</div>
</li>
<li>
<p>If prefix mapping (such as “/faces/*”) is
used for <em>FacesServlet</em>, prepend the context path of the current
application, and the specified prefix, to the specified viewId and
return the completed value. For example
“<em>/cardemo/faces/chooseLocale.jsp</em>”.</p>
</li>
<li>
<p>If suffix mapping (such as “*.faces”) is used
for <em>FacesServlet</em>, the following algorithm must be followed to derive
the result.</p>
<div class="ulist">
<ul>
<li>
<p>If the argument <em>viewId</em> has no extension,
the result is <em>contextPath + viewId + mapping</em>, where <em>contextPath</em> is
the context path of the current application, <em>viewId</em> is the argument
<em>viewId</em> and <em>mapping</em> is the value of the mapping (such as “*.faces”).</p>
</li>
<li>
<p>If the argument <em>viewId</em> has an extension,
and this extension is not <em>mapping</em>, the result is <em>contextPath<br>
viewId.substring(0, period) + mapping</em>.</p>
</li>
<li>
<p>If the argument <em>viewId</em> has an extension,
and this extension is <em>mapping</em>, the result is <em>contextPath + viewId</em>.
For example “<em>/cardemo/chooseLocale.faces</em>”</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the current view is one of the views to
which view protection must be applied, the returned URL must contain the
parameter with a name equal to the value of the constant defined by
<em>ResponseStateManager.NON_POSTBACK_VIEW_TOKEN_PARAM</em>. The value of this
parameter must be the return value from a call to
<em>ResponseStateManager.getCryptographicallyStrongTokenFromSession()</em>.
This parameter is inspected during the restore view phase (see
<a href="#a404">Restore View</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
<div class="paragraph">
<p>[P1-start getBookmarkableURL() requirements]
The <em>getBookmarkableURL()</em> method must fulfill the following
responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If argument <em>includeViewParams</em> is <em>true</em>,
obtain the view paramaters corresponding to the argument <em>viewId</em> and
append them to the <em>Map</em> given in argument <em>parameters</em>. Let the
resultant <em>Map</em> be called <em>paramsToEncode</em>.</p>
<div class="ulist">
<ul>
<li>
<p>If the <em>viewId</em> of the current <em>FacesContext</em>
is not equal to the argument <em>viewId</em>, get the
<em>ViewDeclarationLanguage</em> for the argument <em>viewId</em>, obtain its
<em>ViewMetadata</em>, call <em>createMetadataView()</em> on it, then call
<em>ViewMetadata.getViewParameters()</em> passing the return from
<em>createMetadataView()</em>. Let the result of this method be <em>toViewParams</em>.</p>
</li>
<li>
<p>If the <em>viewId</em> of the current <em>FacesContext</em>
is equal to the argument <em>viewId</em>, call
<em>ViewMetadata.getViewParameters()</em> passing the current <em>UIViewRoot</em>.
Let the result of this method be <em>toViewParams</em>.</p>
</li>
<li>
<p>If <em>toViewParams</em> is empty, take no further
action to add view parameters to this URL. Iterate over each
<em>UIViewParameter</em> element in <em>toViewParams</em> and take the following
actions on each element.</p>
</li>
<li>
<p>If the <em>Map</em> given by <em>parameters</em> has a key
equal to the <em>name</em> property of the current element, take no action on
the current element and continue iterating.</p>
</li>
<li>
<p>If the current <em>UIViewParameter</em> has a
<em>ValueExpression</em> under the key <em>“value”</em> (without the quotes), let
<em>value</em> be the result of calling <em>getStringValueFromModel()</em> on the
current <em>UIViewParameter</em>.</p>
</li>
<li>
<p>Otherwise, if the current <em>viewId</em> is the
same as the argument <em>viewId</em>, let <em>value</em> be the result of calling
<em>getStringValue()</em> on the current <em>UIViewParameter</em>.</p>
</li>
<li>
<p>Otherwise, if the current <em>viewId</em> is
different from the argument <em>viewId</em>, locate the <em>UIViewParameter</em>
instance in the current view whose name is equivalent to the current
element and let <em>value</em> be the result of calling <em>getStringValue()</em> on
the located <em>UIViewParameter</em>.</p>
</li>
<li>
<p>If the above steps yielded a non-<em>null</em>
<em>value</em>, find the <em>List&lt;String&gt;</em> value in the <em>parameters</em> map under
the key given by the <em>name</em> property of the current <em>UIViewParameter</em>
element. If such a <em>List</em> exists, add <em>value</em> to it. Otherwise create a
<em>List&lt;String&gt;</em>, add <em>value</em> to it, and add it to the <em>parameters</em> map
under the appropriate key.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If argument <em>includeViewParams</em> is <em>false</em>,
take no action to add additional entries to <em>paramaters</em>. Let
<em>paramsToEncode</em> be <em>parameters</em>.</p>
</li>
<li>
<p>Call <em>getActionURL()</em> on the argument
<em>viewId</em>. Let the result be <em>actionEncodedViewId</em>.</p>
</li>
<li>
<p>Call <em>encodeBookmarkableURL()</em> on the current
<em>ExternalContext</em>, passing <em>actionEncodedViewId</em> as the first argument
and <em>paramsToEncode</em> as the second. Let the result be
<em>bookmarkEncodedURL</em>.</p>
</li>
<li>
<p>Pass <em>bookmarkEncodedURL</em> to
<em>ExternalContext.encodeActionURL()</em> and return the result.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start getRedirectURL() requirements] The
<em>getRedirectURL()</em> method must fulfill the following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Take exactly the same action as in
<em>getBookmarkableURL()</em> up to and including the call to <em>getActionURL()</em>.
Thereafter take the following actions.</p>
</li>
<li>
<p>Call <em>encodeRedirectURL()</em> on the current
<em>ExternalContext</em>, passing <em>actionEncodedViewId</em> as the first argument
and <em>paramsToEncode</em> as the second. Let the result be
<em>redirectEncodedURL</em>.</p>
</li>
<li>
<p>Pass <em>redirectEncodedURL</em> to
<em>ExternalContext.encodeActionURL()</em> and return the result.[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start getResourceURL() requirements] The
<em>getResourceURL()</em> method must fulfill the following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the specified path starts with a “/”,
prefix it with the context path for the current web application, and
return the result.</p>
</li>
<li>
<p>Otherwise, return the specified <em>path</em>
value unchanged.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a3997"><a class="anchor" href="#a3997"></a>7.6.2.4. ViewHandler Methods that relate to View Protection</h5>
<div class="ulist">
<ul>
<li>
<p>[P1-start addProtectedView()
requirements] See the javadocs for <em>addProtectedView()</em> for the
normative specification. [P1-end]</p>
</li>
<li>
<p>[P1-start removeProtectedView()
requirements] See the javadocs for <em>removeProtectedView()</em> for the
normative specification. [P1-end]</p>
</li>
<li>
<p>[P1-start
getProtectedViewsUnmodifiable() requirements] See the javadocs for
<em>getProtectedViewsUnmodifiable()</em> for the normative specification.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <em>View Protection</em> section within
<a href="#a404">Restore
View</a> for the normative specification of this feature.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a4003"><a class="anchor" href="#a4003"></a>7.7. ViewDeclarationLanguage</h3>
<div class="paragraph">
<p>To support the introduction of Facelets into
the core specification, whilst preserving backwards compatibility with
existing Jakarta Server Pages applications, the concept of the <em>View Declaration
Language</em> was formally introduced in version 2 of the specification. A
View Declaration Language (VDL) is a syntax used to declare user
interfaces comprised of instances of Jakarta Faces <em>UIComponent</em>s. Under this
definition, both Jakarta Server Pages and Facelets are examples of an implementation of a
VDL. Any of the responsibilities of the <em>ViewHandler</em> that specifically
deal with the VDL sub-system are now the domain of the VDL
implementation. These responsibilities are defined on the
<em>ViewDeclarationLanguage</em> class.</p>
</div>
<div class="sect3">
<h4 id="viewdeclarationlanguagefactory"><a class="anchor" href="#viewdeclarationlanguagefactory"></a>7.7.1. ViewDeclarationLanguageFactory</h4>
<div class="paragraph">
<p><em>ViewDeclarationLanguageFactory</em> is a
factory object that creates (if needed) and returns a new
<em>ViewDeclarationLanguage</em> instance based on the VDL found in a specific
view.</p>
</div>
<div class="paragraph">
<p>The factory mechanism specified in
<a href="UsingJSFInWebApplications.html#a6147">FactoryFinder</a> and
the decoration mechanism specified in <a href="UsingJSFInWebApplications.html#a6336">Delegating Implementation Support</a> are used to allow decoration or
replacement of the <em>ViewDeclarationLanguageFactory</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ViewDeclarationLanguage getViewDeclarationLanguage(<span class="predefined-type">String</span> viewId)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the <em>ViewDeclarationLanguage</em> instance
suitable for handling the VDL contained in the page referenced by the
argument viewId. [P1-start_required_ViewDeclarationLanguageImpls]The
default implementation must return a valid <em>ViewDeclarationLanguage</em>
instance for views written in either Jakarta Server Pages or Facelets.
[P1-end_required_ViewDeclarationLanguageImpls]Whether the instance
returned is the same for a Jakarta Server Pages or a Facelet view is an implementation
detail.</p>
</div>
</div>
<div class="sect3">
<h4 id="a4010"><a class="anchor" href="#a4010"></a>7.7.2. Default ViewDeclarationLanguage Implementation</h4>
<div class="paragraph">
<p>For each of the methods on
<em>ViewDeclarationLanguage</em>, the required behavior is broken into three
segments:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Behavior required of all compliant
implementations</p>
</li>
<li>
<p>Behavior required of the implementation that
handles Facelet views</p>
</li>
<li>
<p>Behavior required of the implementation that
handles Jakarta Server Pages views</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any implementation strategy is valid as long
as these requirements are met.</p>
</div>
<div class="sect4">
<h5 id="a4016"><a class="anchor" href="#a4016"></a>7.7.2.1. ViewDeclarationLanguage.createView()</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIViewRoot createView(FacesContext context, <span class="predefined-type">String</span> viewId)</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start createView() requirements] The
<em>createView()</em> method must fulfill the following responsibilities.</p>
</div>
<div class="paragraph">
<p>All implementations must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If there is an existing <em>UIViewRoot</em>
available on the <em>FacesContext</em>, this method must copy its <em>locale</em> and
<em>renderKitId</em> to this new view root. If not, this method must call
<em>calculateLocale()</em> and <em>calculateRenderKitId()</em>, and store the results
as the values of the <em>locale</em> and <em>renderKitId</em>, properties,
respectively, of the newly created <em>UIViewRoot</em>.</p>
</li>
<li>
<p>If no <em>viewId</em> could be identified, or the
<em>viewId</em> is exactly equal to the servlet mapping, send the response
error code <em>SC_NOT_FOUND</em> with a suitable message to the client.</p>
</li>
<li>
<p>Create a new <em>UIViewRoot</em> object instance
using <em>Application.createComponent(UIViewRoot.COMPONENT_TYPE)</em>.</p>
</li>
<li>
<p>Pass the argument <em>viewId</em> to the
<em>setViewId()</em> method on the new <em>UIViewRoot</em> instance.</p>
</li>
<li>
<p>The new <em>UIViewRoot</em> instance must be passed
to <em>FacesContext.setViewRoot()</em>. This enables the broadest possible
range of implementations for how tree creation is actually implemented.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages and implementation is not required to
take any additional action.</p>
</div>
<div class="paragraph">
<p>The Facelet implementation must call
<em>calculateResourceLibraryContracts()</em>, passing the argument <em>viewId</em>,
and unconditionally set the result as the <em>resourceLibraryContracts</em>
property on the <em>FacesContext</em>. The implementation must obtain the
<em>ViewDeclarationLanguage</em> reference on which to invoke
<em>calculateResourceLibraryContracts()</em> from the <em>ViewHandler</em>. This
ensures the methods can be correctly decorated.</p>
</div>
<div class="paragraph">
<p>All implementations must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Return the newly created <em>UIViewRoot</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a4030"><a class="anchor" href="#a4030"></a>7.7.2.2. ViewDeclarationLanguage.calculateResourceLibraryContracts()</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; calculateResourceLibraryContracts(
    FacesContext context, <span class="predefined-type">String</span> viewId)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages implementation must return <em>null</em>.</p>
</div>
<div class="paragraph">
<p>The Facelet implementation must examine the
resource library contracts data structure, which was populated as
specified in <a href="UsingJSFInWebApplications.html#a6215">Resource Library
Contracts</a>, and find the <em>&lt;contract-mapping&gt;</em> element that matches the
argument <em>viewId</em>. When processing the nested <em>&lt;url-pattern&gt;</em> matches
must be made using the following rules in this order.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>An exact match.</p>
</li>
<li>
<p>The longest match</p>
</li>
<li>
<p>The value * matches all incoming viewIds</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The value returned from this method is the
list whose contents are taken from the <em>contracts</em> attribute of the
matching <em>&lt;contract-mapping&gt;</em> element.</p>
</div>
</div>
<div class="sect4">
<h5 id="viewdeclarationlanguage-buildview"><a class="anchor" href="#viewdeclarationlanguage-buildview"></a>7.7.2.3. ViewDeclarationLanguage.buildView()</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> buildView(FacesContext context, UIComponent root)</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start buildView() requirements] The
<em>buildView()</em> method must fulfill the following responsibilities.</p>
</div>
<div class="paragraph">
<p>All implementations must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The implementation must guarantee that the
page is executed in such a way that the <em>UIComponent</em> tree described in
the VDL page is completely built and populated, rooted at the new
<em>UIViewRoot</em> instance created previously.</p>
</li>
<li>
<p>The runtime must guarantee that the view must
be fully populated before the <em>afterPhase()</em> method of any
<em>PhaseListeners</em> attached to the application or to the <em>UIViewRoot</em> (via
<em>UIViewRoot.setAfterPhaseListener()</em> or <em>UIViewRoot.addPhaseListener()</em>
) are called.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Facelets implementation must guarantee
the markup comprising the view is executed with the UIComponent
instances in the view being encountered in the same depth-first order as
in other lifecycle methods defined on <em>UIComponent</em>, and added to the
view (but not rendered at this time), during the traversal. .</p>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a4046"><a class="anchor" href="#a4046"></a>7.7.2.4. ViewDeclarationLanguage.getComponentMetadata()</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">BeanInfo</span> getComponentMetadata(
    FacesContext context, Resource componentResource)</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start getComponentMetaData()
requirements] The <em>getComponentMetadata()</em> method must fulfill the
following responsibilities:</p>
</div>
<div class="paragraph">
<p>All implementations must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Return a reference to the component metadata
for the composite component represented by the argument
<em>componentResource</em>, or <em>null</em> if the metadata cannot be found. The
implementation may share and pool what it ends up returning from this
method to improve performance.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Facelets implementation must</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Support argument <em>componentResource</em> being a
Facelet markup file that is to be interpreted as a composite component
as specified in <a href="#a1671">Composite Component
Metadata</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages implementation is not required
to support argument <em>componentResource</em> being a Jakarta Server Pages markup file. In this
case, <em>null</em> must be returned from this method.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="viewdeclarationlanguage-getviewmetadata-and-getviewparameters"><a class="anchor" href="#viewdeclarationlanguage-getviewmetadata-and-getviewparameters"></a>7.7.2.5. ViewDeclarationLanguage.getViewMetadata() and getViewParameters()</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ViewMetadata getViewMetadata(FacesContext context, <span class="predefined-type">String</span> viewId)</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start getViewtMetaData() requirements]
The <em>getViewMetadata()</em> method must fulfill the following
responsibilities:</p>
</div>
<div class="paragraph">
<p>All implementations must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Return a reference to the view metadata for
the view represented by the argument <em>viewId</em>, or <em>null</em> if the
metadata cannot be found. The implementation may share and pool what it
ends up returning from this method to improve performance.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Facelets implementation must support
argument <em>viewId</em> being a Facelet markup file from which the view
metadata should be extracted.</p>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages implementation is not required
to support argument <em>viewId</em> being a Jakarta Server Pages markup file. In this case,
<em>null</em> must be returned from this method.[P1-end]</p>
</div>
<div class="listingblock">
<div class="title">ViewMetadata Contract</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIViewRoot createMetadataView()</code></pre>
</div>
</div>
<div class="paragraph">
<p>The content of the metadata is provided by
the page author as a special <em>&lt;f:facet/&gt;</em> of the <em>UIViewRoot</em>. The name
of this facet is given by the value of the symbolic constant
<em>UIViewRoot.METADATA_FACET_NAME</em>. The <em>UIViewRoot</em> return from this
method must have that facet, and its children as its only children. This
facet may contain <em>&lt;f:viewParameter&gt;</em> or <em>&lt;f:viewAction&gt;</em> children. Each
such element is the metadata will cause a <em>UIViewParameter</em> or
<em>UIViewAction</em> (respectively) to be added to the view. Because
<em>UIViewParameter</em> extends <em>UIInput</em> it is valid to attach any of the
kinds of attached objects to an <em>&lt;f:viewParameter&gt;</em> that are valid for
any element that represents any other kind of <em>UIInput</em> in the view.
Because <em>UIViewAction</em> implements <em>ActionSource2</em>, it is valid to
attach any of the kinds of attached objects to an <em>&lt;f:viewAction&gt;</em> that
are valid for any element that represents any other kind of
<em>ActionSource2</em> in the view.</p>
</div>
<div class="paragraph">
<p>]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Collection</span>&lt;UIViewParameter&gt; getViewParameters(UIViewRoot root)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Convenience method that uses the view
metadata specification above to obtain the <em>List&lt;UIViewParameter&gt;</em> for
the argument viewId.</p>
</div>
</div>
<div class="sect4">
<h5 id="viewdeclarationlanguage-getscriptcomponentresource"><a class="anchor" href="#viewdeclarationlanguage-getscriptcomponentresource"></a>7.7.2.6. ViewDeclarationLanguage.getScriptComponentResource()</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Resource getScriptComponentResource(
    FacesContext context, Resource componentResource)</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start getScriptComponentResource()
requirements] The <em>getScriptComponentResource()</em> method must fulfill the
following responsibilities:</p>
</div>
<div class="paragraph">
<p>The Facelets implementation must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Take implementation specific action to
discover a <em>Resource</em> given the argument <em>componentResource</em>. The
returned <em>Resource</em> if non-<em>null</em>, must point to a script file that
can be turned into something that extends <em>UIComponent</em> and implements
<em>NamingContainer</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages implementation is not required
to support this method. In this case, <em>null</em> must be returned from this
method.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="viewdeclarationlanguage-renderview"><a class="anchor" href="#viewdeclarationlanguage-renderview"></a>7.7.2.7. ViewDeclarationLanguage.renderView()</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> renderView(FacesContext context, <span class="predefined-type">String</span> viewId)</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start renderView() requirements] The
<em>renderView()</em> method must fulfill the following responsibilities:</p>
</div>
<div class="paragraph">
<p>All implementations must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Return immediately if calling <em>isRendered()</em>
on the argument <em>UIViewRoot</em> returns <em>false</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages implementation must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the current request is a <em>ServletRequest</em>
, call the <em>set()</em> method of the <em>jakarta.servlet.jsp.jstl.core.Config</em>
class, passing the current <em>ServletRequest</em>, the symbolic constant
<em>Config.FMT_LOCALE</em>, and the <em>locale</em> property of the specfied
<em>UIViewRoot</em>. This configures JSTL with the application’s preferred
locale for rendering this response.</p>
</li>
<li>
<p>Update the JSTL locale attribute in request
scope so that JSTL picks up the new locale from the <em>UIViewRoot</em>. This
attribute must be updated before the JSTL <em>setBundle</em> tag is called
because that is when the new <em>LocalizationContext</em> object is created
based on the locale.</p>
</li>
<li>
<p>Create a wrapper around the current response
from the <em>ExternalContext</em> and set it as the new response in the
<em>ExternalContext</em>. Otherwise, omit this step. This wrapper must buffer
all content written to the response so that it is ready for output at a
later point. This is necessary to allow any content appearing after the
<em>&lt;f:view&gt;</em> tag to appear in the proper position in the page.</p>
</li>
<li>
<p>Execute the Jakarta Server Pages page to build the view by
treating the <em>viewId</em> as a context-relative path (starting with a slash
character), by passing it to the <em>dispatch()</em> method of the
<em>ExternalContext</em> associated with this request. Otherwise, continue to
the next step. This causes control to pass to the Jakarta Server Pages container, and
then to <em>UIComponentClassicTagBase</em>. Please consult the javadocs for
that class for the specification of how to handle building the view by
executing the Jakarta Server Pages page.</p>
</li>
<li>
<p>Store the wrapped response in a thread-safe
manner for use below. Otherwise, omit this step. The default
implementation uses the request scope for this purpose.</p>
</li>
<li>
<p>Restore the original response into the
<em>ExternalContext</em>.</p>
</li>
<li>
<p>If the <em>FacesContext</em> has a non-<em>null</em>
<em>ResponseWriter</em> create a new writer using its <em>cloneWithWriter()</em>
method, passing the response’s <em>Writer</em> as the argument. Otherwise, use
the current <em>RenderKit</em> to create a new <em>ResponseWriter</em>.</p>
</li>
<li>
<p>Set the new <em>ResponseWriter</em> into the
<em>FacesContext</em>, saving the old one aside.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All implementations must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call <em>saveView()</em> on the <em>StateManager</em> for
this application, saving the result in a thread-safe manner for use in
the <em>writeState()</em> method of <em>ViewHandler</em>.</p>
</li>
<li>
<p>Call <em>startDocument()</em> on the
<em>ResponseWriter</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Facelets implementation must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call <em>encodeAll()</em> on the <em>UIViewRoot</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages implementation must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Output any content in the wrapped response
from above to the response, removing the wrapped response from the
thread-safe storage.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All implementations must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call <em>endDocument()</em> on the <em>ResponseWriter</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages implementation must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the old <em>ResponseWriter</em> was not <em>null</em>,
place the old <em>ResponseWriter</em> back into the <em>FacesContext</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Facelets implementation must</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Close the writer used to write the
response.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a4101"><a class="anchor" href="#a4101"></a>7.7.2.8. ViewDeclarationLanguage.restoreView()</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIViewRoot restoreView(FacesContext context, <span class="predefined-type">String</span> viewId)</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start restoreView() requirements]The
<em>restoreView()</em> method must fulfill the following responsibilities:</p>
</div>
<div class="paragraph">
<p>The Jakarta Server Pages implementation must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If no <em>viewId</em> could be identified, return
<em>null</em>.</p>
</li>
<li>
<p>Call the <em>restoreView()</em> method of the
associated <em>StateManager</em>, passing the <em>FacesContext</em> instance for the
current request and the calculated <em>viewId</em>, and return the returned
<em>UIViewRoot</em>, which may be <em>null</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Facelets implementation must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call <em>ResponseStateManager.isStateless()</em>.
If the result is <em>false</em>, proceed as specified in the Jakarta Server Pages
implementation. Otherwise, take the following steps and return.</p>
</li>
<li>
<p>Obtain a reference to the
<em>ViewDeclarationLanguage</em> from the <em>ViewDeclarationLanguageFactory</em>.
This is necessary to allow for proper decoration. It is not acceptable
to simply use the java language <em>this</em> keyword.</p>
</li>
<li>
<p>Call <em>createView()</em> on the
<em>ViewDeclarationLanguage</em> instance, passing the <em>context</em> and <em>viewId</em>
arguments. Let <em>viewRoot</em> be the result.</p>
</li>
<li>
<p>Call <em>FacesContext.setViewRoot(viewRoot)</em>.</p>
</li>
<li>
<p>Call <em>buildView()</em> on the
<em>ViewDeclarationLanguage</em>, passing the <em>context</em> and <em>viewRoot</em>.</p>
</li>
<li>
<p>Return the <em>viewRoot</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a4117"><a class="anchor" href="#a4117"></a>7.8. StateManager</h3>
<div class="paragraph">
<p><em>StateManager</em> directs the process of saving
and restoring the view between requests. The <em>StateManager</em> instance for
an application is retrieved from the <em>Application</em> instance, and
therefore cannot know any details of the markup language created by the
<em>RenderKit</em> being used to render a view. Therefore, the <em>StateManager</em>
utilizes a helper object (see <a href="#a4288">ResponseStateManager</a>), that is provided by the <em>RenderKit</em>
implementation, and is therefore aware of the markup language details.
The Jakarta Faces implementation must provide a default <em>StateManager</em>
implementation that supports the behavior described below.</p>
</div>
<div class="sect3">
<h4 id="a4119"><a class="anchor" href="#a4119"></a>7.8.1. Overview</h4>
<div class="paragraph">
<p>Conceptually, the state of a view can be
divided into two pieces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Tree Structure</em>. This includes component
parent-child relationships, including facets.</p>
</li>
<li>
<p><em>Component State</em>. This includes:</p>
<div class="ulist">
<ul>
<li>
<p>Component attributes and properties, and</p>
</li>
<li>
<p><em>Validator</em>s, <em>Converter</em>s,
<em>FacesListener</em>s, and other objects attached to a component. The manner
in which these <em>attached objects</em> are saved is up to the component
implementation. For attached objects that may have state, the
<em>StateHolder</em> interface (see <a href="#a1138">StateHolder</a>) is provided to allow these objects to preserve their own
attributes and properties. If an attached object does not implement
<em>StateHolder</em>, but does implement <em>Serializable</em>, it is saved using
standard serialization. Attached objects that do not implement either
<em>StateHolder</em> or <em>Serializable</em> must have a public, zero-arg
constructor, and will be restored only to their initial, default object
state <a href="#a9094">11</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is beneficial to think of this separation
between tree structure and tree state to allow the possibility that
implementations can use a different mechanism for persisting the
structure than is used to persist the state. For example, in a system
where the tree structure is stored statically, as an XML file, for
example, the system could keep a DOM representation of the trees
representing the webapp UI in memory, to be used by all requests to the
application.</p>
</div>
<div class="sect4">
<h5 id="a4126"><a class="anchor" href="#a4126"></a>7.8.1.1. Stateless Views</h5>
<div class="paragraph">
<p>Version 2.2 of the specification adds support
for stateless views. In such a view, the <em>UIComponent</em> state for the
components is not saved. This feature must be used with full awareness
of the statefulness requirements of the components in the view. If a
component requires state to operate correctly, it must not be used in a
stateless view. Furthermore, it is not required that <em>@ViewScoped</em>
managed beans work at all with stateless views. This feature only works
with Facelet based views, not Jakarta Server Pages based views.</p>
</div>
<div class="paragraph">
<p>To mark a view as stateless, the existing
<em>transient</em> property from <em>UIComponent</em> is exposed to the view author by
means of the <em>transient</em> attribute on the <em>&lt;f:view&gt;</em> tag from the Faces
Core tag library. The following spec sections contain more normative
requirements for stateless views.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The vdldocs for the Facelet variant of the
<em>&lt;f:view&gt;</em> tag.</p>
</li>
<li>
<p>The javadocs for
<em>ResponseStateManager.writeState(FacesContext, Object)</em></p>
</li>
<li>
<p>The javadocs for
<em>ResponseStateManager.isStateless(FacesContext)</em></p>
</li>
<li>
<p><a href="#a4101">See
ViewDeclarationLanguage.restoreView()</a></p>
</li>
<li>
<p>The javadocs for
<em>jakarta.faces.view.ViewScoped</em></p>
</li>
<li>
<p>The javadocs for
<em>jakarta.faces.bean.ViewScoped</em></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a4135"><a class="anchor" href="#a4135"></a>7.8.2. State Saving Alternatives and Implications</h4>
<div class="paragraph">
<p>Jakarta Faces implementations support two primary
mechanisms for saving state, based on the value of the
<em>jakarta.faces.STATE_SAVING_METHOD</em> initialization parameter (see
<a href="UsingJSFInWebApplications.html#a6088">Application Configuration Parameters</a>).
The possible values for this parameter give a general indication of the
approach to be used, while allowing JSF implementations to innovate on
the technical details:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>client</em>&#8201;&#8212;&#8201;Cause the saved state to be
included in the rendered markup that is sent to the client (such as in a
hidden input field for HTML). The state information must be included in
the subsequent request, making it possible for Jakarta Faces to restore the view
without having saved information on the server side. It is advisable
that this information be encrypted and tamper evident, since it is being
sent down to the client, where it may persist for some time.The default
implementation Serializes the view in <em>client</em> mode.</p>
</li>
<li>
<p><em>server</em>&#8201;&#8212;&#8201;Cause the saved state to be
stored on the server in between requests. Implementations that wish to
enable their saved state to fail over to a different container instance
must keep this in mind when implementing their server side state saving
strategy. Serializing the view in server mode is optional but must be
possible by setting the <em>context-param
jakarta.faces.SERIALIZE_SERVER_STATE</em> to <em>true</em>. In the <em>server</em> mode,
this serialized view is stored in the session and a unique key to
retrieve the view is sent down to the client. By storing the serialized
view in the session, failover may happen using the usual mechanisms
provided by the container.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Serializable in the preceding text means the
values of all component attributes and properties (as well as the saved
state of attached objects) must implement <em>java.io.Serializable</em> such
that if the aggregate saved state were written to an
<em>ObjectOutputStream</em>, a <em>NotSerializableException</em> would not be thrown.</p>
</div>
</div>
<div class="sect3">
<h4 id="a4140"><a class="anchor" href="#a4140"></a>7.8.3. State Saving Methods.</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> saveView(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start saveView() requirements]
This method causes the tree structure and component state of the view
contained in the argument <em>FacesContext</em> to be collected, stored, and
returned in a <em>java.lang.Object</em> instance that must implement
<em>java.io.Serializable</em>. If <em>null</em> is returned from this method, there
is no state to save.[P1-end]</p>
</div>
<div class="paragraph">
<p>The returned object must represent the entire
state of the view, such that a request processing lifecycle can be run
against it on postback. Special care must be taken to guarantee that
objects attached to component instances, such as listeners, converters,
and validators, are also saved. The <em>StateHolder</em> interface is provided
for this reason.</p>
</div>
<div class="paragraph">
<p>This method must also enforce the rule that
component ids within a <em>NamingContainer</em> must be unique</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> writeState(FacesContext context, <span class="predefined-type">Object</span> state)
    <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Save the state represented in the specified
<em>Object</em> instance, in an implementation dependent manner.</p>
</div>
</div>
<div class="sect3">
<h4 id="state-restoring-methods"><a class="anchor" href="#state-restoring-methods"></a>7.8.4. State Restoring Methods</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UIViewRoot restoreView(FacesContext context, <span class="predefined-type">String</span> viewId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Restore the tree structure and the component
state of the view for this <em>viewId</em> to be restored, in an implementation
dependent manner. If there is no saved state information available for
this <em>viewId</em>, this method returns <em>null</em>.</p>
</div>
<div class="paragraph">
<p>The default implementation of this method
calls through to <em>restoreTreeStructure()</em> and, if necessary
<em>restoreComponentState()</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="convenience-methods"><a class="anchor" href="#convenience-methods"></a>7.8.5. Convenience Methods</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> isSavingStateInClient(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start isSavingStateInClient()
requirements] Return <em>true</em> if and only if the value of the
<em>ServletContext</em> init parameter named by the value of the constant
<em>StateManager.STATE_SAVING_METHOD_PARAM_NAME</em> is equal to the value of
the constant <em>STATE_SAVING_METHOD_CLIENT</em>. Return <em>false</em> otherwise.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getViewState(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the current view state as a String.
[P1-start-getViewState] This method must call
ResposeStateManger.getViewState.[P1-end] Refer to
<a href="#a4288">ResponseStateManager</a> for more details.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resourcehandler"><a class="anchor" href="#resourcehandler"></a>7.9. ResourceHandler</h3>
<div class="paragraph">
<p>The normative specification for this class is
in the javadoc for <em>jakarta.faces.application.ResourceHandler</em>. See also
<a href="#a746">Resource Handling</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ResourceHandler getResourceHandler();
<span class="directive">public</span> <span class="type">void</span> setResourceHandler(ResourceHandler impl);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-apis"><a class="anchor" href="#deprecated-apis"></a>7.10. Deprecated APIs</h3>
<div class="sect3">
<h4 id="a4163"><a class="anchor" href="#a4163"></a>7.10.1. PropertyResolver Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">public</span> PropertyResolver getPropertyResolver();

<span class="comment">/** @deprecated */</span>
<span class="directive">public</span> <span class="type">void</span> setPropertyResolver(PropertyResolver resolver);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[N/T-start getPropertyResolver()
requirements] getPropertyResolver() must return a <em>PropertyResolver</em>
instance that wraps the <em>ELResolver</em> instance that Faces provides to the
unified EL. [N/T-end] The <em>PropertyResolver</em> instance will be utilized
to evaluate each . or [] operator when processing value expressions.
This method has been deprecated for getELResolver() (see
<a href="#a3435">ELResolver Property</a>).</p>
</div>
<div class="paragraph">
<p>setPropertyResolver() replaces the
<em>PropertyResolver</em> instance that will be utilized to evaluate each <em>.</em>
or <em>[]</em> operator when processing a value binding expression. A default
implementation must be provided, which operates as described in
<a href="#a3025">PropertyResolver and the Default
PropertyResolver</a>. This method has been deprecated. See the Javadocs for
setPropertyResolver().</p>
</div>
</div>
<div class="sect3">
<h4 id="a4171"><a class="anchor" href="#a4171"></a>7.10.2. VariableResolver Property</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">public</span> VariableResolver getVariableResolver();

<span class="comment">/** @deprecated */</span>
<span class="directive">public</span> <span class="type">void</span> setVariableResolver(VariableResolver resolver);</code></pre>
</div>
</div>
<div class="paragraph">
<p>[N/T-start getVariableResolver()
requirements] getVariableResolver() must return the <em>VariableResolver</em>
that wraps the ELResolver instance that Faces provides to the Jakarta
Expression Language. The <em>VariableResolver</em> instance will be utilized to convert the
first name in a value expression into a corresponding object. The
implementation must pass <em>null</em> as the base argument for any methods
invoked on the underlying ELResolver. This method has been deprecated
for getELResolver(). [N/T-end]</p>
</div>
<div class="paragraph">
<p>setVariableResolver replaces the
<em>VariableResolver</em> instance that will be utilized to resolve method and
value bindings. A default implementation must be provided, which
operates as described in <a href="#a3020">VariableResolver and the Default VariableResolver</a>. The method has been
deprecated. See the Javadocs for setVariableResolver().</p>
</div>
</div>
<div class="sect3">
<h4 id="a4179"><a class="anchor" href="#a4179"></a>7.10.3. Acquiring ValueBinding Instances</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">public</span> ValueBinding createValueBinding(<span class="predefined-type">String</span> ref);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create and return a <em>ValueBinding</em>
that can be used to evaluate the specified value binding expression.
Call through to <em>createValueExpression</em>, passing the argument ref,
Object.class for the expectedType, and null for the fnMapper. To avoid
nondeterministic behavior, it is recommended that applications (or
frameworks) wishing to plug in their own resolver implementations do so
before <em>createValueBinding()</em> is called for the first time. This method
has been deprecated for <em>createValueExpression()</em>
(<a href="#a3463">See Programmatically Evaluating
Expressions</a></p>
</div>
</div>
<div class="sect3">
<h4 id="acquiring-methodbinding-instances"><a class="anchor" href="#acquiring-methodbinding-instances"></a>7.10.4. Acquiring MethodBinding Instances</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">public</span> MethodBinding createMethodBinding(<span class="predefined-type">String</span> ref, <span class="predefined-type">Class</span> params<span class="type">[]</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create and return a <em>MethodBinding</em> that can
be used to evaluate the specified method binding expression, and invoke
the specified method. The implementation must call through to
<em>createMethodExpression</em>, passing the given arguments, and wrap the
result in a MethodBinding implementation, returning it. The method that
is invoked must have parameter signatures that are compatible with the
classes in the <em>params</em> parameter <a href="#a9095">12</a> (which may be
<em>null</em> or a zero-length array if the method to be called takes no
parameters). The actual parameters to be passed when the method is
executed are specified on the <em>invoke()</em> call of the returned
<em>MethodBinding</em> instance.</p>
</div>
<div class="paragraph">
<p>To avoid nondeterministic behavior, it is
recommended that applications (or frameworks) wishing to plug in their
own resolver implementations do so before calling
<em>createMethodBinding()</em> for the first time. This method has been
deprecated.</p>
</div>
</div>
<div class="sect3">
<h4 id="object-factories"><a class="anchor" href="#object-factories"></a>7.10.5. Object Factories</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">public</span> UIComponent createComponent(ValueBinding componentBinding,
    FacesContext context, <span class="predefined-type">String</span> componentType);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Special version of the factory for
UIComponent instances that is used when evaluating component binding
expression properties. The implementation of this method must wrap the
argument componentBinding in an implementation of ValueExpression and
call through to createComponent(jakarta.el.ValueExpression,
jakarta.faces.FacesContext, java.lang.String). This method has been
deprecated for createComponent() using ValueExpression (see
<a href="#a3468">Object Factories</a>)</p>
</div>
</div>
<div class="sect3">
<h4 id="statemanager"><a class="anchor" href="#statemanager"></a>7.10.6. StateManager</h4>
<div class="paragraph">
<p>This method causes the tree structure and
component state of the view contained in the argument <em>FacesContext</em> to
be collected, stored, and returned in a <em>StateManager.SerializedView</em>
instance. If <em>null</em> is returned from this method, there is no state to
save.</p>
</div>
<div class="paragraph">
<p>This method must also enforce the rule that
component ids within a <em>NamingContainer</em> must be unique</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">public</span> <span class="type">void</span> writeState(FacesContext context,
    StateManager.SerializedView state) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Save the state represented in the specified
<em>SerializedView</em> instance, in an implementation dependent manner.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">protected</span> <span class="predefined-type">Object</span> getTreeStructureToSave(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method must create a <em>Serializable</em>
object that represents the tree structure of the component tree for this
view. Tree structure is comprised of parent-child relationships,
including facets. The <em>id</em> of each component and facet must also be
saved to allow the naming containers in the tree to be correctly
restored when this view is restored.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">protected</span> <span class="predefined-type">Object</span> getComponentStateToSave(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method must create a <em>Serializable</em>
object representing the component state (attributes, properties, and
attached objects) of the component tree for this view. Attached objects
that wish to save and restore their own state must implement
<em>StateHolder</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a4204"><a class="anchor" href="#a4204"></a>7.10.7. ResponseStateManager</h4>
<div class="paragraph">
<p>This method causes the tree structure and
component state of the view contained in the argument <em>FacesContext</em> to
be collected, stored, and returned in a <em>StateManager.SerializedView</em>
instance. If <em>null</em> is returned from this method, there is no state to
save.</p>
</div>
<div class="paragraph">
<p>This method must also enforce the rule that
component ids within a <em>NamingContainer</em> must be unique</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">public</span> <span class="type">void</span> writeState(FacesContext context,
    StateManager.SerializedView state) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Save the state represented in the specified
<em>SerializedView</em> instance, in an implementation dependent manner.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">protected</span> <span class="predefined-type">Object</span> getTreeStructureToRestore(
    FacesContext context, <span class="predefined-type">String</span> viewId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The implementation must inspect the current
request and return the tree structure Object passed to it on a previous
invocation of <em>writeState()</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** @deprecated */</span>
<span class="directive">protected</span> <span class="predefined-type">Object</span> getComponentStateToRestore(
    FacesContext context, <span class="predefined-type">String</span> viewId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The implementation must inspect the current
request and return the component state Object passed to it on a previous
invocation of <em>writeState()</em>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a4219"><a class="anchor" href="#a4219"></a>8. Rendering Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jakarta Faces supports two programming
models for decoding component values from incoming requests, and
encoding component values into outgoing responses - the <em>direct
implementation</em> and <em>delegated implementation</em> models. When the <em>direct
implementation</em> model is utilized, components must decode and encode
themselves. When the <em>delegated implementation</em> programming model is
utilized, these operations are delegated to a <em>Renderer</em> instance
associated (via the <em>rendererType</em> property) with the component. This
allows applications to deal with components in a manner that is
predominantly independent of how the component will appear to the user,
while allowing a simple operation (selection of a particular <em>RenderKit</em>)
to customize the decoding and encoding for a particular client device
or localized application user.</p>
</div>
<div class="paragraph">
<p>Component writers, application developers,
tool providers, and Jakarta Faces implementations will often provide one or more
<em>RenderKit</em> implementations (along with a corresponding library of
<em>Renderer</em> instances). In many cases, these classes will be provided
along with the <em>UIComponent</em> classes for the components supported by the
<em>RenderKit</em>. Page authors will generally deal with <em>RenderKit</em>s
indirectly, because they are only responsible for selecting a render kit
identifier to be associated with a particular page, and a <em>rendererType</em>
property for each <em>UIComponent</em> that is used to select the corresponding
<em>Renderer</em>.</p>
</div>
<div class="sect2">
<h3 id="a4223"><a class="anchor" href="#a4223"></a>8.1. RenderKit</h3>
<div class="paragraph">
<p>A <em>RenderKit</em> instance is optionally
associated with a view, and supports components using the <em>delegated
implementation</em> programming model for the decoding and encoding of
component values. It also supports <em>Behavior</em> instances for the
rendering of client side behavior and decoding for queuing
<em>BehaviorEvents</em>. Refer to
<a href="#a1707">Component
Behavior Model</a> for more details about this feature.
[P1-start-renderkit]Each Jakarta Faces implementation must provide a default
<em>RenderKit</em> instance (named by the render kit identifier associated with
the String constant <em>RenderKitFactory.HTML_BASIC_RENDER_KIT</em> as
described below) that is utilized if no other <em>RenderKit</em> is
selected.[P1-end]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Renderer</span> getRenderer(<span class="predefined-type">String</span> family, <span class="predefined-type">String</span> rendererType);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the <em>Renderer</em> instance corresponding
to the specified component <em>family</em> and <em>rendererType</em> (if any), which
will typically be the value of the <em>rendererType</em> property of a
<em>UIComponent</em> about to be decoded or encoded</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ClientBehaviorRenderer getClientBehaviorRenderer(<span class="predefined-type">String</span> type);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the <em>ClientBehaviorRenderer</em> instance
corresponding to the specified behavior type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addRenderer(<span class="predefined-type">String</span> family,
    <span class="predefined-type">String</span> rendererType, <span class="predefined-type">Renderer</span> renderer);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addClientBehaviorRenderer(<span class="predefined-type">String</span> type,
    ClientBehaviorRenderer renderer);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">String</span>&gt; getClientBehaviorRendererTypes();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Applications that wish to go beyond the
capabilities of the standard <em>RenderKit</em> that is provided by every Jakarta Faces
implementation may either choose to create their own <em>RenderKit</em>
instances and register them with the <em>RenderKitFactory</em> instance (see
<a href="#a4300">RenderKitFactory</a>), or integrate
additional (or replacement) supported <em>Renderer</em> instances into an
existing <em>RenderKit</em> instance. For example, it will be common for an
application that requires custom component classes and <em>Renderer</em>s to
register them with the standard <em>RenderKit</em> provided by the Jakarta Faces
implementation, at application startup time See
<a href="UsingJSFInWebApplications.html#a6554">Example Application Configuration
Resource</a> for an example of a <em>faces-config.xml</em> configuration resource
that defines two additional Renderer instances to be registered in the
default <em>RenderKit</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ResponseWriter createResponseWriter(<span class="predefined-type">Writer</span> writer,
    <span class="predefined-type">String</span> contentTypeList, <span class="predefined-type">String</span> characterEncoding);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the provided <em>Writer</em> to create a new
<em>ResponseWriter</em> instance for the specified character encoding.</p>
</div>
<div class="paragraph">
<p>The <em>contentTypeList</em> parameter is an "Accept
header style" list of content types for this response, or <em>null</em> if the
<em>RenderKit</em> should choose the best fit. [P1-start-contentTypeList]The
<em>RenderKit</em> must support a value for the <em>contentTypeList</em> argument that
comes straight from the <em>Accept</em> HTTP header, and therefore requires
parsing according to the specification of the <em>Accept</em> header.[P1-end]
Please see Section 14.1 of RFC 2616 (the HTTP 1.1 RFC) for the
specification of the <em>Accept</em> header.</p>
</div>
<div class="paragraph">
<p>Implementors are advised to consult
the <em>getCharacterEncoding()</em> method of class
<em>jakarta.faces.servlet.ServletResponse</em> to get the required value for the
characterEncoding parameter for this method. Since the <em>Writer</em> for this
response will already have been obtained (due to it ultimately being
passed to this method), we know that the character encoding cannot
change during the rendering of the response. Please see
<a href="#a3324">ResponseWriter</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ResponseStream createResponseStream(OuputStream out);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the provided <em>OutputStream</em> to create a
new <em>ResponseStream</em> instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ResponseStateManager getResponseStateManager();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return an instance of <em>ResponseStateManager</em>
to handle rendering technology specific state management decisions..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">String</span>&gt; getComponentFamilies();
<span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">String</span>&gt; getRendererTypes(<span class="predefined-type">String</span> componentFamily);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first method returns an <em>Iterator</em> over
the <em>component-family</em> entries supported by this <em>RenderKit</em>. The
second one can be used to get an <em>Iterator</em> over the <em>renderer-type</em>
entries for each of the <em>component-family</em> entries returned from the
first method.</p>
</div>
</div>
<div class="sect2">
<h3 id="a4245"><a class="anchor" href="#a4245"></a>8.2. Renderer</h3>
<div class="paragraph">
<p>A <em>Renderer</em> instance implements the decoding
and encoding functionality of components, during the <em>Apply Request
Values</em> and <em>Render Response</em> phases of the request processing
lifecycle, when the component has a non-<em>null</em> value for the
<em>rendererType</em> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> decode(FacesContext context, UIComponent component);</code></pre>
</div>
</div>
<div class="paragraph">
<p>For components utilizing the <em>delegated
implementation</em> programming model, this method will be called during the
<em>apply request values</em> phase of the request processing lifecycle, for
the purpose of converting the incoming request information for this
component back into a new local value. See the API reference for the
<em>Renderer.decode()</em> method for details on its responsibilities.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> encodeBegin(FacesContext context,
    UIComponent component) <span class="directive">throws</span> <span class="exception">IOException</span>;

<span class="directive">public</span> <span class="type">void</span> encodeChildren(FacesContext context,
    UIComponent component) <span class="directive">throws</span> <span class="exception">IOException</span>;

<span class="directive">public</span> <span class="type">void</span> encodeEnd(FacesContext context,
    UIComponent component) <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For components utilizing the <em>delegated
implementation</em> programming model, these methods will be called during
the <em>Render Response</em> phase of the request processing lifecycle. These
methods have the same responsibilities as the corresponding
<em>encodeBegin()</em>, <em>encodeChildren()</em>, and <em>encodeEnd()</em> methods of
<em>UIComponent</em> (described in <a href="#a1041">Component
Specialization Methods</a> and the corresponding Javadocs) when the
component implements the <em>direct implementation</em> programming model.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> convertClientId(FacesContext context, <span class="predefined-type">String</span> clientId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converts a component-generated client
identifier into one suitable for transmission to the client.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> getRendersChildren();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a flag indicating whether this
Renderer is responsible for rendering the children of the component it
is asked to render.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> getConvertedValue(FacesContext context,
    UIComponent component, <span class="predefined-type">Object</span> submittedValue) <span class="directive">throws</span> ConverterException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Attempt to convert previously stored state
information into an object of the type required for this component
(optionally using the registered <em>Converter</em> for this component, if
there is one). If conversion is successful, the new value should be
returned from this method; if not, a <em>ConverterException</em> should be
thrown.</p>
</div>
<div class="paragraph">
<p>A <em>Renderer</em> may listen for events using the
<em>ListenerFor</em> annotation. Refer to the Javadocs for the <em>ListenerFor</em>
class for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="a4264"><a class="anchor" href="#a4264"></a>8.3. ClientBehaviorRenderer</h3>
<div class="paragraph">
<p>A <em>ClientBehaviorRenderer</em> instance produces
client side behavior for components in the form of script content. It
also participates in decoding and as such has the ability to enqueue
server side <em>BehaviorEvents</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getScript(ClientBehaviorContext behaviorContext,
    ClientBehavior behavior);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Produce the script content that performs the
client side behavior. This method is called during the <em>Render Response</em>
phase of the request processing lifecycle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> decode(FacesContext context,
    UIComponent component, ClientBehavior behavior);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method will be called during the <em>apply
request values</em> phase of the request processing lifecycle, for the
primary purpose of enqueuing <em>BehaviorEvents</em>. All client behavior
renderer implementations must extend from the <em>ClientBehaviorRenderer</em>
interface.</p>
</div>
<div class="sect3">
<h4 id="clientbehaviorrenderer-registration"><a class="anchor" href="#clientbehaviorrenderer-registration"></a>8.3.1. ClientBehaviorRenderer Registration</h4>
<div class="paragraph">
<p>ClientBehaviorRenderer implementations may be
registered in the Jakarta Faces faces-config.xml or with an annotation.</p>
</div>
<div class="listingblock">
<div class="title">XML Registration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;render-kit&gt;</span>
  <span class="tag">&lt;render-kit-id&gt;</span>HTML_BASIC<span class="tag">&lt;/render-kit-id&gt;</span>
  <span class="tag">&lt;client-behavior-renderer&gt;</span>
    <span class="tag">&lt;client-behavior-renderer-type&gt;</span>
      custom.behavior.Greet
    <span class="tag">&lt;/client-behavior-renderer-type&gt;</span>
    <span class="tag">&lt;client-behavior-renderer-class&gt;</span>
      greet.GreetRenderer
    <span class="tag">&lt;/client-behavior-renderer-class&gt;</span>
  <span class="tag">&lt;/client-behavior-renderer&gt;</span>
  ...</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Registration By Annotation</div>
<p>Jakarta Faces provides the
<em>jakarta.faces.render.FacesBehaviorRenderer annotation</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FacesClientBehaviorRenderer</span>(value=<span class="error">”</span>Hello<span class="error">”</span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyRenderer</span> <span class="directive">extends</span> ClientBehaviorRenderer {
  ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a4288"><a class="anchor" href="#a4288"></a>8.4. ResponseStateManager</h3>
<div class="paragraph">
<p><em>ResponseStateManager</em> is the helper class
to <em>jakarta.faces.application.StateManager</em> that knows the specific
rendering technology being used to generate the response. It is a
singleton abstract class. This class knows the mechanics of saving
state, whether it be in hidden fields, session, or some combination of
the two.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Object</span> getState(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please see the javadoc for this method for
the normative specification.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> writeState(FacesContext context, <span class="predefined-type">Object</span> state)
    <span class="directive">throws</span> <span class="exception">IOException</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please see the javadoc for this method for
the normative specification.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> isPostback(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>true</em> if the current request is a
postback. The default implementation returns <em>true</em> if this
<em>ResponseStateManager</em> instance wrote out state on a previous request to
which this request is a postback. Return false otherwise.</p>
</div>
<div class="paragraph">
<p>Please see <em><a href="#a4204">ResponseStateManager</a></em> for deprecated methods in <em>ResponseStateManager</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> getViewState(FacesContext context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the view state as a String without any
markup related to the rendering technology supported by this
ResponseStateManager.</p>
</div>
</div>
<div class="sect2">
<h3 id="a4300"><a class="anchor" href="#a4300"></a>8.5. RenderKitFactory</h3>
<div class="paragraph">
<p>[P1-start-renderkitFactory]A single instance
of <em>jakarta.faces.render.RenderKitFactory</em> must be made available to each
Jakarta Faces-based web application running in a servlet or portlet
container.[P1-end] The factory instance can be acquired by Jakarta Faces
implementations, or by application code, by executing</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">RenderKitFactory factory = (RenderKitFactory)
    FactoryFinder.getFactory(FactoryFinder.RENDER_KIT_FACTORY);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>RenderKitFactory</em> implementation class
supports the following methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> RenderKit getRenderKit(FacesContext context, <span class="predefined-type">String</span> renderKitId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return a <em>RenderKit</em> instance for the
specified render kit identifier, possibly customized based on the
dynamic characteristics of the specified, (yet possibly null)
<em>FacesContext</em>. For example, an implementation might choose a different
<em>RenderKit</em> based on the “User-Agent” header included in the request, or
the <em>Locale</em> that has been established for the response view. Note that
applications which depend on this feature are not guaranteed to be
portable across Jakarta Faces implementations.</p>
</div>
<div class="paragraph">
<p>[P1-start-renderkitDefault]Every Jakarta Faces
implementation must provide a <em>RenderKit</em> instance for a default render
kit identifier that is designated by the <em>String</em> constant
<em>RenderKitFactory.HTML_BASIC_RENDER_KIT</em>.[P1-end] Additional render kit
identifiers, and corresponding instances, can also be made available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">String</span>&gt; getRenderKitIds();</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method returns an <em>Iterator</em> over
the set of render kit identifiers supported by this factory.
[P1-start-renderkitIds]This set must include the value specified by
<em>RenderKitFactory.HTML_BASIC_RENDER_KIT</em>.[P1-end]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addRenderKit(<span class="predefined-type">String</span> renderKitId, RenderKit renderKit);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Register a <em>RenderKit</em> instance for the
specified render kit identifier, replacing any previous RenderKit
registered for that identifier.</p>
</div>
</div>
<div class="sect2">
<h3 id="a4314"><a class="anchor" href="#a4314"></a>8.6. Standard HTML RenderKit Implementation</h3>
<div class="paragraph">
<p>To ensure application portability, all Jakarta Faces
implementations are required to include support for a <em>RenderKit</em>, and
the associated <em>Renderers</em>, that meet the requirements defined in this
section, to generate textual markup that is compatible with HTML 4.01.
Jakarta Faces implementors, and other parties, may also provide additional
<em>RenderKit</em> libraries, or additional <em>Renderer</em>s that are added to the
standard <em>RenderKit</em> at application startup time, but applications must
ensure that the standard <em>Renderer</em>s are made available for the web
application to utilize them.</p>
</div>
<div class="paragraph">
<p>The required behavior of the standard HTML
RenderKit is specified in a set of external HTML pages that accompany
this specification, entitled “The Standard HTML RenderKit”. The behavior
described in these pages is normative, and are required to be fulfilled
by all implementations of Jakarta Faces.</p>
</div>
</div>
<div class="sect2">
<h3 id="the-concrete-html-component-classes"><a class="anchor" href="#the-concrete-html-component-classes"></a>8.7. The Concrete HTML Component Classes</h3>
<div class="paragraph">
<p>For each valid combination of <em>UIComponent</em>
subclass and standard renderer given in the previous section, there is a
concrete class in the package <em>jakarta.faces.component.html</em> package. Each
class in this package is a subclass of an corresponding class in the
<em>jakarta.faces.component</em> package, and adds strongly typed JavaBeans
properties for all of the renderer-dependent properties. These classes
also implement the <em>BehaviorHolder</em> interface, enabling them to have
<em>Behavior attached to them. Refer to</em>
<a href="#a1707">Component
Behavior Model</a> for additional details.</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even fit-content">
<caption class="title">Table 13. Concrete HTML Component Classes</caption>
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">jakarta.faces.component class</th>
<th class="tableblock halign-left valign-top">renderer-type</th>
<th class="tableblock halign-left valign-top">jakarta.faces.component.html class</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UICommand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Button</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlCommandButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UICommand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Link</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlCommandLink</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlDataTable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIForm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Form</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlForm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIGraphic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlGraphicImage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIInput</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Hidden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlInputHidden</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIInput</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Secret</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlInputSecret</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIInput</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlInputText</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIInput</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Textarea</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlInputTextarea</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIMessage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlMessage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIMessages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Messages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlMessages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIOutput</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlOutputFormat</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIOutput</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlOutputLabel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIOutput</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Link</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlOutputLink</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIOutput</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlOutputText</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIOutcomeTarget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Link</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlOutcomeTargetLink</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIOutcomeTarget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Button</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlOutcomeTargetButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIPanel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Grid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlPanelGrid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIPanel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlPanelGroup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UISelectBoolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Checkbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlSelectBooleanCheckbox</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UISelectMany</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Checkbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlSelectManyCheckbox</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UISelectMany</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Listbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlSelectManyListbox</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UISelectMany</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Menu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlSelectManyMenu</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UISelectOne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Listbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlSelectOneListbox</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UISelectOne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Menu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlSelectOneMenu</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UISelectOne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Radio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlSelectOneRadio</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[P1-start-htmlComponent]As with the
standard components in the <em>jakarta.faces.component</em> package, each HTML
component implementation class must define a static public final String
constant named <em>COMPONENT_TYPE</em>, whose value is “<em>jakarta.faces</em>”.
concatenated with the class name. HTML components, however, must not
define a <em>COMPONENT_FAMILY</em> constant, or override the <em>getFamily()</em>
method they inherit from their superclass.[P1-end]</p>
</div>
<div id="a4404" class="paragraph">
<p>===</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a4406"><a class="anchor" href="#a4406"></a>9. Integration with Jakarta Server Pages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Any Jakarta Faces implementations that
claims compliance with this specification must include a complete
 Jakarta Server Pages  implementation, and expose this implementation to the
runtime of any Jakarta Faces application. Jakarta Faces applications, however, need not use
Jakarta Server Pages as their View Declaration Language (VDL). In fact, a Jakarta Faces application
is free to use whatever technology it likes for its VDL, as long as that
VDL itself complies with the Jakarta Faces specification.</p>
</div>
<div class="paragraph">
<p>This version of the specification requires
that implementations support two View Declaration Language syntaxes</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jakarta Server Pages</p>
</li>
<li>
<p>Facelets XHTML</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This chapter describes the Jakarta Server Pages support
required by Jakarta Server Faces. This Jakarta Server Pages support is enabled by providing
custom actions so that a Jakarta Faces user interface can be easy defined in a Jakarta Server Pages
page by adding tags corresponding to Jakarta Faces UI components. Custom actions
provided by a Jakarta Faces implementation may be mixed with standard Jakarta Server Pages actions
and custom actions from other libraries, as well as template text for
layout, in the same Jakarta Server Pages page.</p>
</div>
<div class="paragraph">
<p>Facelets XHTML is specified in
<a href="#a5476">Facelets and its use in Web
Applications</a>. This chapters builds on the previous one. Facelets relies
on concepts specified in Jakarta Server Pages.</p>
</div>
<div class="paragraph">
<p>For Jakarta Server Pages version 2.0 and onward, the file
extension “<em>.jsf</em>” is reserved, and may optionally be used (typically
by authoring tools) to represent VDL pages containing Jakarta Faces
content <a href="#a9096">13</a>. When running in a pre-Jakarta Server Pages 2.0 environment,
Jakarta Server Pages authors must give their Jakarta Server Pages pages that contain Jakarta Faces content a
filename ending in “<em>.jsp</em>”.</p>
</div>
<div class="sect2">
<h3 id="a4415"><a class="anchor" href="#a4415"></a>9.1. UIComponent Custom Actions</h3>
<div class="paragraph">
<p>A Jakarta Server Pages custom action (aka custom tag or tag)
for a Jakarta Faces <em>UIComponent</em> is constructed by combining properties and
attributes of a Java UI component class with the rendering attributes
supported by a specific <em>Renderer</em> from a concrete <em>RenderKit</em>. For
example, assume the existence of a concrete <em>RenderKit</em>,
<em>HTMLRenderKit</em>, which supports three <em>Renderer</em> types for the
<em>UIInput</em> component:</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even" style="width: 60%;">
<caption class="title">Table 14. Example Renderer Types</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">RendererType</th>
<th class="tableblock halign-left valign-top">Render-Dependent Attributes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">“Text”</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">“size”</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">“Secret”</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">“size”, “secretChar”</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">“Textarea”</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">“size”, “rows”</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The tag library descriptor (TLD) file for the
corresponding tag library, then, would define three custom actions—one
per <em>Renderer</em>. Below is an example of a portion of the custom action
definition for the <em>inputText</em> tag <a href="#a9097">14</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;tag&gt;</span>
  <span class="tag">&lt;name&gt;</span>inputText<span class="tag">&lt;/name&gt;</span>
  <span class="tag">&lt;tag-class&gt;</span>acme.html.tags.InputTag<span class="tag">&lt;/tag-class&gt;</span>
  <span class="tag">&lt;bodycontent&gt;</span>JSP<span class="tag">&lt;/bodycontent&gt;</span>

  <span class="tag">&lt;attribute&gt;</span>
    <span class="tag">&lt;name&gt;</span>id<span class="tag">&lt;/name&gt;</span>
    <span class="tag">&lt;required&gt;</span>false<span class="tag">&lt;/required&gt;</span>
    <span class="tag">&lt;rtexprvalue&gt;</span>true<span class="tag">&lt;/rtexprvalue&gt;</span>
  <span class="tag">&lt;/attribute&gt;</span>

  <span class="tag">&lt;attribute&gt;</span>
    <span class="tag">&lt;name&gt;</span>value<span class="tag">&lt;/name&gt;</span>
    <span class="tag">&lt;required&gt;</span>false<span class="tag">&lt;/required&gt;</span>
    <span class="tag">&lt;deferred-value&gt;</span>
      <span class="tag">&lt;type&gt;</span>java.lang.Object<span class="tag">&lt;/type&gt;</span>
    <span class="tag">&lt;deferred-value&gt;</span>
  <span class="tag">&lt;/attribute&gt;</span>

  <span class="tag">&lt;attribute&gt;</span>
    <span class="tag">&lt;name&gt;</span>size<span class="tag">&lt;/name&gt;</span>
    <span class="tag">&lt;required&gt;</span>false<span class="tag">&lt;/required&gt;</span>
    <span class="tag">&lt;deferred-value&gt;</span>
      <span class="tag">&lt;type&gt;</span>java.lang.Integer<span class="tag">&lt;/type&gt;</span>
    <span class="tag">&lt;deferred-value&gt;</span>
  <span class="tag">&lt;/attribute&gt;</span>
  ...
<span class="tag">&lt;/tag&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <em>size</em> attribute is derived
from the <em>Renderer</em> of type “Text”, while the <em>id</em> and <em>value</em>
attributes are derived from the <em>UIInput</em> component class itself. Also
note that the <em>id</em> attribute has <em>rtexprvalue</em> set to <em>true</em>. This is
to allow <em>${}</em> expressions in the <em>id</em> attribute so that <em>&lt;c:forEach&gt;</em>
can include faces components that incorporate the index into their id.
<em>RenderKit</em> implementors will generally provide a Jakarta Server Pages tag library which
includes component custom actions corresponding to each of the component
classes (or types) supported by each of the <em>RenderKit</em>’s <em>Renderers</em>.
See <a href="#a4223">RenderKit</a> and
<a href="#a4245">Renderer</a> for details on the
<em>RenderKit</em> and <em>Renderer</em> APIs. Jakarta Faces implementations must provide such a
tag library for the standard HTML RenderKit (see
<a href="#a5363">Standard HTML RenderKit Tag Library</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="using-uicomponent-custom-actions-in-jakarta-server-pages-pages"><a class="anchor" href="#using-uicomponent-custom-actions-in-jakarta-server-pages-pages"></a>9.2. Using UIComponent Custom Actions in Jakarta Server Pages Pages</h3>
<div class="paragraph">
<p>The following subsections define how a page
author utilizes the custom actions provided by the <em>RenderKit</em>
implementor in the Jakarta Server Pages pages that create the user interface of a
Jakarta Faces-based web application.</p>
</div>
<div class="sect3">
<h4 id="declaring-the-tag-libraries"><a class="anchor" href="#declaring-the-tag-libraries"></a>9.2.1. Declaring the Tag Libraries</h4>
<div class="paragraph">
<p>This specification hereby reserves the
following Uniform Resource Identifier (URI) values to refer to the
standard tag libraries for the custom actions defined by Jakarta Server
Faces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><a href="http://java.sun.com/jsf/core" class="bare">http://java.sun.com/jsf/core</a></em>&#8201;&#8212;&#8201;URI for
the <em>Jakarta Server Faces Core Tag Library</em></p>
</li>
<li>
<p><em><a href="http://java.sun.com/jsf/html" class="bare">http://java.sun.com/jsf/html</a></em>&#8201;&#8212;&#8201;URI for
the <em>Jakarta Server Faces Standard HTML RenderKit Tag Library</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The page author must use the standard Jakarta Server Pages
<em>taglib</em> directive to declare the URI of each tag library to be
utilized, as well as the prefix used (within this page) to identify
custom actions from this library. For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="error">&lt;</span>%@ taglib uri=”http://java.sun.com/jsf/core” prefix=”f” %<span class="error">&gt;</span>
<span class="error">&lt;</span>%@ taglib uri=”http://java.sun.com/jsf/html” prefix=”h” %<span class="error">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>declares the unique resource identifiers of
the tag libraries being used, as well as the prefixes to be used within
the current page for referencing actions from these
libraries <a href="#a9098">15</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="including-components-in-a-page"><a class="anchor" href="#including-components-in-a-page"></a>9.2.2. Including Components in a Page</h4>
<div class="paragraph">
<p>A Jakarta Faces <em>UIComponent</em> custom action can be
placed at any desired position in a Jakarta Server Pages page that contains the <em>taglib</em>
directive for the corresponding tag library, subject to the following
restrictions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When using a single Jakarta Server Pages page to create the
entire view, Jakarta Faces component custom actions must be nested inside the
<em>&lt;f:view&gt;</em> custom action from the Jakarta Faces Core Tag Library.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following example illustrates the general
use of a UIComponent custom action in a Jakarta Server Pages page. In this scenario:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">username</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">logonBean.username</span><span class="error">}</span><span class="error">”</span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>represents a <em>UIInput</em> field, to be rendered
with the “Text” renderer type, and points to the username property of a
backing bean for the actual value. The <em>id</em> attribute specifies the
component id of a <em>UIComponent</em> instance, from within the component
tree, to which this custom action corresponds. If no <em>id</em> is
specified, one will be automatically generated by the custom action
implementation.</p>
</div>
<div class="paragraph">
<p>Custom actions that correspond to Jakarta Faces
<em>UIComponent</em> instances must subclass
<em>jakarta.faces.webapp.UIComponentELTag</em> (see
<a href="UsingJSFInWebApplications.html#a6175">UIComponentELTag</a>)</p>
</div>
<div class="paragraph">
<p>During the <em>Render Response</em> phase of the
request processing lifecycle, the appropriate encoding methods of the
component (or its associated <em>Renderer</em>) will be utilized to generate
the representation of this component in the response page. In addition,
the first time a particular page is rendered, the component tree may
also be dynamically constructed.</p>
</div>
<div class="paragraph">
<p>All markup other than <em>UIComponent</em> custom
actions is processed by the Jakarta Server Pages container, in the usual way. Therefore,
you can use such markup to perform layout control, or include non-Jakarta Faces
content, in conjunction with the actions that represent UI components.</p>
</div>
</div>
<div class="sect3">
<h4 id="creating-components-and-overriding-attributes"><a class="anchor" href="#creating-components-and-overriding-attributes"></a>9.2.3. Creating Components and Overriding Attributes</h4>
<div class="paragraph">
<p>As <em>UIComponent</em> custom actions are
encountered during the processing of a Jakarta Server Pages page, the custom action
implementation must check the component tree for the existence of a
corresponding <em>UIComponent</em>, and (if not found) create and configure a
new component instance corresponding to this custom action. The details
of this process (as implemented in the findComponent() method of
UIComponentClassicTagBase, for easy reuse) are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the component associated with this
component custom action has been identified already, return it
unchanged.</p>
</li>
<li>
<p>Identify the <em>component identifier</em> for the
component related to this UIComponent custom action, as follows:</p>
<div class="ulist">
<ul>
<li>
<p>If the page author has specified a value for
the <em>id</em> attribute, use that value.</p>
</li>
<li>
<p>Otherwise, call the <em>createUniqueId()</em> method
of the <em>UIViewRoot</em> at the root of the component tree for this view, and
use that value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If this <em>UIComponent</em> custom action is
creating a <em>facet</em> (that is, we are nested inside an <em>&lt;f:facet&gt;</em> custom
action), determine if there is a facet of the component associated with
our parent <em>UIComponent</em> custom action, with the specified facet name,
and proceed as follows:</p>
<div class="ulist">
<ul>
<li>
<p>If such a facet already exists, take no
additional action.</p>
</li>
<li>
<p>If no such facet already exists, create a new
<em>UIComponent</em> (by calling the <em>createComponent()</em> method on the
<em>Application</em> instance for this web application, passing the value
returned by <em>getComponentType()</em>, set the component identifier to the
specified value, call <em>setProperties()</em> passing the new component
instance, and add the new component as a facet of the component
associated with our parent <em>UIComponent</em> custom action, under the
specified facet name.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If this <em>UIComponent</em> custom action is not
creating a facet (that is, we are not nested inside an <em>&lt;f:facet&gt;</em>
custom action), determine if there is a child component of the component
associated with our parent <em>UIComponent</em> custom action, with the
specified component identifier, and proceed as follows:</p>
<div class="ulist">
<ul>
<li>
<p>If such a child already exists, take no
additional action.</p>
</li>
<li>
<p>If no such child already exists, create a new
<em>UIComponent</em> (by calling the <em>createComponent()</em> method on the
<em>Application</em> instance for this web application, passing the value
returned by <em>getComponentType()</em>, set the component identifier to the
specified value, call <em>setProperties()</em> passing the new component
instance, and add the new component as a child of the component
associated with our parent <em>UIComponent</em> custom action.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="deleting-components-on-redisplay"><a class="anchor" href="#deleting-components-on-redisplay"></a>9.2.4. Deleting Components on Redisplay</h4>
<div class="paragraph">
<p>In addition to the support for dynamically
creating new components, as described above, UIComponent custom actions
will also <em>delete</em> child components (and facets) that are already
present in the component tree, but are not rendered on this display of
the page. For example, consider a UIComponent custom action that is
nested inside a Jakarta Tag&#8217;s <em>&lt;c:if&gt;</em> custom action whose condition is true when
the page is initially rendered. As described in this section, a new
UIComponent will have been created and added as a child of the
<em>UIComponent</em> corresponding to our parent <em>UIComponent</em> custom action.
If the page is re-rendered, but this time the <em>&lt;c:if&gt;</em> condition is
<em>false</em>, the previous child component will be removed.</p>
</div>
</div>
<div class="sect3">
<h4 id="representing-component-hierarchies"><a class="anchor" href="#representing-component-hierarchies"></a>9.2.5. Representing Component Hierarchies</h4>
<div class="paragraph">
<p>Nested structures of <em>UIComponent</em> custom
actions will generally mirror the hierarchical relationships of the
corresponding <em>UIComponent</em> instances in the view that is associated
with each Jakarta Server Pages page. For example, assume that a <em>UIForm</em> component (whose
component id is <em>logonForm</em>) contains a <em>UIPanel</em> component used to
manage the layout. You might specify the contents of the form like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:form</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">logonForm</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:panelGrid</span> <span class="attribute-name">columns</span>=<span class="error">”</span><span class="attribute-value">2</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;h:outputLabel</span> <span class="attribute-name">for</span>=<span class="error">”</span><span class="attribute-value">username</span><span class="error">”</span><span class="tag">&gt;</span>
      <span class="tag">&lt;h:outputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">Username:</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/h:outputLabel&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">username</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">logonBean.username</span><span class="error">}</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;h:outputLabel</span> <span class="attribute-name">for</span>=<span class="error">”</span><span class="attribute-value">password</span><span class="error">”</span><span class="tag">&gt;</span>
      <span class="tag">&lt;h:outputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">Password:</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/h:outputLabel&gt;</span>
    <span class="tag">&lt;h:inputSecret</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">password</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">logonBean.password</span><span class="error">}</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">submitButton</span><span class="error">”</span> <span class="attribute-name">type</span>=<span class="error">”</span><span class="attribute-value">SUBMIT</span><span class="error">”</span>
        <span class="attribute-name">action</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">logonBean.logon</span><span class="error">}</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">resetButton</span><span class="error">”</span> <span class="attribute-name">type</span>=<span class="error">”</span><span class="attribute-value">RESET</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/h:panelGrid&gt;</span>
<span class="tag">&lt;/h:form&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="registering-converters-event-listeners-and-validators"><a class="anchor" href="#registering-converters-event-listeners-and-validators"></a>9.2.6. Registering Converters, Event Listeners, and Validators</h4>
<div class="paragraph">
<p>Each Jakarta Faces implementation is required to
provide the core tag library (see <a href="#a4636">Jakarta Faces
Core Tag Library</a>), which includes custom actions that (when executed)
create instances of a specified <em>Converter</em>, <em>ValueChangeListener</em>,
<em>ActionListener</em> or <em>Validator</em> implementation class, and register the
created instance with the <em>UIComponent</em> associated with the most
immediately surrounding <em>UIComponent</em> custom action.</p>
</div>
<div class="paragraph">
<p>Using these facilities, the page author can
manage all aspects of creating and configuring values associated with
the view, without having to resort to Java code. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">username</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">logonBean.username</span><span class="error">}</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;f:validateLength</span> <span class="attribute-name">minimum</span>=<span class="error">”</span><span class="attribute-value">6</span><span class="error">”</span><span class="tag">/&gt;</span>
<span class="tag">&lt;/h:inputText&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>associates a validation check (that the value
entered by the user must contain at least six characters) with the
username <em>UIInput</em> component being described.</p>
</div>
<div class="paragraph">
<p>Following are usage examples for the
<em>valueChangeListener</em> and <em>actionListener</em> custom actions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">maxUsers</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;f:convertNumber</span> <span class="attribute-name">integerOnly</span>=<span class="error">”</span><span class="attribute-value">true</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;f:valueChangeListener</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">custom.MyValueChangeListener</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/h:inputText&gt;</span>
<span class="tag">&lt;h:commandButton</span> <span class="attribute-name">label</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Login</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;f:actionListener</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">custom.MyActionListener</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/h:commandButton&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This example causes a <em>Converter</em> and a
<em>ValueChangeListener</em> of the user specified type to be instantiated and
added as to the enclosing <em>UIInput</em> component, and an <em>ActionListener</em>
is instantiated and added to the enclosing <em>UICommand</em> component. If the
user specified type does not implement the proper listener interface a
<em>JSPException</em> must be thrown.</p>
</div>
</div>
<div class="sect3">
<h4 id="using-facets"><a class="anchor" href="#using-facets"></a>9.2.7. Using Facets</h4>
<div class="paragraph">
<p>A <em>Facet</em> is a subordinate UIComponent that
has a special relationship to its parent <em>UIComponent</em>, as described in
<a href="#a968">Facet Management</a>. Facets can be defined
in a Jakarta Server Pages page using the <em>&lt;f:facet&gt;</em> custom action. Each facet action
must have one and only one child UIComponent custom
action <a href="#a9099">16</a>. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:dataTable</span> <span class="attribute-name">...</span><span class="tag">&gt;</span>
  <span class="tag">&lt;f:facet</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">header</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;h:outputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">Customer</span> <span class="attribute-name">List</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/f:facet&gt;</span>
  <span class="tag">&lt;h:column&gt;</span>
    <span class="tag">&lt;f:facet</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">header</span><span class="error">”</span><span class="tag">&gt;</span>
      <span class="tag">&lt;h:outputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">Account</span> <span class="attribute-name">Id</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/f:facet&gt;</span>
    <span class="tag">&lt;h:outputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">accountId</span><span class="error">”</span> <span class="attribute-name">value</span>= <span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">customer.accountId</span><span class="error">}</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/h:column&gt;</span>
  ...
<span class="tag">&lt;/h:dataTable&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a4536"><a class="anchor" href="#a4536"></a>9.2.8. Interoperability with Jakarta Server Pages Template Text and Other Tag Libraries</h4>
<div class="paragraph">
<p>It is permissible to use other tag libraries,
such as the Jakarta Standard Tag Library (Jakarta Tags) in the same Jakarta Server Pages page with
<em>UIComponent</em> custom actions that correspond to Jakarta Faces components, subject
to certain restrictions. When Jakarta Faces component actions are nested inside
custom actions from other libraries, or combined with template text, the
following behaviors must be supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jakarta Faces component custom actions nested inside a
custom action that conditionally renders its body (such as Jakarta Tags’s
<em>&lt;c:if&gt;</em> or <em>&lt;c:choose&gt;</em>) must contain a manually assigned <em>id</em>
attribute.</p>
</li>
<li>
<p>Interoperation with the Jakarta Tag&#8217;s
Internationalization-Capable Formatting library (typically used with the
“<em>fmt</em>” prefix) is restricted as follows:</p>
<div class="ulist">
<ul>
<li>
<p>The <em>&lt;fmt:parseDate&gt;</em> and
<em>&lt;fmt:parseNumber&gt;</em> custom actions should not be used. The corresponding
Jakarta Faces facility is to use an <em>&lt;h:inputText&gt;</em> component custom action with
an appropriate <em>DateTimeConverter</em> or <em>NumberConverter</em>.</p>
</li>
<li>
<p>The <em>&lt;fmt:requestEncoding&gt;</em> custom action
should not be used. By the time it is executed, the request parameters
will have already been parsed, so any change in the setting here will
have no impact. Jakarta Faces handles character set issues automatically in most
cases. To use a fixed character set in exceptional circumstances, use
the a “<em>&lt;%@ page contentType=”[content-type];[charset]” %&gt;</em>”
directive.</p>
</li>
<li>
<p>The <em>&lt;fmt:setLocale/&gt;</em> custom action should
not be used. Even though it might work in some circumstances, it would
result in Jakarta Faces and Jakarta Tags assuming different locales. If the two locales
use different character sets, the results will be undefined.
Applications should use Jakarta Faces facilities for setting the <em>locale</em> property
on the <em>UIViewRoot</em> component to change locales for a particular user.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="composing-pages-from-multiple-sources"><a class="anchor" href="#composing-pages-from-multiple-sources"></a>9.2.9. Composing Pages from Multiple Sources</h4>
<div class="paragraph">
<p>Jakarta Server Pages pages can be composed from multiple
sources using several mechanisms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>&lt;%@include%&gt;</em> directive performs a
compile-time inclusion of a specified source file into the page being
compiled <a href="#a9100">17</a>. From the perspective of Jakarta Faces, such
inclusions are transparent—the page is compiled as if the inclusions had
been performed before compilation was initiated.</p>
</li>
<li>
<p>Several mechanisms (including the
<em>&lt;jsp:include&gt;</em> standard action, the Jakarta Tag&#8217;s <em>&lt;c:import&gt;</em> custom action
when referencing a resource in the same webapp, and a call to
<em>RequestDispatcher.include()</em> for a resource in the same webapp) perform
a runtime dynamic inclusion of the results of including the response
content of the requested page resource in place of the include action.
Any Jakarta Faces components created by execution of Jakarta Faces component custom actions
in the included resource will be grafted onto the component tree, just
as if the source text of the included page had appeared in the calling
page at the position of the include action.</p>
</li>
<li>
<p>For mechanisms that aggregate content by
other means (such as use of an <em>HttpURLConnection</em>, a
<em>RequestDispatcher.include()</em> on a resource from a different web
application, or accessing an external resource with the Jakarta Tag&#8217;s
<em>&lt;c:import&gt;</em> custom action on a resource from a different web
application, only the response content of the aggregation request is
available. Therefore, any use of Jakarta Faces components in the generation of
such a response are not combined with the component tree for the current
page.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a4549"><a class="anchor" href="#a4549"></a>9.3. UIComponent Custom Action Implementation Requirements</h3>
<div class="paragraph">
<p>The custom action implementation classes for
<em>UIComponent</em> custom actions must conform to all of the requirements
defined in the Jakarta Server Pages Specification. In addition, they must
meet the following Jakarta Faces-specific requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extend the <em>UIComponentELTag</em> or
<em>UIComponentELBodyTag</em> base class, so that Jakarta Faces implementations can
recognize <em>UIComponent</em> custom actions versus others.</p>
</li>
<li>
<p>Provide a public <em>getComponentType()</em> method
that returns a String-valued component type registered with the
<em>Application</em> instance for this web application. The value returned by
this method will be passed to <em>Application.createComponent()</em> when a new
<em>UIComponent</em> instance associated with this custom action is to be
created.</p>
</li>
<li>
<p>Provide a public <em>getRendererType()</em> method
that returns a String-valued renderer type registered with the
<em>RenderKit</em> instance for the currently selected <em>RenderKit</em>, or <em>null</em>
if there should be no associated <em>Renderer</em>. The value returned by this
method will be used to set the <em>rendererType</em> property of any
UIComponent created by this custom action.</p>
</li>
<li>
<p>Provide setter methods taking a
<em>jakarta.el.ValueExpression</em> or <em>jakarta.el.MethodExpression</em> parameter for
all set-able (from a custom action) properties of the corresponding
<em>UIComponent</em> class, and all additional set-able (from a custom action)
attributes supported by the corresponding <em>Renderer</em>.</p>
</li>
<li>
<p>On the method that causes a <em>UIComponent</em>
instance to be added to the tree, verify that the component id of that
<em>UIComponent</em> is unique within the scope of the closest ancestor
component that is a <em>NamingContainer</em>. If this constraint is not met,
throw <em>JspException</em>.</p>
</li>
<li>
<p>Provide a protected <em>setProperties()</em> method
of type <em>void</em> that takes a <em>UIComponent</em> instance as parameter. The
implementation of this method must perform the following tasks:</p>
<div class="ulist">
<ul>
<li>
<p>Call <em>super.setProperties()</em>, passing the
same <em>UIComponent</em> instance received as a parameter.</p>
</li>
<li>
<p>For each non-null custom action attribute
that corresponds to a property based attribute to be set on the
underlying component, call either <em>setValueExpression()</em> or
<em>getAttributes().put()</em>, depending on whether or not a value expression
was specified as the custom action attribute value (performing any
required type conversion). For example, assume that title is the name of
a render-dependent attribute for this component:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> setTitle(jakarta.el.ValueExpression title) {
  <span class="local-variable">this</span>.title = title;
}

<span class="directive">protected</span> <span class="type">void</span> setProperties(UIComponent component) <span class="directive">throws</span> JspException {
  <span class="local-variable">super</span>.setProperties(component);
  <span class="keyword">if</span> (title != <span class="predefined-constant">null</span>) {
    <span class="keyword">try</span> {
      component.setValueExpression(<span class="error">“</span>title<span class="error">”</span>, title);
    } <span class="keyword">catch</span> (ELException e) {
      <span class="keyword">throw</span> <span class="keyword">new</span> JspException(e);
    }
  ...
}</code></pre>
</div>
</div>
</li>
<li>
<p>For each non-null custom action attribute
that corresponds to a method based attribute to be set on the underlying
component, the value of the attribute must be a method reference
expression. We have a number of wrapper classes to turn a
MethodExpression into the appropriate listener. For example, assume that
<em>valueChangeListener</em> is the name of an attribute for this component:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> setValueChangeListener(jakarta.el.MethodExpression me) {
  valueChangeListener = me;
}

<span class="directive">protected</span> <span class="type">void</span> setProperties(UIComponent component) {
  <span class="local-variable">super</span>.setProperties(component);
  MethodExpressionValueChangeListener listener =
      <span class="keyword">new</span> MethodExpressionValueChangeListener(valueChangeListener);
  input.addValueChangeListener(listener);
  ...
}</code></pre>
</div>
</div>
</li>
<li>
<p>Non-null custom action attributes that
correspond to a writable property to be set on the underlying component
are handled in a similar fashion. For example, assume a custom action
for the <em>UIData</em> component is being created that needs to deal with the
<em>rows</em> property (which is of type <em>int</em>):</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> setRows(jakarta.el.ValueExpression rows) {
  <span class="local-variable">this</span>.rows = rows;
}

<span class="directive">protected</span> <span class="type">void</span> setProperties(UIComponent component) {
  <span class="local-variable">super</span>.setProperties(component);
  <span class="keyword">if</span> (rows != <span class="predefined-constant">null</span>) {
    <span class="keyword">try</span> {
      component.setValueExpression(<span class="error">“</span>rows<span class="error">”</span>, rows);
    } <span class="keyword">catch</span> (ELException e) {
      <span class="keyword">throw</span> <span class="keyword">new</span> JspException(e);
    }
  }
  ...
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Optionally, provide a public <em>release()</em>
method of type <em>void</em>, taking no parameters, to be called when the Jakarta Server Pages
page handler releases this custom action instance. If implemented, the
method must perform the following tasks:</p>
<div class="ulist">
<ul>
<li>
<p>Call <em>super.release()</em> to invoke the
superclass’s release functionality.</p>
</li>
<li>
<p>Clear the instance variables representing the
values for set-able custom action attributes (for example, by setting
String values to null).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optionally provide overridden implementations
for the following method to fine tune the behavior of your <em>UIComponent</em>
custom action implementation class: <em>encodeComponent()</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is technically possible to override other
public and protected methods of the <em>UIComponentELTag</em> or
<em>UIComponentBodyELTag</em> base class; however, it is likely that overriding
these methods will interfere with the functionality that other portions
of the Jakarta Faces implementation are assuming to be present, so overriding
these methods is strongly discouraged.</p>
</div>
<div class="paragraph">
<p>The definition of each <em>UIComponent</em> custom
action in the corresponding tag library descriptor (TLD) must conform to
the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>&lt;body-content&gt;</em> element for the custom
action itself must specify <em>JSP</em>.</p>
</li>
<li>
<p>For each attribute that is intended to be
passed on to the underlying faces component:</p>
<div class="ulist">
<ul>
<li>
<p>The attribute may not be named <em>id</em>. This
name is reserved for Faces use.</p>
</li>
<li>
<p>If the attribute represents a method
expression, it must have a <em>&lt;deferred-method&gt;</em> element containing a
<em>&lt;method-signature&gt;</em> element that describes the signature of the method
pointed to by the expression, as described in section JSP.C.1 in the Jakarta Server Pages
3.0 specification.</p>
</li>
<li>
<p>Otherwise, the attribute must be a value
based attribute, and must have a <em>&lt;deferred-value&gt;</em> element containing a
&lt;type&gt; element which describes the expected type to which the expression
will evaluate. Please see section JSP.C.1 in the Jakarta Server Pages 3.0 specification
for details.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="considerations-for-custom-actions-written-for-pre-jakarta-faces-jsf-1-1-and-1-0"><a class="anchor" href="#considerations-for-custom-actions-written-for-pre-jakarta-faces-jsf-1-1-and-1-0"></a>9.3.1. Considerations for Custom Actions written for pre-Jakarta Faces JSF 1.1 and 1.0</h4>
<div class="paragraph">
<p>Versions 1.0 and 1.1 of the pre-Jakarta Faces
spec included their own EL that happend to have similar semantics to the
Jakarta Server Pages EL, but the implementation was bundled into the Faces
implementation. This version leverages the Jakarta Expression Language facility.
This change has necessitated deprecating some methods
and classes, including the classes Custom Actions as their base class
for tags that expose Faces components to the Jakarta Server Pages page. This section
explains how custom actions built for Faces 1.0 and 1.1 can continue to
run Faces 1.2.</p>
</div>
<div class="sect4">
<h5 id="past-and-present-tag-constraints"><a class="anchor" href="#past-and-present-tag-constraints"></a>9.3.1.1. Past and Present Tag constraints</h5>
<div class="paragraph">
<p>Faces 1.0 and 1.1 were targeted at pre-Jakarta Server Pages JSP
version 1.2 and Servlet version 2.3. This decision brought about several
constraints for faces tag attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all tag attributes had to declare
<em>rtexprvalue</em> to be <em>false</em>.</p>
</li>
<li>
<p>all tag attributes had to take the type
<em>java.lang.String</em>.</p>
</li>
<li>
<p>Faces had to choose a new expression
delimiter, <em>#{}</em> , to prevent the Jakarta Server Pages container from prematurely
evaluating the expression. This became known as deferred evaluation.</p>
</li>
<li>
<p>Because Faces had introduced its own version
of the EL, the custom tag action layer had to do a lot of extra work to
“value binding enable” its attributes, calling Faces EL APIs to turn the
String attribute value into an instance of <em>ValueBinding</em> or
<em>MethodBinding</em>.</p>
</li>
<li>
<p>Faces provided the <em>UIComponentTag</em> and
<em>UIComponentBodyTag</em> base classes that were designed to adhere to the
above rules.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tags that use the Jakarta Expression Language have the
following constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all tag attributes must not have an
<em>rtexprvalue</em> attribute</p>
</li>
<li>
<p>all tag attributes must accept
<em>jakarta.el.ValueExpression</em> or <em>jakarta.el.MethodExpression</em> as their type
(depending on if the attribute refers to a method or a value).</p>
</li>
<li>
<p>all tag attributes (except for <em>id</em>) must
have a <em>&lt;deferred-value&gt;</em> or <em>&lt;deferred-method&gt;</em> element. See
<em><a href="#a4636">Jakarta Faces Core Tag Library</a></em> in the
description for the <em>Attributes</em> column.</p>
</li>
<li>
<p>The Jakarta Server Pages Container will hand the tag setter a
<em>jakarta.el.ValueExpression</em> or <em>jakarta.el.MethodExpression</em> directly, so
there is no need to use the Faces API to create them.</p>
</li>
<li>
<p>The <em>UIComponentTag</em> and <em>UIComponentBodyTag</em>
classes are deprecated and Faces provides new base class,
UIComponentELTag to the new rules for taglibs in Faces.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It’s very important to note that we still are
using #\{} as the delimiters for expressions that appear in a Jakarta Server Pages page
in the value of a tag attribute, but when the Java API is used, either
$\{} or #\{} may be used for delimiters.</p>
</div>
</div>
<div class="sect4">
<h5 id="a4629"><a class="anchor" href="#a4629"></a>9.3.1.2. Faces 1.0 and 1.1 Taglib migration story</h5>
<div class="paragraph">
<p>It is imperative that applications written
for Faces 1.0 and 1.1 continue to run on Faces 1.2. From the JSP
perspective, this means</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>that Jakarta Server Pages pages using the standard h: and f:
tags must work without change</p>
</li>
<li>
<p>that Jakarta Server Pages pages using custom faces taglibs
must work without change</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The first item is enabled by re-writing the
h: and f: taglibs which must be provided by the Faces implementor.</p>
</div>
<div class="paragraph">
<p>The second item is enabled as follows. For
discussion the term <em>jsp-version</em> is used to denote the <em>jsp-version</em>
element in a Jakarta Server Pages 1.2 (and earlier) TLD, as well as the <em>version</em> element
in a Jakarta Server Pages 2.0 (and later) TLD. The Jakarta Server Pages container must examine the
<em>jsp-version</em> element of the TLD for a taglib. If the <em>jsp-version</em> is
less than 2.1, the taglib is deemed to be a Faces 1.0 or 1.1 taglib and
the container must ignore all expressions that use #\{} as delimiters,
except for those appearing in tag attribute with a property setter that
takes a <em>jakarta.el.ValueExpression</em> or <em>jakarta.el.MethodExpression</em>. If
the <em>jsp-version</em> is 2.1 or greater, the taglib is deemed to be a Faces
1.2 or later taglib and the Jakarta Server Pages container is aware of #\{} expressions.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a4636"><a class="anchor" href="#a4636"></a>9.4. Jakarta Faces Core Tag Library</h3>
<div class="paragraph">
<p>[P1-start Jakarta Faces taglib requirements] All
Jakarta Faces implementations must provide a tag library containing core actions
(described below) that are independent of a particular <em>RenderKit</em>. The
corresponding tag library descriptor must meet the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must declare a tag library version
(<em>&lt;tlib-version&gt;</em>) value of <em>1.2</em>.</p>
</li>
<li>
<p>Must declare a URI (<em>&lt;uri&gt;</em>) value of
<em><a href="http://java.sun.com/jsf/core" class="bare">http://java.sun.com/jsf/core</a></em>.</p>
</li>
<li>
<p>Must be included in the <em>META-INF</em>
directory of a JAR file containing the corresponding implementation
classes, suitable for inclusion with a web application, such that the
tag library descriptor will be located automatically by the algorithm
described in Section 7.3 of the _ Jakarta Server Pages  Specification_
(version 2.1). [P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start no javascript in jakarta_faces_core
taglib] The tags in the implementation of this tag library must not
cause JavaScript to be rendered to the client. Doing so would break the
requirement that the Jakarta Faces Core Tag library is independent of any specific
RenderKit. [P1-end]</p>
</div>
<div class="paragraph">
<p>Each custom action included in the Jakarta Faces Core
Tag Library is documented in a subsection below, with the following
outline for each action:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name—The name of this custom action, as used
in a Jakarta Server Pages page.</p>
</li>
<li>
<p>Short Description—A summary of the behavior
implemented by this custom action.</p>
</li>
<li>
<p>Syntax—One or more examples of using this
custom action, with the required and optional sets of attributes that
may be used together. If the tag may have an <em>id</em> attribute, its value
may be a literal string, or an immediate, non-defferd expression, such
as “<em>userName</em>” or “<em>user${i}</em>” without the quotes.</p>
</li>
<li>
<p>Body Content—The type of nested content for
this custom action, using one of the standard values <em>empty</em>, <em>JSP</em>,
or <em>tagdependent</em> as described in the Jakarta Server Pages specification. This section
also describes restrictions on the types of content (template text, Jakarta Faces
core custom actions, Jakarta Faces <em>UIComponent</em> custom actions, and/or other
custom actions) that can be nested in the body of this custom action.</p>
</li>
<li>
<p>Attributes—A table containing one row for
each defined attribute for this custom action. The following columns
provide descriptive information about each attribute:</p>
<div class="ulist">
<ul>
<li>
<p>Name—Name of this attribute, as it must be
used in the page. If the name of the attribute is in <em>italics</em>, it is
required.</p>
</li>
<li>
<p>Expr—The type of dynamic expression (if any)
that can be used in this attribute value. Legal values are VE (this may
be a literal or a value expression), ME (this may be a method
expression), or NONE (this attribute accepts literal values only). If
the <em>Expr</em> column is VE, the corresponding <em>&lt;attribute&gt;</em> declaration in
the TLD must contain a <em>&lt;deferred-value&gt;</em> element, optionally containing
a <em>&lt;type&gt;</em> element that contains the fully qualified java class name of
the expected type of the expression. If <em>&lt;type&gt;</em> is omitted,
Object.class is assumed. If the <em>Expr</em> column is ME, the corresponding
<em>&lt;attribute&gt;</em> declaration in the TLD must contain a <em>&lt;deferred-method&gt;</em>
element, containing a <em>&lt;method-signature&gt;</em> element that describes the
exact method signature for the method. In this case, the <em>Description</em>
column the description column contains the method signature.</p>
</li>
<li>
<p>Type—Fully qualified Java class or primitive
type of this attribute.</p>
</li>
<li>
<p>Description—The functional meaning of this
attribute’s value.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Constraints—Additional constraints enforced
by this action, such as combinations of attributes that may be used
together.</p>
</li>
<li>
<p>Description—Details about the functionality
provided by this custom action.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="a4654"><a class="anchor" href="#a4654"></a>9.4.1. &lt;f:actionListener&gt;</h4>
<div class="paragraph">
<p>Register an <em>ActionListener</em> instance on the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax"><a class="anchor" href="#syntax"></a>9.4.1.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:actionListener type=”<em>fully-qualified-classname</em>”</code>
<code>binding=”<em>value Expression</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content"><a class="anchor" href="#body-content"></a>9.4.1.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-2"><a class="anchor" href="#attributes-2"></a>9.4.1.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully
qualified Java class name of an <em>ActionListener</em> to be created and
registered</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements
<em>jakarta.faces.event.ActionListener</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints"><a class="anchor" href="#constraints"></a>9.4.1.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>UIComponent</em> custom
action.</p>
</li>
<li>
<p>The corresponding <em>UIComponent</em>
implementation class must implement <em>ActionSource</em>, and therefore
define a public <em>addActionListener()</em> method that accepts an
<em>ActionListener</em> parameter.</p>
</li>
<li>
<p>The specified listener class must implement
<em>jakarta.faces.event.ActionListener</em>.</p>
</li>
<li>
<p><em>type</em> and/or binding must be specified.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:actionListener constraints] If
this tag is not nested inside a <em>UIComponent</em> custom action, or the
<em>UIComponent</em> implementation class does not correctly implement
<em>ActionSource</em>, or the specified listener class does not implement
<em>jakarta.faces.event.ActionListener</em>, throw a <em>JspException</em>. [P1-end]
Note that if the binding attribute is used, the scope of the
<em>ValueExpression</em> must be chosen carefully so as not to introduce
undesireable results. In general, when using the binding attribute, do
not point to beans in request or narrower scope.</p>
</div>
</div>
<div class="sect4">
<h5 id="description"><a class="anchor" href="#description"></a>9.4.1.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, check the
binding attribute.</p>
</div>
<div class="paragraph">
<p>If binding is set, create a <em>ValueExpression</em>
by invoking <em>Application.createValueExpression()</em> with binding as the
expression argument, and <em>Object.class</em> as the expectedType argument.
Use the <em>ValueExpression</em> to obtain a reference to the <em>ActionListener</em>
instance. If there is no exception thrown, and
<em>ValueExpression.getValue()</em> returned a non-null object that implements
<em>jakarta.faces.event.ActionListener</em>, register it by calling
<em>addActionListener()</em>. If there was an exception thrown, rethrow the
exception as a <em>JspException</em>.</p>
</div>
<div class="paragraph">
<p>If the listener instance could not be
created, check the <em>type</em> attribute. If the <em>type</em> attribute is set,
instantiate an instance of the specified class, and register it by
calling <em>addActionListener()</em>. If the binding attribute was also set,
evaluate the expression into a <em>ValueExpression</em> and store the listener
instance by calling <em>setValue()</em> on the <em>ValueExpression</em>. If there was
an exception thrown, rethrow the exception as a <em>JspException</em>.</p>
</div>
<div class="paragraph">
<p>As an alternative to using the binding and/or
type attributes, you may also register a method in a backing bean class
to receive <em>ActionEvent</em> notifications, by using the <em>actionListener</em>
attribute on the corresponding <em>UIComponent</em> custom action.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a4679"><a class="anchor" href="#a4679"></a>9.4.2. &lt;f:attribute&gt;</h4>
<div class="paragraph">
<p>Add an attribute or <em>ValueExpression</em> on the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-2"><a class="anchor" href="#syntax-2"></a>9.4.2.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:attribute name=”<em>attribute-name</em>”</code>
<code>value=”<em>attribute-value</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-2"><a class="anchor" href="#body-content-2"></a>9.4.2.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-3"><a class="anchor" href="#attributes-3"></a>9.4.2.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>name</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name
of the component attribute to be set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Object</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value
of the component attribute to be set</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-2"><a class="anchor" href="#constraints-2"></a>9.4.2.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>UIComponent</em> custom
action.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-2"><a class="anchor" href="#description-2"></a>9.4.2.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. Call
the <em>getValue()</em> method on the argument <em>name</em> to obtain the name of the
attribute. If the associated component already has a component attribute
with that name, take no action. Otherwise, call the <em>isLiteralText()</em>
method on the argument <em>value</em>. If it returns <em>true</em>, store the value
in the component’s attribute Map under the name derived above. If it
returns <em>false</em>, store the <em>ValueExpression</em> in the component’s
<em>ValueExpression</em> Map under the name derived above.</p>
</div>
<div class="paragraph">
<p>There is no standard implementation class for
this action. It must be provided by the implementation.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a4697"><a class="anchor" href="#a4697"></a>9.4.3. &lt;f:convertDateTime&gt;</h4>
<div class="paragraph">
<p>Register a <em>DateTimeConverter</em> instance on
the <em>UIComponent</em> associated with the closest parent <em>UIComponent</em>
custom action.</p>
</div>
<div class="sect4">
<h5 id="syntax-3"><a class="anchor" href="#syntax-3"></a>9.4.3.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:convertDateTime</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>[dateStyle=”{<strong>default</strong>|short|medium|long|full}”]</code></p>
</li>
<li>
<p><code>[locale=”{<em>locale</em>|<em>string</em>}”]</code></p>
</li>
<li>
<p><code>[pattern=”<em>pattern</em>”]</code></p>
</li>
<li>
<p><code>[timeStyle=”{<strong>default</strong>|short|medium|long|full}”]</code></p>
</li>
<li>
<p><code>[timeZone=”{<em>timeZone</em>|<em>string</em>}”]</code></p>
</li>
<li>
<p><code>[type=”{date|time|both|localDate|localDateTime|localTime|</code><br>
<code>offsetTime|offsetDateTime|zonedDateTime}”]</code></p>
</li>
<li>
<p><code>[binding=”<em>Value Expression</em>”]/&gt;</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="body-content-3"><a class="anchor" href="#body-content-3"></a>9.4.3.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-4"><a class="anchor" href="#attributes-4"></a>9.4.3.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date-Style</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Predefined formatting style which determines
how the date component of a date string is to be formatted and parsed.
Applied only if type is "date", "both", "localDate", "localDateTime", or
"zonedDateTime". Valid values are "default", "short", "medium", "long",
and "full". Default value is "default". If a java.time formatter is
being used, yet the dateStyle is set to "default", the value "medium" is
assumed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">locale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Locale or String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Locale whose predefined styles for dates and
times are used during formatting or parsing. If not specified, the
Locale returned by FacesContext.getViewRoot().getLocale() will be used.
Value must be either a VE expression that evaluates to a
java.util.Locale instance, or a String that is valid to pass as the
first argument to the constructor java.util.Locale(String language,
String country). The empty string is passed as the second argument.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom
formatting pattern which determines how the date/time string should be
formatted and parsed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">time-Style</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Predefined formatting style which determines
how the time component of a date string is to be formatted and parsed.
Applied only if type is "time", "both", "localTime" or "offsetTime".
Valid values are "default", "short", "medium", "long", and "full".
Default value is "default". If a java.time formatter is being used, yet
the timeStyle is set to "default", the value "medium" is assumed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">time-Zone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">timezone or String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time zone in which to interpret any time
information in the date string. Value must be either a VE expression
that evaluates to a java.util.TimeZone instance, or a String that is a
timezone ID as described in the javadocs for
java.util.TimeZone.getTimeZone().</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies
what contents the string value will be formatted to include, or parsed
expecting. Valid values are "date", "time", "both", "localDate",
"localDateTime", "localTime", "offsetTime", "offsetDateTime", and
"zonedDateTime". The values starting with "local", "offset" and "zoned"
correspond to Java SE 8 Date Time API classes in package java.time with
the name derived by upper casing the first letter. For example,
java.time.LocalDate for the value "localDate". Default value is "date".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements <em>jakarta.faces.convert.Converter</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-3"><a class="anchor" href="#constraints-3"></a>9.4.3.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>UIComponent</em> custom
action whose component class implements <em>ValueHolder</em>, and whose value
is a <em>java.util.Date</em> (or appropriate subclass).</p>
</li>
<li>
<p>If <em>pattern</em> is specified, the pattern syntax
must use the pattern syntax specified by <em>java.text.SimpleDateFormat</em> or
<em>java.time.format.DateTimeFormatter</em> depending on the value of type.</p>
</li>
<li>
<p>If <em>pattern</em> is not specified, formatted
strings will contain a date value, a time value, or both depending on
the specified <em>type</em>. When date or time values are included, they will
be formatted according to the specified <em>dateStyle</em> and <em>timeStyle</em>,
respectively.</p>
</li>
<li>
<p>if <em>type</em> is not specified:</p>
<div class="ulist">
<ul>
<li>
<p>if <em>dateStyle</em> is set and <em>timeStyle</em> is not,
<em>type</em> defaults to <em>date</em></p>
</li>
<li>
<p>if <em>timeStyle</em> is set and <em>dateStyle</em> is not,
<em>type</em> defaults to <em>time</em></p>
</li>
<li>
<p>if both <em>dateStyle</em> and <em>timeStyle</em> are set,
<em>type</em> defaults to <em>both</em></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:convertDateTime
constraints] If this tag is not nested inside a <em>UIComponent</em> custom
action, or the <em>UIComponent</em> implementation class does not correctly
implement <em>ValueHolder</em>, throw a <em>JspException</em> [P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="description-3"><a class="anchor" href="#description-3"></a>9.4.3.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create, call
<em>createConverter()</em> and register the returned Converter instance on the
associated UIComponent.</p>
</div>
<div class="paragraph">
<p>[P1-start f:convertDateTime implementation
requirements ]The implementation class for this action must meet the
following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend
<em>jakarta.faces.webapp.ConverterELTag</em>.</p>
</li>
<li>
<p>The <em>createConverter()</em> method must:</p>
<div class="ulist">
<ul>
<li>
<p>If <em>binding</em> is non-null, call <em>getValue()</em>
on it to obtain a reference to the <em>Converter</em> instance. If there is no
exception thrown, and <em>binding.getValue()</em> returned a non-null object
that implements <em>jakarta.faces.convert.Converter</em>, it must then cast the
returned instance to <em>jakarta.faces.convert.DateTimeConverter</em> and
configure its properties based on the specified attributes for this
custom action, and return the configured instance. If there was an
exception thrown, rethrow the exception as a <em>JspException</em>.</p>
</li>
<li>
<p>use the <em>converterId</em> if the converter
instance could not be created from the <em>binding</em> attribute. Call the
<em>createConverter()</em> method of the <em>Application</em> instance for this
application, passing converter id “jakarta.faces.DateTime”. If the binding
attribute was also set, store the converter instance by calling
<em>binding.setValue()</em>. It must then cast the returned instance to
<em>jakarta.faces.convert.DateTimeConverter</em> and configure its properties
based on the specified attributes for this custom action, and return the
configured instance. If there was an exception thrown, rethrow the
exception as a <em>JspException</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the type attribute is not specified, it
defaults as follows:</p>
<div class="ulist">
<ul>
<li>
<p>If dateStyle is specified but timeStyle is
not specified, default to date.</p>
</li>
<li>
<p>If dateStyle is not specified but timeStyle
is specified, default to time.</p>
</li>
<li>
<p>If both dateStyle and timeStyle are
specified, default to both. [P1-end]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a4752"><a class="anchor" href="#a4752"></a>9.4.4. &lt;f:convertNumber&gt;</h4>
<div class="paragraph">
<p>Register a <em>NumberConverter</em> instance on the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-4"><a class="anchor" href="#syntax-4"></a>9.4.4.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:convertNumber</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>[currencyCode=”<em>currencyCode</em>”]</code></p>
</li>
<li>
<p><code>[currencySymbol=”<em>currencySymbol</em>”]</code></p>
</li>
<li>
<p><code>[groupingUsed=”{<strong>true</strong>|false}”]</code></p>
</li>
<li>
<p><code>[integerOnly=”{true|<strong>false</strong>}”]</code></p>
</li>
<li>
<p><code>[locale=”<em>locale</em>”]</code></p>
</li>
<li>
<p><code>[maxFractionDigits=”<em>maxFractionDigits</em>”]</code></p>
</li>
<li>
<p><code>[maxIntegerDigits=”<em>maxIntegerDigits</em>”]</code></p>
</li>
<li>
<p><code>[minFractionDigits=”<em>minFractionDigits</em>”]</code></p>
</li>
<li>
<p><code>[minIntegerDigits=”<em>minIntegerDigits</em>”]</code></p>
</li>
<li>
<p><code>[pattern=”<em>pattern</em>”]</code></p>
</li>
<li>
<p><code>[type=”{<strong>number</strong>|currency|percent}”]</code></p>
</li>
<li>
<p><code>[binding=”<em>Value Expression</em>”]/&gt;</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="body-content-4"><a class="anchor" href="#body-content-4"></a>9.4.4.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-5"><a class="anchor" href="#attributes-5"></a>9.4.4.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currencyCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO 4217
currency code, applied only when formatting currencies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currencySymbol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency symbol, applied only when
formatting currencies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">groupingUsed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether formatted output will
contain grouping separators.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">integerOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether only the integer part of
the value will be parsed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">locale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.util.Locale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Locale whose predefined styles for numbers
are used during formatting or parsing. If not specified, the Locale
returned by FacesContext.getViewRoot().getLocale() will be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxFractionDigits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of digits that will be
formatted in the fractional portion of the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxIntegerDigits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of digits that will be
formatted in the integer portion of the output</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">minFractionDigits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum number of digits that will be
formatted in the fractional portion of the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">minIntegerDigits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum number of digits that will be
formatted in the integer portion of the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom
formatting pattern which determines how the number string should be
formatted and parsed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies
whether the value will be parsed and formatted as a number, currency, or
percentage.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements <em>jakarta.faces.convert.Converter</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-4"><a class="anchor" href="#constraints-4"></a>9.4.4.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>UIComponent</em> custom
action whose component class implements <em>ValueHolder</em>, and whose value
is a numeric wrapper class or primitive.</p>
</li>
<li>
<p>If <em>pattern</em> is specified, the pattern syntax
must use the pattern syntax specified by <em>java.text.DecimalFormat</em>.</p>
</li>
<li>
<p>If <em>pattern</em> is not specified, formatting and
parsing will be based on the specified <em>type</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:convertNumber constraints]
If this tag is not nested inside a <em>UIComponent</em> custom action, or the
<em>UIComponent</em> implementation class does not correctly implement
<em>ValueHolder</em>, throw a <em>JspException</em>. [P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="description-4"><a class="anchor" href="#description-4"></a>9.4.4.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create, call
<em>createConverter()</em> and register the returned Converter instance on the
associated UIComponent.</p>
</div>
<div class="paragraph">
<p>[P1-start f:convertNumber implementation] The
implementation class for this action must meet the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend
<em>jakarta.faces.webapp.ConverterELTag</em>.</p>
</li>
<li>
<p>The <em>createConverter()</em> method must:</p>
</li>
<li>
<p>If <em>binding</em> is non-null, call
<em>binding.getValue()</em> to obtain a reference to the <em>Converter</em> instance.
If there is no exception thrown, and <em>binding.getValue()</em> returned a
non-null object that implements <em>jakarta.faces.convert.Converter</em>, it
must then cast the returned instance to
<em>jakarta.faces.convert.NumberConverter</em> and configure its properties based
on the specified attributes for this custom action, and return the
configured instance. If there was an exception thrown, rethrow the
exception as a <em>JspException</em>.</p>
</li>
<li>
<p>use the <em>converterId</em> if the converter
instance could not be created from the <em>binding</em> attribute. Call the
<em>createConverter()</em> method of the <em>Application</em> instance for this
application, passing converter id “jakarta.faces.Number”. If the binding
attribute was also set, store the converter instance by calling
<em>binding.setValue()</em>. It must then cast the returned instance to
<em>jakarta.faces.convert.NumberConverter</em> and configure its properties based
on the specified attributes for this custom action, and return the
configured instance. If there was an exception thrown, rethrow the
exception as a <em>JspException</em>. [P1-end]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fconverter"><a class="anchor" href="#fconverter"></a>9.4.5. &lt;f:converter&gt;</h4>
<div class="paragraph">
<p>Register a named <em>Converter</em> instance on the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-5"><a class="anchor" href="#syntax-5"></a>9.4.5.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:converter converterId=”<em>converterId</em>” binding=”<em>Value Expression</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-5"><a class="anchor" href="#body-content-5"></a>9.4.5.2. Body Content</h5>
<div class="paragraph">
<p>empty</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-6"><a class="anchor" href="#attributes-6"></a>9.4.5.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>converterId</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converter identifier of the converter to be
created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements <em>jakarta.faces.convert.Converter</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-5"><a class="anchor" href="#constraints-5"></a>9.4.5.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>UIComponent</em> custom
action whose component class implements <em>ValueHolder</em>.</p>
</li>
<li>
<p><em>converterId</em> and/or binding must be
specified.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:converter constraints] If
this tag is not nested inside a <em>UIComponent</em> custom action, or the
<em>UIComponent</em> implementation class does not correctly implement
<em>ValueHolder</em>, throw a <em>JspException</em>. [P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="description-5"><a class="anchor" href="#description-5"></a>9.4.5.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create, call
<em>createConverter()</em> and register the returned Converter instance on the
associated UIComponent.</p>
</div>
<div class="paragraph">
<p>[P1-start f:converter implementation] The
implementation class for this action must meet the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend
<em>jakarta.faces.webapp.ConverterJspTag</em>.</p>
</li>
<li>
<p>The <em>createConverter()</em> method must:</p>
<div class="ulist">
<ul>
<li>
<p>If <em>binding</em> is non-null, call
<em>binding.getValue()</em> to obtain a reference to the <em>Converter</em> instance.
If there is no exception thrown, and <em>binding.getValue()</em> returned a
non-null object that implements <em>jakarta.faces.convert.Converter</em>,
register it by calling <em>setConverter()</em>. If there was an exception
thrown, rethrow the exception as a <em>JspException</em>. Use the <em>converterId</em>
attribute if the converter instance could not be created from the
<em>binding</em> attribute. If the <em>converterId</em> attribute is set, call the
<em>createConverter()</em> method of the <em>Application</em> instance for this
application, passing converter id specified by their converterId
attribute. If the binding attribute was also set, store the converter
instance by calling <em>binding.setValue()</em>. Register the converter
instance by calling <em>setConverter()</em>. If there was an exception thrown,
rethrow the exception as a <em>JspException</em>. [P1-end]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a4843"><a class="anchor" href="#a4843"></a>9.4.6. &lt;f:facet&gt;</h4>
<div class="paragraph">
<p>Register a named facet (see
<a href="#a968">Facet Management</a>) on the <em>UIComponent</em>
associated with the closest parent <em>UIComponent</em> custom action.</p>
</div>
<div class="sect4">
<h5 id="syntax-6"><a class="anchor" href="#syntax-6"></a>9.4.6.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:facet name=”<em>facet-name</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-6"><a class="anchor" href="#body-content-6"></a>9.4.6.2. Body Content</h5>
<div class="paragraph">
<p>JSP. However, only a single UIComponent
custom action (and any related nested Jakarta Faces custom actions) is allowed; no
template text or other custom actions may be present.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-7"><a class="anchor" href="#attributes-7"></a>9.4.6.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>name</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>NONE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name
of the facet to be created</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-6"><a class="anchor" href="#constraints-6"></a>9.4.6.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>[P1-start f:facet constraints] Must be nested
inside a <em>UIComponent</em> custom action.</p>
</li>
<li>
<p>Exactly one <em>UIComponent</em> custom
action must be nested inside this custom action (although the nested
component custom action could itself have nested children). [P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-6"><a class="anchor" href="#description-6"></a>9.4.6.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the associated component does not already have a facet with a name
specified by this custom action’s <em>name</em> attribute, create a facet with
this name from the <em>UIComponent</em> custom action that is nested within
this custom action.</p>
</div>
<div class="paragraph">
<p>[P1-start f:facet implementation] The
implementation class must be, or extend, <em>jakarta.faces.webapp.FacetTag</em>. [P1-end]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a4860"><a class="anchor" href="#a4860"></a>9.4.7. &lt;f:loadBundle&gt;</h4>
<div class="paragraph">
<p>Load a resource bundle localized for the
locale of the current view, and expose it (as a Map) in the request
attributes for the current request.</p>
</div>
<div class="sect4">
<h5 id="syntax-7"><a class="anchor" href="#syntax-7"></a>9.4.7.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:loadBundle basename=”<em>resource-bundle-name</em>” var=”<em>attributeKey</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-7"><a class="anchor" href="#body-content-7"></a>9.4.7.2. Body Content</h5>
<div class="paragraph">
<p>empty</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-8"><a class="anchor" href="#attributes-8"></a>9.4.7.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>basename</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base name of the resource bundle to be
loaded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">var</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of a
request scope attribute under which the resource bundle will be exposed
as a Map.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-7"><a class="anchor" href="#constraints-7"></a>9.4.7.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>[P1-start f:loadBundle constraints]
Must be nested inside an <em>&lt;f:view&gt;</em> custom action. [P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-7"><a class="anchor" href="#description-7"></a>9.4.7.5. Description</h5>
<div class="paragraph">
<p>Load the resource bundle specified by the
<em>basename</em> attribute, localized for the Locale of the <em>UIViewRoot</em>
component of the current view, and expose its key-values pairs as a
<em>Map</em> under the attribute key specified by the <em>var</em> attribute. In this
way, value binding expressions may be used to conveniently retrieve
localized values. If the named bundle is not found, throw <em>JspException</em>.</p>
</div>
<div class="paragraph">
<p>If the <em>get()</em> method for the <em>Map</em> instance
exposed by this custom action is passed a key value that is not present
(that is, there is no underlying resource value for that key), the
literal string “???foo???” (where “foo” is replaced by the key the
String representation of the key that was requested) must be returned,
rather than the standard <em>Map</em> contract return value of <em>null</em>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fparam"><a class="anchor" href="#fparam"></a>9.4.8. &lt;f:param&gt;</h4>
<div class="paragraph">
<p>Add a child <em>UIParameter</em> component to the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-8"><a class="anchor" href="#syntax-8"></a>9.4.8.1. Syntax</h5>
<div class="paragraph">
<div class="title">Syntax 1: Unnamed value</div>
<p><code>&lt;f:param [id=”<em>componentIdOrImmediateExpression</em>”]</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>value=”<em>parameter-value</em>”</code></p>
</li>
<li>
<p><code>[binding=”<em>componentReference</em>”] /&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Syntax 2: Named value</div>
<p><code>&lt;f:param [id=”<em>componentIdOrImmediateExpression</em>”]</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>[binding=”<em>componentReference</em>”]</code></p>
</li>
<li>
<p><code>name=”<em>parameter-name</em>” value=”<em>parameter-value</em>”/&gt;</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="body-content-8"><a class="anchor" href="#body-content-8"></a>9.4.8.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-9"><a class="anchor" href="#attributes-9"></a>9.4.8.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression expression to a backing bean
property bound to the component instance for the UIComponent created by
this custom action</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>id</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>NONE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Component identifier of a <em>UIParameter</em>
component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>name</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name
of the parameter to be set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value
of the parameter to be set</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-8"><a class="anchor" href="#constraints-8"></a>9.4.8.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>[P1-start f:param constraints] Must be
nested inside a <em>UIComponent</em> custom action. [P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-8"><a class="anchor" href="#description-8"></a>9.4.8.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create a new
<em>UIParameter</em> component, and attach it as a child of the associated
<em>UIComponent</em>. It is up to the parent <em>UIComponent</em> to determine how it
will handle its <em>UIParameter</em> children.</p>
</div>
<div class="paragraph">
<p>[P1-start f:param implementation] The
implementation class for this action must meet the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend <em>jakarta.faces.UIComponentELTag</em>.</p>
</li>
<li>
<p>The <em>getComponentType()</em> method must return
“<em>Parameter</em>”.</p>
</li>
<li>
<p>The <em>getRendererType()</em> method must
return <em>null</em>. [P1-end]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fphaselistener"><a class="anchor" href="#fphaselistener"></a>9.4.9. &lt;f:phaseListener&gt;</h4>
<div class="paragraph">
<p>Register a <em>PhaseListener</em> instance on the
<em>UIViewRoot</em> associated with the closest parent <em>UIViewRoot</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-9"><a class="anchor" href="#syntax-9"></a>9.4.9.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:phaseListener type=”<em>fully-qualified-classname</em>” binding=”<em>Value expression</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-9"><a class="anchor" href="#body-content-9"></a>9.4.9.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-10"><a class="anchor" href="#attributes-10"></a>9.4.9.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully
qualified Java class name of an <em>PhaseListener</em> to be created and
registered</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements <em>jakarta.faces.event.PhaseListener</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-9"><a class="anchor" href="#constraints-9"></a>9.4.9.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>[P1-start f:phaseListener constraints] Must
be nested inside a <em>UIViewRoot</em> custom action.</p>
</li>
<li>
<p>The specified listener class must implement
<em>jakarta.faces.event.PhaseListener</em>.</p>
</li>
<li>
<p> <em>type</em> and/or binding must be
specified. [P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-9"><a class="anchor" href="#description-9"></a>9.4.9.5. Description</h5>
<div class="paragraph">
<p>Locate the one and only <em>UIViewRoot</em> custom
action instance by walking up the tag tree until you find a
<em>UIComponentTagBase</em> instance that has no parent. If the <em>getCreated()</em>
method of this instance returns <em>true</em>, check the binding attribute.</p>
</div>
<div class="paragraph">
<p>If binding is set, call <em>binding.getValue()</em>
to obtain a reference to the <em>PhaseListener</em> instance. If there is no
exception thrown, and <em>binding.getValue()</em> returned a non-null object
that implements <em>jakarta.faces.event.PhaseListener</em>, register it by
calling <em>addPhaseListener()</em>. If there was an exception thrown, rethrow
the exception as a <em>JspException</em>.</p>
</div>
<div class="paragraph">
<p>If the listener instance could not be
created, check the <em>type</em> attribute. If the <em>type</em> attribute is set,
instantiate an instance of the specified class, and register it by
calling <em>addPhaseListener()</em>. If the binding attribute was also set,
store the listener instance by calling <em>binding.setValue()</em>. If there
was an exception thrown, rethrow the exception as a <em>JspException</em>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fselectitem"><a class="anchor" href="#fselectitem"></a>9.4.10. &lt;f:selectItem&gt;</h4>
<div class="paragraph">
<p>Add a child <em>UISelectItem</em> component to the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-10"><a class="anchor" href="#syntax-10"></a>9.4.10.1. Syntax</h5>
<div class="paragraph">
<div class="title">Syntax 1: Directly Specified Value</div>
<p><code>&lt;f:selectItem [id=”<em>componentIdOrImmediateExpression</em>”]</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>[binding=”<em>componentReference</em>”]</code></p>
</li>
<li>
<p><code>[itemDisabled=”{true|<strong>false</strong>}”]</code></p>
</li>
<li>
<p><code>itemValue=”<em>itemValue</em>”</code></p>
</li>
<li>
<p><code>itemLabel=”<em>itemLabel</em>”</code></p>
</li>
<li>
<p><code>[itemDescription=”<em>itemDescription</em>”] /&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Syntax 2: Indirectly Specified Value</div>
<p><code>&lt;f:selectItem [id=”<em>componentIdOrImmediateExpression</em>”]</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>[binding=”<em>componentReference</em>”]</code></p>
</li>
<li>
<p><code>value=”<em>selectItemValue</em>”/&gt;</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="body-content-10"><a class="anchor" href="#body-content-10"></a>9.4.10.2. Body Content</h5>
<div class="paragraph">
<p>empty</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-11"><a class="anchor" href="#attributes-11"></a>9.4.10.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em> expression to a backing
bean property bound to the component instance for the UIComponent
created by this custom action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>id</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>NONE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Component identifier of a <em>UISelectItem</em>
component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>itemDescription</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description of this option (for use in
development tools).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">itemDisabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag
indicating whether the option created by this component is disabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">itemLabel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label to
be displayed to the user for this option.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">itemValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value to
be returned to the server if this option is selected by the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.model.SelectItem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value binding pointing at a SelectItem
instance containing the information for this option.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">escape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression pointing to a boolean that
tells whether or not the label of this selectItem should be escaped per
HTML rules. Default is true.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-10"><a class="anchor" href="#constraints-10"></a>9.4.10.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>[P1-start f:selectItem constraints]
Must be nested inside a <em>UIComponent</em> custom action that creates a
<em>UISelectMany</em> or <em>UISelectOne</em> component instance.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-10"><a class="anchor" href="#description-10"></a>9.4.10.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create a new
<em>UISelectItem</em> component, and attach it as a child of the associated
<em>UIComponent</em>.</p>
</div>
<div class="paragraph">
<p>[P1-start f:selectItem implementation] The
implementation class for this action must meet the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend <em>jakarta.faces.UIComponentELTag</em>.</p>
</li>
<li>
<p>The <em>getComponentType()</em> method must return
“<em>SelectItem</em>”.</p>
</li>
<li>
<p>The <em>getRendererType()</em> method must
return <em>null</em>.[P1-end]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fselectitems"><a class="anchor" href="#fselectitems"></a>9.4.11. &lt;f:selectItems&gt;</h4>
<div class="paragraph">
<p>Add a child <em>UISelectItems</em> component to the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-11"><a class="anchor" href="#syntax-11"></a>9.4.11.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:selectItems [id=”<em>componentIdOrImmediateExpression</em>”]</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>[binding=”<em>componentReference</em>”]</code></p>
</li>
<li>
<p><code>value=”<em>selectItemsValue</em>” /&gt;</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="body-content-11"><a class="anchor" href="#body-content-11"></a>9.4.11.2. Body Content</h5>
<div class="paragraph">
<p>empty</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-12"><a class="anchor" href="#attributes-12"></a>9.4.11.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em> expression to a backing
bean property bound to the component instance for the UIComponent
created by this custom action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>id</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>NONE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Component identifier of a <em>UISelectItem</em>
component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.model.SelectItem, see
description for specific details</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value binding expression pointing at one of
the following instances:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>an individual jakarta.faces.model.SelectItem</p>
</li>
<li>
<p>a java language array of
jakarta.faces.model.SelectItem</p>
</li>
<li>
<p>a java.util.Collection of
jakarta.faces.model.SeleccItem</p>
</li>
<li>
<p>A java.util.Map where the keys are converted
to Strings and used as labels, and the corresponding values are
converted to Strings and used as values for newly created
jakarta.faces.model.SelectItem instances. The instances are created in the
order of the iterator over the keys provided by the Map.</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-11"><a class="anchor" href="#constraints-11"></a>9.4.11.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>UIComponent</em> custom
action that creates a <em>UISelectMany</em> or <em>UISelectOne</em> component
instance.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-11"><a class="anchor" href="#description-11"></a>9.4.11.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create a new
<em>UISelectItems</em> component, and attach it as a child of the associated
<em>UIComponent</em>.</p>
</div>
<div class="paragraph">
<p>[P1-start f:selectItems implementation]The
implementation class for this action must meet the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend <em>jakarta.faces.UIComponentELTag</em>.</p>
</li>
<li>
<p>The <em>getComponentType()</em> method must return
“<em>jakarta.faces.SelectItems</em>”.</p>
</li>
<li>
<p>The <em>getRendererType()</em> method must
return <em>null</em>. [P1-end]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a5015"><a class="anchor" href="#a5015"></a>9.4.12. &lt;f:setPropertyActionListener&gt;</h4>
<div class="paragraph">
<p>Tag implementation that creates a special
<em>ActionListener</em> instance and registers it on the <em>ActionSource</em>
associated with our most immediate surrounding instance of a tag whose
implementation class is a subclass of <em>UIComponentTag</em>. This tag
creates no output to the page currently being created. This tag is
useful for pushing a specific value into a managed bean on page submit.</p>
</div>
<div class="sect4">
<h5 id="syntax-12"><a class="anchor" href="#syntax-12"></a>9.4.12.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:setPropertyActionListener target=”<em>Value Expression</em>” value=”<em>value Expression</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-12"><a class="anchor" href="#body-content-12"></a>9.4.12.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-13"><a class="anchor" href="#attributes-13"></a>9.4.12.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>ValueExpression</em> from which the value
is taken.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>ValueExpression</em> into which the
evaluated value from the “<em>value</em>” attribute is stored when the
listener executes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-12"><a class="anchor" href="#constraints-12"></a>9.4.12.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>UIComponent</em> custom
action.</p>
</li>
<li>
<p>The corresponding <em>UIComponent</em>
implementation class must implement <em>ActionSource</em>, and therefore
define a public <em>addActionListener()</em> method that accepts an
<em>ActionListener</em> parameter.</p>
</li>
<li>
<p>The tag implementation must only create and
register the <em>ActionListener</em> instance the first time the component for
this tag is created</p>
</li>
<li>
<p>When the listener executes:</p>
<div class="ulist">
<ul>
<li>
<p>Call <em>getValue()</em> on the "<em>value</em>"
<em>ValueExpression</em>.</p>
</li>
<li>
<p>If value of the "value" expression is null,
call <em>setValue()</em> on the "target" <em>ValueExpression</em> with the null value.</p>
</li>
<li>
<p>If the value of the "value" expression is not
null, call <em>getType()</em> on the "value" and "target" <em>ValueExpressions</em> to
determine their property types.</p>
</li>
<li>
<p>Coerce the value of the "value" expression to
the "target" expression value type following the Expression Language
coercion rules. Call <em>setValue()</em> on the "target" <em>ValueExpression</em> with
the resulting value.</p>
</li>
<li>
<p>If either conversion or the execution of
setValue() fails throw an AbortProcessingException.</p>
</li>
</ul>
</div>
</li>
<li>
<p>This tag creates no output to the page
currently being created. It is used solely for the side effect of
<em>ActionListener</em> creation and addition.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:setPropertyActionListener
constraints]If this tag is not nested inside a <em>UIComponent</em> custom
action, or the <em>UIComponent</em> implementation class does not correctly
implement <em>ActionSource</em>, or the specified listener class does not
implement <em>jakarta.faces.event.ActionListener</em>, throw a <em>JspException</em>.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="description-12"><a class="anchor" href="#description-12"></a>9.4.12.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em> return
<em>SKIP_BODY</em>.</p>
</div>
<div class="paragraph">
<p>Create an instance of <em>ActionListener</em> that
implements <em>StateHolder</em> and stores the <em>target</em> and <em>value</em>
<em>ValueExpression</em> instances as instance variables included in the state
saving contract. The <em>processAction()</em> method of the listener must call
<em>getValue()</em> on the <em>value</em> <em>ValueExpression</em> and convert the value
before passing the result to a call to <em>setValue()</em> on the <em>target</em>
<em>ValueExpression</em>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fsubview"><a class="anchor" href="#fsubview"></a>9.4.13. &lt;f:subview&gt;</h4>
<div class="paragraph">
<p>Container action for all Jakarta Faces core and
component custom actions used on a nested page included via
<em>&lt;jsp:include&gt;</em> or any custom action that dynamically includes another
page from the same web application, such as Jakarta Tags’s <em>&lt;c:import&gt;</em>.</p>
</div>
<div class="sect4">
<h5 id="syntax-13"><a class="anchor" href="#syntax-13"></a>9.4.13.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:subview id=”<em>componentIdOrImmediateExpression</em>”</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>[binding=”<em>componentReference</em>”]</code></p>
</li>
<li>
<p><code>[rendered=”{<strong>true</strong>|false}”]&gt;</code></p>
<div class="ulist none">
<ul class="none">
<li>
<p><code>Nested template text and custom actions</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>&lt;/f:subview&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-13"><a class="anchor" href="#body-content-13"></a>9.4.13.2. Body Content</h5>
<div class="paragraph">
<p>JSP. May contain any combination of template
text, other Jakarta Faces custom actions, and custom actions from other custom tag
libraries.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-14"><a class="anchor" href="#attributes-14"></a>9.4.13.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em> expression to a backing
bean property bound to the component instance for the UIComponent
created by this custom action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>id</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>NONE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Component identifier of a
<em>UINamingContainer</em> component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rendered</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether
or not this subview should be rendered.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-13"><a class="anchor" href="#constraints-13"></a>9.4.13.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>[P1-start f:subview constraints] Must be
nested inside a <em>&lt;f:view&gt;</em> custom action (although this custom action
might be in a page that is including the page containing the
<em>&lt;f:subview&gt;</em> custom action.</p>
</li>
<li>
<p>Must not contain an <em>&lt;f:view&gt;</em> custom action.</p>
</li>
<li>
<p>Must have an <em>id</em> attribute whose value is
unique within the scope of the parent naming container. If this
constraint is not met, the action taken regarding id uniqueness in
section <a href="#a4549">UIComponent Custom Action
Implementation Requirements</a> must be taken</p>
</li>
<li>
<p>May be placed in a parent page (with
<em>&lt;jsp:include&gt;</em> or <em>&lt;c:import&gt;</em> nested inside), or within the nested
page. [P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-13"><a class="anchor" href="#description-13"></a>9.4.13.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create a new
<em>UINamingContainer</em> component, and attach it as a child of the
associated <em>UIComponent</em>. Such a component provides a scope within
which child component identifiers must still be unique, but allows child
components to have the same simple identifier as child components nested
in some other naming container. This is useful in several scenarios:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">“main.jsp”
<span class="tag">&lt;f:view&gt;</span>
  <span class="tag">&lt;c:import</span> <span class="attribute-name">url</span>=<span class="error">”</span><span class="attribute-value">foo.jsp</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;c:import</span> <span class="attribute-name">url</span>=<span class="error">”</span><span class="attribute-value">bar.jsp</span><span class="error">”</span><span class="tag">/&gt;</span>
<span class="tag">&lt;/f:view&gt;</span>

“foo.jsp”
<span class="tag">&lt;f:subview</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">aaa</span><span class="error">”</span><span class="tag">&gt;</span>
  ... components and other content ...
<span class="tag">&lt;/f:subview&gt;</span>

“bar.jsp”
<span class="tag">&lt;f:subview</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">bbb</span><span class="error">”</span><span class="tag">&gt;</span>
  ... components and other content ...
<span class="tag">&lt;/f:subview&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this scenario, <em>&lt;f:subview&gt;</em> custom
actions in imported pages establish a naming scope for components within
those pages. Identifiers for <em>&lt;f:subview&gt;</em> custom actions nested in a
single <em>&lt;f:view&gt;</em> custom action must be unique, but it is difficult for
the page author (and impossible for the Jakarta Server Pages page compiler) to enforce
this restriction.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">“main.jsp”
<span class="tag">&lt;f:view&gt;</span>
  <span class="tag">&lt;f:subview</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">aaa</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;c:import</span> <span class="attribute-name">url</span>=<span class="error">”</span><span class="attribute-value">foo.jsp</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/f:subview&gt;</span>
  <span class="tag">&lt;f:subview</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">bbb</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;c:import</span> <span class="attribute-name">url</span>=<span class="error">”</span><span class="attribute-value">bar.jsp</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/f:subview&gt;</span>
<span class="tag">&lt;/f:view&gt;</span>

“foo.jsp”
... components and other content ...

“bar.jsp”
... components and other content ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this scenario, the <em>&lt;f:subview&gt;</em> custom
actions are in the including page, rather than the included page. As in
the previous scenario, the “id” values of the two subviews must be
unique; but it is much easier to verify using this style.</p>
</div>
<div class="paragraph">
<p>It is also possible to use this approach to
include the same page more than once, but maintain unique identifiers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">“main.jsp”
<span class="tag">&lt;f:view&gt;</span>
  <span class="tag">&lt;f:subview</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">aaa</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;c:import</span> <span class="attribute-name">url</span>=<span class="error">”</span><span class="attribute-value">foo.jsp</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/f:subview&gt;</span>
  <span class="tag">&lt;f:subview</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">bbb</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;c:import</span> <span class="attribute-name">url</span>=<span class="error">”</span><span class="attribute-value">foo.jsp</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/f:subview&gt;</span>
<span class="tag">&lt;/f:view&gt;</span>

“foo.jsp”
... components and other content ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In all of the above examples, note that
<em>foo.jsp</em> and <em>bar.jsp</em> may not contain <em>&lt;f:view&gt;</em>.</p>
</div>
<div class="paragraph">
<p>The implementation class for this action must
meet the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>[P1-start f:subview implementation] Must
extend <em>jakarta.faces.UIComponentELTag</em>.</p>
</li>
<li>
<p>The <em>getComponentType()</em> method must return “<em>NamingContainer</em>”.</p>
</li>
<li>
<p>The <em>getRendererType()</em> method must
return <em>null</em>. [P1-end]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a5163"><a class="anchor" href="#a5163"></a>9.4.14. &lt;f:validateDoubleRange&gt;</h4>
<div class="paragraph">
<p>Register a <em>DoubleRangeValidator</em> instance on
the <em>UIComponent</em> associated with the closest parent <em>UIComponent</em>
custom action.</p>
</div>
<div class="sect4">
<h5 id="syntax-14"><a class="anchor" href="#syntax-14"></a>9.4.14.1. Syntax</h5>
<div class="paragraph">
<div class="title">Syntax 1: Maximum only specified</div>
<p><code>&lt;f:validateDoubleRange maximum=”<em>543.21</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
<div class="paragraph">
<div class="title">Syntax 2: Minimum only specified</div>
<p><code>&lt;f:validateDoubleRange minimum=”<em>123.45</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
<div class="paragraph">
<div class="title">Syntax 3: Both maximum and minimum are specified</div>
<p><code>&lt;f:validateDoubleRange maximum=”<em>543.21</em>” minimum=”<em>123.45</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-14"><a class="anchor" href="#body-content-14"></a>9.4.14.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-15"><a class="anchor" href="#attributes-15"></a>9.4.14.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>maximum</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>double</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum value allowed for this component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>minimum</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>double</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum value allowed for this component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>binding</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements <em>jakarta.faces.convert.Validator</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">for</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to String referring to the value of one of the exposed
attached objects within the composite component inside of which this tag
is nested.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-14"><a class="anchor" href="#constraints-14"></a>9.4.14.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>EditableValueHolder</em>
custom action whose value is (or is convertible to) a double.</p>
</li>
<li>
<p>Must specify either the <em>maximum</em> attribute,
the <em>minimum</em> attribute, or both.</p>
</li>
<li>
<p>If both limits are specified, the maximum
limit must be greater than the minimum limit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:validateDoubleRange
constraints] If this tag is not nested inside a <em>UIComponent</em> custom
action, or the <em>UIComponent</em> implementation class does not correctly
implement <em>EditableValueHolder</em> throw a <em>JspException</em>. [P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="description-14"><a class="anchor" href="#description-14"></a>9.4.14.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create, call
<em>createValidator()</em> and register the returned <em>Validator</em> instance on
the associated <em>UIComponent</em>.</p>
</div>
<div class="paragraph">
<p>[P1-start f:validateDoubleRange
implementation] The implementation class for this action must meet the
following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend
<em>jakarta.faces.webapp.ValidatorELTag</em>.</p>
</li>
<li>
<p>The <em>createValidator()</em> method must:</p>
<div class="ulist">
<ul>
<li>
<p>If <em>binding</em> is non-null, create a
<em>ValueBinding</em> by invoking <em>Application.createValueExpression()</em> with
binding as the expression argument, and <em>Validator.class</em> as the
expectedType argument.use the <em>ValueBinding</em> to obtain a reference to
the <em>Validator</em> instance. If there is no exception thrown, and
<em>ValueExpression.getValue()</em> returned a non-null object that implements
<em>jakarta.faces.validator.Validator</em>, it must then cast the returned
instance to <em>jakarta.faces.validator.DoubleRangeValidator</em> and configure
its properties based on the specified attributes for this custom action,
and return the configured instance. If there was an exception thrown,
rethrow the exception as a <em>JspException</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>use the <em>validatorId</em> if the validator
instance could not be created from the <em>binding</em> attribute. Call the
<em>createValidator()</em> method of the <em>Application</em> instance for this
application, passing validator id “jakarta.faces.DoubleRange”. If the
binding attribute was also set, evaluate the expression into a
<em>ValueExpression</em> and store the validator instance by calling
<em>setValue()</em> on the <em>ValueExpression</em>. It must then cast the returned
instance to <em>jakarta.faces.validator.DoubleRangeValidator</em> and configure
its properties based on the specified attributes for this custom action,
and return the configured instance. If there was an exception thrown,
rethrow the exception as a <em>JspException</em>. [P1-end]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fvalidatelength"><a class="anchor" href="#fvalidatelength"></a>9.4.15. &lt;f:validateLength&gt;</h4>
<div class="paragraph">
<p>Register a <em>LengthValidator</em> instance on the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-15"><a class="anchor" href="#syntax-15"></a>9.4.15.1. Syntax</h5>
<div class="paragraph">
<div class="title">Syntax 1: Maximum length only specified</div>
<p><code>&lt;f:validateLength maximum=”<em>10</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
<div class="paragraph">
<div class="title">Syntax 2: Minimum only specified</div>
<p><code>&lt;f:validateLength minimum=”<em>1</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
<div class="paragraph">
<div class="title">Syntax 3: Both maximum and minimum are specified</div>
<p><code>&lt;f:validateLength maximum=”<em>10</em>” minimum=”<em>1</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-15"><a class="anchor" href="#body-content-15"></a>9.4.15.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-16"><a class="anchor" href="#attributes-16"></a>9.4.15.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>maximum</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>double</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum value allowed for this component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>minimum</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>double</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum value allowed for this component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>binding</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements <em>jakarta.faces.convert.Validator</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-15"><a class="anchor" href="#constraints-15"></a>9.4.15.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>EditableValueHolder</em>
custom action whose value is (or is convertible to) a double.</p>
</li>
<li>
<p>Must specify either the <em>maximum</em> attribute,
the <em>minimum</em> attribute, or both.</p>
</li>
<li>
<p>If both limits are specified, the maximum
limit must be greater than the minimum limit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:validateDoubleRange
constraints] If this tag is not nested inside a <em>UIComponent</em> custom
action, or the <em>UIComponent</em> implementation class does not correctly
implement <em>EditableValueHolder</em> throw a <em>JspException</em>. [P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="description-15"><a class="anchor" href="#description-15"></a>9.4.15.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create, call
<em>createValidator()</em> and register the returned <em>Validator</em> instance on
the associated <em>UIComponent</em>.</p>
</div>
<div class="paragraph">
<p>[P1-start f:validateDoubleRange
implementation] The implementation class for this action must meet the
following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend
<em>jakarta.faces.webapp.ValidatorELTag</em>.</p>
</li>
<li>
<p>The <em>createValidator()</em> method must:</p>
<div class="ulist">
<ul>
<li>
<p>If <em>binding</em> is non-null, create a
<em>ValueBinding</em> by invoking <em>Application.createValueExpression()</em> with
binding as the expression argument, and <em>Validator.class</em> as the
expectedType argument.use the <em>ValueBinding</em> to obtain a reference to
the <em>Validator</em> instance. If there is no exception thrown, and
<em>ValueExpression.getValue()</em> returned a non-null object that implements
<em>jakarta.faces.validator.Validator</em>, it must then cast the returned
instance to <em>jakarta.faces.validator.DoubleRangeValidator</em> and configure
its properties based on the specified attributes for this custom action,
and return the configured instance. If there was an exception thrown,
rethrow the exception as a <em>JspException</em>.</p>
</li>
<li>
<p>use the <em>validatorId</em> if the validator
instance could not be created from the <em>binding</em> attribute. Call the
<em>createValidator()</em> method of the <em>Application</em> instance for this
application, passing validator id “jakarta.faces.DoubleRange”. If the
binding attribute was also set, evaluate the expression into a
<em>ValueExpression</em> and store the validator instance by calling
<em>setValue()</em> on the <em>ValueExpression</em>. It must then cast the returned
instance to <em>jakarta.faces.validator.DoubleRangeValidator</em> and configure
its properties based on the specified attributes for this custom action,
and return the configured instance. If there was an exception thrown,
rethrow the exception as a <em>JspException</em>. [P1-end]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a5198"><a class="anchor" href="#a5198"></a>9.4.16. &lt;f:validateRegex&gt;</h4>
<div class="paragraph">
<p>Register a <em>RegexValidator</em> instance on the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-16"><a class="anchor" href="#syntax-16"></a>9.4.16.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:validateRegex pattern=”<em>a*b</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-16"><a class="anchor" href="#body-content-16"></a>9.4.16.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-17"><a class="anchor" href="#attributes-17"></a>9.4.16.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pattern</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
string to be interpreted as a <em>java.util.regex.Pattern</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>binding</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements <em>jakarta.faces.convert.Validator</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-16"><a class="anchor" href="#constraints-16"></a>9.4.16.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>EditableValueHolder</em>
custom action whose value is a <em>String</em>.</p>
</li>
<li>
<p>Must specify either the <em>pattern</em> attribute.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:validateLength
constraints] If this tag is not nested inside a <em>UIComponent</em> custom
action, or the <em>UIComponent</em> implementation class does not correctly
implement <em>EditableValueHolder</em>, throw a <em>JspException</em>. [P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="description-16"><a class="anchor" href="#description-16"></a>9.4.16.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create, call
<em>createValidator()</em> and register the returned <em>Validator</em> instance on
the associated <em>UIComponent</em>.</p>
</div>
<div class="paragraph">
<p>[P1-start f:validateLength implementation]
The implementation class for this action must meet the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend
<em>jakarta.faces.webapp.ValidatorELTag</em>.</p>
</li>
<li>
<p>The <em>createValidator()</em> method must:</p>
<div class="ulist">
<ul>
<li>
<p>If <em>binding</em> is non-null, create a
<em>ValueExpression</em> by invoking <em>Application.createValueExpression()</em>
with binding as the expression argument, and <em>Validator.class</em> as the
expectedType argument.use the <em>ValueExpression</em> to obtain a reference to
the <em>Validator</em> instance. If there is no exception thrown, and
<em>ValueExpression.getValue()</em> returned a non-null object that implements
<em>jakarta.faces.validator.Validator</em>, it must then cast the returned
instance to <em>jakarta.faces.validator.RegexValidator</em> and configure its
properties based on the specified attributes for this custom action, and
return the configured instance. If there was an exception thrown,
rethrow the exception as a <em>JspException</em>.</p>
</li>
<li>
<p>use the <em>validatorId</em> if the validator
instance could not be created from the <em>binding</em> attribute. Call the
<em>createValidator()</em> method of the <em>Application</em> instance for this
application, passing validator id “jakarta.faces.RegularExpression”. If
the binding attribute was also set, evaluate the expression into a
<em>ValueExpression</em> and store the validator instance by calling
<em>setValue()</em> on the <em>ValueExpression</em>. It must then cast the returned
instance to <em>jakarta.faces.validator.RegexValidator</em> and configure its
properties based on the specified attributes for this custom action, and
return the configured instance. If there was an exception thrown,
rethrow the exception as a <em>JspException</em>.[P1-end]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a5223"><a class="anchor" href="#a5223"></a>9.4.17. &lt;f:validateLongRange&gt;</h4>
<div class="paragraph">
<p>Register a <em>LongRangeValidator</em> instance on
the <em>UIComponent</em> associated with the closest parent <em>UIComponent</em>
custom action.</p>
</div>
<div class="sect4">
<h5 id="syntax-17"><a class="anchor" href="#syntax-17"></a>9.4.17.1. Syntax</h5>
<div class="paragraph">
<div class="title">Syntax 1: Maximum only specified</div>
<p><code>&lt;f:validateLongRange maximum=”<em>543</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
<div class="paragraph">
<div class="title">Syntax 2: Minimum only specified</div>
<p><code>&lt;f:validateLongRange minimum=”<em>123</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
<div class="paragraph">
<div class="title">Syntax 3: Both maximum and minimum are specified</div>
<p><code>&lt;f:validateLongRange maximum=”<em>543</em>” minimum=”<em>123</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-17"><a class="anchor" href="#body-content-17"></a>9.4.17.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-18"><a class="anchor" href="#attributes-18"></a>9.4.17.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>maximum</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>long</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum
value allowed for this component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>minimum</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>long</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum
value allowed for this component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>binding</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements <em>jakarta.faces.convert.Validator</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-17"><a class="anchor" href="#constraints-17"></a>9.4.17.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>EditableValueHolder</em>
custom action whose value is (or is convertible to) a long.</p>
</li>
<li>
<p>Must specify either the <em>maximum</em> attribute,
the <em>minimum</em> attribute, or both.</p>
</li>
<li>
<p>If both limits are specified, the maximum
limit must be greater than the minimum limit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:validateLongeRange
constraints] If this tag is not nested inside a <em>UIComponent</em> custom
action, or the <em>UIComponent</em> implementation class does not correctly
implement <em>EditableValueHolder</em>, throw a <em>JspException</em>. [P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="description-17"><a class="anchor" href="#description-17"></a>9.4.17.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create, call
<em>createValidator()</em> and register the returned <em>Validator</em> instance on
the associated <em>UIComponent</em>.</p>
</div>
<div class="paragraph">
<p>The implementation class for this action must
meet the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend
<em>jakarta.faces.webapp.ValidatorELTag</em>.</p>
</li>
<li>
<p>The <em>createValidator()</em> method must:</p>
<div class="ulist">
<ul>
<li>
<p>If <em>binding</em> is non-null, create a
<em>ValueExpression</em> by invoking <em>Application.createValueExpression()</em>
with binding as the expression argument, and <em>Validator.class</em> as the
expectedType argument. Use the <em>ValueExpression</em> to obtain a reference
to the <em>Validator</em> instance. If there is no exception thrown, and
<em>ValueExpression.getValue()</em> returned a non-null object that implements
<em>jakarta.faces.validator.Validator</em>, it must then cast the returned
instance to <em>jakarta.faces.validator.LongRangeValidator</em> and configure its
properties based on the specified attributes for this custom action, and
return the configured instance. If there was an exception thrown,
rethrow the exception as a <em>JspException</em>.</p>
</li>
<li>
<p>use the <em>validatorId</em> if the validator
instance could not be created from the <em>binding</em> attribute. Call the
<em>createValidator()</em> method of the <em>Application</em> instance for this
application, passing validator id “jakarta.faces.LongRange”. If the
binding attribute was also set, evaluate the expression into a
<em>ValueExpression</em> and store the validator instance by calling
<em>setValue()</em> on the <em>ValueExpression</em>. It must then cast the returned
instance to <em>jakarta.faces.validator.LongRangeValidator</em> and configure its
properties based on the specified attributes for this custom action, and
return the configured instance. If there was an exception thrown,
rethrow the exception as a <em>JspException</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a5256"><a class="anchor" href="#a5256"></a>9.4.18. &lt;f:validator&gt;</h4>
<div class="paragraph">
<p>Register a named <em>Validator</em> instance on the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action.</p>
</div>
<div class="sect4">
<h5 id="syntax-18"><a class="anchor" href="#syntax-18"></a>9.4.18.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:validator validatorId=”<em>validatorId</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-18"><a class="anchor" href="#body-content-18"></a>9.4.18.2. Body Content</h5>
<div class="paragraph">
<p>empty</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-19"><a class="anchor" href="#attributes-19"></a>9.4.18.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>validatorId</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validator identifier of the validator to be
created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>binding</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements <em>jakarta.faces.convert.Validator</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-18"><a class="anchor" href="#constraints-18"></a>9.4.18.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>UIComponent</em> custom
action whose component class implements <em>EditableValueHolder</em>.</p>
</li>
<li>
<p><em>validatorId</em> and/or binding must be
specified.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:validator constraints 2]
If this tag is not nested inside a <em>UIComponent</em> custom action, or the
<em>UIComponent</em> implementation class does not correctly implement
<em>EditableValueHolder</em> throw a <em>JspException</em>. [P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="description-18"><a class="anchor" href="#description-18"></a>9.4.18.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, create, call
<em>createValidator()</em> and register the returned <em>Validator</em> instance on
the associated <em>UIComponent</em>.</p>
</div>
<div class="paragraph">
<p>The implementation class for this action must
meet the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend
<em>jakarta.faces.webapp.ValidatorJspTag</em>.</p>
</li>
<li>
<p>The <em>createValidator()</em> method must:</p>
<div class="ulist">
<ul>
<li>
<p>If <em>binding</em> is non-null, call
<em>binding.getValue()</em> to obtain a reference to the <em>Validator</em> instance.
If there is no exception thrown, and <em>binding.getValue()</em> returned a
non-null object that implements <em>jakarta.faces.validator.Validator</em>,
register it by calling <em>addValidator()</em>. If there was an exception
thrown, rethrow the exception as a <em>JspException</em>.</p>
</li>
<li>
<p>use the <em>validatorId</em> attribute if the
validator instance could not be created from the <em>binding</em> attribute.
If the <em>validatorId</em> attribute is set, call the <em>createValidator()</em>
method of the <em>Application</em> instance for this application, passing
validator id specified by their validatorId attribute. If the binding
attribute was also set, store the validator instance by calling
<em>binding.setValue()</em>. Register the validator instance by calling
<em>addValidator()</em>. If there was an exception thrown, rethrow the
exception as a <em>JspException</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a5282"><a class="anchor" href="#a5282"></a>9.4.19. &lt;f:valueChangeListener&gt;</h4>
<div class="paragraph">
<p>Register a <em>ValueChangeListener</em> instance on
the <em>UIComponent</em> associated with the closest parent <em>UIComponent</em>
custom action.</p>
</div>
<div class="sect4">
<h5 id="syntax-19"><a class="anchor" href="#syntax-19"></a>9.4.19.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:valueChangeListener type=”<em>fully-qualified-classname</em>” binding=”<em>VB Expression</em>”/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-19"><a class="anchor" href="#body-content-19"></a>9.4.19.2. Body Content</h5>
<div class="paragraph">
<p>empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-20"><a class="anchor" href="#attributes-20"></a>9.4.19.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully
qualified Java class name of a <em>ValueChangeListener</em> to be created and
registered</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>binding</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ValueExpression</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>ValueExpression</em> expression that
evaluates to an object that implements
<em>jakarta.faces.event.ValueChangeListener</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-19"><a class="anchor" href="#constraints-19"></a>9.4.19.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>Must be nested inside a <em>UIComponent</em> custom
action.</p>
</li>
<li>
<p>The corresponding <em>UIComponent</em>
implementation class must implement <em>EditableValueHolder</em>, and
therefore define a public <em>addValueChangeListener()</em> method that accepts
an <em>ValueChangeListener</em> parameter.</p>
</li>
<li>
<p>The specified listener class must implement
<em>jakarta.faces.event.ValueChangeListener</em>.</p>
</li>
<li>
<p><em>type</em> and/or binding must be specified.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start f:valueChangeListener constraints]
If this tag is not nested inside a <em>UIComponent</em> custom action, or the
<em>UIComponent</em> implementation class does not correctly implement
<em>EditableValueHolder</em>, or the specified listener class does not
implement <em>jakarta.faces.event.ValueChangeListener</em>, throw a
<em>JspException</em>. [P1-end] Note that if the binding attribute is used,
the scope of the <em>ValueExpression</em> must be chosen carefully so as not to
introduce undesireable results. In general, when using the binding
attribute, do not point to beans in request or narrower scope.</p>
</div>
</div>
<div class="sect4">
<h5 id="description-19"><a class="anchor" href="#description-19"></a>9.4.19.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, check the
binding attribute.</p>
</div>
<div class="paragraph">
<p>If binding is non-null, call
<em>binding.getValue()</em> to obtain a reference to the <em>ValueChangeListener</em>
instance. If there is no exception thrown, and
<em>ValueExpression.getValue()</em> returned a non-null object that implements
<em>jakarta.faces.event.ValueChangeListener</em>, register it by calling
<em>addValueChangeListener()</em>. If there was an exception thrown, rethrow
the exception as a <em>JspException</em>.</p>
</div>
<div class="paragraph">
<p>If the listener instance could not be
created, check the <em>type</em> attribute. If the <em>type</em> attribute is set,
instantiate an instance of the specified class, and register it by
calling <em>addValueChangeListener()</em>. If the binding attribute was also
set, store the listener instance by calling <em>binding.setValue()</em>. If
there was an exception thrown, rethrow the exception as a
<em>JspException</em>.</p>
</div>
<div class="paragraph">
<p>As an alternative to using the binding and/or
type attributes, you may also register a method in a backing bean class
to receive <em>ValueChangeEvent</em> notifications, by using the
<em>valueChangeListener</em> attribute on the corresponding <em>UIComponent</em>
custom action.instantiate an instance of the specified class, and
register it by calling <em>addValueChangeListener()</em>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fverbatim"><a class="anchor" href="#fverbatim"></a>9.4.20. &lt;f:verbatim&gt;</h4>
<div class="paragraph">
<p>Register a child <em>UIOutput</em> instance on the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action which renders nested body content.</p>
</div>
<div class="sect4">
<h5 id="syntax-20"><a class="anchor" href="#syntax-20"></a>9.4.20.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:verbatim [escape=”{true|<strong>false</strong>}” rendered=”{<strong>true</strong>|false}”]/&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-20"><a class="anchor" href="#body-content-20"></a>9.4.20.2. Body Content</h5>
<div class="paragraph">
<p>JSP. However, no UIComponent custom actions,
or custom actions from the Jakarta Faces Core Tag Library, may be nested inside
this custom action.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-21"><a class="anchor" href="#attributes-21"></a>9.4.20.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>escape</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If
<em>true</em>, generated markup is escaped in a manner appropriate for the
markup language being rendered. Default value is false.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rendered</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag indicating whether or not this
component should be rendered (during Render Response Phase), or
processed on any subsequent form submit. Default value is true.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-20"><a class="anchor" href="#constraints-20"></a>9.4.20.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>[P1-start f:verbatim constraints] Must
be implemented as a <em>UIComponentBodyTag</em>.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-20"><a class="anchor" href="#description-20"></a>9.4.20.5. Description</h5>
<div class="paragraph">
<p>Locate the closest parent <em>UIComponent</em>
custom action instance by calling
<em>UIComponentClassicTagBase.getParentUIComponentClassicTagBase()</em>. If
the <em>getCreated()</em> method of this instance returns <em>true</em>, creates a
new <em>UIOutput</em> component, and add it as a child of the <em>UIComponent</em>
associated with the located instance. The <em>rendererType</em> property of
this <em>UIOutput</em> component must be set to “jakarta.faces.Text”, and the
<em>transient</em> property must be set to <em>true</em>. Also, the value (or value
binding, if it is an expression) of the <em>escape</em> attribute must be
passed on to the renderer as the value the <em>escape</em> attribute on the
<em>UIOutput</em> component.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a5325"><a class="anchor" href="#a5325"></a>9.4.21. &lt;f:view&gt;</h4>
<div class="paragraph">
<p>Container for all Jakarta Faces core and component custom actions used on a page.</p>
</div>
<div class="sect4">
<h5 id="syntax-21"><a class="anchor" href="#syntax-21"></a>9.4.21.1. Syntax</h5>
<div class="paragraph">
<p><code>&lt;f:view</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>[locale=”<em>locale</em>” renderKitId=”<em>alternate</em>”]</code></p>
</li>
<li>
<p><code>[beforePhase=”<em>methodExpression</em>”]</code></p>
</li>
<li>
<p><code>[afterPhase=”<em>methodExpression</em>”]&gt;</code></p>
<div class="ulist none">
<ul class="none">
<li>
<p><code>Nested template text and custom actions</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>&lt;/f:view&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="body-content-21"><a class="anchor" href="#body-content-21"></a>9.4.21.2. Body Content</h5>
<div class="paragraph">
<p>JSP. May contain any combination of template
text, other Jakarta Faces custom actions, and custom actions from other custom tag
libraries.</p>
</div>
</div>
<div class="sect4">
<h5 id="attributes-22"><a class="anchor" href="#attributes-22"></a>9.4.21.3. Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>renderKitId</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The identifier for the render kit to use for
rendering this page.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>locale</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>VE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>String or Locale</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of a Locale to use for localizing this
page (such as en_uk), or value binding expression that returns a
<em>Locale</em> instance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>beforePhase</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>MethodExpression</em> expression that points
to a method whose signature is that of
jakarta.faces.event.<em>PhaseListener.beforePhase()</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>afterPhase</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>MethodExpression</em> expression that points to a method whose signature is
that of jakarta.faces.event.<em>PhaseListener.afterPhase()</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="constraints-21"><a class="anchor" href="#constraints-21"></a>9.4.21.4. Constraints</h5>
<div class="ulist">
<ul>
<li>
<p>[P1-start f:view constraints] Any Jakarta Server Pages-created
response using actions from the Jakarta Faces Core Tag Library, as well as actions
extending <em>jakarta.faces.webapp.UIComponentELTag</em> from other tag
libraries, must be nested inside an occurrence of the <em>&lt;f:view&gt;</em> action.</p>
</li>
<li>
<p>Jakarta Server Pages page fragments included via the standard
<em>&lt;%@ include %&gt;</em> directive need not have their Jakarta Faces actions embedded in a
<em>&lt;f:view&gt;</em> action, because the included template text and custom actions
will be processed as part of the outer page as it is compiled, and the
<em>&lt;f:view&gt;</em> action on the outer page will meet the nesting requirement.</p>
</li>
<li>
<p>If the <em>renderKitId</em> attribute is present,
its value is stored in <em>UIViewRoot</em>. If the <em>renderKitId</em> attribute is
not present, then the default render kit identifier as returned by
<em>Application.getDefaultRenderKitId()</em> is stored in <em>UIViewRoot</em> if it is
not <em>null</em>. Otherwise, the render kit identifier as specified by the
constant <em>RenderKitFactory.HTML_BASIC_RENDER_KIT</em> is stored in
<em>UIViewRoot</em>. Specifying a <em>renderKitId</em> for the current view also
affects all subsequent views, unless overridden by another use of the
<em>renderKitId</em> attribute. Please refer to <a href="#a3871">ViewHandler</a> for more information.</p>
</li>
<li>
<p>If the <em>locale</em> attribute is present, its
value overrides the <em>Locale</em> stored in <em>UIViewRoot</em>, normally set by
the <em>ViewHandler, and the doStartTag() method must store it by calling
UIViewRoot.setLocale()</em>.</p>
</li>
<li>
<p>The <em>doStartTag()</em> method must call
<em>jakarta.servlet.jsp.jstl.core.Config.set()</em>, passing the
<em>ServletRequest</em> instance for this request, the constant
<em>jakarta.servlet.jsp.jstl.core.Config.FMT_LOCALE</em>, and the <em>Locale</em>
returned by calling <em>UIViewRoot.getLocale()</em>. [P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="description-21"><a class="anchor" href="#description-21"></a>9.4.21.5. Description</h5>
<div class="paragraph">
<p>Provides the Jakarta Faces implementation a convenient
place to perform state saving during the render response phase of the
request processing lifecycle, if the implementation elects to save state
as part of the response.</p>
</div>
<div class="paragraph">
<p>The implementation class for this action must
meet the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must extend <em>jakarta.faces.UIComponentELTag</em>.</p>
</li>
<li>
<p>The <em>getComponentType()</em> method must return
“ViewRoot”.</p>
</li>
<li>
<p>The <em>getRendererType()</em> method must return
<em>null</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please refer to the javadocs for
<em>jakarta.faces.application.StateManager</em> for details on what the tag
handler for this tag must do to implement state saving.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a5363"><a class="anchor" href="#a5363"></a>9.5. Standard HTML RenderKit Tag Library</h3>
<div class="paragraph">
<p>All Jakarta Faces implementations must provide a tag
library containing actions that correspond to each valid combination of
a supported component class (see <a href="#a1823">Standard User Interface Components</a>”) and a <em>Renderer</em> from the Standard
HTML RenderKit (see <a href="#a4314">Standard HTML
RenderKit Implementation</a>) that supports that component type. [P1-start
html_basic taglib requirements] The tag library descriptor for this tag
library must meet the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must declare a tag library version
(<em>&lt;tlib-version&gt;</em>) value of <em>1.2</em>.</p>
</li>
<li>
<p>Must declare a URI (<em>&lt;uri&gt;</em>) value of
<em><a href="http://java.sun.com/jsf/html" class="bare">http://java.sun.com/jsf/html</a></em>.</p>
</li>
<li>
<p>Must be included in the <em>META-INF</em>
directory of a JAR file containing the corresponding implementation
classes, suitable for inclusion with a web application, such that the
tag library descriptor will be located automatically by the algorithm
described in Section 7.3 of the _ Jakarta Server Pages  Specification_
(version 1.2).[P1-end]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start html_basic return values]The custom
actions defined in this tag library must specify the following return
values for the <em>getComponentType()</em> and <em>getRendererType()</em> methods,
respectively:.</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even fit-content">
<caption class="title">Table 15. Standard HTML RenderKit Tag Library</caption>
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">getComponentType()</th>
<th class="tableblock halign-left valign-top">getRendererType()</th>
<th class="tableblock halign-left valign-top">custom action name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Column</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(null)<a href="#a9101">18</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">column</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlCommandButton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Button</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">commandButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlCommandLink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Link</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">commandLink</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlDataTable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dataTable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlForm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Form</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">form</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlGraphicImage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">graphicImage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlInputHidden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Hidden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inputHidden</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlInputSecret</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Secret</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inputSecret</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlInputText</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inputText</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlInputTextarea</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Textarea</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inputTextarea</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlMessage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlMessages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Messages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlOutputFormat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputFormat</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlOutputLabel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputLabel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlOutputLink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Link</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputLink</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Body</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">body</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Head</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">head</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.resource.Script</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputScript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.resource.Stylesheet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputStylesheet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlOutputText</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputText</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlPanelGrid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Grid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">panelGrid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlPanelGroup</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">panelGroup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlSelectBooleanCheckbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Checkbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectBooleanCheckbox</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlSelectManyCheckbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Checkbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectManyCheckbox</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlSelectManyListbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Listbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectManyListbox</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlSelectManyMenu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Menu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectManyMenu</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlSelectOneListbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Listbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectOneListbox</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlSelectOneMenu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Menu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectOneMenu</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.HtmlSelectOneRadio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Radio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectOneRadio</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note, to avoid confusion between Jakarta Server Pages and
Facelets, any Renderers that are only supported in Facelets are
specified in <a href="#a6029">Standard HTML RenderKit Tag
Library</a>.</p>
</div>
<div class="paragraph">
<p>[P1-end] [P1-start html_basic taglibrary
requirements 2]The tag library descriptor for this tag library (and the
corresponding tag handler implementation classes) must meet the
following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The attributes for the tags, both in the TLD
and in the associated tag handlers, must conform exactly to the type,
name, and description given in the VDLDocs for the html_basic tag
library.</p>
</li>
<li>
<p>If the type of the attribute is
<em>jakarta.el.ValueExpression</em>, the TLD for the attribute must contain a
<em>&lt;deferred-value&gt;</em> with a nested <em>&lt;type&gt;</em> element, inside of which is
nested the expected type, as given in the VDLDocs. The JavaBeans setter
method in the tag handler for the tag must be of type
<em>jakarta.el.ValueExpression</em>.</p>
</li>
<li>
<p>If the type of the attribute is
<em>jakarta.el.MethodExpression</em>, the TLD for the attribute must contain a
<em>&lt;deferred-method&gt;</em> with a nested <em>&lt;method-signature&gt;</em>, inside of which
is the method signature for that <em>MethodExpression</em>, as given in the
VDLDocs. The actual name of the method in the signature declaration is
immaterial and unspecified. The JavaBeans setter method in the tag
handler for the tag must be of type <em>jakarta.el.MethodExpression</em>.</p>
</li>
<li>
<p>Any attributes listed in the VDLDocs with a
<em>request-time</em> value of <em>true</em> must specify an <em>&lt;rtexprvalue&gt;</em> of <em>true</em>
in the TLD.</p>
</li>
<li>
<p>The following action must be taken to handle
the value of the <em>converter</em> property. If <em>isLiteralText()</em> on the
<em>converter</em> property returns <em>true</em>, get the value of the property and
treat it as a <em>converterId</em> by passing it as the argument to the
<em>createConverter()</em> method of the <em>Application</em> instance for this
webapp, then pass the created <em>Converter</em> to the <em>setConverter()</em> method
of the component for this tag. If <em>isLiteralText()</em> on the <em>converter</em>
property returns <em>false</em>, call <em>setValueExpression()</em> on the component,
passing “converter” as the name of the <em>ValueExpression</em> and the
<em>ValueExpression</em> instance as the value.</p>
</li>
<li>
<p>For a non-<em>null</em> <em>action</em> attribute on
custom actions related to <em>ActionSource2</em> components (<em>commandButton</em>,
<em>commandLink</em>), the <em>setProperties()</em> method of the tag handler
implementation class must pass the value of the action attribute, which
is a <em>MethodExpression</em>, to the component’s <em>setActionExpression()</em>
method.</p>
</li>
<li>
<p>For other non-<em>null</em> attributes that
correspond to <em>MethodExpression</em> attributes on the underlying components
(<em>actionListener</em>, <em>validator</em>, <em>valueChangeListener</em>), the
<em>setProperties()</em> method of the tag handler implementation class must
store that instance as the value of the corresponding component
property.</p>
</li>
<li>
<p>For any non-<em>null</em> <em>id</em>, <em>scope</em>, or <em>var</em>
attribute, the <em>setProperties()</em> method of the tag handler
implementation class must simply set the value of the corresponding
component attribute.</p>
</li>
<li>
<p>For all other non-<em>null</em> attributes, the
<em>setProperties()</em> of the tag handler implementation class method must:</p>
<div class="ulist">
<ul>
<li>
<p>If the <em>attribute.isLiteralText()</em> returns
<em>true</em>, set the corresponding attribute on the underlying component
(after performing any necessary type conversion).</p>
</li>
<li>
<p>Otherwise, call the
<em>setValueExpression()</em> method on the underlying component, passing the
attribute name and the <em>ValueExpression</em> instance as
parameters.[P1-end]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a5476"><a class="anchor" href="#a5476"></a>10. Facelets and its use in Web Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jakarta Faces implementations must support (although Jakarta Faces-based
applications need not utilize) using Facelets as the view declaration
language for Jakarta Faces pages. Facelets technology was created by JSR-252 EG
Member Jacob Hookom.</p>
</div>
<div class="sect2">
<h3 id="non-normative-background-2"><a class="anchor" href="#non-normative-background-2"></a>10.1. Non-normative Background</h3>
<div class="paragraph">
<p>To aid implementors in providing a spec
compliant runtime for Facelets, this section provides a non-normative
background to motivate the discussion of the Facelets feature. Facelets
is a replacement for Jakarta Server Pages that was designed from the outset with Jakarta Faces in
mind. New features introduced in pre-Jakarta Faces JSF version 2 (under the JCP) and later are only exposed to
page authors using Facelets. Jakarta Server Pages is retained for backwards
compatibility.</p>
</div>
<div class="sect3">
<h4 id="differences-between-jakarta-server-pages-and-facelets"><a class="anchor" href="#differences-between-jakarta-server-pages-and-facelets"></a>10.1.1. Differences between Jakarta Server Pages and Facelets</h4>
<div class="paragraph">
<p>Facelets was the first non-Jakarta Server Pages view
declaration language designed for Jakarta Faces. As such, Facelets
was able to provide a simpler and more powerful programming model to Jakarta Faces
developers than that provided by Jakarta Server Pages, largely by leveraging Jakarta Faces as much
as possible without carrying backwards compatibility with Jakarta Server Pages. The
following table lists some of the differences between Facelets and Jakarta Server Pages</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 16. Comparison of Facelets and Jakarta Server Pages</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature Name</th>
<th class="tableblock halign-left valign-top">Jakarta Server Pages</th>
<th class="tableblock halign-left valign-top">Facelets</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pages are compiled to&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Servlet that gets executed each time the
page renders. The UIComponent hierarchy is built by the presence of
custom tags in the page.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An abstract syntax tree that, when executed,
builds a UIComponent hierarchy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handling of tag attributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All tag attributes must be declared in a TLD
file. Conformance instances of components in a page with the expected
attributes can be enforced with a taglibrary validator.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag attributes are completely dynamic and
automatically map to properties, attributes and ValueExpressions on
UIComponent instances</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Page templating</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not supported, must go outside of core Jakarta Server Pages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Page templating is a core feature of Facelets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Due to the common implementation technique of
compiling a Jakarta Server Pages page to a Servlet, performance can be slow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Facelets is simpler and faster than Jakarta Server Pages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expression Language Expressions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expressions in template text cause unexpected
behavior when used in Jakarta Server Pages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expressions in template text operate as
expected.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JCP Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, the specification is separate from the
implementation for Jakarta Server Pages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, the specification is defined by and is
one with the implementation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="differences-between-pre-jsf-2-0-facelets-and-facelets-in-jakarta-faces"><a class="anchor" href="#differences-between-pre-jsf-2-0-facelets-and-facelets-in-jakarta-faces"></a>10.1.2. Differences between Pre JSF 2.0 Facelets and Facelets in Jakarta Faces</h4>
<div class="paragraph">
<p>The work of taking a snapshot of a version of
Facelets and producing the specification for Facelets in Pre-Jakarta Faces JSF 2.0
consists of extracting the parts of Facelets that are intended to be
“public” and leaving the rest as implementation details. A decision was
made early in this process to strive for backwards compatibility between
the latest popular version of Facelets and Facelets in pre-Jakarta Faces JSF 2.0. The sole
determinant to backwards compatibility lies in the answer to the
question, “is there any Java code in the application, or in libraries
used by the application, that extends from or depends on any class in
package <em>com.sun.facelets</em> and/or its sub-packages?”</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the answer to this question is “yes”,
Facelets in pre-Jakarta Faces JSF 2.0 is <em>not</em> backwards compatibile with Facelets and
such an application <em>must</em> continue to bundle the Facelets jar file
along with the application, continue to set the Facelets configuration
parameters, and also set the
<em>jakarta.faces.DISABLE_FACELET_JSF_VIEWHANDLER</em> <em>&lt;context-param&gt;</em> to
<em>true</em>. Please see <a href="UsingJSFInWebApplications.html#a6088">Application
Configuration Parameters</a> for details on this option. Any code that
extends or depends on any class in package <em>com.sun.facelets</em> and/or its
sub-packages must be modified to depend on the appropriate classes in
package <em>jakarta.faces.webapp.vdl</em> and/or its sub-packages.</p>
</li>
<li>
<p>If the answer to this question is “no”,
Facelets in pre-Jakarta Faces JSF 2.0 <em>is</em> backwards compatible with pre-JSF 2.0 Facelets
and such an application <em>must not</em> continue to bundle the Facelets jar
file along with the application, and <em>must not</em> continue to set the
Facelets configuration parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thankfully, most applications that use
Facelets fall into the latter category, or, if they fall in the former,
their dependence will easily be migrated to the new public classes.</p>
</div>
<div class="paragraph">
<p>Facelets in Jakarta Faces provides tag libraries
that are compatible with the following libraries already found in pre
JSF 2.0 Facelets.</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 17. Taglibs in pre JSF 2.0 Facelets that are available in Facelets in JSF 2.0</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Common prefix</th>
<th class="tableblock halign-left valign-top">Namespace URI</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsf/html" class="bare">http://java.sun.com/jsf/html</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsf/core" class="bare">http://java.sun.com/jsf/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsp/jstl/core" class="bare">http://java.sun.com/jsp/jstl/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsp/jstl/functions" class="bare">http://java.sun.com/jsp/jstl/functions</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ui</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsf/facelets" class="bare">http://java.sun.com/jsf/facelets</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Naturally, new features built on Facelets in
Jakarta Faces are not available in pre JSF 2.0 Facelets and will only work in
Jakarta Faces.</p>
</div>
</div>
<div class="sect3">
<h4 id="a5526"><a class="anchor" href="#a5526"></a>10.1.3. Resource Library Contracts Background</h4>
<div class="paragraph">
<p>Jakarta Faces defines a system called “resource library
contracts” for applying facelet templates to an entire application in a
re-usable and interchangeable manner. The feature is built on top of the
resource library facility described in <a href="#a836">Libraries of Localized and Versioned Resources</a>. A configurable set of
Facelet VDL views in the application will be able to declare themselves
to be template-clients of any template in a resource library contract.
Facelet VDL views in the application can also make use of resources
contained in a resource library contract, but the feature has ample
value when only used with templates.</p>
</div>
<div class="sect4">
<h5 id="non-normative-example-2"><a class="anchor" href="#non-normative-example-2"></a>10.1.3.1. Non-normative Example</h5>
<div class="paragraph">
<p>Consider this resource library contract,
called <em>siteLayout</em>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>siteLayout/
  topNav_template.xhtml
  leftNav_foo.xhtml
  styles.css
  script.js
  background.png</pre>
</div>
</div>
<div class="paragraph">
<p>This simple example takes advantage of
several conventions built into the feature, most notably the default
application of all available contracts in the application to all views
in the application. It is possible to customize how resource library
contracts are applied to the application, including using several
different contracts in the same or different parts of the application.
Such customizing is accomplished by including a
<em>&lt;resource-library-contracts&gt;</em> element within the <em>&lt;application&gt;</em>
element of the <em>faces-config.xml</em> (or similar) file. Because this
example is designed with the convention in mind, it does not need a
<em>faces-config.xml</em> file.</p>
</div>
<div class="paragraph">
<p>The <em>siteLayout</em> contract offers two
templates: <em>topNav_template.xhtml</em> and <em>leftNav_foo.xhtml</em>. For
discussion, these are known as “declared templates”. When used by a
template client, they will lay out the template client’s contents with a
navigation menu on the top or the left side of the page, respectively.
In <em>siteLayout</em>, each of the templates has <em>&lt;ui:insert&gt;</em> tags named
“title”, “content”, and “nav”. For discussion, these are knows as
“declared insertion points”. Furthermore, each of the templates uses the
CSS styles declared in <em>styles.css</em>, some scripts defined in
<em>script.js</em>, and the background image <em>background.png</em>. For
discussion, these are known as “declared resources”. In order to use a
resource library contract, one must know its declared templates, their
declared insertion points, and, optionally, their declared resources. No
constraint is placed on the naming and arrangement of declared
templates, insertion points, or resources, but all three concepts
together can informally be thought of as the declaration of the resource
library contract. The contract declaration of <em>siteLayout</em> can be stated
as follows.</p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><em>siteLayout</em> provides two declared
templates, <em>topNav_template.xhtml</em> and <em>leftNav_foo.xhtml</em>. Each
templates offers declared insertion points “title”, “content”, and
“nav”.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this case, the css, script, and image are
left out of the contract declaration but this distinction is completely
arbitrary. The important content of <em>topNav_template.xhtml</em> is shown
next.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version='1.0' encoding='UTF-8' ?&gt;</span>
<span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">xmlns:ui</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/facelets</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">xmlns:h</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/html</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:head&gt;</span>
    <span class="tag">&lt;h:outputStylesheet</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">default</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">default.css</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;h:outputStylesheet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">cssLayout.css</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;title&gt;</span><span class="tag">&lt;ui:insert</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/ui:insert&gt;</span><span class="tag">&lt;/title&gt;</span>
  <span class="tag">&lt;/h:head&gt;</span>
  <span class="tag">&lt;h:body&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">top</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">top</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;p&gt;</span>Top Navigation Menu<span class="tag">&lt;/p&gt;</span>
      <span class="tag">&lt;ui:insert</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nav</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Nav content<span class="tag">&lt;/ui:insert&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">center_content</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;ui:insert</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Content<span class="tag">&lt;/ui:insert&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
  <span class="tag">&lt;/h:body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This example packages the entire <em>siteLayout</em>
directory and its contents into the <em>META-INF/contracts</em> entry of a JAR
file named <em>siteLayout.jar</em>. The simplest possible way to use
<em>siteLayout</em> is to drop <em>siteLayout.jar</em> into <em>WEB-INF/lib</em> and apply
the knowledge of the resource library contract declaration to the
facelet views in the app.</p>
</div>
<div class="paragraph">
<p>Consider this simple web app, called
<em>useContract</em>, the file layout for which is shown next. The example is
shown using a simplified maven war packaging.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>useContract/
  pom.xml
  src/main/webapp/
             /WEB-INF/lib/siteLayout.jar
             index.xhtml
             page2.xhtml</pre>
</div>
</div>
<div class="paragraph">
<p>Notice the absence of a <em>faces-config.xml</em>
file. Because this example is content to let all the contracts in
<em>siteLayout.jar</em> be applied to all views in the app, this file is not
necessary. The two pages are shown next.</p>
</div>
<div class="listingblock">
<div class="title">index.xhtml.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">www.w3.org</span><span class="error">/</span><span class="attribute-name">1999</span><span class="error">/</span><span class="attribute-name">xhtml</span><span class="error">”</span>
      <span class="attribute-name">xmlns:ui</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">java.sun.com</span><span class="error">/</span><span class="attribute-name">jsf</span><span class="error">/</span><span class="attribute-name">facelets</span><span class="error">”</span>
      <span class="attribute-name">xmlns:h</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">java.sun.com</span><span class="error">/</span><span class="attribute-name">jsf</span><span class="error">/</span><span class="attribute-name">html</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;body&gt;</span>
    <span class="tag">&lt;ui:composition</span> <span class="attribute-name">template</span>=<span class="error">”</span><span class="error">/</span><span class="attribute-value">topNav_template.xhtml</span><span class="error">”</span><span class="tag">&gt;</span>
      <span class="tag">&lt;ui:define</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">title</span><span class="error">”</span><span class="tag">&gt;</span>#{msgs.contactsWindowTitle}<span class="tag">&lt;/ui:define&gt;</span>
      <span class="tag">&lt;ui:define</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">content</span><span class="error">”</span><span class="tag">&gt;</span>
        <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">next</span><span class="error">”</span> <span class="attribute-name">action</span>=<span class="error">”</span><span class="attribute-value">page2</span><span class="error">”</span> <span class="tag">/&gt;</span>
      <span class="tag">&lt;/ui:define&gt;</span>
      <span class="tag">&lt;ui:define</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">nav</span><span class="error">”</span><span class="tag">&gt;</span>#{msgs.contactsNavMessage}<span class="tag">&lt;/ui:define&gt;</span>
    <span class="tag">&lt;/ui:composition&gt;</span>
  <span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">page2.xhtml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">www.w3.org</span><span class="error">/</span><span class="attribute-name">1999</span><span class="error">/</span><span class="attribute-name">xhtml</span><span class="error">”</span>
      <span class="attribute-name">xmlns:ui</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">java.sun.com</span><span class="error">/</span><span class="attribute-name">jsf</span><span class="error">/</span><span class="attribute-name">facelets</span><span class="error">”</span>
      <span class="attribute-name">xmlns:h</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">java.sun.com</span><span class="error">/</span><span class="attribute-name">jsf</span><span class="error">/</span><span class="attribute-name">html</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;body&gt;</span>
    <span class="tag">&lt;ui:composition</span> <span class="attribute-name">template</span>=<span class="error">”</span><span class="error">/</span><span class="attribute-value">leftNav_foo.xhtml</span><span class="error">”</span><span class="tag">&gt;</span>
      <span class="tag">&lt;ui:define</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">title</span><span class="error">”</span><span class="tag">&gt;</span>Hard coded title<span class="tag">&lt;/ui:define&gt;</span>
      <span class="tag">&lt;ui:define</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">content</span><span class="error">”</span><span class="tag">&gt;</span>
        <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">back</span><span class="error">”</span> <span class="attribute-name">action</span>=<span class="error">”</span><span class="attribute-value">index</span><span class="error">”</span> <span class="tag">/&gt;</span>
      <span class="tag">&lt;/ui:define&gt;</span>
      <span class="tag">&lt;ui:define</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">nav</span><span class="error">”</span><span class="tag">&gt;</span>Hard coded nav<span class="tag">&lt;/ui:define&gt;</span>
    <span class="tag">&lt;/ui:composition&gt;</span>
  <span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To complete the example, the execution of the
<em>useContract</em> app is illustrated.</p>
</div>
<div class="paragraph">
<p>When <em>useContract.war</em> is deployed, the
runtime will discover that <em>siteLayout.jar</em> is a resource library
contract and make its contents available for template clients.</p>
</div>
<div class="paragraph">
<p>When the user agent visits
<em><a href="http://localhost:8080/useContract/faces/index.xhtml" class="bare">http://localhost:8080/useContract/faces/index.xhtml</a></em>, because the
<em>siteLayout</em> resource library contract provides <em>/topNav_template.xhtml</em>
, that file will be loaded as the template. Likewise, when the <em>next</em>
button is pressed, <em>/leftNav_foo.xhtml</em>, also from <em>siteLayout</em>, will
be loaded as the template.</p>
</div>
<div class="paragraph">
<p>Now, consider there is an alternate
implementation of the <em>siteLayout</em> contract, packaged as
<em>newSiteLayout.jar</em>. This implementation doesn’t change the contract
declaration, but completely changes the arrangement and style of the
views. As long as the contract declaration does not change,
<em>useContract</em> can take advantage of <em>newSiteLayout</em> simply by replacing
one JAR in <em>WEB-INF/lib</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="non-normative-feature-overview-2"><a class="anchor" href="#non-normative-feature-overview-2"></a>10.1.3.2. Non-normative Feature Overview</h5>
<div class="paragraph">
<p>The normative requirements of the feature are
stated in the context of the part of the specification impacted. This
section gives the reader a non-normative overview of the feature that
touches on all the parts of the specification that intersect with this
feature.</p>
</div>
<div class="paragraph">
<div class="title"><em>Design Time</em></div>
<p>At design time, the developer has packaged
any resource library contracts to be used in the application in the
right place in the web application, or JAR file classpath. <em>This
behavior is normatively specified in <a href="#a872">Resource Library Contracts</a></em>.</p>
</div>
<div class="paragraph">
<div class="title"><em>Startup Time</em></div>
<p>At startup time, the runtime will discover
the set of resource library contracts available for this application. If
there is one or more <em>&lt;resource-library-contracts&gt;</em> element, only those
contracts explicitly named will be made available for use in the
application. If there is no such element, all of the discovered
contracts are made available for use in the application. <em>This behavior
is normatively specified in <a href="UsingJSFInWebApplications.html#a6215">Resource
Library Contracts</a> and in the XML schema for the application
configuration resources</em>.</p>
</div>
<div class="paragraph">
<div class="title"><em>Facelet Processing Time</em></div>
<p>The specification for
<em>ViewDeclarationLanguage.createView()</em> requires a call to
<em>ViewDeclarationLanguage.calculateResourceLibraryContracts()</em>, passing
the current <em>viewId</em>. This method will examine the data structure
assembled at startup and return a <em>List&lt;String&gt;</em> representing the
resource library contracts eligible for use in this view. This value is
set as the value of the <em>resourceLibraryContracts</em> property on the
<em>FacesContext</em>. <em>This behavior is normatively specified in
<a href="#a4016">ViewDeclarationLanguage.createView()</a></em>.</p>
</div>
<div class="paragraph">
<p>The specification of the tag handler for
<em>&lt;f:view&gt;</em> is the one other place where the <em>resourceLibraryContracts</em>
property may be set. <em>This behavior is normatively specified in the tag
handler for &lt;f:view&gt;</em>.</p>
</div>
<div class="paragraph">
<p>In any <em>&lt;ui:composition&gt;</em> or <em>&lt;ui:decorate&gt;</em>
tag reached from that view, it is valid to use any of the templates in
any of the listed contracts as the value of the <em>template</em> attribute.
This behavior happens naturally as a side effect of the requirements of
<em>ResourceHandler.createViewResource()</em>, where the implementation of
that method is required to first consult the <em>resourceLibraryContracts</em>
property of the current <em>FacesContext</em>. If the value of the property is
non-<em>null</em> and non empty, the implementation must first look for the
named view resource within each of the contracts in the list, and return
the first matching one found. Otherwise, the implementation just returns
the matching resource, if found. <em>This behavior is normatively specified
in the javadoc for ResourceHandler.createViewResource()</em>.</p>
</div>
<div class="paragraph">
<div class="title"><em>View Rendering Time</em></div>
<p>When the view is being rendered, any
resources that reside in a resource library contract will have
additional metadata so that a subsequent request from the user agent is
able to quickly find the resource inside the named contract. <em>This
behavior is normatively specified in the javadoc for
Resource.getRequestPath()</em>.</p>
</div>
<div class="paragraph">
<div class="title"><em>User-Agent Rendering Time</em></div>
<p>By the point in time that the User-Agent is
rendering the view, all of the work related to resource library
contracts will have been completed, but it is worth mentioning that any
resources in the page that originate from within resource library
contracts will be correctly fetched.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a5581"><a class="anchor" href="#a5581"></a>10.1.4. HTML5 Friendly Markup</h4>
<div class="paragraph">
<p>Without the HTML5 Friendly Markup feature the view authoring model relies
entirely on the concept of a Jakarta Faces UI
component in a view as a means to encapsulate arbitrarily complex web
user interface code behind a simple UI component tag in a page. For
example, the act of including <em>&lt;my:datePicker value=”#{user.dob}” /&gt;</em>
in a view could cause a large amount of HTML, CSS, JavaScript, and
images to be delivered to the user agent. This abstraction is very
appropriate when the view author is content to delegate the work of
designing the user experience for such components to a component author.
As web designer skills have become more widespread, the need has arisen
to expose the hitherto hidden complexity so the view author has near
total control on the user experience of each individual element in the
view. The HTML5 Friendly Markup feature addresses this requirement, as
well as providing access to the loosened attribute syntax also present
in HTML5.</p>
</div>
<div class="paragraph">
<p>This feature is only available to views
written in Facelets. It is not available to views written in Jakarta Server Pages.</p>
</div>
<div class="sect4">
<h5 id="non-normative-feature-overview-3"><a class="anchor" href="#non-normative-feature-overview-3"></a>10.1.4.1. Non-normative Feature Overview</h5>
<div class="paragraph">
<p>The normative requirements of the feature are
stated in the context of the part of the specification impacted. This
section gives the reader a non-normative overview of the feature that
touches on all the parts of the specification that intersect with this
feature. There are two main aspects to the feature, pass through
attributes and pass through elements.</p>
</div>
<div class="paragraph">
<div class="title"><em>Pass Through Attributes</em></div>
<p>For any given Jakarta Faces component tag in a view,
the set of available attributes that component supports is determined by
a combination of the <em>UIComponent</em> and <em>Renderer</em> for that tag. In some
cases the value of the attribute is interpreted by the <em>UIComponent</em> or
<em>Renderer</em> (for example, the <em>columns</em> attribute of <em>h:panelGrid</em>) and
in others the value is passed straight through to the user agent (for
example, the <em>lang</em> attribute of <em>h:inputText</em>). In both cases, the
<em>UIComponent/Renderer</em> has a priori knowledge of the set of allowable
attributes. <em>Pass Through Attributes</em> allows the view author to list
arbitrary name value pairs that are passed straight through to the user
agent without interpretation by the <em>UIComponent/Renderer</em>. <em>This
behavior is normatively specified in the “Rendering Pass Through
Attributes” section of the overview of the standard HTML_BASIC render
kit</em>.</p>
</div>
<div class="paragraph">
<p>The view author may specify pass through
attributes in three ways.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Nesting the <em>&lt;f:passThroughAttribute&gt;</em> tag
within a <em>UIComponent</em> tag. For example,</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">user.name</span><span class="error">}</span><span class="error">”</span><span class="tag">&gt;</span>
      <span class="tag">&lt;f:passThroughAttribute</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">data-sermon</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">pastor.message</span><span class="error">}</span><span class="error">”</span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/h:inputText&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Nesting the <em>&lt;f:passThroughAttributes&gt;</em> tag
within a <em>UIComponent</em> tag, For example,</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">user.name</span><span class="error">}</span><span class="error">”</span><span class="tag">&gt;</span>
      <span class="tag">&lt;f:passThroughAttributes</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">service.nameValuePairs</span><span class="error">}</span><span class="error">”</span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/h:inputText&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The Jakarta Expression Language expression must point to a <em>Map&lt;String, Object&gt;</em>. If the value
is a <em>ValueExpresison</em> call <em>getValue()</em> the value first. Whether the
value is a <em>ValueExpression</em> or not, the value must have its
<em>toString()</em> called on it.</p>
</div>
</li>
<li>
<p>Prefixing the attribute with the shortname
assigned to the <em><a href="http://java.sun.com/jsf/passthrough" class="bare">http://java.sun.com/jsf/passthrough</a></em> XML namespace. For
example</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">    <span class="tag">&lt;html</span> <span class="attribute-name">xmlns:p</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">java.sun.com</span><span class="error">/</span><span class="attribute-name">jsf</span><span class="error">/</span><span class="attribute-name">passthrough</span><span class="error">”</span>
          <span class="attribute-name">xmlns:h</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">java.sun.com</span><span class="error">/</span><span class="attribute-name">jsf</span><span class="error">/</span><span class="attribute-name">html</span><span class="error">”</span><span class="tag">&gt;</span>
      <span class="tag">&lt;h:inputText</span> <span class="attribute-name">p:foo</span>=<span class="error">”</span><span class="error">{</span><span class="attribute-value">bar.baz</span><span class="error">}</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">user.name</span><span class="error">}</span><span class="error">”</span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><em>This behavior is normatively specified in
the VDLdoc for &lt;f:passthroughAttribute&gt;, &lt;f:passThroughAttributes&gt; tags
in the “Faces Core” tag library, and the “Pass Through Attributes” tag
library</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title"><em>Pass Through Elements</em></div>
<p>This feature circumvents the traditional
component abstraction model of Jakarta Faces, allowing the page author nearly
complete control of the rendered markup, without sacrificing any of the
server side lifecycle offered by Jakarta Faces. This is accomplished by means of
enhancements to the Facelet <em>TagDecorator</em> API. This API describes a
mapping from the common markup elements to target tags in the HTML_BASIC
RenderKit such that the actual markup specified by the view author is
what gets rendered, but the server side component is an actual component
from the HTML_BASIC RenderKit. A special <em>Renderer</em> is provided to cover
cases when none of the mappings specified in <em>TagDecorator</em> fit the
incoming markup. To allow further flexibility, the existing Facelets
TagDecorator mechanism allows complete control of the mapping process.
<em>This behavior is normatively specified in the javadocs for class
jakarta.faces.view.facelets.TagDecorator and in the section “Rendering
Pass Through Attributes” in the “General Notes On Encoding” in the
Standard HTML_BASIC RenderKit</em>.</p>
</div>
<div class="paragraph">
<p>An example will illustrate the mapping
process.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">www.w3.org</span><span class="error">/</span><span class="attribute-name">1999</span><span class="error">/</span><span class="attribute-name">xhtml</span><span class="error">”</span>
      <span class="attribute-name">xmlns:jsf</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">java.sun.com</span><span class="error">/</span><span class="attribute-name">jsf</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;body&gt;</span>
    <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="error">”</span><span class="attribute-value">number</span><span class="error">”</span> <span class="attribute-name">pattern</span>=<span class="error">”</span><span class="error">[</span><span class="attribute-value">0-9</span><span class="error">]</span><span class="error">*</span><span class="error">”</span> <span class="attribute-name">jsf:value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">my.age</span><span class="error">}</span><span class="error">”</span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As required in
<a href="#a5608">Specification of the
ViewDeclarationLanguage Implementation for Facelets for Jakarta Faces</a>
<em>TagDecorator</em> is called during the facelet processing. Because the
<em>&lt;input&gt;</em> element has an attribute from the <em><a href="http://java.sun.com/jsf" class="bare">http://java.sun.com/jsf</a></em>
namespace, the system treats the element as a pass through element. The
table listed in the javadocs for <em>TagDecorator</em> is consulted and it is
determined that this component should act as an <em>&lt;h:inputText&gt;</em>
component for the purposes of postback processing. However, the
rendering is entirely taken from the markup in the facelet view. Another
example illustrates the special <em>Renderer</em> that is used when no mapping
can be found in the table in the javadocs for <em>TagDecorator</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">www.w3.org</span><span class="error">/</span><span class="attribute-name">1999</span><span class="error">/</span><span class="attribute-name">xhtml</span><span class="error">”</span>
      <span class="attribute-name">xmlns:jsf</span>=<span class="error">”</span><span class="attribute-value">http:</span><span class="error">/</span><span class="error">/</span><span class="attribute-name">java.sun.com</span><span class="error">/</span><span class="attribute-name">jsf</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;body&gt;</span>
    <span class="tag">&lt;meter</span> <span class="attribute-name">jsf:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">meter2</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">min</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{bean.min}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">max</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{bean.max}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">350</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      350 degrees
    <span class="tag">&lt;/meter&gt;</span>
  <span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As in the preceding example, the
<em>TagDecorator</em> mechanism is activated but it is determined that this
component should act as a <em>&lt;jsf:element&gt;</em> component for the purposes of
postback processing. <em>The behavior of the &lt;jsf:element&gt; is normatively
specified in the VDLdoc for that tag. The behavior of the
jakarta.faces.passthrough.Element renderer is normatively specified in the
RenderKitDoc for that renderer</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="java-programming-language-specification-for-facelets-in-jakarta-faces"><a class="anchor" href="#java-programming-language-specification-for-facelets-in-jakarta-faces"></a>10.2. Java Programming Language Specification for Facelets in Jakarta Faces</h3>
<div class="paragraph">
<p>The subsections within this section specify
the Java API requirements of a Facelets implementation. Adherence to
this section and the next section, which specifies the XHTML
specification for Facelets in Jakarta Faces, will ensure applications and Jakarta Faces
component libraries that make use of Facelets are portable across
different implementations of Jakarta Faces.</p>
</div>
<div class="paragraph">
<p>The original Facelet project did not separate
the API and the implementation into separate jars, as is common practice
with specifications. Thus, a significant task for integrating
Facelets into Jakarta Faces was deciding which classes to include in the public
Java API, and which to keep as an implementation detail.</p>
</div>
<div class="paragraph">
<p>There were two guiding principles that
influenced the task of integrating Facelets into Jakarta Faces.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The original decision in pre-Jakarta Faces JSF 1.0 (under the JCP) to allow the
ViewHandler to be pluggable enabled the concept of a View Declaration
Language for JSF. The two most popular ones were Facelets and
JSFTemplating. The new integration should preserve this pluggability,
since it is still valuable to be able to replace the View Declaration
Language.</p>
</li>
<li>
<p>After polling users of Facelets, the JCP expert
group decided that most of them were only using the markup based API and
were not extending from the Java classes provided by the Facelet
project. Therefore, we decided to keep the Java API for Facelets in Jakarta Faces
as small as possible, only exposing classes where absolutely
necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The application of these principles produced
the classes in the package <em>jakarta.faces.view.facelets</em>. Please consult
the Javadocs for that package, and the classes within it, for additional
normative specification.</p>
</div>
<div class="sect3">
<h4 id="a5608"><a class="anchor" href="#a5608"></a>10.2.1. Specification of the ViewDeclarationLanguage Implementation for Facelets for Jakarta Faces</h4>
<div class="paragraph">
<p>As normatively specified in the javadocs for
<em>ViewDeclarationLanguageFactory.getViewDeclarationLanguage()</em>, a Jakarta Faces
implementation must guarantee that a valid and functional
<em>ViewDeclarationLanguage</em> instance is returned from this method when the
argument is a reference to either a Jakarta Server Pages view, a Faces XML View or a
Facelets View. This section describes the specification for the Facelets
implementation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> buildView(FacesContext context, UIViewRoot root)
    <span class="directive">throws</span> <span class="exception">IOException</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The argument <em>root</em> will have been created
with a call to either <em>createView()</em> or
<em>ViewMetadata.createMetadataView()</em>. If the root already has
non-metadata children, the view must still be re-built, but care must be
taken to ensure that the existing components are correctly paired up
with their VDL counterparts in the VDL page. The implementation must
examine the <em>viewId</em> of the argument root, which must resolve to an
entity written in Facelets for Jakarta Faces markup language. Because Facelets
views are written in XHTML, an XML parser is well suited to
the task of processing such an entity. Each element in the XHTML view
falls into one of the following categories, each of which corresponds to
an instance of a Java object that implements
<em>jakarta.faces.view.facelets.FaceletHandler</em>, or a subinterface or
subclass thereof, and an instance of
<em>jakarta.faces.view.facelets.TagConfig</em>, or a subinterface or subclass
thereof, which is passed to the constructor of the object implementing
<em>FaceletHandler</em>.</p>
</div>
<div class="paragraph">
<p>When constructing the <em>TagConfig</em>
implementation to be passed to the <em>FaceletHandler</em> implementation, the
runtime must ensure that the instance returned from <em>TagConfig.getTag()</em>
has been passed through the tag decoration process as described in the
javadocs for <em>jakarta.faces.view.facelets.TagDecorator</em> prior to the
<em>TagConfig</em> being passed to the <em>FaceletHandler</em> implementation.</p>
</div>
<div class="paragraph">
<p>The mapping between the categories of
elements in the XHTML view and the appropriate sub-interface or subclass
of <em>FaceletHandler</em> is specified below. Each <em>FaceletHandler</em> instance
must be traversed and its <em>apply()</em> method called in the same
depth-first order as in the other lifecycle phase methods in Jakarta Faces. Each
<em>FaceletHandler</em> instance must use the <em>getNextHandler()</em> method of the
<em>TagConfig</em> instance passed to its constructor to perform the traversal
starting from the root <em>FaceletHandler</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standard XHTML markup elements</p>
<div class="ulist">
<ul>
<li>
<p>These are declared in the XHTML namespace
<em><a href="http://www.w3.org/1999/xhtml" class="bare">http://www.w3.org/1999/xhtml</a></em>. Such elements should be passed through
as is to the rendered output.</p>
</li>
<li>
<p>These elements correspond to instances of
<em>jakarta.faces.view.facelets.TextHandler</em>. See the javadocs for that
class for the normative specification.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Markup elements that represent <em>UIComponent</em>
instance in the view.</p>
<div class="ulist">
<ul>
<li>
<p>These elements can come from the Standard
HTML Renderkit namespace <em><a href="http://java.sun.com/jsf/html" class="bare">http://java.sun.com/jsf/html</a></em>, or from the
namespace of a custom tag library (including composite components) as
described in <a href="#a5638">Facelet Tag Library
mechanism</a>.</p>
</li>
<li>
<p>These elements correspond to instances of
<em>jakarta.faces.view.facelets.ComponentHandler</em>. See the javadocs for that
class for the normative specification.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Markup elements that take action on their
parent or children markup element(s). Usually these come from the Jakarta Faces
Core namespace <em><a href="http://java.sun.com/jsf/core" class="bare">http://java.sun.com/jsf/core</a></em>, but they can also be
provided by a custom tag library.</p>
<div class="ulist">
<ul>
<li>
<p>Such elements that represent an attached
object must correspond to an appropriate subclass of
<em>jakarta.faces.view.facelets.FaceletsAttachedObjectHandler</em>. The
supported subclasses are specified in the javadocs.</p>
</li>
<li>
<p>Such elements that represent a facet
component must correspond to an instance of
<em>jakarta.faces.component.FacetHandler</em>.</p>
</li>
<li>
<p>Such elements that represent an attribute
that must be pushed into the parent <em>UIComponent</em> element must
correspond to an instance of
<em>jakarta.facelets.view.facelets.AttributeHandler</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Markup Elements that indicate facelet
templating, as specified in the VDL Docs for the namespace
<em><a href="http://java.sun.com/jsf/facelets" class="bare">http://java.sun.com/jsf/facelets</a></em>.</p>
<div class="ulist">
<ul>
<li>
<p>Such elements correspond to an instance of
<em>jakarta.faces.view.facelets.TagHandler</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Markup elements from the Facelet version of
the JSTL namespaces <em><a href="http://java.sun.com/jsp/jstl/core" class="bare">http://java.sun.com/jsp/jstl/core</a></em> or
<em><a href="http://java.sun.com/jsp/jstl/functions" class="bare">http://java.sun.com/jsp/jstl/functions</a></em>, as specified in the VDL Docs
for those namespaces.</p>
<div class="ulist">
<ul>
<li>
<p>Such elements correspond to an instance of
<em>jakarta.faces.view.facelets.TagHandler</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="xhtml-specification-for-facelets-for-jakarta-faces"><a class="anchor" href="#xhtml-specification-for-facelets-for-jakarta-faces"></a>10.3. XHTML Specification for Facelets for Jakarta Faces</h3>
<div class="sect3">
<h4 id="a5632"><a class="anchor" href="#a5632"></a>10.3.1. General Requirements</h4>
<div class="paragraph">
<p>[P1-start_facelet_xhtml]Facelet pages are
authored in XHTML. The runtime must support all XHTML pages that conform
to the XHTML-1.0-Transitional DTD, as described at
<em><a href="http://www.w3.org/TR/xhtml1/#a_dtd_XHTML-1.0-Transitional" class="bare">http://www.w3.org/TR/xhtml1/#a_dtd_XHTML-1.0-Transitional</a></em>.</p>
</div>
<div class="paragraph">
<p>The runtime must ensure that Jakarta Expression Language expressions
that appear in the page without being the right-hand-side of a tag
attribute are treated as if they appeared on the right-hand-side of the
<em>value</em> attribute of an <em>&lt;h:outputText /&gt;</em> element in the
<em><a href="http://java.sun.com/jsf/html" class="bare">http://java.sun.com/jsf/html</a></em> namespace. This behavior must happen
regardless of whether or not the <em><a href="http://java.sun.com/jsf/html" class="bare">http://java.sun.com/jsf/html</a></em>
namespace has been declared in the page.</p>
</div>
<div class="sect4">
<h5 id="a5635"><a class="anchor" href="#a5635"></a>10.3.1.1. DOCTYPE and XML Declaration</h5>
<div class="paragraph">
<p>When processing Facelet VDL files, the system
must ensure that at most one XML declaration and at most one DOCTYPE
declaration appear in the rendered markup, if and only if there is
corresponding markup in the Facelet VDL files for those elements. If
multiple occurrences of XML declaration and DOCTYPE declaration are
encountered when processing Facelet VDL files, the “outer-most”
occurrence is the one that must be rendered. If an XML declaration is
present, it must be the very first markup rendered, and it must precede
any DOCTYPE declaration (if present). The output of the XML and DOCTYPE
declarations are subject to the configuration options listed in the
table titled “Valid &lt;process-as&gt; values and their implications on the
processing of Facelet VDL files” in <a href="JSFMetadata.html#a7061">The
facelets-processing element</a>.</p>
</div>
<div class="paragraph">
<p>[P1-end_facelet_xhtml]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a5638"><a class="anchor" href="#a5638"></a>10.3.2. Facelet Tag Library mechanism</h4>
<div class="paragraph">
<p>Facelets leverages the XML namespace
mechanism to support the concept of a “tag library” analogous to the
same concept in Jakarta Server Pages. However, in Facelets, the role of the tag handler
java class is greatly reduced and in most cases is unnecessary. The tag
library mechanism has two purposes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allow page authors to access tags declared in
the supplied tag libraries declared in <a href="JSFMetadata.html#a5691">Standard Facelet Tag Libraries</a>, as well as accessing third-party tag
libraries developed by the application author, or any other third party</p>
</li>
<li>
<p>Define a framework for component authors to
group a collection of custom <em>UIComponent</em> s into a tag library and
expose them to page authors for use in their pages.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1_start_facelet_taglib_decl]The runtime
must support the following syntax for making the tags in a tag library
available for use in a Facelet page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">xmlns:prefix</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">namespace_uri</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <em>prefix</em> is a page author chosen
arbitrary string used in the markup inside the <em>&lt;html&gt;</em> tag to refer to
the tags declared within the tag library and <em>namespace_uri</em> is the
string declared in the <em>&lt;namespace&gt;</em> element of the facelet tag library
descriptor. For example, declaring
<em>xmlns:h="http://java.sun.com/jsf/html"</em> within the <em>&lt;html&gt;</em> element in
a Facelet XHTML page would cause the runtime to make all tags declared
in <a href="#a6029">Standard HTML RenderKit Tag Library</a>
to be available for use in the page using syntax like: <em>&lt;h:inputText /&gt;</em>.</p>
</div>
<div class="paragraph">
<p>The unprefixed namespace, also known as the
root namespace, must be passed through without modification or check for
validity. The passing through of the root namespace must occur on any
non-prefixed element in a facelet page. For example, the following
markup declaration:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">xmlns:h</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/html</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;math</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1998/Math/MathML</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;msup&gt;</span>
      <span class="tag">&lt;msqrt&gt;</span>
        <span class="tag">&lt;mrow&gt;</span>
          <span class="tag">&lt;mi&gt;</span>a<span class="tag">&lt;/mi&gt;</span>
          <span class="tag">&lt;mo&gt;</span>+<span class="tag">&lt;/mo&gt;</span>

          <span class="tag">&lt;mi&gt;</span>b<span class="tag">&lt;/mi&gt;</span>
        <span class="tag">&lt;/mrow&gt;</span>
      <span class="tag">&lt;/msqrt&gt;</span>
    <span class="tag">&lt;mn&gt;</span>27<span class="tag">&lt;/mn&gt;</span>
  <span class="tag">&lt;/msup&gt;</span>
<span class="tag">&lt;/math&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>would be rendered as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;math</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1998/Math/MathML</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;msup&gt;</span>
      <span class="tag">&lt;msqrt&gt;</span>
        <span class="tag">&lt;mrow&gt;</span>
          <span class="tag">&lt;mi&gt;</span>a<span class="tag">&lt;/mi&gt;</span>
          <span class="tag">&lt;mo&gt;</span>+<span class="tag">&lt;/mo&gt;</span>

          <span class="tag">&lt;mi&gt;</span>b<span class="tag">&lt;/mi&gt;</span>
        <span class="tag">&lt;/mrow&gt;</span>
      <span class="tag">&lt;/msqrt&gt;</span>
    <span class="tag">&lt;mn&gt;</span>27<span class="tag">&lt;/mn&gt;</span>
  <span class="tag">&lt;/msup&gt;</span>
<span class="tag">&lt;/math&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1_end_facelet_taglib_decl]</p>
</div>
<div class="paragraph">
<p>[P1_start_facelet_taglib_discovery]The run
time must support two modes of discovery for Facelet tag library
descriptors</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Via declaration in the web.xml, as
specified in <a href="UsingJSFInWebApplications.html#a6088">Application Configuration
Parameters</a></p>
</li>
<li>
<p>Via auto discovery by placing the tag library
discriptor file within a jar on the web application classpath, naming
the file so that it ends with “<em>.taglib.xml</em>”, without the quotes, and
placing the file in the <em>META-INF</em> directory in the jar file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The discovery of tag library files
must happen at application startup time and complete before the
application is placed in service. Failure to parse, process and
otherwise interpret any of the tag library files discovered must cause
the application to fail to deploy and must cause an informative error
message to be logged.[P1_end_facelet_taglib_discovery]</p>
</div>
<div class="paragraph">
<p>The specification for how to interpret a
facelet tag library descriptor is included in the documentation elements
of the schema for such files, see <a href="JSFMetadata.html#a7134">XML
Schema Definition For Facelet Taglib</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a5661"><a class="anchor" href="#a5661"></a>10.3.3. Requirements specific to composite components</h4>
<div class="paragraph">
<p>The text in this section makes use of the
terms defined in <a href="#a1619">Composite Component
Terms</a>. When such a term appears in this section, it will be in
<em>emphasis font face</em>.</p>
</div>
<div class="sect4">
<h5 id="a5663"><a class="anchor" href="#a5663"></a>10.3.3.1. Declaring a composite component library for use in a Facelet page</h5>
<div class="paragraph">
<p>[P1_start_composite_library_decl]The runtime
must support the following two ways of declaring a <em>composite component
library</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a facelet taglibrary is declared in an
XHTML page with a namespace starting with the string
“<em><a href="http://java.sun.com/jsf/composite/" class="bare">http://java.sun.com/jsf/composite/</a></em>” (without the quotes), the
remainder of the namespace declaration is taken as the name of a
resource library as described in <a href="#a836">Libraries of Localized and Versioned Resources</a>, as shown in the
following example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">xmlns:ez</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/composite/ezcomp</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The runtime must look for a resource library
named <em>ezcomp</em>. If the substring following
“<em><a href="http://java.sun.com/jsf/composite/" class="bare">http://java.sun.com/jsf/composite/</a></em>” contains a “<em>/</em>” character, or
any characters not legal for a library name the following action must be
taken. If <em>application.getProjectStage()</em> is <em>Development</em> an
informative error message must be placed in the page and also logged.
Otherwise the message must be logged only.</p>
</div>
</li>
<li>
<p>As specified in facelet taglibrary
schema, the runtime must also support the <em>&lt;composite-library-name&gt;</em>
element. The runtime must interpret the contents of this element as the
name of a resource library as described in
<a href="#a836">Libraries of Localized and Versioned
Resources</a>. If a facelet tag library descriptor file is encountered that
contains this element, the runtime must examine the <em>&lt;namespace&gt;</em>
element in that same tag library descriptor and make it available for
use in an XML namespace declaration in facelet
pages.[P1_end_composite_library_decl]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a5670"><a class="anchor" href="#a5670"></a>10.3.3.2. Creating an instance of a <em>top level component</em></h5>
<div class="paragraph">
<p>[P1_start_top_level_component_creation]If,
during the process of building the view, the facelet runtime encounters
an element in the page using the prefix for the namespace of a composite
component library, the runtime must create a <em>Resource</em> instance with a
library property equal to the library name derived in
<a href="#a5663">Declaring a composite component library</a>
for use in a Facelet page]and call the variant of
<em>application.createComponent()</em> that takes a <em>Resource</em>.</p>
</div>
<div class="paragraph">
<p>After causing the <em>top level
component</em> to be instantiated, the runtime must create a <em>UIComponent</em>
with component-family of <em>jakarta.faces.Panel</em> and renderer-type
<em>jakarta.faces.Group</em> to be installed as a facet of the <em>top level
component</em> under the facet name <em>UIComponent.COMPOSITE_FACET_NAME</em>.[P1_end_top_level_component_creation]</p>
</div>
</div>
<div class="sect4">
<h5 id="populating-a-top-level-component-instance-with-children"><a class="anchor" href="#populating-a-top-level-component-instance-with-children"></a>10.3.3.3. Populating a <em>top level component</em> instance with children</h5>
<div class="paragraph">
<p>[P1_start_top_level_component_population]As
specified in <a href="#a1545">How does one make a
composite component?</a> the runtime must support the use of <em>composite:</em>
tag library in the <em>defining page</em> pointed to by the <em>Resource</em> derived
as specified in <a href="#a5670">Creating an instance of
a top level component</a>. [P1_start_top_level_component_population]The
runtime must ensure that all <em>UIComponent</em> children in the <em>composite
component definition</em> within the <em>defining page</em> are placed as children
of the <em>UIComponent.COMPOSITE_FACET_NAME</em> facet of the <em>top level
facet.</em> [P1_end_top_level_component_population]</p>
</div>
<div class="paragraph">
<p>Please see the tag library documentation for
the <em>&lt;composite:insertChildren&gt;</em> and <em>&lt;composite:insertFacet&gt;</em> tags for
details on these two tags that are relevant to populating a <em>top level
component</em> instance with children.</p>
</div>
<div class="paragraph">
<p>Special handling is required for attributes
declared on the <em>composite component tag</em> instance in the <em>using page</em>.
[P1_start_composite_component_tag_attributes]The runtime must ensure
that all such attributes are copied to the attributes map of the <em>top
level component</em> instance in the following manner.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Obtain a reference to the <em>ExpressionFactory</em>,
for discussion called <em>expressionFactory</em>.</p>
</li>
<li>
<p>Let the value of the attribute in the <em>using
page</em> be <em>value</em>.</p>
</li>
<li>
<p>If <em>value</em> is “id” or “binding” without the
quotes, skip to the next attribute.</p>
</li>
<li>
<p>If the value of the attribute starts with
“#{“ (without the quotes) call
<em>expressionFactory.createValueExpression(elContext, value,
Object.class)</em></p>
</li>
<li>
<p>If the value of the attribute does not start
with “<em>#{</em>“, call <em>expressionFactory.createValueExpression(value,
Object.class)</em></p>
</li>
<li>
<p>If there already is a key in the <em>map</em>
for <em>value</em>, inspect the type of the value at that key. If the type is
<em>MethodExpression</em> take no action.[P1_end_composite_component_tag_attributes]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For code that handles tag attributes on
<em>UIComponent</em> XHTML elements special action must be taken regarding
composite components. [P1_start_composite_component_method_expression]If
the type of the attribute is a <em>MethodExpression</em>, the code that takes
the value of the attribute and creates an actual <em>MethodExpression</em>
instance around it must take the following special action. Inspect the
value of the attribute. If the Jakarta Expression Language expression string starts with the <em>cc</em>
implicit object, is followed by the special string “<em>attrs</em>” (without
the quotes), as specified in <a href="#a2908">Composite
Component Attributes ELResolver</a>, and is followed by a single remaining
expression segment, let the value of that remaining expression segment
be <em>attrName</em>. In this case, the runtime must guarantee that the actual
<em>MethodExpression</em> instance that is created for the tag attribute have
the following behavior in its <em>invoke()</em> method.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Obtain a reference to the current composite
component by calling <em>UIComponent.getCurrentCompositeComponent()</em>.</p>
</li>
<li>
<p>Look in the attribute of the component for a
key under the value <em>attrName</em>.</p>
</li>
<li>
<p>There must be a value and it must be of type
<em>MethodExpression</em>. If either of these conditions are <em>false</em> allow the
ensuing exception to be thrown.</p>
</li>
<li>
<p>Call <em>invoke()</em> on the discovered
<em>MethodExpression</em>, passing the arguments passed to our <em>invoke()</em>
method.[P1_end_composite_component_method_expression]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1_start_composite_component_retargeting]Once
the composite component has been populated with children, the runtime
must ensure that <em>ViewHandler.retargetAttachedObjects()</em> and then
<em>ViewHandler.retargetMethodExpressions()</em> is called, passing the <em>top
level component</em>.[P1_end_composite_component_retargeting] The actions
taken in these methods set the stage for the tag attribute behavior and
the special <em>MethodExpression</em> handling behavior described previously.</p>
</div>
<div class="paragraph">
<p>[P1_start_nested_composite_components]The
runtime must support the inclusion of composite components within the
<em>composite component definition</em>. [P1_end_nested_composite_components].</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a5691"><a class="anchor" href="#a5691"></a>10.4. Standard Facelet Tag Libraries</h3>
<div class="paragraph">
<p>This section specifies the tag libraries that
must be provided by an implementation.</p>
</div>
<div class="sect3">
<h4 id="jakarta-faces-core-tag-library"><a class="anchor" href="#jakarta-faces-core-tag-library"></a>10.4.1. Jakarta Faces Core Tag Library</h4>
<div class="paragraph">
<p>This tag library must be equivalent to the
one specified in <a href="#a4636">Jakarta Faces Core Tag Library</a>.</p>
</div>
<div class="paragraph">
<p>For all of the tags that correspond to
attached objects, the Facelets implementation supportes an additional
attribute, <em>for</em>, which is intended for use when the attached object
tag exists within a composite component. If present, this attribute
refers to the value of one of the exposed attached objects within the
composite component inside of which this tag is nested.</p>
</div>
<div class="paragraph">
<p>The following additional tags apply to the
Facelet Core Tag Library only.</p>
</div>
<div class="sect4">
<h5 id="a1111"><a class="anchor" href="#a1111"></a>10.4.1.1. &lt;f:ajax&gt;</h5>
<div class="paragraph">
<p>This tag serves two roles depending on its
placement. If this tag is nested within a single component, it will
associate an Ajax action with that component. If this tag is placed
around a group of components it will associate an Ajax action with all
components that support the “events” attribute. In there is an outer</p>
</div>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&lt;f:ajax [event=”Literal”]</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>[execute=”Literal | Value Expression”] [render=”Literal | Value Expression”]</code></p>
</li>
<li>
<p><code>[onevent=”Literal | Value Expression”] [onerror=”Literal | Value Expression”]</code></p>
</li>
<li>
<p><code>[listener=”Method Expression”]</code></p>
</li>
<li>
<p><code>[disabled=”Literal | Value Expression”] [immediate=”Literal | ValueExpression]/&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Body Content</div>
<p>empty.</p>
</div>
<div class="paragraph">
<div class="title">Attributes</div>
<p>The following optional attributes are
available:</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A String identifying the type of event the
Ajax action will apply to. If specified, it must be one of the events
supported by the component the Ajax behavior is being applied to. If not
specified, the default event is determined for the component. The
default event is “action” for ActionSource components and “valueChange”
for EditableValueHolder components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">execute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection&lt;String&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a literal is specified, it must be a space
delimited String of component identifiers and/or one of the keywords
outlined in <a href="#a6884">Keywords</a>. If not
specified, then @this is the default. If a ValueExpression is specified,
it must refer to a property that returns a Collection of Strings. Each
String in the Collection must not contain spaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">render</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection&lt;String&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a literal is specified, it must be a space
delimited String of component identifiers and/or one of the keywords
outlined in <a href="#a6884">Keywords</a>. If not
specified, then @none is the default . If a ValueExpression is
specified, it must refer to a property that returns a Collection of
Strings. Each String in the Collection must not contain spaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onevent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of a JavaScript function that will handle events</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onerror</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of a JavaScript function that will handle errors.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">“false” indicates the Ajax behavior script
should be rendered; “true” indicates the Ajax behavior script should not
be rendered. “false” is the default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">listener</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The listener method to execute when Ajax
requests are processed on he server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">immediate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If “true” behavior events generated from this
behavior are broadcast during Apply Request Values phase. Otherwise, the
events will be broadcast during Invoke Aplications phase.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Specifying “execute”/”render” Identifiers</div>
<p>The String value for identifiers
specified for execute and render may be specified as a search expression
as outlined in the JavaDocs for UIComponent.findComponent.
[P1_start_execrenderIds]The implementation must resolve these
identifiers as specified for UIComponent.findComponent.[P1_end]</p>
</div>
<div class="paragraph">
<div class="title">Constraints</div>
<p>This tag may be nested within any of the
standard HTML components. It may also be nested within any custom
component that implements the ClientBehaviorHolder interface. Refer to
<a href="#a1707">Component
Behavior Model</a> for more information about this interface.
[P1_start_ajaxtag_events]A TagAttibuteException must be thrown if an
“event” attribute value is specified that does not match the events
supported by the component type. [P1_end_ajaxtag_events] For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:commandButton</span> <span class="attribute-name">..</span><span class="tag">&gt;</span>
  <span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">valueChange</span><span class="error">”</span><span class="tag">/&gt;</span>
<span class="tag">&lt;/h:commandButton</span> id=”button1” ...<span class="error">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>An attempt is made to apply a
“valueChange” Ajax event to an “action” component. This is invalid and
the Ajax behavior will not be applied. [P1_start_bevent]The event
attribute that is specified, must be one of the events returned from the
ClientBehaviorHolder component implementation of
ClientBehaviorHolder.getEventNames. If an event is not specified the
value returned from the component implementation of
ClientBehaviorHolder.getDefaultEventName must be used. If the event is
still not determined, a TagAttributeException must be thrown.[P1_end]</p>
</div>
<div class="paragraph">
<p>This tag may also serve to “ajaxify” regions
of a page by nesting a group of components within it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax&gt;</span>
  <span class="tag">&lt;h:panelGrid&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">text1</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/h:panelGrid&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>From this example, “text1” and “button1” will
have ajax behavior applied to them. The default events for these
components would cause Ajax requests to fire. For “text1” a
“valueChange” event would apply and for “button1” an “action” event
would apply. &lt;h:panelGrid&gt; has no default event so in this case a
behavior would not be applied.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">click</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:panelGrid</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">grid1</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">text1</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span><span class="tag">&gt;</span>
      <span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">mouseover</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/h:commandButton&gt;</span>
  <span class="tag">&lt;/h:panelGrid&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>From this example, “grid1” and “text1” would
have ajax behavior applied for an “onclick” event. “button1” would have
ajax behavior applied for both “mouseover” and “onclick” events. The
“oncick” event is a supported event type for PanelGrid components.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax&gt;</span>
  <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;f:ajax</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/h:commandButton&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For this example, the inner &lt;f:ajax/&gt; would
apply to “button1”. The outer (wrapping) &lt;f:ajax&gt; would not be applied,
since it is the same type of submitting behavior (AjaxBehavior) and the
same event type (action).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">click</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">text1</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">click</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/h:inputText&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For this example, since the event types are
the same, the inner &lt;f:ajax&gt; event overrides the outer one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">action</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span><span class="tag">&gt;</span>
    <span class="tag">&lt;b:greet</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">action</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/h:commandButton&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, there is a custom behavior “greet”
attached to “button1”. the outer &lt;f:ajax&gt; Ajax behavior will also get
applied to “button1”. But it will be applied <strong>after</strong> the “greet”
behavior.</p>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Enable one or more components in the view to
perform Ajax operations. This tag handler must create an instance of
jakarta.faces.component.behavior.AjaxBehavior instance using the tag
attribute values. If this tag is nested within a single
ClientBehaviorHolder component:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the event attribute is not specified,
determine the event by calling the component’s getDefaultEventName
method. If that returns null, throw an exception.</p>
</li>
<li>
<p>If the event attribute is specified, ensure
that it is a valid event - that is one of the events contained in the
Collection returned from getEventNames method. If it does not exist in
this Collection, throw an exception.</p>
</li>
<li>
<p>Add the AjaxBehavior to the component by
calling the addBehavior method, passing the event and AjaxBehavior
instance.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If this tag is wrapped around component
children add the AjaxBehavior instance to the data structure holding the
behaviors for that component. As subsequent child components that
implement the BehaviorHolder interface are evaluated, this AjaxBehavior
instance must be added as a Behavior to the component. Please refer to
the Javadocs for the core tag handler AjaxHandler for additional
requirements.</p>
</div>
<div class="paragraph">
<div class="title">Examples</div>
<p>Apply Ajax to “button1” and “text1”:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax&gt;</span>
  <span class="tag">&lt;h:form&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span> <span class="attribute-name">...</span><span class="tag">&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">text1</span><span class="error">”</span> <span class="attribute-name">..</span><span class="tag">&gt;</span>
  <span class="tag">&lt;/h:form&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Apply Ajax to “text1”:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">valueChange</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:form&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span> <span class="attribute-name">...</span><span class="tag">&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">text1</span><span class="error">”</span> <span class="attribute-name">..</span><span class="tag">&gt;</span>
  <span class="tag">&lt;/h:form&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Apply Ajax to “button1”:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">action</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:form&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span> <span class="attribute-name">...</span><span class="tag">&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">text1</span><span class="error">”</span> <span class="attribute-name">..</span><span class="tag">&gt;</span>
  <span class="tag">&lt;/h:form&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Override default Ajax action. “button1” is
associated with the Ajax “execute=’cancel’” action:<a id="a5815"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">”</span><span class="attribute-value">action</span><span class="error">”</span> <span class="attribute-name">execute</span>=<span class="error">”</span><span class="attribute-value">reset</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:form&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span> <span class="attribute-name">...</span><span class="tag">&gt;</span>
      <span class="tag">&lt;f:ajax</span> <span class="attribute-name">execute</span>=<span class="error">”</span><span class="attribute-value">cancel</span><span class="error">”</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/h:commandButton&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">text1</span><span class="error">”</span> <span class="attribute-name">..</span><span class="tag">&gt;</span>
  <span class="tag">&lt;/h:form&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="fevent"><a class="anchor" href="#fevent"></a>10.4.1.2. &lt;f:event&gt;</h5>
<div class="paragraph">
<p>Allow Jakarta Faces page authors to install
<em>ComponentSystemEventListener</em> instances on a component in a page.
Because this tag is closely tied to the event system, please see section
<a href="#a1393">Declarative Listener Registration</a> for
the normative specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="fmetadata"><a class="anchor" href="#fmetadata"></a>10.4.1.3. &lt;f:metadata&gt;</h5>
<div class="paragraph">
<p>Register a facet on the parent component,
which must be the <em>UIViewRoot</em>. This must be a child of the <em>&lt;f:view&gt;</em>
. This tag must reside within the top level XHTML file for the given
viewId, not in a template. The implementation must ensure that the
direct child of the facet is a <em>UIPanel</em>, even if there is only one
child of the facet. The implementation must set the id of the <em>UIPanel</em>
to be the value of the <em>UIViewRoot.METADATA_FACET_NAME</em> symbolic
constant.</p>
</div>
</div>
<div class="sect4">
<h5 id="a5828"><a class="anchor" href="#a5828"></a>10.4.1.4. &lt;f:validateBean&gt;</h5>
<div class="paragraph">
<p>Register a BeanValidator instance on the
parent EditableValueHolder UIComponent or the EditableValueHolder
UIComponent whose client id matches the value of the "for" attribute
when used within a composite component. If neither criteria is
satisfied, save the validation groups in an attribute on the parent
UIComponent to be used as defaults inherited by any BeanValidator in
that branch of the component tree. Don&#8217;t save the validation groups
string if it is null or empty string. If the validationGroups attribute
is not defined on this tag when used in an EditableValueHolder, or the
value of the attribute is empty string, attempt to inherit the
validation groups from the nearest parent component on which a set of
validation groups is stored. If no validation groups are inherited,
assume the Default validation group, jakarta.validation.groups.Default. If
the BeanValidator is one of the default validators, then this tag simply
specializes the validator by providing the list of validation groups to
be used. There are two usage patterns for this tag, both shown below.
The tags surrounding and nested within the <em>&lt;f:validateBean&gt;</em> tag, as
well as the attributes of the tag itself, are show for illustrative
purposes only.</p>
</div>
<div class="listingblock">
<div class="title">Syntax</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:inputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">model.property</span><span class="error">}</span><span class="error">”</span><span class="tag">&gt;</span>
  <span class="tag">&lt;f:validateBean</span> <span class="attribute-name">validationGroups</span>=
      <span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.validation.groups.Default,app.validation.groups.Order</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/h:inputText&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:form&gt;</span>
  <span class="tag">&lt;f:validateBean&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">model.property</span><span class="error">}</span><span class="error">”</span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;h:selectOneRadio</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="error">#</span><span class="error">{</span><span class="attribute-value">model.radioProperty</span><span class="error">}</span><span class="error">”</span> <span class="tag">&gt;</span>
      ...
    <span class="tag">&lt;/h:selectOneRadio&gt;</span>
    <span class="comment">&lt;!-- other input components here --&gt;</span>
  <span class="tag">&lt;/f:validateBean&gt;</span>
<span class="tag">&lt;/h:form&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Body Content</div>
<p>Empty in the case when the Bean Validator is
to be registered on a parent component.</p>
</div>
<div class="paragraph">
<p>Filled with input components when the Bean
Validator is to be set on all of the ensclosing input components.</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 18. Attributes</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Exp</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A ValueExpression that evaluates to an
object that implements jakarta.faces.validate.BeanValidator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A flag
which indicates whether this validator, or a default validator with the
id "jakarta.faces.Bean", should be permitted to be added to this component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validationGroups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-delimited of type-safe validation
groups that are passed to the Bean Validation API when validating the
value</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Constraints</div>
<p>Must be nested in an EditableValueHolder or
nested in a composite component and have a for attribute. Otherwise, it
simply defines enables or disables the validator as a default for the
branch of the component tree under the parent component and/or sets the
validation group defaults for the branch. No exception is thrown if one
of the first two conditions are not met, unlike other standard
validators.</p>
</div>
<div class="ulist">
<div class="title">Description</div>
<ul>
<li>
<p>Must use or extend the
<em>jakarta.faces.view.facelets.ValidatorHandler</em> class</p>
</li>
<li>
<p>If not within an EditableValueHolder or
composite component, store the validation groups as defaults for the
current branch of the component tree, but only if the value is a
non-empty string.</p>
</li>
<li>
<p>If the disabled attribute is true, the
validator should not be added. In addition, the validatorId, if present,
should be added to an exclusion list on the parent component to prevent
a default validator with the same id from being registered on the
component.</p>
</li>
<li>
<p>The createValidator() method must:</p>
<div class="ulist">
<ul>
<li>
<p>If binding is non-null, create a
ValueExpression by invoking Application.createValueExpression() with
binding as the expression argument, and Validator.class as the
expectedType argument. Use the ValueExpression to obtain a reference to
the Validator instance. If there is no exception thrown, and
ValueExpression.getValue() returned a non-null object that implements
jakarta.faces.validator.Validator, it must then cast the returned instance
to jakarta.faces.validator.BeanValidator, configure its properties based
on the specified attributes, and return the configured instance. If
there was an exception thrown, rethrow the exception as a TagException.</p>
</li>
<li>
<p>Use the validatorId if the validator instance
could not be created from the binding attribute. Call the
createValidator() method of the Application instance for this
application, passing validator id "jakarta.faces.Bean". If the binding
attribute was also set, evaluate the expression into a ValueExpression
and store the validator instance by calling setValue() on the
ValueExpression. It must then cast the returned instance to
jakarta.faces.validator.BeanValidator, configure its properties based on
the specified attributes, and return the configured instance. If there
was an exception thrown, rethrow the exception as a TagException.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a5857"><a class="anchor" href="#a5857"></a>10.4.1.5. &lt;f:validateRequired&gt;</h5>
<div class="paragraph">
<p>Register a RequiredValidator instance on the
parent EditableValueHolder UIComponent or the EditableValueHolder
UIComponent whose client id matches the value of the "for" attribute
when used within a composite component.</p>
</div>
<div class="listingblock">
<div class="title">Syntax</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:validateRequired</span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Body Content</div>
<p>empty</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 19. Attributes</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Exp</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A ValueExpression that evaluates to an
object that implements jakarta.faces.validate.RequiredValidator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A flag
which indicates whether this validator, or a default validator with the
id "jakarta.faces.Required", should be permitted to be added to this
component</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Constraints</div>
<p>Must be nested in an EditableValueHolder or
nested in a composite component and have a for attribute (Facelets
only). Otherwise, it simply enables or disables the use of the validator
as a default for the branch of the component tree under the parent. No
exception is thrown if one of the first two conditions are not met,
unlike other standard validators.</p>
</div>
<div class="ulist">
<div class="title">Description</div>
<ul>
<li>
<p>Must use or extend the
<em>jakarta.faces.view.facelets.ValidatorHandler</em> class</p>
</li>
<li>
<p>If the disabled attribute is true, the
validator should not be added. In addition, the validatorId, if present,
should be added to an exclusion list on the parent component to prevent
a default validator with the same id from being registered on the
component</p>
</li>
<li>
<p>The createValidator() method must:</p>
<div class="ulist">
<ul>
<li>
<p>If binding is non-null, create a
ValueExpression by invoking Application.createValueExpression() with
binding as the expression argument, and Validator.class as the
expectedType argument. Use the ValueExpression to obtain a reference to
the Validator instance. If there is no exception thrown, and
ValueExpression.getValue() returned a non-null object that implements
jakarta.faces.validator.Validator, it must then cast the returned instance
to jakarta.faces.validator.RequiredValidator, configure its properties
based on the specified attributes, and return the configured instance.
If there was an exception thrown, rethrow the exception as a
TagException..</p>
</li>
<li>
<p>Use the validatorId if the validator instance
could not be created from the binding attribute. Call the
createValidator() method of the Application instance for this
application, passing validator id "jakarta.faces.Required". If the binding
attribute was also set, evaluate the expression into a ValueExpression
and store the validator instance by calling setValue() on the
ValueExpression. It must then cast the returned instance to
jakarta.faces.validator.RequiredValidator, configure its properties based
on the specified attributes, and return the configured instance. If
there was an exception thrown, rethrow the exception as a TagException.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="fvalidatewholebean"><a class="anchor" href="#fvalidatewholebean"></a>10.4.1.6. &lt;f:validateWholeBean&gt;</h5>
<div class="paragraph">
<p>Support multi-field validation by enabling
class-level bean validation on CDI based backing beans.</p>
</div>
<div class="listingblock">
<div class="title">Syntax</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- one or more components validated by &lt;f:validateBean /&gt;
     precede this tag in the tree, with each one using the same
     validationGroups value and referencing properties on the same
     model object --&gt;</span>
<span class="tag">&lt;f:validateWholeBean</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{model}</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">validationGroups</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fully.qualified.class.Name</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Body Content</div>
<p>empty</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 20. Attributes</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Exp</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A flag
which indicates whether this validator, or a default validator with the
id "jakarta.faces.Required", should be permitted to be added to this
component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validationGroups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-delimited of type-safe validation
groups that are passed to the Bean Validation API when validating the
value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A
ValueExpression referencing the bean to be validated.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Constraints</div>
<p>This tag must be placed in the component tree
after all of the fields that are to be included in the multi-field
validation. If this precondition is not met, the results of applying
this tag are unspecified.</p>
</div>
<div class="ulist">
<div class="title">Description</div>
<ul>
<li>
<p>See the VDLDoc for <em>&lt;f:validateWholeBean /&gt;</em>
for the normative specification and a usage example.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a5904"><a class="anchor" href="#a5904"></a>10.4.1.7. &lt;f:websocket&gt;</h5>
<div class="paragraph">
<p>This tag registers a websocket push
connection at the client side by rendering the necessary scripts. Push
messages can be sent from server side via <em>jakarta.faces.push.PushContext</em>
interface which is injected into a using class with the
<em>@jakarta.faces.push.Push</em> CDI qualifier.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
&lt;f:websocket&gt; is designed for push from server to client
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Although W3C WebSocket supports two-way
communication, the &lt;f:websocket&gt; push is designed for one-way
communication, from server to client. In case you intend to send some
data from client to server, continue using Jakarta Faces ajax the usual way. This
has among others the advantage of maintaining the Jakarta Faces view state, the
HTTP session and, critically, all security constraints on business
service methods.</p>
</div>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&lt;f:websocket [binding="ValueExpression"] [id="Literal | ValueExpression"]</code></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p><code>channel="Literal" [scope="Literal"]</code></p>
</li>
<li>
<p><code>[user="Literal | ValueExpression"] [onopen="Literal | ValueExpression"]</code></p>
</li>
<li>
<p><code>[onmessage="Literal | ValueExpression"] [onclose="Literal | ValueExpression"]</code></p>
</li>
<li>
<p><code>[connected="Literal | ValueExpression"] [rendered="Literal | ValueExpression"] /&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Body Content</div>
<p>Empty, or one or more <em>&lt;f:ajax&gt;</em> tags with
the <em>event</em> attribute set to exactly the push message content.</p>
</div>
<div class="paragraph">
<div class="title">Attributes</div>
<p>The following required attribute must be set:</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Expr</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the websocket channel. It may not
be a Jakarta Expression Language expression and it may only contain alphanumeric characters,
hyphens, underscores and periods. All open websockets on the same
channel name will receive the same push notification from the server.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following optional attributes are
available:</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 7%;">
<col style="width: 18%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Exp</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Component
identifier of the <em>UIWebSocket</em> component to be created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scope
of the websocket channel. It may not be a Jakarta Expression Language expression and allowed
values are <em>application</em>, <em>session</em> and <em>view</em>, case insensitive. When
the value is <em>application</em>, then all channels with the same name
throughout the application will receive the same push message. When the
value is <em>session</em>, then only the channels with the same name in the
current user session will receive the same push message. When the value
is <em>view</em>, then only the channel in the current view will receive the
push message. The default scope is <em>application</em>. When the <em>user</em>
attribute is specified, then the default scope is <em>session</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serializable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
user identifier of the websocket channel, so that user-targeted push
messages can be sent. It must implement Serializable and preferably have
low memory footprint. Suggestion: use #{request.remoteUser} or
#{someLoggedInUser.id}. All open websockets on the same channel and
user will receive the same push message from the server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onopen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
JavaScript event handler function that is invoked when the websocket is
opened. The function will be invoked with one argument: the channel
name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onmessage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
JavaScript event handler function that is invoked when a push message is
received from the server. The function will be invoked with three
arguments: the push message, the channel name and the raw MessageEvent
itself.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onclose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
JavaScript event handler function that is invoked when the websocket is
closed. The function will be invoked with three arguments: the close
reason code, the channel name and the raw CloseEvent itself. Note that
this will also be invoked on errors and that you can inspect the close
reason code if an error occurred and which one (i.e. when the code is
not 1000). See also RFC 6455 section 7.4.1 and
jakarta.websocket.CloseReason.CloseCodes API for an elaborate list of all
close codes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether
to (auto)connect the websocket or not. Defaults to true. It&#8217;s
interpreted as a JavaScript instruction whether to open or close the
websocket push connection. This attribute is implicitly re-evaluated on
every ajax request by a PreRenderViewEvent listener on the UIViewRoot.
You can also explicitly set it to false and then manually control in
JavaScript by jsf.push.open(clientId) and jsf.push.close(clientId).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rendered</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether
to render the websocket scripts or not. Defaults to true. This attribute
is implicitly re-evaluated on every ajax request by a PreRenderViewEvent
listener on the UIViewRoot. If the value changes to false while the
websocket is already opened, then the websocket will implicitly be
closed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIComponent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value binding expression to a backing bean
property bound to the component instance for the UIComponent created by
this tag.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Configuration</div>
<p>First, enable the websocket endpoint using
the context parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;context-param&gt;</span>
  <span class="tag">&lt;param-name&gt;</span>jakarta.faces.ENABLE_WEBSOCKET_ENDPOINT<span class="tag">&lt;/param-name&gt;</span>
  <span class="tag">&lt;param-value&gt;</span>true<span class="tag">&lt;/param-value&gt;</span>
<span class="tag">&lt;/context-param&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In case your server is configured to run a
WebSocket container on a different TCP port than the HTTP container,
then you can use the optional jakarta.faces.WEBSOCKET_ENDPOINT_PORT
integer context parameter in web.xml to explicitly specify the port.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;context-param&gt;</span>
  <span class="tag">&lt;param-name&gt;</span>jakarta.faces.WEBSOCKET_ENDPOINT_PORT<span class="tag">&lt;/param-name&gt;</span>
  <span class="tag">&lt;param-value&gt;</span>8000<span class="tag">&lt;/param-value&gt;</span>
<span class="tag">&lt;/context-param&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Usage (client)</div>
<p>Declare &lt;f:websocket&gt; tag in the Jakarta Faces view
with at least a channel name and an onmessage JavaScript listener
function. The channel name may not be an Expression Language expression and it may only
contain alphanumeric characters, hyphens, underscores and periods.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example which refers an existing
JavaScript listener function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="tag">&lt;f:websocket</span> <span class="attribute-name">channel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someChannel</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">onmessage</span>=<span class="string"><span class="delimiter">&quot;</span>someWebsocketListener<span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>

<span class="keyword">function</span> <span class="function">someWebsocketListener</span>(message, channel, event) {
    console.log(message);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here’s an example which declares an inline
JavaScript listener function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:websocket</span> <span class="attribute-name">channel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someChannel</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">onmessage</span>=<span class="string"><span class="delimiter">&quot;</span><span class="keyword">function</span>(m){console.log(m);}<span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The onmessage JavaScript listener function
will be invoked with three arguments:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>message: the push message as JSON object.</p>
</li>
<li>
<p>channel: the channel name.</p>
</li>
<li>
<p>event: the raw MessageEvent instance.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When successfully connected, the websocket is
by default open as long as the document is open, and it will
auto-reconnect at increasing intervals when the connection is
closed/aborted as result of e.g. a network error or server restart. It
will not auto-reconnect when the very first connection attempt already
fails. The websocket will be implicitly closed once the document is
unloaded.</p>
</div>
<div class="paragraph">
<div class="title">Usage (server)</div>
<p>On the Java programming side, you can inject
a PushContext via @Push annotation on the given channel name in any
CDI/container managed artifact, such as @Named, @WebServlet, wherever
you&#8217;d like to send a push message and then invoke
PushContext.send(Object) with any Java object representing the push
message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span> <span class="annotation">@Push</span>
<span class="directive">private</span> PushContext someChannel;

<span class="directive">public</span> <span class="type">void</span> sendMessage(<span class="predefined-type">Object</span> message) {
  someChannel.send(message);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default the name of the channel is taken
from the name of the variable into which injection takes place.</p>
</div>
<div class="paragraph">
<p>The channel name can be optionally specified
via the channel attribute. The example below injects the push context
for channel name foo into a variable named bar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span> <span class="annotation">@Push</span>(channel=<span class="string"><span class="delimiter">&quot;</span><span class="content">foo</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> PushContext bar;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The message object will be encoded as JSON
and be delivered as message argument of the onmessage JavaScript
listener function associated with the channel name. It can be a plain
vanilla String, but it can also be a collection, map and even a Java
bean.</p>
</div>
<div class="paragraph">
<div class="title">Scopes and Users</div>
<p>By default the websocket is application
scoped, i.e. any view/session throughout the web application having the
same websocket channel open will receive the same push message. The push
message can be sent by all users and the application itself.</p>
</div>
<div class="paragraph">
<p>The optional scope attribute can be set to
session to restrict the push messages to all views in the current user
session only. The push message can only be sent by the user itself and
not by the application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:websocket</span> <span class="attribute-name">channel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someChannel</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">scope</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">session</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">...</span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The scope attribute can also be set to view
to restrict the push messages to the current view only. The push message
will not show up in other views in the same session even if it&#8217;s the
same URL. The push message can only be sent by the user itself and not
by the application..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:websocket</span> <span class="attribute-name">channel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someChannel</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">scope</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">view</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">...</span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The scope attribute may not be an EL
expression and allowed values are <em>application</em>, <em>session</em> and <em>view</em>,
case insensitive.</p>
</div>
<div class="paragraph">
<p>Additionally, the optional user attribute can
be set to the unique identifier of the logged-in user, usually the login
name or the user ID. This way the push message can be targeted to a
specific user and can also be sent by other users and the application
itself. The value of the user attribute must at least implement
Serializable and have a low memory footprint, so an entire user entity
is not recommended.</p>
</div>
<div class="paragraph">
<p>E.g. when you&#8217;re using container managed
authentication or a related framework/library:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:websocket</span> <span class="attribute-name">channel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someChannel</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">user</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{request.remoteUser}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">...</span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or when you have a custom user entity
accessible via EL, such as as #{someLoggedInUser} which has an id
property representing its identifier:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:websocket</span> <span class="attribute-name">channel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someChannel</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">user</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{someLoggedInUser.id}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">...</span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When the user attribute is specified, then
the scope defaults to session and cannot be set to application.</p>
</div>
<div class="paragraph">
<p>On the server side, the push message can be
targeted to the user specified in the user attribute via
PushContext.send(Object, Serializable). The push message can be sent by
all users and the application itself..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span> <span class="annotation">@Push</span>
<span class="directive">private</span> PushContext someChannel;

<span class="directive">public</span> <span class="type">void</span> sendMessage(<span class="predefined-type">Object</span> message, User recipientUser) {
  <span class="predefined-type">Long</span> recipientUserId = recipientUser.getId();
  someChannel.send(message, recipientUserId);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multiple users can be targeted by passing a
Collection holding user identifiers to PushContext.send(Object,
Collection)..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> sendMessage(<span class="predefined-type">Object</span> message, <span class="predefined-type">Group</span> recipientGroup) {
  <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Long</span>&gt; recipientUserIds = recipientGroup.getUserIds();
  someChannel.send(message, recipientUserIds);
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Conditionally Connecting</div>
<p>You can use the optional connected attribute
to control whether to auto-connect the websocket or not..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:websocket</span> <span class="attribute-name">...</span> <span class="attribute-name">connected</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{bean.pushable}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>connected</em> attribute defaults to true
and is interpreted as a JavaScript instruction whether to open or close
the websocket push connection. If the value is a Jakarta Expression Language expression and it
becomes false during an ajax request, then the push connection will
explicitly be closed during <em>oncomplete</em> of that ajax request.</p>
</div>
<div class="paragraph">
<p>You can also explicitly set it to false and
manually open the push connection in client side by invoking
jsf.push.open(clientId), passing the component&#8217;s client ID..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:commandButton</span> <span class="attribute-name">...</span> <span class="attribute-name">onclick</span>=<span class="string"><span class="delimiter">&quot;</span>jsf.push.open(<span class="string"><span class="delimiter">'</span><span class="content">foo</span><span class="delimiter">'</span></span>)<span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;f:ajax</span> <span class="attribute-name">...</span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/h:commandButton&gt;</span>
<span class="tag">&lt;f:websocket</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">foo</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">channel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">bar</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">scope</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">view</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">...</span> <span class="attribute-name">connected</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In case you intend to have an one-time push
and don’t expect more messages, you can optionally explicitly close the
push connection from client side by invoking jsf.push.close(clientId),
passing the component’s client ID. For example, in the onmessage
JavaScript listener function as below:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">function</span> <span class="function">someWebsocketListener</span>(message) {
    <span class="comment">// ...</span>
    jsf.push.close(<span class="string"><span class="delimiter">'</span><span class="content">foo</span><span class="delimiter">'</span></span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Events (client)</div>
<p>The optional onopen JavaScript listener
function can be used to listen on open of a websocket in client side.
This will be invoked on the very first connection attempt, regardless of
whether it will be successful or not. This will not be invoked when the
websocket auto-reconnects a broken connection after the first successful
connection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="tag">&lt;f:websocket</span> <span class="attribute-name">...</span> <span class="attribute-name">onopen</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">websocketOpenListener</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>

<span class="keyword">function</span> <span class="function">websocketOpenListener</span>(channel) {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>onopen</em> JavaScript listener function
will be invoked with one argument:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>channel: the channel name, useful in case you
intend to have a global listener.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The optional onclose JavaScript listener
function can be used to listen on a normal or abnormal close of a
websocket. This will be invoked when the very first connection attempt
fails, or the server has returned close reason code 1000 (normal
closure) or 1008 (policy violated), or the maximum reconnect attempts
has been exceeded. This will not be invoked when the websocket can make
an auto-reconnect attempt on a broken connection after the first
successful connection</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="tag">&lt;f:websocket</span> <span class="attribute-name">...</span> <span class="attribute-name">onclose</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">websocketCloseListener</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>

<span class="keyword">function</span> <span class="function">websocketCloseListener</span>(code, channel, event) {
    <span class="keyword">if</span> (code == -<span class="integer">1</span>) {
        <span class="comment">// Websockets not supported by client.</span>
    } <span class="keyword">else</span> <span class="keyword">if</span> (code == <span class="integer">1000</span>) {
        <span class="comment">// Normal close (as result of expired session or view).</span>
    } <span class="keyword">else</span> {
        <span class="comment">// Abnormal close reason (as result of an error).</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>onclose</em> JavaScript listener function
will be invoked with three arguments:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>code: the close reason code as integer. If
this is -1, then the websocket is simply not supported by the client. If
this is 1000, then it was normally closed. Otherwise, if this is not
1000, then there may be an error. See also RFC 6455 section 7.4.1 and
jakarta.websocket.CloseReason.CloseCodes API for an elaborate list of all
close codes.</p>
</li>
<li>
<p>channel: the channel name.</p>
</li>
<li>
<p>event: the raw CloseEvent instance.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When a session or view scoped socket is
automatically closed with close reason code 1000 by the server (and thus
not manually by the client via jsf.push.close(clientId)), then it means
that the session or view has expired.</p>
</div>
<div class="paragraph">
<div class="title">Events (server)</div>
<p>When a session or view scoped socket is
automatically closed with close reason code 1000 by the server (and thus
not manually by the client via jsf.push.close(clientId)), then it means
that the session or view has expired.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ApplicationScoped</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">WebsocketObserver</span> {

<span class="directive">public</span> <span class="type">void</span> onOpen(<span class="annotation">@Observes</span> <span class="annotation">@Opened</span> WebsocketEvent event) {
  <span class="predefined-type">String</span> channel = event.getChannel();
  <span class="comment">// Returns &lt;f:websocket channel&gt;.</span>
  <span class="predefined-type">Long</span> userId = event.getUser();
  <span class="comment">// Returns &lt;f:websocket user&gt;, if any.</span>
  <span class="comment">// ...</span>
}

<span class="directive">public</span> <span class="type">void</span> onClose(<span class="annotation">@Observes</span> <span class="annotation">@Closed</span> WebsocketEvent event) {
  <span class="predefined-type">String</span> channel = event.getChannel();
  <span class="comment">// Returns &lt;f:websocket channel&gt;.</span>
  <span class="predefined-type">Long</span> userId = event.getUser();
  <span class="comment">// Returns &lt;f:websocket user&gt;, if any.</span>
  CloseCode code = event.getCloseCode();
  <span class="comment">// Returns close reason code.</span>
  <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Security Considerations</div>
<p>If the socket is declared in a page which is
only restricted to logged-in users with a specific role, then you may
want to add the URL of the push handshake request URL to the set of
restricted URLs.</p>
</div>
<div class="paragraph">
<p>The push handshake request URL is composed of
the URI prefix /jakarta.faces.push/, followed by channel name. In the
example of container managed security which has already restricted an
example page /user/foo.xhtml to logged-in users with the example role
USER on the example URL pattern /user/* in web.xml like below,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;security-constraint&gt;</span>
  <span class="tag">&lt;web-resource-collection&gt;</span>
    <span class="tag">&lt;web-resource-name&gt;</span>
      Restrict access to role USER.
    <span class="tag">&lt;/web-resource-name&gt;</span>
    <span class="tag">&lt;url-pattern&gt;</span>/user/*<span class="tag">&lt;/url-pattern&gt;</span>
  <span class="tag">&lt;/web-resource-collection&gt;</span>
  <span class="tag">&lt;auth-constraint&gt;</span>
    <span class="tag">&lt;role-name&gt;</span>USER<span class="tag">&lt;/role-name&gt;</span>
  <span class="tag">&lt;/auth-constraint&gt;</span>
<span class="tag">&lt;/security-constraint&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and the page /user/foo.xhtml in turn contains
a &lt;f:websocket channel="foo"&gt;, then you need to add a restriction on
push handshake request URL pattern of <em>/jakarta.faces.push/foo</em> as shown
next.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;security-constraint&gt;</span>
  <span class="tag">&lt;web-resource-collection&gt;</span>
    <span class="tag">&lt;web-resource-name&gt;</span>
      Restrict access to role USER.
    <span class="tag">&lt;/web-resource-name&gt;</span>
    <span class="tag">&lt;url-pattern&gt;</span>/user/*<span class="tag">&lt;/url-pattern&gt;</span>
    <span class="tag">&lt;url-pattern&gt;</span>/jakarta.faces.push/foo<span class="tag">&lt;/url-pattern&gt;</span>
  <span class="tag">&lt;/web-resource-collection&gt;</span>
  <span class="tag">&lt;auth-constraint&gt;</span>
    <span class="tag">&lt;role-name&gt;</span>USER<span class="tag">&lt;/role-name&gt;</span>
  <span class="tag">&lt;/auth-constraint&gt;</span>
<span class="tag">&lt;/security-constraint&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As extra security, particularly for those
public channels which can’t be restricted by security constraints, the
&lt;f:websocket&gt; will register all so previously declared channels in the
current HTTP session, and any incoming websocket open request will be
checked whether they match these channels in the current HTTP session.
In case the channel is unknown (e.g. randomly guessed or spoofed by end
users or manually reconnected after the session is expired), then the
websocket will immediately be closed with close reason code
CloseCodes.VIOLATED_POLICY (1008). Also, when the HTTP session gets
destroyed, all session and view scoped channels which are still open
will explicitly be closed from server side with close reason code
CloseCodes.NORMAL_CLOSURE (1000). Only application scoped sockets remain
open and are still reachable from server end even when the session or
view associated with the page in client side is expired.</p>
</div>
<div class="paragraph">
<div class="title">Ajax Support</div>
<p>In case you’d like to perform complex UI
updates depending on the received push message, then you can nest
&lt;f:ajax&gt; inside &lt;f:websocket&gt;. Here’s an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:panelGroup</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">foo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  ... (some complex UI here) ...
<span class="tag">&lt;/h:panelGroup&gt;</span>

<span class="tag">&lt;h:form&gt;</span>
  <span class="tag">&lt;f:websocket</span> <span class="attribute-name">channel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someChannel</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">scope</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">view</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someEvent</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">listener</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{bean.pushed}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">render</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">:foo</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;/f:websocket&gt;</span>
<span class="tag">&lt;/h:form&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, the push message simply represents the
ajax event name. You can use any custom event name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">someChannel.send(<span class="string"><span class="delimiter">&quot;</span><span class="content">someEvent</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>An alternative is to combine &lt;f:websocket&gt;
with &lt;h:commandScript&gt;. The &lt;f:websocket onmessage&gt; can reference
exactly the &lt;h:commandScript name&gt;. For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:panelGroup</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">foo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  ... (some complex UI here) ...
<span class="tag">&lt;/h:panelGroup&gt;</span>
<span class="tag">&lt;f:websocket</span> <span class="attribute-name">channel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">someChannel</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">scope</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">view</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">onmessage</span>=<span class="string"><span class="delimiter">&quot;</span>pushed<span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;h:form&gt;</span>
  <span class="tag">&lt;h:commandScript</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">pushed</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{bean.pushed}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">render</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">:foo</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/h:form&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you pass a Map&lt;String,V&gt; or a JavaBean as
push message object, then all entries/properties will transparently be
available as request parameters in the command script method
#{bean.pushed}.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a6029"><a class="anchor" href="#a6029"></a>10.4.2. Standard HTML RenderKit Tag Library</h4>
<div class="paragraph">
<p>This tag library must be equivalent to the
one specified in <a href="#a5363">Standard HTML RenderKit
Tag Library</a>.</p>
</div>
<div class="paragraph">
<p>The following additional renderers are added
to the ones defined in the other section.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 21. Renderers Unique to Facelets</caption>
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">getComponentType()</th>
<th class="tableblock halign-left valign-top">getRendererType()</th>
<th class="tableblock halign-left valign-top">custom action name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Script</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">commandScript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Script</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.Websocket</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">does not apply</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="a6043"><a class="anchor" href="#a6043"></a>10.4.3. Facelet Templating Tag Library</h4>
<div class="paragraph">
<p>This tag library is the specified version of
the ui: tag library found in pre JSF 2.0 Facelets. The specification for
this library can be found in the VDLDocs for the <em>ui:</em> library.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6045"><a class="anchor" href="#a6045"></a>10.4.4. Composite Component Tag Library</h4>
<div class="paragraph">
<p>This tag library is used to declare composite
components. The specification for this tag library can be found in the
VDLDocs for the <em>composite:</em> library.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6047"><a class="anchor" href="#a6047"></a>10.4.5. JSTL Core and Function Tag Libraries</h4>
<div class="paragraph">
<p>Facelets exposes a subset of the JSTL Core
tag library and the entirety of the JSTL Function tag library. Please
see the VDLDocs for the JSTL Core and JSTL Functions tag libraries for
the normative specification.</p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="assertions-relating-to-the-construction-of-the-view"><a class="anchor" href="#assertions-relating-to-the-construction-of-the-view"></a>10.5. Assertions relating to the construction of the view</h3>
<div class="paragraph">
<p>hierarchy</p>
</div>
<div class="paragraph">
<p>[P1-start processListenerForAnnotation] When
the VDL calls for the creation of a <em>UIComponent</em> instance, after
calling <em>Application.createComponent()</em> to instantiate the component
instance, and after calling <em>setRendererType()</em> on the newly
instantiated component instance, the following action must be taken.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Obtain the <em>Renderer</em> for this component. If
no <em>Renderer</em> is present, ignore the following steps.</p>
</li>
<li>
<p>Call <em>getClass()</em> on the <em>Renderer</em> instance
and inspect if the <em>ListenerFor</em> annotation is present. If so, inspect
if the <em>Renderer</em> instance implements <em>ComponentSystemEventListener</em>.
If neither of these conditions are <em>true</em>, ignore the following steps.</p>
</li>
<li>
<p>Obtain the value of the <em>systemEventClass()</em>
property of the <em>ListenerFor</em> annotation on the <em>Renderer</em> instance.</p>
</li>
<li>
<p>Call <em>subscribeToEvent()</em> on the
<em>UIComponent</em> instance from which the <em>Renderer</em> instance was obtained,
using the <em>systemEventClass</em> from the annotation as the second argument,
and the <em>Renderer</em> instance as the third argument.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a6060"><a class="anchor" href="#a6060"></a>11. Using Jakarta Faces in Web Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This specification provides Jakarta Faces implementors
significant freedom to differentiate themselves through innovative
implementation techniques, as well as value-added features. However, to
ensure that web applications based on Jakarta Faces can be executed unchanged
across different Jakarta Faces implementations, the following additional
requirements, defining how a Jakarta Faces-based web application is assembled and
configured, must be supported by all Jakarta Faces implementations.</p>
</div>
<div class="sect2">
<h3 id="web-application-deployment-descriptor"><a class="anchor" href="#web-application-deployment-descriptor"></a>11.1. Web Application Deployment Descriptor</h3>
<div class="paragraph">
<p>Jakarta Faces-based applications are <em>web applications</em>
that conform to the requirements of the <em>Jakarta Servlet Specification</em>
(version 5.0 or later), and also use the facilities defined in this
specification. Conforming web applications are packaged in a <em>web
application archive</em> (WAR), with a well-defined internal directory
structure. A key element of a WAR is the <em>web application deployment
descriptor</em>, an XML document that describes the configuration of the
resources in this web application. This document is included in the WAR
file itself, at resource path <em>/WEB-INF/web.xml</em>.</p>
</div>
<div class="paragraph">
<p>Portable Jakarta Faces-based web applications must
include the following configuration elements, in the appropriate
portions of the web application deployment descriptor. Element values
that are rendered in <em>italics</em> represent values that the application
developer is free to choose. Element values rendered in <strong>bold</strong> represent
values that must be utilized exactly as shown.</p>
</div>
<div class="paragraph">
<p>Executing the request processing lifecycle
via other mechanisms is also allowed (for example, an MVC-based
application framework can incorporate calling the correct phase
implementations in the correct order); however, all Jakarta Faces implementations
must support the functionality described in this chapter to ensure
application portability.</p>
</div>
<div class="sect3">
<h4 id="a6066"><a class="anchor" href="#a6066"></a>11.1.1. Servlet Definition</h4>
<div class="paragraph">
<p>Jakarta Faces implementations must provide request
processing lifecycle services through a standard servlet, defined by
this specification. [P1-start-servlet]This servlet must be defined, in
the deployment descriptor of an application that wishes to employ this
portable mechanism, as follows:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>&lt;servlet&gt;</p>
</div>
<div class="paragraph">
<p>&#160;&lt;servlet-name&gt; <em>faces-servlet-name</em> &lt;/servlet-name&gt;</p>
</div>
<div class="paragraph">
<p>&#160;&lt;servlet-class&gt; <strong>jakarta.faces.webapp.FacesServlet</strong> &lt;/servlet-class&gt;</p>
</div>
<div class="paragraph">
<p>&lt;/servlet&gt;</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The servlet name, denoted as
<em>faces-servlet-name</em> above, may be any desired value; however, the same
value must be used in the servlet mapping (see
<a href="#a6076">Servlet Mapping</a>).[P1-end]</p>
</div>
<div class="paragraph">
<p>In addition to <em>FacesServlet</em>, Jakarta Faces
implementations may support other ways to invoke the Jakarta Faces
request processing lifecycle, but applications that rely on these
mechanisms will not be portable.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6076"><a class="anchor" href="#a6076"></a>11.1.2. Servlet Mapping</h4>
<div class="paragraph">
<p>All requests to a web application are mapped
to a particular servlet based on matching a URL pattern (as defined in
the <em>Jakarta Servlet Specification</em>) against the portion of the request
URL after the context path that selected this web application.
[P1-start-mapping]Jakarta Faces implementations must support web application that
define a <em>&lt;servlet-mapping&gt;</em> that maps any valid <em>url-pattern</em> to the
<em>FacesServlet</em>. [P1-end]Prefix or extension mapping may be used. When
using prefix mapping, the following mapping is recommended, but not
required:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>&lt;servlet-mapping&gt;</p>
</div>
<div class="paragraph">
<p>&#160;&lt;servlet-name&gt; <em>faces-servlet-name</em> &lt;/servlet-name&gt;</p>
</div>
<div class="paragraph">
<p>&#160;&lt;url-pattern&gt; <em>/faces/*</em> &lt;/url-pattern&gt;</p>
</div>
<div class="paragraph">
<p>&lt;/servlet-mapping&gt;</p>
</div>
</div>
</div>
<div class="paragraph">
<p>When using extension mapping the following
mapping is recommended, but not required:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>&lt;servlet-mapping&gt;</p>
</div>
<div class="paragraph">
<p>&#160;&lt;servlet-name&gt; <em>faces-servlet-name</em> &lt;/servlet-name&gt;</p>
</div>
<div class="paragraph">
<p>&#160;&lt;url-pattern&gt; <em>*.faces</em> &lt;/url-pattern&gt;</p>
</div>
<div class="paragraph">
<p>&lt;/servlet-mapping&gt;</p>
</div>
</div>
</div>
<div class="paragraph">
<p>In addition to <em>FacesServlet</em>, Jakarta Faces
implementations may support other ways to invoke the Jakarta Faces
request processing lifecycle, but applications that rely on these
mechanisms will not be portable.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6088"><a class="anchor" href="#a6088"></a>11.1.3. Application Configuration Parameters</h4>
<div class="paragraph">
<p>Servlet containers support application
configuration parameters that may be customized by including
<em>&lt;context-param&gt;</em> elements in the web application deployment descriptor.
[P1-start-configParams]All Jakarta Faces implementations are required to support
the following application configuration parameter names:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>jakarta.faces.ALWAYS_PERFORM_VALIDATION_WHEN_REQUIRED_IS_TRUE</em>&#8201;&#8212;&#8201;See the
javadocs for the constant
<em>jakarta.faces.component.UIInput.ALWAYS_PERFORM_VALIDATION_WHEN_REQUIRED_IS_TRUE</em>
for the specification of this feature.</p>
</li>
<li>
<p><em>jakarta.faces.CLIENT_WINDOW_MODE</em>&#8201;&#8212;&#8201;The
context-param that controls the operation of the <em>ClientWindow</em> feature.
See the javadocs for the constant
<em>jakarta.faces.lifecycle.ClientWindow.CLIENT_WINDOW_MODE_PARAM_NAME</em> for
the specification of this feature.</p>
</li>
<li>
<p><em>jakarta.faces.CONFIG_FILES</em>&#8201;&#8212;&#8201;Comma-delimited list of context-relative resource paths under which the
Jakarta Faces implementation will look for application configuration resources
(see <a href="#a6254">Application Configuration Resource
Format</a>), before loading a configuration resource named
“<em>/WEB-INF/faces-config.xml</em>” (if such a resource exists). If
“<em>/WEB-INF/faces-config.xml</em>” is present in the list, it must be
ignored.</p>
</li>
<li>
<p><em>jakarta.faces.DATETIMECONVERTER_DEFAULT_TIMEZONE_IS_SYSTEM_TIMEZONE</em>&#8201;&#8212;&#8201;If this param is set, and calling <em>toLowerCase().equals("true")</em> on a
<em>String</em> representation of its value returns <em>true</em>,
<em>Application.createConverter()</em> must guarantee that the default for the
timezone of all <em>jakarta.faces.convert.DateTimeConverter</em> instances must
be equal to <em>TimeZone.getDefault()</em> instead of “GMT”.</p>
</li>
<li>
<p><em>jakarta.faces.DEFAULT_SUFFIX</em>&#8201;&#8212;&#8201;Allow the
web application to define an alternate suffix for Jakarta Server Pages pages containing
Jakarta Faces content. See the javadocs for the symbolic constant
<em>ViewHandler.DEFAULT_SUFFIX_PARAM_NAME</em> for the complete specification.</p>
</li>
<li>
<p><em>jakarta.faces.DISABLE_FACELET_JSF_VIEWHANDLER</em>&#8201;&#8212;&#8201;If this param is set,
and calling <em>toLowerCase().equals("true")</em> on a <em>String</em> representation
of its value returns <em>true</em>, the default <em>ViewHandler</em> must behave as
specified in the latest 1.2 version of this specification. Any behavior
specified in <a href="#a4010">Default
ViewDeclarationLanguage Implementation</a> and implemented in the default
<em>ViewHandler</em> that pertains to handling requests for pages authored in
the Jakarta Server Faces View Declaration Language must not be executed by
the runtime.<br>
For backward compatibility with previous versions of Facelets, the value
<em>DISABLE_FACELET_JSF_VIEWHANDLER</em> must be supported.</p>
</li>
<li>
<p><em>jakarta.faces.DISABLE_FACESSERVLET_TO_XHTML</em>&#8201;&#8212;&#8201;If this param is set, and calling <em>toLowerCase().equals("true")</em> on
a <em>String</em> representation of its value returns <em>true</em>, the default
mapping of the <em>FacesServlet</em> to <em>*.xhtml</em> must not take effect.</p>
</li>
<li>
<p><em>jakarta.faces.FACELETS_LIBRARIES</em>&#8201;&#8212;&#8201;If this
param is set, the runtime must interpret it as a semicolon (;) separated
list of paths, starting with “/” (without the quotes). The runtime must
interpret each entry in the list as a path relative to the web
application root and interpret the file found at that path as a facelet
tag library, conforming to the facelet taglibrary schema and expose the
tags therein according to <a href="#a5638">Facelet Tag
Library mechanism</a>. The runtime must also consider the
<em>facelets.LIBRARIES</em> param name as an alias to this param name for
backwards compatibility with existing facelets tag libraries.</p>
</li>
<li>
<p><em>jakarta.faces.FACELETS_BUFFER_SIZE</em>&#8201;&#8212;&#8201;The
buffer size to set on the response when the <em>ResponseWriter</em> is
generated. By default the value is 1024. A value of -1 will not assign a
buffer size on the response. This should be increased if you are using
development mode in order to guarantee that the response isn&#8217;t partially
rendered when an error is generated. The runtime must also consider the
<em>facelets.BUFFER_SIZE</em> param name as an alias to this param name for
backwards compatibility with existing facelets tag libraries.</p>
</li>
<li>
<p><em>jakarta.faces.FACELETS_DECORATORS</em>&#8201;&#8212;&#8201;A
semicolon (;) delimitted list of class names of type
<em>jakarta.faces.view.facelets.TagDecorator</em>, with a no-argument
constructor. These decorators will be loaded when the first request for
a Facelets VDL view hits the <em>ViewHandler</em> for page compilation.The
runtime must also consider the <em>facelets.DECORATORS</em> param name as an
alias to this param name for backwards compatibility with existing
facelets tag libraries.</p>
</li>
<li>
<p><em>jakarta.faces.FACELETS_REFRESH_PERIOD</em>&#8201;&#8212;&#8201;When a page is requested, what interval in seconds should the compiler
check for changes. If you don&#8217;t want the compiler to check for changes
once the page is compiled, then use a value of -1. Setting a low refresh
period helps during development to be able to edit pages in a running
application.The runtime must also consider the <em>facelets.REFRESH_PERIOD</em>
param name as an alias to this param name for backwards compatibility
with existing facelets tag libraries.</p>
</li>
<li>
<p><em>jakarta.faces.FACELETS_RESOURCE_RESOLVER</em>&#8201;&#8212;&#8201;If this param is set, the runtime must interpret its value as a fully
qualified classname of a java class that extends
<em>jakarta.faces.view.facelets.ResourceResolver</em> and has a zero argument
public constructor or a one argument public constructor where the type
of the argument is <em>ResourceResolver</em>. If this param is set and its
value does not conform to those requirements, the runtime must log a
message and continue. If it does conform to these requirements and has a
one-argument constructor, the default <em>ResourceResolver</em> must be passed
to the constructor. If it has a zero argument constructor it is invoked
directly. In either case, the new <em>ResourceResolver</em> replaces the old
one. The runtime must also consider the <em>facelets.RESOURCE_RESOLVER</em>
param name as an alias to this param name for backwards compatibility
with existing facelets tag libraries.</p>
<div class="paragraph">
<p>Related to this param is the corresponding
annotation, <em>jakarta.faces.view.facelets.FaceletsResourceResolver</em>. The
presence of this annotation must be ignored if the corresponding param
has been specified. If present, this annotation must be attached to a
class that extends <em>jakarta.faces.view.facelets.ResourceResolver</em>. If
more than one class in the application has this annotation, an
informative error message with logging level SEVERE must be logged
indicating this case. Exactly one of the classes with the annotation
must be taken to be the <em>ResourceResolver</em> for the application and any
other classes with the annotation must be ignored. See
<a href="#a6435">Ordering of Artifacts</a> for the means to
put application configuration resources in order such that the chosen
class can be defined. The same rules regarding decoration of the
instance as listed above must apply to the annotated class.</p>
</div>
</li>
<li>
<p><em>jakarta.faces.FACELETS_SKIP_COMMENTS</em>&#8201;&#8212;&#8201;If
this param is set, and calling <em>toLowerCase().equals("true")</em> on a
<em>String</em> representation of its value returns <em>true</em>, the runtime must
ensure that any XML comments in the Facelets source page are not
delivered to the client. The runtime must also consider the
<em>facelets.SKIP_COMMENTS</em> param name as an alias to this param name for
backwards compatibility with existing facelets tag libraries.</p>
</li>
<li>
<p><em>jakarta.faces.FACELETS_SUFFIX</em>&#8201;&#8212;&#8201;Allow the
web application to define an alternate suffix for Facelet based XHTML
pages containing Jakarta Faces content. See the javadocs for the symbolic constant
<em>ViewHandler.FACELETS_SUFFIX_PARAM_NAME</em> for the complete specification.</p>
</li>
<li>
<p><em>jakarta.faces.FACELETS_VIEW_MAPPINGS</em>&#8201;&#8212;&#8201;If
this param is set, the runtime must interpret it as a semicolon (;)
separated list of strings that is used to forcibly declare that certain
pages in the application must be interpreted as using Facelets,
regardless of their extension. The runtime must also consider the
<em>facelets.VIEW_MAPPINGS</em> param name as an alias to this param name for
backwards compatibility with existing facelets applications. See the
javadocs for the symbolic constant
<em>ViewHandler.FACELETS_VIEW_MAPPINGS_PARAM_NAME</em> for the complete
specification.</p>
</li>
<li>
<p><em>jakarta.faces.FULL_STATE_SAVING_VIEW_IDS</em>&#8201;&#8212;&#8201;The runtime must interpret the value of this parameter as a comma
separated list of view IDs, each of which must have their state saved
using the state saving mechanism specified in pre-Jakarta Faces JSF 1.2 (under the JCP).</p>
</li>
<li>
<p><em>jakarta.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL</em>&#8201;&#8212;&#8201;If this
param is set, and calling <em>toLowerCase().equals("true")</em> on a <em>String</em>
representation of its value returns <em>true</em>, any implementation of
<em>UIInput.validate()</em> must take the following additional action.</p>
<div class="paragraph">
<p>If the
<em>jakarta.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL</em> context
parameter value is <em>true</em> (ignoring case), and UIInput.
<em>getSubmittedValue()</em> returns a zero-length <em>String</em> call
<em>UIInput.setSubmittedValue(null)</em> and continue processing using null as
the current submitted value</p>
</div>
</li>
<li>
<p><em>jakarta.faces.LIFECYCLE_ID</em>&#8201;&#8212;&#8201;Lifecycle
identifier of the <em>Lifecycle</em> instance to be used when processing Jakarta Faces
requests for this web application. If not specified, the Jakarta Faces default
instance, identified by <em>LifecycleFactory.DEFAULT_LIFECYCLE</em>, must be
used.</p>
</li>
<li>
<p><em>jakarta.faces.PARTIAL_STATE_SAVING</em> --The
ServletContext init parameter consulted by the runtime to determine if
the partial state saving mechanism should be used.<br>
If undefined, the runtime must determine the version level of the
application.</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>For applications versioned at 1.2 and under,
the runtime must not use the partial state saving mechanism.</p>
</li>
<li>
<p>For applications versioned at 2.0 and above,
the runtime must use the partial state saving mechanism.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>If this parameter is defined, and the
application is versioned at 1.2 and under, the runtime must not use the
partial state saving mechanism. Otherwise, If this param is defined, and
calling toLowerCase().equals("true") on a <em>String</em> representation of its
value returns true, the runtime must use partial state mechanism.
Otherwise the partial state saving mechanism must not be used.</p>
</div>
</li>
<li>
<p><em>jakarta.faces.PROJECT_STAGE</em>&#8201;&#8212;&#8201;A human
readable string describing where this particular Jakarta Faces application is in
the software development lifecycle. Valid values are “<em>Development</em>”,
“<em>UnitTest</em>”, “<em>SystemTest</em>”, or “<em>Production</em>”, corresponding to
the enum constants of the class <em>jakarta.faces.application.ProjectStage</em>.
It is also possible to set this value via JNDI. See the javadocs for
<em>Application.getProjectStage()</em>.</p>
</li>
<li>
<p><em>jakarta.faces.SEPARATOR_CHAR</em> --The context
param that allows the character used to separate segments in a
<em>UIComponent</em> clientId to be set on a per-application basis.</p>
</li>
<li>
<p><em>jakarta.faces.SERIALIZE_SERVER_STATE</em> --If
this param is set, and calling <em>toLowerCase().equals("true")</em> on a
<em>String</em> representation of its value returns <em>true</em>, and the
<em>jakarta.faces.STATE_SAVING_METHOD</em> is set to “server” (as indicated
below), the server state must be guaranteed to be Serializable such that
the aggregate state implements <em>java.io.Serializable</em>. The intent of
this parameter is to ensure that the act of writing out the state to an
<em>ObjectOutputStream</em> would not throw a <em>NotSerializableException</em>, but
the runtime is not required verify this before saving the state.</p>
</li>
<li>
<p><em>jakarta.faces.STATE_SAVING_METHOD</em>&#8201;&#8212;&#8201;The
location where state information is saved. Valid values are “server”
(typically saved in <em>HttpSession</em>) and “client (typically saved as a
hidden field in the subsequent form submit). If not specified, the
default value “server” must be used. When examining the parameter value,
the runtime must ignore case.</p>
</li>
<li>
<p><em>jakarta.faces.VALIDATE_EMPTY_FIELDS</em>&#8201;&#8212;&#8201;If
this param is set, and calling <em>toLowerCase().equals("true")</em> on a
<em>String</em> representation of its value returns <em>true</em>, all submitted
fields will be validated. This is necessary to allow the model validator
to decide whether <em>null</em> or empty values are allowable in the current
application. If the value is <em>false</em>, <em>null</em> or empty values will not
be passed to the validators. If the value is the string <em>“auto”</em>, the
runtime must check if JSR-303 Beans Validation is present in the current
environment. If so, the runtime must proceed as if the value <em>“true”</em>
had been specified. If JSR-303 Beans Validation is not present in the
current environment, the runtime most proceed as if the value <em>“false”</em>
had been specified. If the param is not set, the system must behave as
if the param was set with the value <em>“auto”</em>.</p>
</li>
<li>
<p><em>jakarta.faces.validator.DISABLE_DEFAULT_BEAN_VALIDATOR</em>&#8201;&#8212;&#8201;If this param
is set, and calling <em>toLowerCase().equals("true")</em> on a <em>String</em>
representation of its value returns <em>true</em>, the runtime must not
automatically add the validator with validator-id equal to the value of
the symbolic constant <em>jakarta.faces.validator.</em> VALIDATOR_ID to the list
of default validators. Setting this parameter to <em>true</em> will have the
effect of disabling the automatic installation of Bean Validation to
every input component in every view in the application, though manual
installation is still possible.</p>
</li>
<li>
<p><em>jakarta.faces.validator.ENABLE_VALIDATE_WHOLE_BEAN</em>&#8201;&#8212;&#8201;If this param is
set, and calling <em>toLowerCase().equals("true")</em> on a <em>String</em>
representation of its value returns <em>true</em>, the <em>&lt;f:validateWholeBean
/&gt;</em> tag is enabled. If not set or set to false, this tag is a no-op.</p>
</li>
<li>
<p><em>jakarta.faces.VIEWROOT_PHASE_LISTENER_QUEUES_EXCEPTIONS</em>&#8201;&#8212;&#8201;If this param
is set, and calling <em>toLowerCase().equals("true")</em> on a <em>String</em>
representation of its value returns <em>true</em>, exceptions thrown by
<em>PhaseListeners</em> installed on the <em>UIViewRoot</em> are queued to the
<em>ExceptionHandler</em> instead of being logged and swallowed. If this param
is not set or is set to false, the old behavior prevails.</p>
</li>
<li>
<p><em>jakarta.faces.ENABLE_WEBSOCKET_ENDPOINT</em>&#8201;&#8212;&#8201;Enable WebSocket support. See the javadoc for
<em>jakarta.faces.component.UIWebsocket</em>.</p>
</li>
<li>
<p><em>jakarta.faces.WEBAPP_RESOURCES_DIRECTORY</em></p>
<div class="paragraph">
<p>If this param is set, the runtime must
interpret its value as a path, relative to the web app root, where
resources are to be located. This param value must not start with a “/”,
though it may contain “/” characters. If no such param exists, or its
value is invalid, the value “resources”, without the quotes, must be
used by the runtime as the value.</p>
</div>
</li>
<li>
<p><em>jakarta.faces.WEBAPP_CONTRACTS_DIRECTORY</em></p>
<div class="paragraph">
<p>If this param is set, the runtime must
interpret its value as a path, relative to the web app root, where
resource library contracts are to be located. This param value must not
start with a “/”, though it may contain “/” characters. If no such param
exists, or its value is invalid, the value “contracts”, without the
quotes, must be used by the runtime as the value.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
<div class="paragraph">
<p>Jakarta Faces implementations may choose to support
additional configuration parameters, as well as additional mechanisms to
customize the Jakarta Faces implementation; however, applications that rely on
these facilities will not be portable to other Jakarta Faces implementations.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="included-classes-and-resources"><a class="anchor" href="#included-classes-and-resources"></a>11.2. Included Classes and Resources</h3>
<div class="paragraph">
<p>A Jakarta Faces-based application will rely on a
combination of APIs, and corresponding implementation classes and
resources, in addition to its own classes and resources. The web
application archive structure identifies two standard locations for
classes and resources that will be automatically made available when a
web application is deployed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>/WEB-INF/classes</em>&#8201;&#8212;&#8201;A directory containing
unpacked class and resource files.</p>
</li>
<li>
<p><em>/WEB-INF/lib</em>&#8201;&#8212;&#8201;A directory containing JAR
files that themselves contain class files and resources.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, servlet and portlet containers
typically provide mechanisms to share classes and resources across one
or more web applications, without requiring them to be included inside
the web application itself.</p>
</div>
<div class="paragraph">
<p>The following sections describe how various
subsets of the required classes and resources should be packaged, and
how they should be made available.</p>
</div>
<div class="sect3">
<h4 id="application-specific-classes-and-resources"><a class="anchor" href="#application-specific-classes-and-resources"></a>11.2.1. Application-Specific Classes and Resources</h4>
<div class="paragraph">
<p>Application-specific classes and resources
should be included in <em>/WEB-INF/classes</em> or <em>/WEB-INF/lib</em>, so that
they are automatically made available upon application deployment.</p>
</div>
</div>
<div class="sect3">
<h4 id="servlet-and-jakarta-server-pages-api-classes-jakarta-servlet"><a class="anchor" href="#servlet-and-jakarta-server-pages-api-classes-jakarta-servlet"></a>11.2.2. Servlet and Jakarta Server Pages API Classes (jakarta.servlet.*)</h4>
<div class="paragraph">
<p>These classes will typically be made
available to all web applications using the shared class facilities of
the servlet container. Therefore, these classes should not be included
inside the web application archive.</p>
</div>
</div>
<div class="sect3">
<h4 id="jakarta-server-pages-standard-tag-library-jstl-api-classes-jakarta-servlet-jsp-jstl"><a class="anchor" href="#jakarta-server-pages-standard-tag-library-jstl-api-classes-jakarta-servlet-jsp-jstl"></a>11.2.3. Jakarta Server Pages Standard Tag Library (JSTL) API Classes (jakarta.servlet.jsp.jstl.*)</h4>
<div class="paragraph">
<p>These classes will typically be made
available to all web applications using the shared class facilities of
the servlet container. Therefore, these classes should not be included
inside the web application archive.</p>
</div>
</div>
<div class="sect3">
<h4 id="jakarta-server-pages-standard-tag-library-jstl-implementation-classes"><a class="anchor" href="#jakarta-server-pages-standard-tag-library-jstl-implementation-classes"></a>11.2.4. Jakarta Server Pages Standard Tag Library (JSTL) Implementation Classes</h4>
<div class="paragraph">
<p>These classes will typically be made
available to all web applications using the shared class facilities of
the servlet container. Therefore, these classes should not be included
inside the web application archive.</p>
</div>
</div>
<div class="sect3">
<h4 id="jakarta-server-faces-api-classes-jakarta-faces"><a class="anchor" href="#jakarta-server-faces-api-classes-jakarta-faces"></a>11.2.5. Jakarta Server Faces API Classes (jakarta.faces.*)</h4>
<div class="paragraph">
<p>These classes will typically be made
available to all web applications using the shared class facilities of
the servlet container. Therefore, these classes should not be included
inside the web application archive.</p>
</div>
</div>
<div class="sect3">
<h4 id="jakarta-server-faces-implementation-classes"><a class="anchor" href="#jakarta-server-faces-implementation-classes"></a>11.2.6. Jakarta Server Faces Implementation Classes</h4>
<div class="paragraph">
<p>These classes will typically be made
available to all web applications using the shared class facilities of
the servlet container. Therefore, these classes should not be included
inside the web application archive.</p>
</div>
<div class="sect4">
<h5 id="a6147"><a class="anchor" href="#a6147"></a>11.2.6.1. FactoryFinder</h5>
<div class="paragraph">
<p><em>jakarta.faces.FactoryFinder</em> implements the
standard discovery algorithm for all factory objects specified in the
Jakarta Server Faces APIs. For a given factory class name, a corresponding
implementation class is searched for based on the following algorithm.
Items are listed in order of decreasing search precedence:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If a default Jakarta Server Faces configuration
file (/WEB-INF/faces-config.xml) is bundled into the <em>web application,
and it</em> contains a factory entry of the given factory class name, that
factory class is used.</p>
</li>
<li>
<p>If the Jakarta Server Faces configuration
resource(s) named by the <em>jakarta.faces.CONFIG_FILES</em> <em>ServletContext</em>
init parameter (if any) contain any factory entries of the given factory
class name, those factories are used, with the last one taking
precedence.</p>
</li>
<li>
<p>If there are any <em>META-INF/faces-config.xml</em>
resources bundled any JAR files in the <em>web ServletContext’s resource
paths</em>, the factory entries of the given factory class name in those
files are used, with the last one taking precedence.</p>
</li>
<li>
<p>If a
<em>META-INF/services/{factory-class-name}</em> resource is visible to the web
application class loader for the calling application (typically as a
result of being present in the manifest of a JAR file), its first line
is read and assumed to be the name of the factory implementation class
to use.</p>
</li>
<li>
<p>If none of the above steps yield a match, the
Jakarta Server Faces implementation specific class is used.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If any of the factories found on any of the
steps above happen to have a one-argument constructor, with argument the
type being the abstract factory class, that constructor is invoked, and
the previous match is passed to the constructor. For example, say the
container vendor provided an implementation of <em>FacesContextFactory</em>,
and identified it in
<em>META-INF/services/jakarta.faces.context.FacesContextFactory</em> in a jar on
the webapp ClassLoader. Also say this implementation provided by the
container vendor had a one argument constructor that took a
<em>FacesContextFactory</em> instance. The <em>FactoryFinder</em> system would call
that one-argument constructor, passing the implementation of
<em>FacesContextFactory</em> provided by the Jakarta Server Faces implementation.</p>
</div>
<div class="paragraph">
<p>If a Factory implementation does not provide
a proper one-argument constructor, it must provide a zero-arguments
constructor in order to be successfully instantiated.</p>
</div>
<div class="paragraph">
<p>Once the name of the factory implementation
class is located, the web application class loader for the calling
application is requested to load this class, and a corresponding
instance of the class will be created. A side effect of this rule is
that each web application will receive its own instance of each factory
class, whether the Jakarta Server Faces implementation is included within
the web application or is made visible through the container&#8217;s
facilities for shared libraries.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">Object</span> getFactory(<span class="predefined-type">String</span> factoryName);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create (if necessary) and return a
per-web-application instance of the appropriate implementation class for
the specified Jakarta Server Faces factory class, based on the discovery
algorithm described above.</p>
</div>
<div class="paragraph">
<p>Jakarta Faces implementations must also include
implementations of the several factory classes. In order to be
dynamically instantiated according to the algorithm defined above, the
factory implementation class must include a public, no-arguments
constructor. [P1-start-factoryNames]For each of the <em>public static final
String</em> fields on the class <em>FactoryFinder</em> whose field names end with
the string “<em>_FACTORY</em>” (without the quotes), the implementation must
provide an implementation of the corresponding Factory class using the
algorithm described earlier in this section.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a6160"><a class="anchor" href="#a6160"></a>11.2.6.2. FacesServlet</h5>
<div class="paragraph">
<p><em>FacesServlet</em> is an implementation of
<em>jakarta.servlet.Servlet</em> that accepts incoming requests and passes them
to the appropriate <em>Lifecycle</em> implementation for processing. This
servlet must be declared in the web application deployment descriptor,
as described in <a href="#a6066">Servlet Definition</a>, and
mapped to a standard URL pattern as described in
<a href="#a6076">Servlet Mapping</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> init(ServletConfig config) <span class="directive">throws</span> ServletException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Acquire and store references to the
<em>FacesContextFactory</em> and <em>Lifecycle</em> instances to be used in this web
application. For the <em>LifecycleInstance</em>, first consult the
<em>init-param</em> set for this <em>FacesServlet</em> instance for a parameter of the
name <em>jakarta.faces.LIFECYCLE_ID</em>. If present, use that as the
<em>lifecycleID</em> attribute to the <em>getLifecycle()</em> method of
<em>LifecycleFactory</em>. If not present, consult the <em>context-param</em> set for
this web application. If present, use that as the <em>lifecycleID</em>
attribute to the <em>getLifecycle()</em> method of <em>LifecycleFactory</em>. If
neither param set has a value for <em>jakarta.faces.LIFECYCLE_ID</em>, use the
value <em>DEFAULT</em>. As an implementation note, please take care to ensure
that all <em>PhaseListener</em> instances defined for the application are
installed on all lifecycles created during this process.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> destroy();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Release the <em>FacesContextFactory</em> and
<em>Lifecycle</em> references that were acquired during execution of the
<em>init()</em> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> service(ServletRequest request, ServletResponse response)
    <span class="directive">throws</span> <span class="exception">IOException</span>, ServletException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For each incoming request, the following
processing is performed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using the <em>FacesContextFactory</em> instance
stored during the <em>init()</em> method, call the <em>getFacesContext()</em> method
to acquire a <em>FacesContext</em> instance with which to process the current
request.</p>
</li>
<li>
<p>Call the <em>execute()</em> method of the saved
<em>Lifecycle</em> instance, passing the <em>FacesContext</em> instance for this
request as a parameter. If the <em>execute()</em> method throws a
<em>FacesException</em>, re-throw it as a <em>ServletException</em> with the
<em>FacesException</em> as the root cause.</p>
</li>
<li>
<p>Call the <em>render()</em> method of the saved
<em>Lifecycle</em> instance, passing the <em>FacesContext</em> instance for this
request as a parameter. If the <em>render()</em> method throws a
<em>FacesException</em>, re-throw it as a <em>ServletException</em> with the
<em>FacesException</em> as the root cause.</p>
</li>
<li>
<p>Call the <em>release</em> () method on the
<em>FacesContext</em> instance, allowing it to be returned to a pool if the Jakarta Faces
implementation uses one.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-start-servletParams]The FacesServlet
implementation class must also declare two static public final String
constants whose value is a context initialization parameter that affects
the behavior of the servlet:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>CONFIG_FILES_ATTR</em>&#8201;&#8212;&#8201;the context
initialization attribute that may optionally contain a comma-delimited
list of context relative resources (in addition to
<em>/WEB-INF/faces-config.xml</em> which is always processed if it is present)
to be processed. The value of this constant must be
“<em>jakarta.faces.CONFIG_FILES</em>”.</p>
</li>
<li>
<p> <em>LIFECYCLE_ID_ATTR</em>&#8201;&#8212;&#8201;the lifecycle
identifier of the <em>Lifecycle</em> instance to be used for processing
requests to this application, if an instance other than the default is
required. The value of this constant must be
“<em>jakarta.faces.LIFECYCLE_ID</em>”.[P1-end]</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="a6175"><a class="anchor" href="#a6175"></a>11.2.6.3. UIComponentELTag</h5>
<div class="paragraph">
<p><em>[P1-start-uicomponenteltag]UIComponentELTag</em> is an implementation of
<em>jakarta.servlet.jsp.tagext.BodyTag</em>, and must be the base class for any
Jakarta Server Pages custom action that corresponds to a Jakarta Faces <em>UIComponent</em>.[P1-end] See
<a href="#a4406">Integration with Jakarta Server Pages</a>, and the Javadocs
for <em>UIComponentELTag</em>, for more information about using this class as
the base class for your own <em>UIComponent</em> custom action classes.</p>
</div>
</div>
<div class="sect4">
<h5 id="facettag"><a class="anchor" href="#facettag"></a>11.2.6.4. FacetTag</h5>
<div class="paragraph">
<p>Jakarta Server Pages custom action that adds a named facet
(see <a href="#a968">Facet Management</a>) to the
UIComponent associated with the closest parent UIComponent custom
action. See <a href="#a4843">&lt;f:facet</a>&gt;.</p>
</div>
</div>
<div class="sect4">
<h5 id="validatortag"><a class="anchor" href="#validatortag"></a>11.2.6.5. ValidatorTag</h5>
<div class="paragraph">
<p>Jakarta Server Pages custom action (and convenience base
class) that creates and registers a <em>Validator</em> instance on the
<em>UIComponent</em> associated with the closest parent <em>UIComponent</em> custom
action. See <a href="#a5163">&lt;f:validateLength</a>&gt;,
<a href="#a5198">&lt;f:validateRegex</a>&gt;,
<a href="#a5223">&lt;f:validateLongRange</a>&gt;, and
<a href="#a5256">&lt;f:validator</a>&gt;.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a6182"><a class="anchor" href="#a6182"></a>11.3. Deprecated APIs in the webapp package</h3>
<div class="paragraph">
<p>Faces depends on version Jakarta Server Pages 2.1 or later,
and the Jakarta Server Pages tags in Faces expose properties that leverage concepts
specific to that release of Jakarta Server Pages. Importantly, most Faces Jakarta Server Pages tag
attributes are either of type <em>jakarta.el.ValueExpression</em> or
<em>jakarta.el.MethodExpression</em>. For backwards compatability with existing
Faces component libraries that expose themselves as Jakarta Server Pages tags, the
existing classes relating to Jakarta Server Pages have been deprecated and new ones
introduced that leverage the Jakarta Expression Language API.</p>
</div>
<div class="sect3">
<h4 id="attributetag"><a class="anchor" href="#attributetag"></a>11.3.1. <em>AttributeTag</em></h4>
<div class="paragraph">
<p>[P1-start-attributetag]The faces
implementation must now provide this class.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="convertertag"><a class="anchor" href="#convertertag"></a>11.3.2. <em>ConverterTag</em></h4>
<div class="paragraph">
<p>This has been replaced with <em>ConverterELTag</em></p>
</div>
</div>
<div class="sect3">
<h4 id="uicomponentbodytag"><a class="anchor" href="#uicomponentbodytag"></a>11.3.3. <em>UIComponentBodyTag</em></h4>
<div class="paragraph">
<p>All component tags now implement <em>BodyTag</em> by
virtue of the new class <em>UIComponentClassicTagBase</em> implementing
<em>BodyTag</em>. This class has been replaced by <em>UIComponentELTag</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="uicomponenttag"><a class="anchor" href="#uicomponenttag"></a>11.3.4. <em>UIComponentTag</em></h4>
<div class="paragraph">
<p>This component has been replaced by
<em>UIComponentELTag</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="validatortag-2"><a class="anchor" href="#validatortag-2"></a>11.3.5. <em>ValidatorTag</em></h4>
<div class="paragraph">
<p>This component has been replaced by
<em>ValidatorELTag</em>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a6195"><a class="anchor" href="#a6195"></a>11.4. Application Configuration Resources</h3>
<div class="paragraph">
<p>This section describes the Jakarta Faces support for
portable application configuration resources used to configure
application components.</p>
</div>
<div class="sect3">
<h4 id="overview-6"><a class="anchor" href="#overview-6"></a>11.4.1. Overview</h4>
<div class="paragraph">
<p>Jakarta Faces defines a portable configuration resource
format (as an XML document) for standard configuration information.
Please see the Javadoc overview for a link, titled “faces-config XML
Schema Documentation” to the XML Schema Definition for such documents.</p>
</div>
<div class="paragraph">
<p>One or more such application resources will
be loaded automatically, at application startup time, by the Jakarta Faces
implementation. The information parsed from such resources will augment
the information provided by the Jakarta Faces implementation, as described below.</p>
</div>
<div class="paragraph">
<p>In addition to their use during the execution
of a Jakarta Faces-based web application, configuration resources provide
information that is useful to development tools created by Tool
Providers. The mechanism by which configuration resources are made
available to such tools is outside the scope of this specification.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6201"><a class="anchor" href="#a6201"></a>11.4.2. Application Startup Behavior</h4>
<div class="paragraph">
<p>Implementations may check for the presence of
a <em>servlet-class</em> definition of class <em>jakarta.faces.webapp.FacesServlet</em>
in the web application deployment descriptor as a means to abort the
configuration process and reduce startup time for applications that do
not use Jakarta Server Faces Technology.</p>
</div>
<div class="paragraph">
<p>At application startup time, before any
requests are processed, the [P1-start-startup]Jakarta Faces implementation must
process zero or more application configuration resources, located as
follows</p>
</div>
<div class="paragraph">
<p>Make a list of all of the application
configuration resources found using the following algorithm:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Check for the existence of a context
initialization parameter named <em>jakarta.faces.CONFIG_FILES</em>. If it
exists, treat it as a comma-delimited list of context relative resource
paths (starting with a “/”), and add each of the specified resources to
the list. If this parameter exists, skip the searching specified in the
next bullet item in this list.</p>
</li>
<li>
<p>Search for all resources that match either
“<em>META-INF/faces-config.xml</em>” or end with “<em>.faces-config.xml</em>”
directly in the “<em>META-INF</em>” directory. Each resource that matches
that expression must be considered an application configuration
resource.</p>
</li>
<li>
<p>Using the <em>java.util.ServiceLoader</em>, locate
all implementations of the
<em>jakarta.faces.ApplicationConfigurationResourceDocumentPopulator</em> service.
For each implementation, create a fresh <em>org.w3c.dom.Document</em> instance,
configured to be in the XML namespace of the application configuration
resource format, and invoke the implementation’s
<em>populateApplicationConfigurationResource()</em> method. If no exception is
thrown, add the document to the list, otherwise log a message and
continue.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let this list be known as
<em>applicationConfigurationResources</em> for discussion. Also, check for the
existence of a web application configuration resource named
“<em>/WEB-INF/faces-config.xml</em>”, and refer to this as
<em>applicationFacesConfig</em> for discussion, but do not put it in the list.
When parsing the application configuration resources, the implementation
must ensure that <em>applicationConfigurationResources</em> are parsed before
<em>applicationFacesConfig</em>.[P1-end]</p>
</div>
<div class="paragraph">
<p>Please see <a href="#a6435">Ordering of Artifacts</a> for details on the ordering in which the
decoratable artifacts in the application configuration resources in
<em>applicationConfigurationResources</em> and <em>applicationFacesConfig</em> must be
processed.</p>
</div>
<div class="paragraph">
<p>This algorithm provides considerable
flexibility for developers that are assembling the components of a
Jakarta Faces-based web application. For example, an application might include one
or more custom <em>UIComponent</em> implementations, along with associated
<em>Renderer</em>s, so it can declare them in an application resource named
“<em>/WEB-INF/faces-config.xml</em>” with no need to programmatically register
them with <em>Application</em> instance. In addition, the application might
choose to include a component library (packaged as a JAR file) that
includes a “<em>META-INF/faces-config.xml</em>” resource. The existence of
this resource causes components, renderers, and other Jakarta Faces implementation
classes that are stored in this library JAR file to be automatically
registered, with no action required by the application.</p>
</div>
<div class="paragraph">
<p>Perform the actions specified in
<a href="#a6228">Faces Flows</a>.</p>
</div>
<div class="paragraph">
<p>Perform the actions specified in
<a href="#a6215">Resource Library Contracts</a>.</p>
</div>
<div class="paragraph">
<p>[P1-start-PostConstructApplicationEvent]The
runtime must publish the
<em>jakarta.faces.event.PostConstructApplicationEvent</em> immediately after all
application configuration resources have been processed.[P1-end]</p>
</div>
<div class="paragraph">
<p>[P1-start-startupErrors]XML parsing errors
detected during the loading of an application resource file are fatal to
application startup, and must cause the application to not be made
available by the container. Jakarta Faces implementations that are part of a Jakarta
EE technology-compliant implementation are required to validate the
application resource file against the XML schema for structural
correctness. [P1-end]The validation is recommended, but not required for
Jakarta Faces implementations that are not part of a Jakarta EE technology-compliant
implementation.</p>
</div>
<div class="sect4">
<h5 id="a6215"><a class="anchor" href="#a6215"></a>11.4.2.1. Resource Library Contracts</h5>
<div class="paragraph">
<p>[P1-start-ResourceLibraryContractScanning]If
the parsing of the application configuration resources completed
successfully, scan the application for resource library contracts. Any
resource library contract as described in
<a href="#a872">Resource Library Contracts</a> must be
discovered at application startup time. The complete set of discovered
contracts has no ordering semantics and effectively is represented as a
<em>Set&lt;String&gt;</em> where the values are just the names of the resource
libraries. If multiple sources in the application configuration
resources contained <em>&lt;resource-library-contracts&gt;</em>, they are all merged
into one element. Duplicates are resolved in as specified in
<a href="#a6435">Ordering of Artifacts</a>. If the
application configuration resources produced a
<em>&lt;resource-library-contracts&gt;</em> element, create an implementation private
data structure (called the “resource library contracts data structure”)
containing the mappings between viewId patterns and resource library
contracts as listed by the contents of that element.</p>
</div>
<div class="paragraph">
<p>The <em>&lt;resource-library-contracts&gt;</em> element is
contained with in the <em>&lt;application&gt;</em> element and contains one or more
<em>&lt;contract-mapping&gt;</em> elements. Each <em>&lt;contract-mapping&gt;</em> element must
one or more <em>&lt;url-pattern&gt;</em> elements and one or more <em>&lt;contract&gt;</em>
elements.</p>
</div>
<div class="paragraph">
<p>The value of the <em>&lt;url-pattern&gt;</em> element may
be any of the following.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The literal string *, meaning all views
should have these contracts applied.</p>
</li>
<li>
<p>An absolute prefix mapping, relative to the
web app root, such as <em>/directoryName/*</em> meaning only views matching
that prefix should have these contracts applied.</p>
</li>
<li>
<p>An exact fully qualified file path, relative
to the web app root, such as <em>/directoryName/fileName.xhtml</em>, meaning
exactly that view should have the contracts applied.</p>
<div class="paragraph">
<p>See <a href="#a4030">ViewDeclarationLanguage.calculateResourceLibraryContracts()</a> for the
specification of how the values of the <em>&lt;url-pattern&gt;</em> are to be
processed.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The value of the <em>&lt;contracts&gt;</em> element is a
comma separated list of resource library contract names. A resource
library contract name is the name of a directory within the <em>contracts</em>
directory of the web app root, or the <em>contracts</em> directory within the
<em>META-INF/contracts</em> JAR entry.</p>
</div>
<div class="paragraph">
<p>Only the contracts explicitly mentioned in
the <em>&lt;resource-library-contracts&gt;</em> element are included in the data
structure. If the information from the application configuration
resources refers to a contract that is not available to the application,
an informative error message must be logged.</p>
</div>
<div class="paragraph">
<p>If the application configuration resources
did not produce a <em>&lt;resource-library-contracts&gt;</em> element, the data
structure should be populated as if this were the contents of the
<em>&lt;resource-library-contracts&gt;</em> element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;resource-library-contracts&gt;</span>
  <span class="tag">&lt;contract-mapping&gt;</span>
    <span class="tag">&lt;url-pattern&gt;</span>*<span class="tag">&lt;/url-pattern&gt;</span>
    <span class="tag">&lt;contracts&gt;</span>”all available contracts”<span class="tag">&lt;/contracts&gt;</span>
  <span class="tag">&lt;/contract-mapping&gt;</span>
<span class="tag">&lt;/resource-library-contracts&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Where “all available contracts” is replaced
with a comma separated list of all the contracts discovered in the
startup scan. In the case where there is no
<em>&lt;resource-library-contracts&gt;</em> element in the application configuration
resources, ordering of contracts is unspecified, which may lead to
unexpected behavior in the case of multiple contracts that have the same
contract declaration.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a6228"><a class="anchor" href="#a6228"></a>11.4.3. Faces Flows</h4>
<div class="paragraph">
<p>[P1-start-FacesFlowScanning]If the parsing of
the application configuration resources completed successfully, any XML
based flow definitions in the application configuration resources will
have been successfully discovered as well. The discovered flows must be
exposed as thread safe immutable application scoped instances of
<em>jakarta.faces.flow.Flow</em>, and made accessible to the runtime via the
<em>FlowHandler</em>. If flows exist in the application, but the
<em>jakarta.faces.CLIENT_WINDOW_MODE</em> context-param was not specified, the
runtime must behave as if the value “url” (without the quotes) was
specified for this context-param.</p>
</div>
<div class="sect4">
<h5 id="defining-flows"><a class="anchor" href="#defining-flows"></a>11.4.3.1. Defining Flows</h5>
<div class="paragraph">
<p>Flows are defined using the
<em>&lt;flow-definition&gt;</em> element. This element must have an <em>id</em> attribute
which uniquely identifies the flow within the scope of the Application
Configuration Resource file in which the element appears. To enable
multiple flows with the same <em>id</em> to exist in an application, the
<em>&lt;faces-config&gt;&lt;name&gt;</em> element is taken to be the <em>definingDocumentId</em>
of the flow. If no <em>&lt;name&gt;</em> element is specified, the empty string is
taken as the value for <em>definingDocumentId</em>. Please see
<a href="#a3840">FlowHandler</a> for an overview of the flow
feature. Note that a number of conventions exist to make defining flows
simpler. These conventions are specified in
<a href="#a6236">Packaging Flows in Directories</a>.</p>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="packaging-faces-flows-in-jar-files"><a class="anchor" href="#packaging-faces-flows-in-jar-files"></a>11.4.3.2. Packaging Faces Flows in JAR Files</h5>
<div class="paragraph">
<p>[P1-start-FacesFlowJarPackaging] The runtime
must support packaging Faces Flows in JAR files as specified in this
section. Any flows packaged in a jar file must have its flow definition
included in a <em>faces-config.xml</em> file located at the
<em>META-INF/faces-config.xml</em> JAR entry. This ensures that such flow
definitions are included in the application configuration resources. Any
view nodes included in the jar must be located within sub entries of the
<em>META-INF/flows/&lt;flowName&gt;</em> JAR entry, where <em>&lt;flowName&gt;</em> is a JAR
directory entry whose name is identical to that of a flow id in the
corresponding <em>faces-config.xml</em> file. If there are <em>@FlowScoped</em> beans
or beans with <em>@FlowDefinition</em> in the JAR, there must be a JAR entry
named <em>META-INF/beans.xml</em>. This ensures that such beans and
definitions are discovered by the runtime at startup. None of the flow
definition conventions specified in <a href="UsingJSFInWebApplications.html#a6236">Packaging Flows in Directories</a> apply when a flow is packaged in a JAR
file. In other words, the flow must be explicitly declared in the JAR
file’s <em>faces-config.xml</em>.</p>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a6236"><a class="anchor" href="#a6236"></a>11.4.3.3. Packaging Flows in Directories</h5>
<div class="paragraph">
<p>The view nodes of a flow need not be
collected in any specific directory structure, but there is a benefit in
doing so: flow definition conventions.
[P1-start-FacesFlowDirectoryPackaging] If the <em>jakarta.faces.CONFIG_FILES</em>
context parameter includes references to files of the form
<em>/&lt;flowName&gt;/&lt;flowName&gt;-flow.xml</em> or
<em>/WEB-INF/&lt;flow-Name&gt;/&lt;flowName&gt;-flow.xml</em>, and if such files exist in
the current application (even if they are zero length), they are treated
as flow definitions. Flow definitions defined in this way must not be
nested any deeper in the directory structure than one level deep from
the web app root or the <em>WEB-INF</em> directory.</p>
</div>
<div class="paragraph">
<p>The following conventions apply to flows
defined in this manner. Any flow definition in the corresponding
<em>-flow.xml</em> file will override any of the conventions in the case of a
conflict.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Every vdl file in that directory is a view
node of that flow.</p>
</li>
<li>
<p>The start node of the flow is the view whose
name is the same as the name of the flow.</p>
</li>
<li>
<p>Navigation among any of the views in the
directory is considered to be within the flow.</p>
</li>
<li>
<p>The flow defining document id is the empty
string.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the case of a zero length flow definition
file, the following also applies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>There is one return node in the flow, whose
id is the id of the flow with the string “<em>-return</em>” (without the
quotes) appended to it. For example, if <em>flowId</em> is <em>shopping</em>, the
return node id is <em>shopping-return</em>.</p>
</li>
<li>
<p>The from-outcome of the return node is a
string created with the following formula:<br>
<em>"/" + flowId + "-return"</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each directory packaged flow definition,
the runtime must synthesize an instance of <em>jakarta.faces.flow.Flow</em> that
represents the union of the flow definition from the
<em>/&lt;flowName&gt;/&lt;flowName&gt;-flow.xml</em> file for that directory, and any of
the preceding naming conventions, with precedence being given to the
<em>-flow.xml</em> file. Such <em>Flow</em> instances must be added to the
<em>FlowHandler</em> before the <em>PostConstructApplicationEvent</em> is published.</p>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a6248"><a class="anchor" href="#a6248"></a>11.4.4. Application Shutdown Behavior</h4>
<div class="paragraph">
<p>When the Jakarta Faces runtime is directed to
shutdown by its container, the following actions must be taken.[p1-start-application-shutdown]</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that calls to
<em>FacesContext.getCurrentInstance()</em> that happen during application
shutdown return successfully, as specified in the Javadocs for that
method.</p>
</li>
<li>
<p>Publish the
<em>jakarta.faces.event.PreDestroyApplicationEvent</em>.</p>
</li>
<li>
<p>Call <em>FactoryFinder.releaseFactories()</em>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>[p1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a6254"><a class="anchor" href="#a6254"></a>11.4.5. Application Configuration Resource Format</h4>
<div class="paragraph">
<p>Application configuration resources
that are written to run on Jakarta Faces 3.0 must include the following schema
declaration and must conform to the schema shown in
<a href="#a7037">Appendix A - JSF Metadata</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config</span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee</span>
        <span class="content">http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_3_0.xsd</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.3</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Application configuration resources
that are written to run on pre-Jakarta Faces JSF 2.3 must include the following schema
declaration and must conform to the schema shown in
<a href="#a7037">Appendix A - JSF Metadata</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config</span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee</span>
        <span class="content">http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_3.xsd</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.3</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-schema]Application configuration
resources that are written to run on pre-Jakarta Faces JSF 2.2 must include the following
schema declaration and must conform to the schema shown in
<a href="#a7037">Appendix A - JSF Metadata</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config</span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee</span>
        <span class="content">http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_2.xsd</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.2</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the “hostname” of the <em>xmlns</em> and
<em>xsi:schemaLocation</em> attributes has changed from “java.sun.com” to
“xmlns.jcp.org”. The “xmlns.jcp.org” hostname must be used when using
<em>version=</em> "2.2" and <em>web-facesconfig_2_2.xsd</em>. It is not valid to use
this hostname with versions prior to 2.2. Likewise, it is not valid to
use the “java.sun.com” hostname when using <em>version=</em> "2.2" and
<em>web-facesconfig_2_2.xsd</em>.</p>
</div>
<div class="paragraph">
<p>Application configuration resources that are
written to run on pre-Jakarta Faces JSF 2.1 must include the following schema declaration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config</span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span>
        <span class="content">http://java.sun.com/xml/ns/javaee/web-facesconfig_2_1.xsd</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Application configuration resources that are
written to run on pre-Jakarta Faces JSF 2.0 must include the following schema declaration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config</span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span>
        <span class="content">http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.0</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Application configuration resources that are
written to run on pre-Jakarta Faces JSF 1.2 Application configuration resources must
include the following schema declaration and must conform to the schema
referenced in the schemalocation URI shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config</span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1.2</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span>
        <span class="content">http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Application configuration resources that are
written to run on pre-Jakarta Faces JSF 1.1 implementations must use the DTD declaration
and include the following DOCTYPE declaration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE faces-config PUBLIC
    “-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.1//EN”
    “http://java.sun.com/dtd/web-facesconfig_1_1.dtd”&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Application configuration resources
that are written to run on pre-Jakarta Faces JSF 1.0 implementations must use the DTD
declaration for the 1.0 DTD contained in the binary download of the JSF
reference implementation. They must also use the following DOCTYPE
declaration:[P1-end]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE faces-config PUBLIC
    “-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.0//EN”
    “http://java.sun.com/dtd/web-facesconfig_1_0.dtd”&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a6297"><a class="anchor" href="#a6297"></a>11.4.6. Configuration Impact on Jakarta Faces Runtime</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE faces-config PUBLIC
    “-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.1//EN”
    “http://java.sun.com/dtd/web-facesconfig_1_1.dtd”&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following XML
elements<a href="#a9102">19</a> in application configuration resources
cause registration of Jakarta Faces objects into the corresponding factories or
properties. It is an error if the value of any of these elements cannot
be correctly parsed, loaded, set, or otherwise used by the
implementation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>/faces-config/component&#8201;&#8212;&#8201;Create or replace
a component type / component class pair with the <em>Application</em> instance
for this web application.</p>
</li>
<li>
<p>/faces-config/converter&#8201;&#8212;&#8201;Create or replace
a converter id / converter class or target class / converter class pair
with the <em>Application</em> instance for this web application.</p>
</li>
<li>
<p>/faces-config/render-kit&#8201;&#8212;&#8201;Create and
register a new <em>RenderKit</em> instance with the <em>RenderKitFactory</em>, if one
does not already exist for the specified <em>render-kit-id</em>.</p>
</li>
<li>
<p>/faces-config/render-kit/renderer&#8201;&#8212;&#8201;Create
or replace a component family + renderer id / renderer class pair with
the <em>RenderKit</em> associated with the render-kit element we are nested in.</p>
</li>
<li>
<p>/faces-config/validator&#8201;&#8212;&#8201;Create or replace
a validator id / validator class pair with the <em>Application</em> instance
for this web application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For components, converters, and validators,
it is legal to replace the implementation class that is provided (by the
Jakarta Faces implementation) by default. This is accomplished by specifying the
standard value for the <em>&lt;component-type&gt;</em>, <em>&lt;converter-id&gt;</em>, or
<em>&lt;validator-id&gt;</em> that you wish to replace, and specifying your
implementation class. To avoid class cast exceptions, the replacement
implementation class must be a subclass of the standard class being
replaced. For example, if you declare a custom <em>Converter</em>
implementation class for the standard converter identifier
<em>jakarta.faces.Integer</em>, then your replacement class must be a subclass
of <em>jakarta.faces.convert.IntegerConverter</em>.</p>
</div>
<div class="paragraph">
<p>For replacement <em>Renderer</em>s, your
implementation class must extend <em>jakarta.faces.render.Renderer</em>.
However, to avoid unexpected behavior, your implementation should
recognize all of the render-dependent attributes supported by the
Renderer class you are replacing, and provide equivalent decode and
encode behavior.</p>
</div>
<div class="paragraph">
<p>The following XML elements cause the
replacement of the default implementation class for the corresponding
functionality, provided by the Jakarta Faces implementation. See
<a href="#a6336">Delegating Implementation Support</a> for
more information about the classes referenced by these elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>/faces-config/application/action-listener&#8201;&#8212;&#8201;Replace the default <em>ActionListener</em> used to process <em>ActionEvent events
with an</em> instance with the class specified. The contents of this element
must be a fully qualified Java class name that, when instantiated, is an
<em>ActionListener</em>.</p>
</li>
<li>
<p>/faces-config/application/navigation-handler&#8201;&#8212;&#8201;Replace the default <em>NavigationHandler</em> instance with the one
specified. The contents of this element must be a fully qualified Java
class name that, when instantiated, is a <em>NavigationHandler</em>.</p>
</li>
<li>
<p>/faces-config/application/property-resolver&#8201;&#8212;&#8201;Replace the default <em>PropertyResolver</em> instance with the one
specified. The contents of this element must be a fully qualified Java
class name that, when instantiated, is a <em>PropertyResolver</em>.</p>
</li>
<li>
<p>/faces-config/application/resource-handler&#8201;&#8212;&#8201;Replace the default <em>ResourceHandler</em> instance with the one specified.
The contents of this element must be a fully qualified Java class name
that, when instantiated, is a <em>ResourceHandler</em>.</p>
</li>
<li>
<p>/faces-config/application/search-expression-handler&#8201;&#8212;&#8201;This element contains the fully qualified class name of the concrete
<em>jakarta.faces.component.search.SearchExpressionHandler</em> implementation
class that will be used for processing of a search expression.</p>
</li>
<li>
<p>/faces-config/application/search-keyword-resolver&#8201;&#8212;&#8201;This element contains the fully qualified class name of the concrete
jakarta.faces.component.search.SearchKeywordResolver implementation class
that will be used during the processing of a search expression keyword.</p>
</li>
<li>
<p>/faces-config/application/state-manager&#8201;&#8212;&#8201;Replace the default <em>StateManager</em> instance with the one specified. The
contents of this element must be a fully qualified Java class name that,
when instantiated, is a <em>StateManager</em>.</p>
</li>
<li>
<p>/faces-config/application/system-event-listener&#8201;&#8212;&#8201;Instantiate a new instance of the class specified as the content
within a nested <em>system-event-listener-class</em> element, which must
implement <em>SystemEventListener</em>. This instance is referred to as
<em>systemEventListener</em> for discussion. If a <em>system-event-class</em> is
specified as a nested element within <em>system-event-listener</em>, it must
be a class that extends <em>SystemEvent</em> and has a public zero-arguments
constructor. The <em>Class</em> object for <em>system-event-class</em> is obtained and
is referred to as <em>systemEventClass</em> for discussion. If
<em>system-event-class</em> is not specified, <em>SystemEvent.class</em> must be used
as the value of system <em>EventClass</em>. If <em>source-class</em> is specified as
a nested element within <em>system-event-listener</em>, it must be a fully
qualified class name. The <em>Class</em> object for <em>source-class</em> is obtained
and is referred to as <em>sourceClass</em> for discussion. If <em>source-class</em> is
not specified, let <em>sourceClass</em> be <em>null</em>. Obtain a reference to the
<em>Application</em> instance and call <em>subscribeForEvent(</em> <em>facesEventClass</em>
<em>,</em> <em>sourceClass</em> <em>,</em> <em>systemEventListener</em> <em>)</em> , passing the arguments
as assigned in the discussion.</p>
</li>
<li>
<p>/faces-config/application/variable-resolver&#8201;&#8212;&#8201;Replace the default <em>VariableResolver</em> instance with the one
specified. The contents of this element must be a fully qualified Java
class name that, when instantiated, is a <em>VariableResolver</em>.</p>
</li>
<li>
<p>/faces-config/application/view-handler&#8201;&#8212;&#8201;Replace the default <em>ViewHandler</em> instance with the one specified. The
contents of this element must be a fully qualified Java class name that,
when instantiated, is a <em>ViewHandler</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following XML elements cause the
replacement of the default implementation class for the corresponding
functionality, provided by the Jakarta Faces implementation. Each of the
referenced classes must have a public zero-arguments constructor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>/faces-config/factory/application-factory</em>&#8201;&#8212;&#8201;Replace the default <em>ApplicationFactory</em> instance with the one
specified. The contents of this element must be a fully qualified Java
class name that, when instantiated, is an <em>ApplicationFactory</em>.</p>
</li>
<li>
<p><em>/faces-config/factory/client-window-factory</em>&#8201;&#8212;&#8201;Replace the default
<em>ClientWindowFactory</em> instance with the one specified. The contents of
this element must be a fully qualified Java class name that, when
instantiated, is a <em>ClientWindowFactory</em>.</p>
</li>
<li>
<p><em>/faces-config/factory/exception-handler-factory</em>&#8201;&#8212;&#8201;Replace the default
<em>ExceptionHandlerFactory</em> instance with the one specified. The contents
of this element must be a fully qualified Java class name that, when
instantiated, is a <em>ExceptionHandlerFactory</em>.</p>
</li>
<li>
<p><em>/faces-config/factory/faces-context-factory</em>&#8201;&#8212;&#8201;Replace the default
<em>FacesContextFactory</em> instance with the one specified. The contents of
this element must be a fully qualified Java class name that, when
instantiated, is a <em>FacesContextFactory</em>.</p>
</li>
<li>
<p><em>/faces-config/factory/flash-factory</em>&#8201;&#8212;&#8201;Replace the default <em>FlashFactory</em> instance with the one specified. The
contents of this element must be a fully qualified Java class name that,
when instantiated, is a <em>FlashFactory</em>.</p>
</li>
<li>
<p><em>/faces-config/factory/flow-handler-factory</em>&#8201;&#8212;&#8201;Replace the default <em>FlowHandlerFactory</em> instance with the one
specified. The contents of this element must be a fully qualified Java
class name that, when instantiated, is a <em>FlowHandlerFactory</em>.</p>
</li>
<li>
<p><em>/faces-config/factory/lifecycle-factory</em>&#8201;&#8212;&#8201;Replace the default <em>LifecycleFactory</em> instance with the one specified.
The contents of this element must be a fully qualified Java class name
that, when instantiated, is a <em>LifecycleFactory</em>.</p>
</li>
<li>
<p><em>/faces-config/factory/render-kit-factory</em>&#8201;&#8212;&#8201;Replace the default <em>RenderKitFactory</em> instance with the one
specified. The contents of this element must be a fully qualified Java
class name that, when instantiated, is a <em>RenderKitFactory</em>.</p>
</li>
<li>
<p><em>/faces-config/factory/search-expression-context-kit-factory</em>&#8201;&#8212;&#8201;This
element contains the fully qualified class name of the concrete
<em>SearchExpressionContextFactory</em> implementation class that will be
called when
<em>FactoryFinder.getFactory(SEARCH_EXPRESSION_CONTEXT_FACTORY)</em> is called.</p>
</li>
<li>
<p><em>/faces-config/factory/view-declaration-language-factory</em>&#8201;&#8212;&#8201;Replace the
default <em>ViewDeclarationLanguageFactory</em> instance with the one
specified. The contents of this element must be a fully qualified Java
class name that, when instantiated, is a
<em>ViewDeclarationLanguageFactory</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following XML elements cause the addition
of event listeners to standard Jakarta Faces implementation objects, as follows.
Each of the referenced classes must have a public zero-arguments
constructor.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>/faces-config/lifecycle/phase-listener&#8201;&#8212;&#8201;Instantiate a new instance of the specified class, which must implement
<em>PhaseListener</em>, and register it with the <em>Lifecycle</em> instance for the
current web application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, the following XML elements
influence the runtime behavior of the Jakarta Faces implementation, even though
they do not cause registration of objects that are visible to a
Jakarta Faces-based application.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>/faces-config/managed-bean&#8201;&#8212;&#8201;Make the
characteristics of a managed bean with the specified <em>managed-bean-name</em>
available to the default <em>VariableResolver</em> implementation.</p>
</li>
<li>
<p>/faces-config/navigation-rule&#8201;&#8212;&#8201;Make the
characteristics of a navigation rule available to the default
<em>NavigationHandler</em> implementation.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="a6336"><a class="anchor" href="#a6336"></a>11.4.7. Delegating Implementation Support</h4>
<div class="paragraph">
<p>[P1-decoratable_artifacts]The runtime must
support the decorator design pattern as specified below for the
following artifacts.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>ActionListener</em></p>
</li>
<li>
<p><em>ApplicationFactory</em></p>
</li>
<li>
<p>ExceptionHandlerFactory</p>
</li>
<li>
<p><em>FacesContextFactory</em></p>
</li>
<li>
<p>FlashFactory</p>
</li>
<li>
<p>FlowHandlerFactory</p>
</li>
<li>
<p><em>LifecycleFactory</em></p>
</li>
<li>
<p><em>NavigationHandler</em></p>
</li>
<li>
<p>PartialViewContext</p>
</li>
<li>
<p><em>PropertyResolver</em></p>
</li>
<li>
<p><em>RenderKit</em></p>
</li>
<li>
<p><em>RenderKitFactory</em></p>
</li>
<li>
<p><em>ResourceHandler</em></p>
</li>
<li>
<p>ResourceResolver</p>
</li>
<li>
<p><em>StateManager</em></p>
</li>
<li>
<p>TagHandlerDelegateFactory</p>
</li>
<li>
<p><em>VariableResolver</em></p>
</li>
<li>
<p><em>ViewHandler</em></p>
</li>
<li>
<p>ViewDeclarationLanguage</p>
</li>
<li>
<p>VisitContextFactory</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1_end_decoratable_artifacts]For all of
these artifacts, the decorator design pattern is leveraged, so that if
one provides a constructor that takes a single argument of the
appropriate type, the custom implementation receives a reference to the
implementation that was previously fulfilling the role. In this way, the
custom implementation is able to override just a subset of the
functionality (or provide only some additional functionality) and
delegate the rest to the existing implementation.</p>
</div>
<div class="paragraph">
<p>The implementation must also support
decoration of a <em>RenderKit</em> instance. At the point in time of when the
<em>&lt;render-kit&gt;</em> element is processed in an application configuration
resources, if the current <em>RenderKitFactory</em> already has a <em>RenderKit</em>
instance for the <em>&lt;render-kit-id&gt;</em> within the <em>&lt;render-kit&gt;</em> element,
and the Class whose fully qualified java class name is given as the
value of the <em>&lt;render-kit-class&gt;</em> element within the <em>&lt;render-kit&gt;</em>
element has a constructor that takes an <em>RenderKit</em> instance, the
existing <em>RenderKit</em> for that <em>&lt;render-kit-id&gt;</em> must be passed to that
constructor, and the RenderKit resulting from the executing of that
constructor must be passed to <em>RenderKitFactory.addRenderKit()</em>.</p>
</div>
<div class="paragraph">
<p>For example, say you wanted to provide a
custom <em>ViewHandler</em> that was the same as the default one, but provided
a different implementation of the <em>calculateLocale()</em> method. Consider
this code excerpt from a custom <em>ViewHandler</em> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyViewHandler</span> <span class="directive">extends</span> ViewHandler {

  <span class="directive">public</span> MyViewHandler() { }

  <span class="directive">public</span> MyViewHandler(ViewHandler handler) {
    <span class="local-variable">super</span>();
    oldViewHandler = handler;
  }

  <span class="directive">private</span> ViewHandler oldViewHandler = <span class="predefined-constant">null</span>;

  <span class="comment">// Delegate the renderView() method to the old handler</span>
  <span class="directive">public</span> <span class="type">void</span> renderView(FacesContext context, UIViewRoot view)
      <span class="directive">throws</span> <span class="exception">IOException</span>, FacesException {
    oldViewHandler.renderView(context, view);
  }

  <span class="comment">// Delegate other methods in the same manner</span>

  <span class="comment">// Overridden version of calculateLocale()</span>
  <span class="directive">public</span> <span class="predefined-type">Locale</span> calculateLocale(FacesContext context) {
    <span class="predefined-type">Locale</span> locale = ... <span class="comment">// Custom calculation</span>
    return locale;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second constructor will get called as the
application is initially configured by the Jakarta Faces implementation, and the
previously registered <em>ViewHandler</em> will get passed to it.</p>
</div>
<div class="paragraph">
<p>In pre-Jakarta Faces JSF 1.2, we added new wrapper classes
to make it easier to override a subset of the total methods of the class
and delegate the rest to the previous instance. We provide wrappers for
<em>jakarta.faces.application.ViewHandler</em>,
<em>jakarta.faces.application.StateManager</em>, and
<em>jakarta.faces.context.ResponseWriter</em>. For example, you could have a
<em>faces-config.xml</em> file that contains the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;application&gt;</span>
  <span class="tag">&lt;view-handler&gt;</span>com.foo.NewViewHandler<span class="tag">&lt;/view-handler&gt;</span>
  <span class="tag">&lt;state-manager&gt;</span>com.foo.NewStateManager<span class="tag">&lt;/state-manager&gt;</span>
<span class="tag">&lt;/application&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Where your implementations for these classes
are simply:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.foo</span>;

<span class="keyword">import</span> <span class="include">jakarta.faces.application.ViewHandler</span>;
<span class="keyword">import</span> <span class="include">jakarta.faces.application.ViewHandlerWrapper</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">NewViewHandler</span> <span class="directive">extends</span> ViewHandlerWrapper {
  <span class="directive">private</span> ViewHandler oldViewHandler = <span class="predefined-constant">null</span>;

  <span class="directive">public</span> NewViewHandler(ViewHandler oldViewHandler) {
    <span class="local-variable">this</span>.oldViewHandler = oldViewHandler;
  }

  <span class="directive">public</span> ViewHandler getWrapped() {
    <span class="keyword">return</span> oldViewHandler;
  }
}

<span class="keyword">package</span> <span class="namespace">com.foo</span>;

<span class="keyword">import</span> <span class="include">jakarta.faces.application.StateManager</span>;
<span class="keyword">import</span> <span class="include">jakarta.faces.application.StateManagerWrapper</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">NewStateManager</span> <span class="directive">extends</span> StateManagerWrapper {
  <span class="directive">private</span> StateManager oldStateManager = <span class="predefined-constant">null</span>;

  <span class="directive">public</span> NewStateManager(StateManager oldStateManager) {
    <span class="local-variable">this</span>.oldStateManager = oldStateManager;
  }

  <span class="directive">public</span> StateManager getWrapped() {
    <span class="keyword">return</span> oldStateManager;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This allows you to override as many or as few
methods as you’d like.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6435"><a class="anchor" href="#a6435"></a>11.4.8. Ordering of Artifacts</h4>
<div class="paragraph">
<p>Because the specification allows the
application configuration resources to be composed of multiple files,
discovered and loaded from several different places in the application,
the question of ordering must be addressed. This section specifies how
application configuration resource authors may declare the ordering
requirements of their artifacts.</p>
</div>
<div class="paragraph">
<p><a href="#a6201">Application
Startup Behavior</a> defines two concepts:
<em>applicationConfigurationResources</em> and <em>applicationFacesConfig</em>. The
former is an ordered list of all the application configuration resources
except the one at “<em>WEB-INF/faces-config.xml</em>”, and the latter is a
list containing only the one at “<em>WEB-INF/faces-config.xml</em>”.</p>
</div>
<div class="paragraph">
<p>An application configuration resource may
have a top level <em>&lt;name&gt;</em> element of type <em>javaee:java-identifierType</em>.
[P1-facesConfigIdStart]If a <em>&lt;name&gt;</em> element is present, it must be
considered for the ordering of decoratable artifacts (unless the
<em>duplicate name exception</em> applies, as described below).</p>
</div>
<div class="paragraph">
<p>Two cases must be considered to allow
application configuration resources to express their ordering
preferences.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Absolute ordering: an <em>&lt;absolute-ordering&gt;</em>
element in the <em>applicationFacesConfig</em></p>
<div class="paragraph">
<p>In this case, ordering preferences that would
have been handled by case 2 below must be ignored.</p>
</div>
<div class="paragraph">
<p>Any <em>&lt;name&gt;</em> element direct children of the
<em>&lt;absolute-ordering&gt;</em> must be interpreted as indicating the absolute
ordering in which those named application configuration resources, which
may or may not be present in <em>applicationConfigurationResources,</em> must
be processed.</p>
</div>
<div class="paragraph">
<p>The <em>&lt;absolute-ordering&gt;</em> element may contain
zero or one <em>&lt;others /&gt;</em> elements. The required action for this element
is described below. If the <em>&lt;absolute-ordering&gt;</em> element does not
contain an <em>&lt;others /&gt;</em> element, any application configuration resources
not specifically mentioned within <em>&lt;name /&gt;</em> elements must be ignored.</p>
</div>
<div class="paragraph">
<p><em>Duplicate name exception</em> : if, when
traversing the children of <em>&lt;absolute-ordering&gt;</em> <em>,</em> multiple children
with the same <em>&lt;name&gt;</em> element are encountered, only the first such
occurrence must be considered.</p>
</div>
<div class="paragraph">
<p>If an <em>&lt;ordering&gt;</em> element appears in the
<em>applicationFacesConfig</em>, an informative message must be logged and the
element must be ignored.</p>
</div>
</li>
<li>
<p>Relative ordering: an <em>&lt;ordering&gt;</em> element
within a file in the <em>applicationConfigurationResources</em></p>
<div class="paragraph">
<p>An entry in
<em>applicationConfigurationResources</em> may have an <em>&lt;ordering&gt;</em> element. If
so, this element must contain zero or one <em>&lt;before&gt;</em> elements and zero
or one <em>&lt;after&gt;</em> elements. The meaning of these elements is explained
below.</p>
</div>
<div class="paragraph">
<p><em>Duplicate name exception</em> : if, when
traversing the constituent members of
<em>applicationConfigurationResources</em>, multiple members with the same
<em>&lt;name&gt;</em> element are encountered, the application must log an
informative error message including information to help fix the problem,
and must fail to deploy. For example, one way to fix this problem is for
the user to use absolute ordering, in which case relative ordering is
ignored.</p>
</div>
<div class="paragraph">
<p>If an <em>&lt;absolute-ordering&gt;</em> element appears
in an entry in <em>applicationConfigurationResources</em>, an informative
message must be logged and the element must be ignored.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Consider this abbreviated but illustrative
example. faces-configA, faces-configB and faces-configC are found in
<em>applicationConfigurationResources</em>, while my-faces-config is the
<em>applicationFacesConfig</em>. The principles that explain the ordering
result follow the example code.</p>
</div>
<div class="paragraph">
<p>faces-configA:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config&gt;</span>
  <span class="tag">&lt;name&gt;</span>A<span class="tag">&lt;/name&gt;</span>
  <span class="tag">&lt;ordering&gt;</span><span class="tag">&lt;after&gt;</span><span class="tag">&lt;name&gt;</span>B<span class="tag">&lt;/name&gt;</span><span class="tag">&lt;/after&gt;</span><span class="tag">&lt;/ordering&gt;</span>
  <span class="tag">&lt;application&gt;</span>
    <span class="tag">&lt;view-handler&gt;</span>com.a.ViewHandlerImpl<span class="tag">&lt;/view-handler&gt;</span>
  <span class="tag">&lt;/application&gt;</span>
  <span class="tag">&lt;lifecycle&gt;</span>
    <span class="tag">&lt;phase-listener&gt;</span>com.a.PhaseListenerImpl<span class="tag">&lt;/phase-listener&gt;</span>
  <span class="tag">&lt;/lifecycle&gt;</span>
<span class="tag">&lt;/faces-config&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>faces-configB:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config&gt;</span>
  <span class="tag">&lt;name&gt;</span>B<span class="tag">&lt;/name&gt;</span>
  <span class="tag">&lt;application&gt;</span>
    <span class="tag">&lt;view-handler&gt;</span>com.b.ViewHandlerImpl<span class="tag">&lt;/view-handler&gt;</span>
  <span class="tag">&lt;/application&gt;</span>
  <span class="tag">&lt;lifecycle&gt;</span>
    <span class="tag">&lt;phase-listener&gt;</span>com.b.PhaseListenerImpl<span class="tag">&lt;/phase-listener&gt;</span>
  <span class="tag">&lt;/lifecycle&gt;</span>
<span class="tag">&lt;/faces-config&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>faces-configC:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config&gt;</span>
  <span class="tag">&lt;name&gt;</span>C<span class="tag">&lt;/name&gt;</span>
  <span class="tag">&lt;ordering&gt;</span><span class="tag">&lt;before&gt;</span><span class="tag">&lt;others</span><span class="tag">/&gt;</span><span class="tag">&lt;/before&gt;</span><span class="tag">&lt;/ordering&gt;</span>
  <span class="tag">&lt;application&gt;</span>
    <span class="tag">&lt;view-handler&gt;</span>com.c.ViewHandlerImpl<span class="tag">&lt;/view-handler&gt;</span>
  <span class="tag">&lt;/application&gt;</span>
  <span class="tag">&lt;lifecycle&gt;</span>
    <span class="tag">&lt;phase-listener&gt;</span>com.c.PhaseListenerImpl<span class="tag">&lt;/phase-listener&gt;</span>
  <span class="tag">&lt;/lifecycle&gt;</span>
<span class="tag">&lt;/faces-config&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>my-faces-config:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config&gt;</span>
  <span class="tag">&lt;name&gt;</span>my<span class="tag">&lt;/name&gt;</span>
  <span class="tag">&lt;application&gt;</span>
    <span class="tag">&lt;view-handler&gt;</span>com.my.ViewHandlerImpl<span class="tag">&lt;/view-handler&gt;</span>
  <span class="tag">&lt;/application&gt;</span>
  <span class="tag">&lt;lifecycle&gt;</span>
    <span class="tag">&lt;phase-listener&gt;</span>com.my.PhaseListenerImpl<span class="tag">&lt;/phase-listener&gt;</span>
  <span class="tag">&lt;/lifecycle&gt;</span>
<span class="tag">&lt;/faces-config&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the processing order for the
<em>applicationConfigurationResources</em> and <em>applicationFacesConfig</em> will
be.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Implementation Specific Config
C
B
A
my</pre>
</div>
</div>
<div class="paragraph">
<p>The preceding example illustrates
some, but not all, of the following
principles.[P1-start-decoratableOrdering]</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>&lt;before&gt;</em> means the document must be
ordered before the document with the name matching the name specified
within the nested <em>&lt;name&gt;</em> element.</p>
</li>
<li>
<p><em>&lt;after&gt;</em> means the document must be ordered
after the document with the name matching the name specified within the
nested <em>&lt;name&gt;</em> element.</p>
</li>
<li>
<p>There is a special element <em>&lt;others /&gt;</em> which
may be included zero or one time within the <em>&lt;before&gt;</em> or &lt; <em>after&gt;</em>
elements, or zero or one time directly within the <em>&lt;absolute-ordering&gt;</em>
elements. The <em>&lt;others /&gt;</em> element must be handled as follows.</p>
</li>
<li>
<p>The <em>&lt;others /&gt;</em> element represents a set of
application configuration resources. This set is described as the set of
all application configuration resources discovered in the application,
minus the one being currently processed, minus the application
configuration resources mentioned by name in the <em>&lt;ordering/&gt;</em> section.
If this set is the empty set, at the time the application configuration
resources are being processed, the <em>&lt;others /&gt;</em> element must be ignored.</p>
<div class="ulist">
<ul>
<li>
<p>If the <em>&lt;before&gt;</em> element contains a nested
<em>&lt;others /&gt;</em>, the document will be moved to the beginning of the list
of sorted documents. If there are multiple documents stating <em>&lt;before&gt;</em>
<em>&lt;others /&gt;</em>, they will all be at the beginning of the list of sorted
documents, but the ordering within the group of such documents is
unspecified.</p>
</li>
<li>
<p>If the <em>&lt;after&gt;</em> element contains a nested
<em>&lt;others /&gt;</em> , the document will be moved to the end of the list of
sorted documents. If there are multiple documents requiring <em>&lt;after&gt;</em> &lt;
<em>others /&gt;</em> , they will all be at the end of the list of sorted
documents, but the ordering within the group of such documents is
unspecified.</p>
</li>
<li>
<p>Within a <em>&lt;before&gt;</em> or <em>&lt;after&gt;</em> element, if
an <em>&lt;others /&gt;</em> element is present, but is not the only <em>&lt;name&gt;</em> element
within its parent element, the other elements within that parent must be
considered in the ordering process.</p>
</li>
<li>
<p>If the <em>&lt;others /&gt;</em> element appears directly
within the <em>&lt;absolute-ordering&gt;</em> element, the runtime must ensure that
any application configuration resources in
<em>applicationConfigurationResources</em> not explicitly named in the
<em>&lt;absolute-ordering&gt;</em> section are included at that point in the
processing order.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If a faces-config file does not have an
<em>&lt;ordering&gt;</em> or <em>&lt;absolute-ordering&gt;</em> element the artifacts are assumed
to not have any ordering dependency.</p>
</li>
<li>
<p>If the runtime discovers circular references,
an informative message must be logged, and the application must fail to
deploy. Again, one course of action the user may take is to use absolute
ordering in the <em>applicationFacesConfig</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The previous example can be extended to
illustrate the case when <em>applicationFacesConfig</em> contains an ordering
section.</p>
</div>
<div class="paragraph">
<p>my-faces-config:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;faces-config&gt;</span>
  <span class="tag">&lt;name&gt;</span>my<span class="tag">&lt;/name&gt;</span>
  <span class="tag">&lt;absolute-ordering&gt;</span>
    <span class="tag">&lt;name&gt;</span>C<span class="tag">&lt;/name&gt;</span>
    <span class="tag">&lt;name&gt;</span>A<span class="tag">&lt;/name&gt;</span>
  <span class="tag">&lt;/absolute-ordering&gt;</span>
  <span class="tag">&lt;application&gt;</span>
    <span class="tag">&lt;view-handler&gt;</span>com.my.ViewHandlerImpl<span class="tag">&lt;/view-handler&gt;</span>
  <span class="tag">&lt;/application&gt;</span>
  <span class="tag">&lt;lifecycle&gt;</span>
    <span class="tag">&lt;phase-listener&gt;</span>com.my.PhaseListenerImpl<span class="tag">&lt;/phase-listener&gt;</span>
  <span class="tag">&lt;/lifecycle&gt;</span>
<span class="tag">&lt;/faces-config&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the constructor decorator
ordering for <em>ViewHandler</em> would be C, A, my.</p>
</div>
<div class="paragraph">
<p>Some additional example scenarios are
included below. All of these apply to the
<em>applicationConfigurationResources</em> relative ordering case, not to the
<em>applicationFacesConfig</em> absolute ordering case.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Document A - &lt;after&gt;&lt;others/&gt;&lt;name&gt;C&lt;/name&gt;&lt;/after&gt;
Document B - &lt;before&gt;&lt;others/&gt;&lt;/before&gt;
Document C - &lt;after&gt;&lt;others/&gt;&lt;/after&gt;
Document D - no ordering
Document E - no ordering
Document F - &lt;before&gt;&lt;others/&gt;&lt;name&gt;B&lt;/name&gt;&lt;/before&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The valid parse order is F, B, D/E, C, A,
where D/E may appear as D, E or E, D</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Document &lt;no id&gt; - &lt;after&gt;&lt;others/&gt;&lt;/after&gt;
                   &lt;before&gt;&lt;name&gt;C&lt;/name&gt;&lt;/before&gt;
Document B - &lt;before&gt;&lt;others/&gt;&lt;/before&gt;
Document C - no ordering
Document D - &lt;after&gt;&lt;others/&gt;&lt;/after&gt;
Document E - &lt;before&gt;&lt;others/&gt;&lt;/before&gt;
Document F - no ordering</pre>
</div>
</div>
<div class="paragraph">
<p>The complete list of parse order solutions
for the above example is</p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>B,E,F,&lt;no id&gt;,C,D</p>
</li>
<li>
<p>B,E,F,&lt;no_id&gt;,D,C</p>
</li>
<li>
<p>E,B,F,&lt;no id&gt;,C,D</p>
</li>
<li>
<p>E,B,F,&lt;no_id&gt;,D,C</p>
</li>
<li>
<p>B,E,F,D,&lt;no id&gt;,C</p>
</li>
<li>
<p>E,B,F,D,&lt;no id&gt;,C</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Document A - &lt;after&gt;&lt;name&gt;B&lt;/name&gt;&lt;/after&gt;
Document B - no ordering
Document C - &lt;before&gt;&lt;others/&gt;&lt;/before&gt;
Doucment D - no ordering</pre>
</div>
</div>
<div class="paragraph">
<p>Resulting parse order: C, B, D, A. The parse
order could also be: C, D, B, A.</p>
</div>
<div class="paragraph">
<p>[P1-endDecoratableOrdering]</p>
</div>
</div>
<div class="sect3">
<h4 id="a6554"><a class="anchor" href="#a6554"></a>11.4.9. Example Application Configuration Resource</h4>
<div class="paragraph">
<p>The following example application resource
file defines a custom <em>UIComponent</em> of type <em>Date</em>, plus a number of
<em>Renderer</em>s that know how to decode and encode such a component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=”1.0”?&gt;</span>

<span class="tag">&lt;faces-config</span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1.2</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span>
        <span class="content">http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

  <span class="comment">&lt;!-- Define our custom component --&gt;</span>
  <span class="tag">&lt;component&gt;</span>
    <span class="tag">&lt;description&gt;</span>
      A custom component for rendering
      user-selectable dates in various formats.
    <span class="tag">&lt;/description&gt;</span>
    <span class="tag">&lt;display-name&gt;</span>My Custom Date<span class="tag">&lt;/display-name&gt;</span>
    <span class="tag">&lt;component-type&gt;</span>Date<span class="tag">&lt;/component-type&gt;</span>
    <span class="tag">&lt;component-class&gt;</span>
      com.example.components.DateComponent
    <span class="tag">&lt;/component-class&gt;</span>
  <span class="tag">&lt;/component&gt;</span>

  <span class="comment">&lt;!-- Define two renderers that know how to deal with dates --&gt;</span>
  <span class="tag">&lt;render-kit&gt;</span>
    <span class="comment">&lt;!-- No render-kit-id, so add them to default RenderKit --&gt;</span>
    <span class="tag">&lt;renderer&gt;</span>
      <span class="tag">&lt;display-name&gt;</span>Calendar Widget<span class="tag">&lt;/display-name&gt;</span>
      <span class="tag">&lt;component-family&gt;</span>MyComponent<span class="tag">&lt;/component-family&gt;</span>
      <span class="tag">&lt;renderer-type&gt;</span>MyCalendar<span class="tag">&lt;/renderer-type&gt;</span>
      <span class="tag">&lt;renderer-class&gt;</span>
        com.example.renderers.MyCalendarRenderer
      <span class="tag">&lt;/renderer-class&gt;</span>
    <span class="tag">&lt;/renderer&gt;</span>

    <span class="tag">&lt;renderer&gt;</span>
      <span class="tag">&lt;display-name&gt;</span>Month/Day/Year<span class="tag">&lt;/display-name&gt;</span>
      <span class="tag">&lt;renderer-type&gt;</span>MonthDayYear<span class="tag">&lt;/renderer-type&gt;</span>
      <span class="tag">&lt;renderer-class&gt;</span>
        com.example.renderers.MonthDayYearRenderer
      <span class="tag">&lt;/renderer-class&gt;</span>
    <span class="tag">&lt;/renderer&gt;</span>
  <span class="tag">&lt;/render-kit&gt;</span>
<span class="tag">&lt;/faces-config&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Additional examples of configuration elements
that might be found in application configuration resources are in
<a href="#a2477">Managed Bean Configuration Example</a> and
<a href="#a3646">Example NavigationHandler Configuration</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a6596"><a class="anchor" href="#a6596"></a>11.5. Annotations that correspond to and may take the place of entries in the Application Configuration Resources</h3>
<div class="paragraph">
<p>An implementation must support several
annotation types that take may take the place of entries in the
Application Configuration Resources. The implementation requirements are
specified in this section.</p>
</div>
<div class="sect3">
<h4 id="a6598"><a class="anchor" href="#a6598"></a>11.5.1. Requirements for scanning of classes for annotations</h4>
<div class="ulist">
<ul>
<li>
<p>[P1_start-annotation-discovery]If the
<em>&lt;faces-config&gt;</em> element in the <em>WEB-INF/faces-config.xml</em> file contains
<em>metadata-complete</em> attribute whose value is “<em>true</em>”, the
implementation must not perform annotation scanning on any classes
except for those classes provided by the implementation itself.
Otherwise, continue as follows.</p>
</li>
<li>
<p>If the runtime discovers a conflict between
an entry in the Application Configuration Resources and an annotation,
the entry in the Application Configuration Resources takes precedence.</p>
</li>
<li>
<p>All classes in <em>WEB-INF/classes</em> must be
scanned.</p>
</li>
<li>
<p>For every jar in the application&#8217;s
<em>WEB-INF/lib</em> directory, if the jar contains a
“<em>META-INF/faces-config.xml</em>” file or a file that matches the regular
expression “<em>.*\.faces-config.xml</em>” (even an empty one), all classes
in that jar must be scanned.[P1_end-annotation-discovery]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lifecycle-management"><a class="anchor" href="#lifecycle-management"></a>12. Lifecycle Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In <a href="#a369">Request
Processing Lifecycle</a>, the required functionality of each phase of the
request processing lifecycle was described. This chapter describes the
standard APIs used by Jakarta Faces implementations to manage and execute the
lifecycle. Each of these classes and interfaces is part of the
<em>jakarta.faces.lifecycle</em> package.</p>
</div>
<div class="paragraph">
<p>Page authors, component writers, and
application developers, in general, will not need to be aware of the
lifecycle management APIs—they are primarily of interest to tool
providers and Jakarta Faces implementors.</p>
</div>
<div class="sect2">
<h3 id="a6608"><a class="anchor" href="#a6608"></a>12.1. Lifecycle</h3>
<div class="paragraph">
<p>Upon receipt of each Jakarta Faces-destined request to
this web application, the Jakarta Faces implementation must acquire a reference to
the <em>Lifecycle</em> instance for this web application, and call its
<em>execute()</em> and <em>render()</em> methods to perform the request processing
lifecycle. The <em>Lifecycle</em> instance invokes appropriate processing logic
to implement the required functionality for each phase of the request
processing lifecycle, as described in <a href="#a401">Standard Request Processing Lifecycle Phases</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> execute(FacesContext context) <span class="directive">throws</span> FacesException;
<span class="directive">public</span> <span class="type">void</span> render(FacesContext context) <span class="directive">throws</span> FacesException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>execute()</em> method performs phases up to,
but not including, the <em>Render Response</em> phase. The <em>render()</em> method
performs the Render Response phase. This division of responsibility
makes it easy to support Jakarta Server Faces processing in a portlet-based
environment.</p>
</div>
<div class="paragraph">
<p>As each phase is processed, registered
<em>PhaseListener</em> instances are also notified. The general processing for
each phase is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>From the set of registered <em>PhaseListener</em>
instances, select the relevant ones for the current phase, where
“relevant” means that calling <em>getPhaseId()</em> on the <em>PhaseListener</em>
instance returns the phase identifier of the current phase, or the
special value <em>PhaseId.ANY_PHASE</em>.</p>
</li>
<li>
<p>Call the <em>beforePhase()</em> method of each
relevant listener, in the order that the listeners were registered.</p>
</li>
<li>
<p>If no called listener called the
<em>FacesContext.renderResponse()</em> or <em>FacesContext.responseComplete()</em>
method, execute the functionality required for the current phase.</p>
</li>
<li>
<p>Call the <em>afterPhase()</em> method of each
relevant listener, in the reverse of the order that the listeners were
registered.</p>
</li>
<li>
<p>If the <em>FacesContext.responseComplete()</em>
method has been called during the processing of the current request, or
we have just completed the <em>Render Response</em> phase, perform no further
phases of the request processing lifecycle.</p>
</li>
<li>
<p>If the <em>FacesContext.renderResponse()</em> method
has been called during the processing of the current request, and we
have not yet executed the <em>Render Response</em> phase of the request
processing lifecycle, ensure that the next executed phase will be
<em>Render Response</em></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addPhaseListener(PhaseListener listener);
<span class="directive">public</span> <span class="type">void</span> removePhaseListener(PhaseListener listener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>These methods register or deregister a
<em>PhaseListener</em> that wishes to be notified before and after the
processing of each standard phase of the request processing lifecycle.
Implementations should prevent duplicate <em>PhaseListener</em> registrations
and log an exception if an attempt is made. The webapp author can
declare a <em>PhaseListener</em> to be added using the <em>phase-listener</em> element
of the application configuration resources file. Please see
<a href="#a6635">PhaseListener</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="a6626"><a class="anchor" href="#a6626"></a>12.2. PhaseEvent</h3>
<div class="paragraph">
<p>This class represents the beginning or ending
of processing for a particular phase of the request processing
lifecycle, for the request encapsulated by the <em>FacesContext</em> instance
passed to our constructor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> PhaseEvent(FacesContext context,
    PhaseId phaseId, Lifecycle lifecycle);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Construct a new <em>PhaseEvent</em> representing the
execution of the specified phase of the request processing lifecycle, on
the request encapsulated by the specified <em>FacesContext</em> instance. The
<em>Lifecycle</em> instance must be the lifecycle used by the current
<em>FacesServlet</em> that is processing the request. It will serve as the
<em>source</em> of the <em>java.util.EventObject</em> from which <em>PhaseEvent</em>
inherits.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> FacesContext getFacesContext();
<span class="directive">public</span> PhaseId getPhaseId();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return the properties of this event instance.
The specified <em>FacesContext</em> instance will also be returned if
<em>getSource()</em> (inherited from the base <em>EventObject</em> class) is called.</p>
</div>
</div>
<div class="sect2">
<h3 id="a6635"><a class="anchor" href="#a6635"></a>12.3. PhaseListener</h3>
<div class="paragraph">
<p>This interface must be implemented by objects
that wish to be notified before and after the processing for a
particular phase of the request processing lifecycle, on a particular
request. Implementations of <em>PhaseListener</em> must be programmed in a
thread-safe manner.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> PhaseId getPhaseId();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>PhaseListener</em> instance indicates for
which phase of the request processing lifecycle this listener wishes to
be notified. If <em>PhaseId.ANY_PHASE</em> is returned, this listener will be
notified for all standard phases of the request processing lifecycle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> beforePhase(PhaseEvent event);
<span class="directive">public</span> <span class="type">void</span> afterPhase(PhaseEvent event);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The beforePhase() method is called
before the standard processing for a particular phase is performed,
while the afterPhase() method is called after the standard processing
has been completed. The Jakarta Faces implementation must guarantee that, if
<em>beforePhase()</em> has been called on a particular instance, then
<em>afterPhase()</em> will also be called, regardless of any Exceptions that
may have been thrown during the actual execution of the lifecycle phase.
For example, let’s say there are three PhaseListeners attached to the
lifecycle: <em>A, B</em>, and <em>C</em>, in that order. <em>A.beforePhase()</em> is
called, and executes successfully. <em>B.beforePhase()</em> is called and
throws an exception. [P1-start_publishExceptionBefore] Any exceptions
thrown during the <em>beforePhase()</em> listeners must be caught and published
to the <em>ExceptionHandler</em>, as described
below.[P1-end_publishExceptionBefore] In this example, <em>C.beforePhase()</em>
must not be called. Then the actual lifecycle phase executes. Any
exceptions thrown during the execution of the actual phase, that reach
the runtime code that implements the Jakarta Faces lifecycle phase,
[P1-start_publishExceptionDuring] must be caught and and published to
the <em>ExceptionHandler</em>, as described
below[P1-end_publishExceptionDuring]. When the lifecycle phase exits,
due to an exeception or normal termination, the <em>afterPhase()</em> listeners
must be called in reverse order from the <em>beforePhase()</em> listeners in
the following manner. <em>C.afterPhase()</em> must not be called, since
<em>C.beforePhase()</em> was not called. <em>B.afterPhase()</em> must not be called,
since <em>B.beforePhase()</em> did not execute successfully. <em>A.afterPhase()</em>
must be called. [P1-start_publishExceptionAfter]Any exceptions thrown
during the <em>afterPhase()</em> liseteners must be caught and published to the
<em>ExceptionHandler</em>, as described below.[P1-start_publishExceptionAfter]</p>
</div>
<div class="paragraph">
<p>The previous paragraph detailed several cases
where exceptions should be published to the <em>Exception</em> handler.
[P1-start_publishExceptionSpec] The following action must be taken by
the runtime to implement this requirement as well as an additional
requirent to cause the <em>ExceptionHandler</em> to take action on the
published <em>Exception</em>(s). The specification is shown in pseudocode.
This code does not implement the before/after matching guarantees
specified above and is only intended to describe the specification for
publishing and handling <em>ExceptionQueuedEvent</em> instances that arise from
exceptions being thrown during the execution of a lifecycle phase.
Methods shown in <em>thisTypeface()</em> are not a part of the API and are just
included for discussion.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">FacesContext facesContext = FacesContext.getCurrentInstance();
Application app = facesContext.getApplication();
ExceptionHandler handler = facesContext.getExceptionHandler();

<span class="keyword">try</span> {
  callBeforePhaseListeners();
} <span class="keyword">catch</span> (<span class="predefined-type">Throwable</span> thrownException) {
  jakarta.faces.event.ExceptionEventContext eventContext =
      <span class="keyword">new</span> ExceptionEventContext(
          thrownException, <span class="predefined-constant">null</span>, facesContext.getPhaseId());
  eventContext.getAttributes()
      .put(<span class="predefined-type">EventContext</span>.IN_BEFORE_PHASE, <span class="predefined-type">Boolean</span>.TRUE);
  app.publishEvent(ExceptionQueuedEvent.class, eventContext);
}

<span class="keyword">try</span> {
  doCurrentPhase();
} <span class="keyword">catch</span> (<span class="predefined-type">Throwable</span> thrownException) {
  jakarta.faces.event.ExceptionEventContext eventContext =
      <span class="keyword">new</span> ExceptionEventContext(
          thrownException, <span class="predefined-constant">null</span>, facesContext.getPhaseId());
  app.publishEvent(ExceptionQueuedEvent.class, eventContext);
} <span class="keyword">finally</span> {
  <span class="keyword">try</span> {
    callAfterPhaseListeners();
  } <span class="keyword">catch</span> (<span class="predefined-type">Throwable</span> thrownException) {
    jakarta.faces.event.ExceptionEventContext eventContext =
        <span class="keyword">new</span> ExceptionEventContext(
            thrownException, <span class="predefined-constant">null</span>, facesContext.getPhaseId());
    eventContext.getAttributes()
        .put(<span class="predefined-type">EventContext</span>.IN_AFTER_PHASE, <span class="predefined-type">Boolean</span>.TRUE);
    app.publishEvent(ExceptionQueuedEvent.class, eventContext);
  }
  handler.handle();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>body text.</p>
</div>
<div class="paragraph">
<p>[P1-end_publishExceptionSpec]</p>
</div>
<div class="paragraph">
<p><em>PhaseListener</em> implementations may affect
the remainder of the request processing lifecycle in several ways,
including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Calling <em>renderResponse()</em> on the
<em>FacesContext</em> instance for the current request, which will cause
control to transfer to the <em>Render Response</em> phase of the request
processing lifecycle, once processing of the current phase is complete.</p>
</li>
<li>
<p>Calling responseComplete() on the
FacesContext instance for the current request, which causes processing
of the request processing lifecycle to terminate once the current phase
is complete.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="lifecyclefactory"><a class="anchor" href="#lifecyclefactory"></a>12.4. LifecycleFactory</h3>
<div class="paragraph">
<p>A single instance of
<em>jakarta.faces.lifecycle.LifecycleFactory</em> must be made available to each
Jakarta Faces-based web application running in a servlet or portlet container. The
factory instance can be acquired by Jakarta Faces implementations or by
application code, by executing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">LifecycleFactory factory = (LifecycleFactory)
    FactoryFinder.getFactory(FactoryFinder.LIFECYCLE_FACTORY);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>LifecycleFactory</em> implementation class
supports the following methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> addLifecycle(<span class="predefined-type">String</span> lifecycleId, Lifecycle lifecycle);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Register a new <em>Lifecycle</em> instance under the
specified lifecycle identifier, and make it available via calls to the
<em>getLifecycle</em> method for the remainder of the current web application’s
lifetime.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Lifecycle getLifecycle(<span class="predefined-type">String</span> lifecycleId);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>LifecycleFactory</em> implementation class
provides this method to create (if necessary) and return a <em>Lifecycle</em>
instance. All requests for the same lifecycle identifier from within the
same web application will return the same <em>Lifecycle</em> instance, which
must be programmed in a thread-safe manner.</p>
</div>
<div class="paragraph">
<p>Every Jakarta Faces implementation must provide a
<em>Lifecycle</em> instance for a default lifecycle identifier that is
designated by the <em>String</em> constant <em>LifecycleFactory.DEFAULT_LIFECYCLE</em>
. For advanced uses, a Jakarta Faces implementation may support additional
lifecycle instances, named with unique lifecycle identifiers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">String</span>&gt; getLifecycleIds();</code></pre>
</div>
</div>
<div class="paragraph">
<p>This method returns an iterator over the set
of lifecycle identifiers supported by this factory. This set must
include the value specified by <em>LifecycleFactory.DEFAULT_LIFECYCLE</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a6699"><a class="anchor" href="#a6699"></a>13. Ajax Integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter of the specification describes
how Ajax integrates with the Jakarta Faces framework to create
dynamic web applications. This chapter describes the resources and JavaScript APIs that are used
to expose the Ajax capabilities of Jakarta Faces to page authors and
component authors. It also describes the necessary ingredients of a
Jakarta Faces Ajax framework, namely, a resource delivery mechanism,
partial tree traversal, partial page update.</p>
</div>
<div class="sect2">
<h3 id="a6702"><a class="anchor" href="#a6702"></a>13.1. JavaScript Resource</h3>
<div class="paragraph">
<p>There must be a single JavaScript resource
that exists with the resource identifier given by the value of the
constant
<em>jakarta.faces.application.ResourceHandler.JSF_SCRIPT_RESOURCE_NAME</em> and
it must exist under the resource library given by the value of the
constant
<em>jakarta.faces.application.ResourceHandler.JSF_SCRIPT_LIBRARY_NAME</em>,
following the conventions in <em><a href="#a746">Resource
Handling</a></em>. This resource contains the JavaScript APIs that facilitate
Ajax interaction with Jakarta Faces.</p>
</div>
<div class="sect3">
<h4 id="a6704"><a class="anchor" href="#a6704"></a>13.1.1. JavaScript Resource Loading</h4>
<div class="paragraph">
<p>The JavaScript resource can become available
to a Jakarta Faces application using a number of different
approaches.</p>
</div>
<div class="sect4">
<h5 id="a6706"><a class="anchor" href="#a6706"></a>13.1.1.1. The Annotation Approach</h5>
<div class="paragraph">
<p>Component authors can specify that a custom
component or renderer requires the Ajax resource with the use of the
ResourceDependency annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ResourceDependency</span> (name=<span class="string"><span class="delimiter">&quot;</span><span class="content">jsf.js</span><span class="delimiter">&quot;</span></span>, library=<span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.faces</span><span class="delimiter">&quot;</span></span>, target=<span class="string"><span class="delimiter">&quot;</span><span class="content">head</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyComponent</span> <span class="directive">extends</span> UIOutput...</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information on this approach refer
to <a href="#a847">Relocatable Resources</a> and
<a href="#a869">Resource Rendering Using Annotations</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="a6712"><a class="anchor" href="#a6712"></a>13.1.1.2. The Resource API Approach</h5>
<div class="paragraph">
<p>Component authors can also specify that a
custom component or renderer requires the JavaScript resource by using
the resource APIs. For example, a component or renderer’s encode method
may contain:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Resource resource = context.getApplication().getResourceHandler()
    .createResource(<span class="error">“</span>jsf.js<span class="error">”</span>, <span class="error">“</span>jakarta.faces<span class="error">”</span>);
...
writer.startElement(<span class="string"><span class="delimiter">&quot;</span><span class="content">script</span><span class="delimiter">&quot;</span></span>, component);
writer.writeAttribute(<span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">text/javascript</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>);
writer.writeAttribute(<span class="string"><span class="delimiter">&quot;</span><span class="content">src</span><span class="delimiter">&quot;</span></span>,
    ((resource != <span class="predefined-constant">null</span>)? resource.getRequestPath(): <span class="string"><span class="delimiter">&quot;</span><span class="content">RES_NOT_FOUND</span><span class="delimiter">&quot;</span></span>), <span class="error">”</span>src<span class="error">”</span>);
writer.endElement(<span class="error">“</span>script<span class="error">”</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Script resources are relocatable resources
(see <a href="#a847">Relocatable
Resources</a>) which means you can control the rendering location for these
resources by setting the “target” attribute on the resource component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyComponent</span> <span class="directive">extends</span> UIOutput {
...
  getAttributes().put(<span class="error">“</span>target<span class="error">”</span>, <span class="error">“</span>head<span class="error">”</span>);
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This attribute must be set before the
component is added to the view. The component or renderer must also
implement the event processing method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> processEvent(SystemEvent event)
    <span class="directive">throws</span> AbortProcessingException {
  UIComponent component = (UIComponent) event.getSource();
  FacesContext context = FacesContext.getCurrentInstance();
  <span class="keyword">if</span> (component.getAttributes().get(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>) != <span class="predefined-constant">null</span>) {
    context.getViewRoot().addComponentResource(context, component);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the component is added to the view, an
event will be published. This event handling method will add the
component resource to one of the resource location facets under the view
root so it will be in place before rendering.</p>
</div>
</div>
<div class="sect4">
<h5 id="a6738"><a class="anchor" href="#a6738"></a>13.1.1.3. The Page Declaration Language Approach</h5>
<div class="paragraph">
<p>Page authors can make the Ajax resource
available to the current view using the outputScript tag. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:view</span> <span class="attribute-name">contentType</span>=<span class="error">”</span><span class="attribute-value">text</span><span class="error">/</span><span class="attribute-name">html</span><span class="error">”</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;h:head&gt;</span>
    <span class="tag">&lt;meta...</span>
    <span class="error">&lt;</span><span class="attribute-name">title...</span>
  <span class="error">&lt;</span><span class="error">/</span><span class="attribute-name">h:head</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:body&gt;</span>
    ...
    <span class="tag">&lt;h:outputScript</span> <span class="attribute-name">name</span>=<span class="error">”</span><span class="attribute-value">jsf.js</span><span class="error">”</span> <span class="attribute-name">library</span>=<span class="error">”</span><span class="attribute-value">jakarta.faces</span><span class="error">”</span> <span class="attribute-name">target</span>=<span class="error">”</span><span class="attribute-value">body</span><span class="error">”</span><span class="tag">/&gt;</span>
    ...
  <span class="tag">&lt;/h:body&gt;</span>
  ...</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a6754"><a class="anchor" href="#a6754"></a>13.2. JavaScript Namespacing</h3>
<div class="paragraph">
<p>JavaScript objects that are not enclosed
within a namespace are global, which means they run the risk of
interfering, overriding and/or clobbering previously defined JavaScript
objects. This section defines the requirements for implementations
intending to use the Jakarta Faces 2.0 JavaScript API.</p>
</div>
<div class="paragraph">
<p>[P1-start javascript namespace]Any
implementation that intends to use the Jakarta Faces JavaScript
API must define a top level JavaScript object name jsf, whose type is a
JavaScript associative array. Within that top level JavaScript object,
there must be a property named ajax..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">if</span> (jsf == <span class="predefined-constant">null</span> || <span class="keyword">typeof</span> jsf == <span class="string"><span class="delimiter">&quot;</span><span class="content">undefined</span><span class="delimiter">&quot;</span></span>) {
    <span class="keyword">var</span> jsf = <span class="keyword">new</span> Object();
}
<span class="keyword">if</span> (jsf.ajax == <span class="predefined-constant">null</span> || <span class="keyword">typeof</span> jsf.ajax == <span class="string"><span class="delimiter">&quot;</span><span class="content">undefined</span><span class="delimiter">&quot;</span></span>) {
    jsf[<span class="string"><span class="delimiter">&quot;</span><span class="content">ajax</span><span class="delimiter">&quot;</span></span>] = <span class="keyword">new</span> Object();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
<div class="sect2">
<h3 id="a6766"><a class="anchor" href="#a6766"></a>13.3. Ajax Interaction</h3>
<div class="paragraph">
<p>This section of the specification outlines
the Ajax JavaScript APIs that are used to initiate client side
interactions with the Jakarta Faces framework including partial tree
traversal and partial page update. All of the functions in this
JavaScript API will be exposed on a page scoped JavaScript object. Refer
to <a href="#a6841">JavaScript API</a> for details
about the individual API
functions.</p>
</div>
<div class="sect3">
<h4 id="a6769"><a class="anchor" href="#a6769"></a>13.3.1. Sending an Ajax Request</h4>
<div class="paragraph">
<p>The JavaScript function jsf.ajax.request is
used to send information to the server to control partial view
processing (<a href="#a6831">Partial
View Processing</a>) and partial view rendering
(<a href="#a6833">Partial View
Rendering</a>). All requests using the jsf.ajax.request function will be
made asynchronously to the server. Refer to
<a href="#a6856">Initiating an
Ajax Request</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6771"><a class="anchor" href="#a6771"></a>13.3.2. Ajax Request Queueing</h4>
<div class="paragraph">
<p>[P1-start-ajaxrequest-queue] All Ajax
requests must be put into a client side request queue before they are
sent to the server to ensure Ajax requests are processed in the order
they are sent. The request that has been waiting in the queue the
longest is the next request to be sent. After a request is sent, the
Ajax request callback function must remove the request from the queue
(also known as dequeuing). If the request completed successfully, it
must be removed from the queue. If there was an error, the client must
be notified, but the request must still be removed from the queue so the
next request can be sent. The next request (the oldest request in the
queue) must be sent. Refer to the jsf.ajax.request JavaScript
documentation for more specifics about the Ajax request queue.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a6773"><a class="anchor" href="#a6773"></a>13.3.3. Request Callback Function</h4>
<div class="paragraph">
<p>The Ajax request callback function is called
when the Ajax request/response interaction is complete.
[P1-start-callback]This function must perform the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the return status is &gt;= 200 and &lt; 300,
send a “complete” event following
<a href="#a6792">Sending Events</a>. Call
jsf.ajax.response passing the Ajax request object (for example the
XMLHttpRequest instance) and the request context (containing the source
DOM element, onevent event function callback and onerror error function
callback).</p>
</li>
<li>
<p>If the return status is outside the range
mentioned above, send a “complete” event following
<a href="#a6792">Sending Events</a>. Send an
“httpError” error following <a href="#a6806">Signaling Errors</a>.</p>
</li>
<li>
<p>Regardless of whether the request completed
successfully or not:</p>
<div class="ulist">
<ul>
<li>
<p>remove the completed requests (Ajax
readystate 4) from the request queue (dequeue) - specifically the
requests that have been on the queue the longest.</p>
</li>
<li>
<p>find the next oldest unprocessed (Ajax
readystate 0) request on the queue, and send it. The implementation must
ensure that the request that is sent does not enter the queue
again.[P1-end]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Refer to
<a href="#a6781">Receiving
The Ajax Response</a>. Also refer to the jsf.ajax.request JavaScript
documentation for more specifics about the request callback function.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6781"><a class="anchor" href="#a6781"></a>13.3.4. Receiving The Ajax Response</h4>
<div class="paragraph">
<p>The jsf.ajax.response function is
responsible for examining the markup that is returned from the server
and updating the client side DOM. The Ajax request callback function
should call this function when a request completes successfully.
[P1-start-ajaxresponse]The implementation of jsf.ajax.response must
handle the response as outlined in the JavaScript documentation for
jsf.ajax.response. The elements in the response must be processed in the
order they appear in the response.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a6783"><a class="anchor" href="#a6783"></a>13.3.5. Monitoring Events On The Client</h4>
<div class="paragraph">
<p>JavaScript functions can be registered to be
notified during various stages of the Ajax request/response cycle.
Functions can be set up to monitor individual Ajax requests, and
functions can also be set up to monitor all Ajax requests.</p>
</div>
<div class="sect4">
<h5 id="a6785"><a class="anchor" href="#a6785"></a>13.3.5.1. Monitoring Events For An Ajax Request</h5>
<div class="paragraph">
<p>There are two ways to monitor events for a
single Ajax request by registering an event callback function:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By using the &lt;f:ajax&gt; tag with the onevent
attribute.</p>
</li>
<li>
<p>By using the JavaScript API function
jsf.ajax.request with onevent as an option.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Refer to
<a href="#a1111">&lt;f:ajax</a>&gt; for details on the use of the
&lt;f:ajax&gt; tag approach. Refer to
<a href="#a6856">Initiating an
Ajax Request</a> for details about using the jsf.ajax.request function
approach. [P1-start-event-request]The implementation must ensure the
JavaScript function that is registered for an Ajax request must be
called in accordance with the events outlined in
<a href="#a6936">Events</a>.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a6790"><a class="anchor" href="#a6790"></a>13.3.5.2. Monitoring Events For All Ajax Requests</h5>
<div class="paragraph">
<p>The JavaScript API provides the
jsf.ajax.addOnEvent function that can be used to register a JavaScript
function that will be notified when any Ajax request/response event
occurs. Refer to
<a href="#a6931">Registering
Callback Functions</a> for more details. The jsf.ajax.addOnEvent function
accepts a JavaScript function argument that will be notified when events
occur during any Ajax request/response event cycle. [P1-start-event] The
implementation must ensure the JavaScript function that is registered
must be called in accordance with the events outlined in
<a href="#a6936">Events</a>.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a6792"><a class="anchor" href="#a6792"></a>13.3.5.3. Sending Events</h5>
<div class="paragraph">
<p>[P1-start-event-send]The implementation must
send events to the runtime as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Construct a data payload for events using the
properties described in <a href="#a6947">Event Data Payload</a>.</p>
</li>
<li>
<p>If an event handler function was registered
with the “onevent” attribute
(<a href="#a6785">Monitoring Events For An Ajax Request</a>) call it passing the data
payload.</p>
</li>
<li>
<p>If any event handling functions were
registered with the “addOnEvent” function
(<a href="#a6790">Monitoring Events For All Ajax Requests</a>) call them passing the data
payload.[P1-end]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a6797"><a class="anchor" href="#a6797"></a>13.3.6. Handling Errors On the Client</h4>
<div class="paragraph">
<p>JavaScript functions can be registered to be
notified when Ajax requests complete with error status codes from the
server to give implementations a chance to handle the errors. Functions
can be set up to handle errors from individual Ajax requests and
functions can be setup to handle errors for all Ajax requests.</p>
</div>
<div class="sect4">
<h5 id="a6799"><a class="anchor" href="#a6799"></a>13.3.6.1. Handling Errors For An Ajax Request</h5>
<div class="paragraph">
<p>There are two ways to handle errors for a
single Ajax request by registering an error callback function:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By using the &lt;f:ajax&gt; tag with the onerror
attribute.</p>
</li>
<li>
<p>By using the JavaScript API function
jsf.ajax.request with onerror as an option.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Refer to
<a href="#a1111">&lt;f:ajax</a>&gt; for details on the use of the
&lt;f:ajax&gt; tag approach. Refer to
<a href="#a6856">Initiating an
Ajax Request</a> for details about using the jsf.ajax.request function
approach. [P1-start-event-request]The implementation must ensure the
JavaScript function that is registered for an Ajax request must be
called in accordance when the request status code from the server is as
outlined in <a href="#a6976">Errors</a>.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a6804"><a class="anchor" href="#a6804"></a>13.3.6.2. Handling Errors For All Ajax Requests</h5>
<div class="paragraph">
<p>The JavaScript API provides the
jsf.ajax.addOnError function that can be used to register a JavaScript
function that will be notified when an error occurs for any Ajax
request/response. Refer to
<a href="#a6931">Registering
Callback Functions</a> for more details. The jsf.ajax.addOnError function
accepts a JavaScript function argument that will be notified when errors
occur during any Ajax request/response cycle. [P1-start-event] The
implementation must ensure the JavaScript function that is registered
must be called in accordance with the errors outlined in
<a href="#a6976">Errors</a>.[P1-end]</p>
</div>
</div>
<div class="sect4">
<h5 id="a6806"><a class="anchor" href="#a6806"></a>13.3.6.3. Signaling Errors</h5>
<div class="paragraph">
<p>[P1-start-error-signal]The implementation
must signal errors to the runtime as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Construct a data payload for errors using the
properties described in <a href="#a6988">Error Data Payload</a>.</p>
</li>
<li>
<p>If an error handler function was registered
with the “onerror” attribute
(<a href="#a6799">Handling Errors For An Ajax Request</a>) call it passing the data payload.</p>
</li>
<li>
<p>If any error handling functions were
registered with the “addOnError” function
(<a href="#a6804">Handling Errors For All Ajax Requests</a>) call them passing the data
payload.</p>
</li>
<li>
<p>If the project stage is “development”
(see
<a href="#a7017">Determining An Application’s Project Stage</a>) use JavaScript “alert” to
signal the error(s).[P1-end]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a6812"><a class="anchor" href="#a6812"></a>13.3.7. Handling Errors On The Server</h4>
<div class="paragraph">
<p>Jakarta Faces handles exceptions on the
server as outlined in <a href="#a3253">ExceptionHandler</a>.
[P1-start-error-server]Jakarta Faces Ajax frameworks must ensure
exception information is written to the response in the format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;partial-response</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">j_id1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;error&gt;</span>
    <span class="tag">&lt;error-name&gt;</span>...<span class="tag">&lt;/error-name&gt;</span>
    <span class="tag">&lt;error-message&gt;</span>...<span class="tag">&lt;/error-message&gt;</span>
  <span class="tag">&lt;/error&gt;</span>
<span class="tag">&lt;/partial-response&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Extract the “class” from the “Throwable”
object and write that as the contents of error-name in the response.</p>
</li>
<li>
<p>Extract the “cause” from the “Throwable”
object if it is available and write that as the contents of
error-message in the response. If “cause” is not available, write the
string returned from “Throwable.getMessage()”.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Implementations must ensure that an
ExceptionHandler suitable for writing exceptions to the partial response
is installed if the current request required an Ajax response
(PartialViewContext.isAjaxRequest() returns true).[P1-end]</p>
</div>
<div class="paragraph">
<p>Implementations may choose to include a
specialized ExceptionHandler for Ajax that extends from
jakarta.faces.context.ExceptionHandlerWrapper, and have the
jakarta.faces.context.ExceptionHandlerFactory implementation install it if
the environment requires it.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a6825"><a class="anchor" href="#a6825"></a>13.4. Partial View Traversal</h3>
<div class="paragraph">
<p>The Jakarta Faces lifecycle, can be viewed
as consisting of an execute phase and a render phase.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="data:image/png;base64,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" alt="image"></span></p>
</div>
<div class="paragraph">
<p>Partial traversal is the technique that can
be used to “visit” one or more components in the view, potentially to
have them pass through the “execute” and/or “render” phases of the
request processing lifecycle. This is a key feature for JSF and Ajax
frameworks and it allows selected components in the view to be processed
and/or rendered. There are a variety of Jakarta Faces Ajax frameworks available,
and they all perform some variation of partial traversal.</p>
</div>
<div class="sect3">
<h4 id="a6829"><a class="anchor" href="#a6829"></a>13.4.1. Partial Traversal Strategy</h4>
<div class="paragraph">
<p>Frameworks use a partial traversal strategy
to perform partial view processing and partial view rendering. This
specification does not dictate the use of a specific partial traversal
strategy. However, frameworks must implement their desired strategy by
implementing the PartialViewContext.processPartial method. Refer to the
JavaDocs for details about this method.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6831"><a class="anchor" href="#a6831"></a>13.4.2. Partial View Processing</h4>
<div class="paragraph">
<p>Partial view processing allows
selected components to be processed through the “execute” portion of the
lifecycle. Although the diagram in
<a href="#a6825">Partial View
Traversal</a> depicts the “execute” portion as encompassing everything
except the “Render Response Phase”, for the purposas of an ajax request,
the execute portion of the lifecycle is the “Apply Request Values
Phase”, “Update Model Values Phase” and “Process Validations Phase”.
Partial view processing on the server is triggered by a request from the
client. The request does not have to be an Ajax request. The request
contains special parameters that indicate the request is a partial
execute request (not triggered by Ajax) or a partial execute request
that was triggered using Ajax. The client also sends a set of client ids
of the components that must be processed through the execute phase of
the request processing lifecycle. Refer to
<a href="#a6769">Sending an Ajax
Request</a> about the request sending details. The FacesContext has methods
for retrieving the PartialViewContext instance for the request. The
PartialViewContext may also be retrieved by using the
PartialViewContextFactory class. The XML schema allows for the
definition of a PartialViewContextFactory using the
“partial-view-context-factory” element. Refer to the partial response
schema in the Javadoc section of the spec for more information on this
element. The PartialViewContext has properties and methods that indicate
the request is a partial request based on the values of these special
request parameters. Refer to the JavaDocs for
jakarta.faces.context.PartialViewContext and
<a href="#a3229">Partial View Context</a>
for the specifics of the PartialViewContext constants and methods that
facilitate partial processing. [P1-start-partialExec]The UIViewRoot
processDecodes, processValidators and processUpdates methods must
determine if the request is a partial request using the
FacesContext.getCurrentInstance().getPartialViewContext().isPartialRequest()
method. If
FacesContext.getCurrentInstance().getPartialViewContext().isPartialRequest()
returns true, then the implementation of these methods must retrieve a
PartialViewContext instance and invoke
PartialViewContext.processPartial. Refer to
<a href="#a427">Apply Request Values</a>,
<a href="#a436">Apply Request Values Partial Processing</a>,
<a href="#a438">Process Validations</a>,
<a href="#a444">Partial Validations Partial Processing</a>, <a href="#a446">Update Model Values</a>,
<a href="#a452">Update Model Values Partial Processing</a>.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a6833"><a class="anchor" href="#a6833"></a>13.4.3. Partial View Rendering</h4>
<div class="paragraph">
<p>Partial view rendering on the server
is triggered by a request from the client. It allows one or more
components in the view to perform the encoding process. The request
contains special parameters that indicate the request is a partial
render request. The client also sends a set of client ids of the
components that must be processed by the render phase of the request
processing lifecycle. Refer to
<a href="#a6769">Sending an Ajax
Request</a> about the request sending details. The PartialViewContext has
methods that indicate the request is a partial request based on the
values of these special request parameters. Refer to
<a href="#a3225">Partial Processing Methods</a> for the specifics of the FacesContext
constants and methods that facilitate partial processing.
[P1-start-partialRender]The UIViewRoot getRendersChildren and
encodeChildren methods must determine if the request is an Ajax request
using the
FacesContext.getCurrentInstance().getPartialViewContext().isAjaxRequest()
method. If PartialViewContext.isAjaxRequest() returns true, then the
getRendersChildren method must return true and the encodeChildren method
must perform partial rendering using the
PartialViewContext.processPartial implementation. Refer to the JavaDocs
for UIViewRoot.encodeChildren for specific details.[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a6835"><a class="anchor" href="#a6835"></a>13.4.4. Sending The Response to The Client</h4>
<div class="paragraph">
<p>The Ajax response (also known as partial
response) is formulated and sent to the client during the Render
Response phase of the request processing lifecycle. The partial response
consists of markup rendered by one or more components. The response
should be in a common format so JavaScript clients can interpret the
markup in a consistent way - an important requirement for component
compatability. The agreed upon format and content type for the partial
response is XML. This means there should be a ResponseWriter suitable
for writing the response in XML. The UIViewRoot.encodeChildren method
delegates to a partial traversal strategy. The partial traversal
strategy implementation produces the partial response. The markup that
is sent to the client must contain elements that the client can
recognize. In addition to the markup produced by server side components,
the response must contain “instructions” for the client to interpret, so
the client will know, for example, that it is to add new markup to the
client DOM, or update existing areas of the DOM. When the response is
sent back to the client, it must contain the view state.
[P1-start-sending-response]Implementations must adhere to the response
format as specified in the JavaScript docs for
jsf.ajax.response.[P1-end] Refer to the XML schema definition in the
<a href="#a7162">XML Schema Definition for Composite
Components</a> section. This XML schema is another important area for
component library compatability.</p>
</div>
<div class="sect4">
<h5 id="a6837"><a class="anchor" href="#a6837"></a>13.4.4.1. Writing The Partial Response</h5>
<div class="paragraph">
<p>Jakarta Faces provides
jakarta.faces.context.PartialResponseWriter to ensure the Ajax response
that is written follows the standard format as specified in
<a href="#a7162">XML Schema Definition for Composite
Components</a>. Implementations must take care to properly handle nested
CDATA sections when writing the response. PartialResponseWriter
decorates an existing ResponseWriter implementation by extending
jakarta.faces.context.ResponseWriterWrapper. Refer to the
jakarta.faces.context.PartialResponseWriter JavaDocs, and the JavaScript
documentation for the jsf.ajax.response function for more specifics.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a6841"><a class="anchor" href="#a6841"></a>14. JavaScript API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter of the specification describes
the JavaScript functions that are used to facilitate Ajax operations in
a Jakarta Server Faces framework. All of these functions are contained in
the canonical <em>jsf.js</em> file.</p>
</div>
<div class="sect2">
<h3 id="a6844"><a class="anchor" href="#a6844"></a>14.1. Collecting and Encoding View State</h3>
<div class="paragraph">
<p>In Jakarta Server Faces the
jakarta.faces.ViewState parameter was standardized to facilitate
“postback” requests to the server in a Jakarta Faces application.
Implementations must use this parameter to save the view state between
requests. Refer to the Javadocs for
jakarta.faces.render.ResponseStateManager.</p>
</div>
<div class="paragraph">
<p>Collecting and encoding view state that will
be sent to the server is a common operation used by most Jakarta Server
Faces Ajax frameworks. When a Jakarta Faces view is rendered, it will
contain a hidden field with the identifier jakarta.faces.ViewState whose
value contains the state for the current view. Jakarta Faces Ajax clients collect
additional view state, combine it with the current view state and send
it’s encoded form to the server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">jsf.getViewState(FORM_ELEMENT)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Collect and encode element data for the given
FORM_ELEMENT and return it as the view state that will be sent to the
server. FORM_ELEMENT is the identifier for a DOM form element. All input
elements of type “hidden” should be included in the collection and
encoding process.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Encode the name and value for each input
element of FORM_ELEMENT. Only select elements that have at least one of
their options selected must be included. only checkbox elements that are
checked must be included.</p>
</li>
<li>
<p>Find the element identified as
jakarta.faces.ViewState in the specified FORM_ELEMENT and encode the name
and value.</p>
</li>
<li>
<p>Return a concatenated String of the encoded
input elements and jakarta.faces.ViewState element.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="a6852"><a class="anchor" href="#a6852"></a>14.1.1. Use Case</h4>
<div class="paragraph">
<p>Collect and Encode Elements Of a Form</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">var</span> viewState = jsf.getViewState(form);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a6856"><a class="anchor" href="#a6856"></a>14.2. Initiating an Ajax Request</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">jsf.ajax.request(source, |event|, { |OPTIONS| });</code></pre>
</div>
</div>
<div class="paragraph">
<p>The jsf.ajax.request function is responsible
for sending an Ajax request to the server. [P1-start-ajaxrequest]The
requirements for this function are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The request must be sent asynchronously</p>
</li>
<li>
<p>The request must be sent with method type
POST</p>
</li>
<li>
<p>The request URL will be the form action
attribute</p>
</li>
<li>
<p>All requests will be queued with the use of a
client side request queue to help ensure request ordering</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[P1-end]</p>
</div>
<div class="sect3">
<h4 id="a6864"><a class="anchor" href="#a6864"></a>14.2.1. Usage</h4>
<div class="paragraph">
<p>Typically, this function is attached as a
JavaScript event handler (such as “onclick”).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;ANY_HTML_OR_FACES_ELEMENT</span>
    <span class="attribute-name">on</span><span class="error">|</span><span class="attribute-name">EVENT</span><span class="error">|</span><span class="error">=</span><span class="error">&quot;</span><span class="attribute-name">jsf.ajax.request</span><span class="error">(</span><span class="attribute-name">source</span><span class="error">,</span> <span class="attribute-name">event</span><span class="error">,</span> <span class="error">{</span> <span class="error">|</span><span class="attribute-name">OPTIONS</span><span class="error">|</span> <span class="error">}</span><span class="error">)</span><span class="error">;</span><span class="error">&quot;</span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The function arguments are as follows:</p>
</div>
<div class="paragraph">
<p>source is the DOM element that triggered this
Ajax request. [P1-start-source]It must be a DOM element object or a
string identifier for a DOM element. [P1-end]The event argument is the
JavaScript event object. The optional |OPTIONS| argument is a JavaScript
associative object array that may contain the following name/value
pairs:</p>
</div>
<table id="a6871" class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 22. request OPTIONS</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">execute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A space delimited list of client identifiers
or one of the keywords (<a href="#a6884">Keywords</a>).
These reference the components that will be processed during the
“execute” portion of the request processing lifecycle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">render</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A space delimited list of client identifiers
or one of the keywords (<a href="#a6884">Keywords</a>).
These reference the components that will be processed during the
“render” portion of the request processing lifecycle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onevent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A String that is the name of the JavaScript
function to call when an event occurs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onerror</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A String that is the name of the JavaScript
function to call when an error occurs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">params</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An object that may include additional
parameters to include in the request.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="a6884"><a class="anchor" href="#a6884"></a>14.2.2. Keywords</h4>
<div class="paragraph">
<p>The following keywords can be used for the
value of the “execute” and “render” attributes:</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 23. Execute / Render Keywords</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">@all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All component identifiers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">@none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No identifiers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">@this</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The element that triggered the request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">@form</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The enclosing form</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="a6897"><a class="anchor" href="#a6897"></a>14.2.3. Default Values</h4>
<div class="paragraph">
<p>Values for the execute and render attributes
are not required. When using the JavaScript API, the default values for
execute is @this. The default value for render is @none.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">submit</span><span class="error">”</span>
    <span class="attribute-name">onclick</span>=<span class="string"><span class="delimiter">&quot;</span>jsf.ajax.request(<span class="local-variable">this</span>,event);<span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>

is the same as:

<span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">submit</span><span class="error">”</span><span class="tag">&gt;</span>
    onclick=&quot;jsf.ajax.request(this, event,
        {execute:’@this’, render:’@this’});&quot; /<span class="error">&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">submit</span><span class="error">”</span>
    <span class="attribute-name">onclick</span>=<span class="string"><span class="delimiter">&quot;</span>jsf.ajax.request(<span class="local-variable">this</span>,event, {<span class="key">execute</span>:<span class="error">’</span><span class="error">@</span><span class="local-variable">this</span><span class="error">’</span>});<span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>

is the same as:

<span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">”</span><span class="attribute-value">button1</span><span class="error">”</span> <span class="attribute-name">value</span>=<span class="error">”</span><span class="attribute-value">submit</span><span class="error">”</span><span class="tag">&gt;</span>
    onclick=&quot;jsf.ajax.request(this,event, {execute:’button1’});&quot; /<span class="error">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Refer to <a href="#a1111">&lt;f:ajax</a>&gt; for the default values for the execute and render attributes
when they are used with the core “&lt;f:ajax&gt;” tag.</p>
</div>
</div>
<div class="sect3">
<h4 id="a6911"><a class="anchor" href="#a6911"></a>14.2.4. Request Sending Specifics</h4>
<div class="paragraph">
<p>The mechanics of sending an Ajax request
becomes very important to promote component compatability. Even more
important, is standardizing on the post data that is sent to server
implementations, so they all can expect the same arguments.
[P1-start-ajaxrequest-send]The request header must be set with the name
Faces-Request and the value partial/ajax. Specifics of formulating post
data and sending the request must be followed as outlined in the
JavaScript documentation for the jsf.ajax.request function. The post
data arguments that must be sent are:</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.ViewState</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of the jakarta.faces.ViewState
hidden field. This is included when using the jsf.getViewState function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.partial.ajax</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.faces.source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The identifier of the element that is the
source of this request</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[P1-end]</p>
</div>
</div>
<div class="sect3">
<h4 id="a6921"><a class="anchor" href="#a6921"></a>14.2.5. Use Case</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:commandbutton</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">submit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">submit</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">onclick</span>=<span class="string"><span class="delimiter">&quot;</span>jsf.ajax.request(<span class="local-variable">this</span>, event,
        {<span class="key">execute</span>:<span class="string"><span class="delimiter">'</span><span class="content">submit</span><span class="delimiter">'</span></span>,<span class="key">render</span>:<span class="string"><span class="delimiter">'</span><span class="content">outtext</span><span class="delimiter">'</span></span>}); <span class="keyword">return</span> <span class="predefined-constant">false</span>;<span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This use case assumes there is another
component in the view with the identifier outtext.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a7017"><a class="anchor" href="#a7017"></a>14.3. Processing The Ajax Response</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">jsf.ajax.response(request, context);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The jsf.ajax.response function is
called when a request completes successfully. This typically means that
returned status code is &gt;= 200 and &lt; 300. The jsf.ajax.response function
must extract the XML response from the request argument. The XML
response is expected to follow the format that is outlined in the
JavaScript documentation for this function. The response format is an
“instruction set” telling this function how it should update the DOM.
The context argument contains properties that facilitate event and error
processing such as the source DOM element (the DOM element that
triggered the Ajax request), onevent (the event handling callback for
the request) and onerror (the error handling callback for the request).
[P1-start-ajaxresponse] The specifics details of this function’s
operation must follow the jsf.ajax.response JavaScript
documentation.[P1-end]</p>
</div>
</div>
<div class="sect2">
<h3 id="a6931"><a class="anchor" href="#a6931"></a>14.4. Registering Callback Functions</h3>
<div class="paragraph">
<p>The JavaScript API allows you to register
callback functions for Ajax request/response event monitoring and error
handling. The event callbacks become very useful when monitoring request
connection status. The error callback provides a convenient way for
implementations to trap errors. The handling of the errors is left up to
the implementation. These callback function names can also be set using
the JavaScript API (<a href="#a6871">request
OPTIONS</a>), and the core &lt;f:ajax&gt; tag (<a href="#a1111">&lt;f:ajax</a>&gt;).</p>
</div>
<div class="sect3">
<h4 id="a6933"><a class="anchor" href="#a6933"></a>14.4.1. Request/Response Event Handling</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">jsf.ajax.addOnEvent(callback);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The callback argument must be a reference to
an existing JavaScript function that will handle the events. The events
that can be handled are:</p>
</div>
<table id="a6936" class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 24. Events</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Event Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">begin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Occurs immediately before the request is
sent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">complete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Occurs immediately after the request has
completed. For successful requests, this is immediately before
jakarta.faces.response is called. For unsuccessful requests, this is
immediately before the error handling callback is invoked.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">success</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Occurs immediately after jsf.ajax.response
has completed.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The callback function has access to the
following “data payload”:.</p>
</div>
<table id="a6947" class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 25. Event Data Payload</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description/Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">“event”</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One of the events specified in <a href="#a6936">Events</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The DOM element that triggered the Ajax request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">responseCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ajax request object ‘status’
(XMLHttpRequest.status); Not present for “begin” event;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">responseXML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The XML response
(XMLHttpRequest.responseXML); Not present for “begin” event;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">responseText</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The text response
(XMLHttpResponse.responseText) Not present for “begin” event;</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="a6962"><a class="anchor" href="#a6962"></a>14.4.1.1. Use Case</h5>
<div class="paragraph">
<p>An event listener can be installed from
JavaScript in this manner.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">function</span> <span class="function">statusUpdate</span>(data) {
  <span class="comment">// do something with data.status or other parts of data payload</span>
}
...
jsf.ajax.addOnEvent(statusUpdate);</code></pre>
</div>
</div>
<div class="paragraph">
<p>An event listener can be installed from
markup in this manner.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax</span> <span class="attribute-name">...</span> <span class="attribute-name">onevent</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">statusUpdate</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a6973"><a class="anchor" href="#a6973"></a>14.4.2. Error Handling</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">jsf.ajax.addOnError(callback);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The callback argument must be a reference to
an existing JavaScript function that will handle errors from the server.</p>
</div>
<table id="a6976" class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 26. Errors</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Error Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">httpError</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">request status==null or
request.status==undefined or request.status&lt;200 or request.status &gt;=300</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serverError</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Ajax response contains an “error” element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">malformedXML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Ajax response does not follow the
proper format. See <a href="#a7162">XML Schema Definition
for Composite Components</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">emptyResponse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">There was no Ajax response from the server.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The callback function has access to the
following “data payload”:.</p>
</div>
<table id="a6988" class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 27. Error Data Payload</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description/Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">“error”</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One of error names defined <a href="#a6976">Errors</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text describing the error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The DOM element that triggered the Ajax request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">responseCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ajax request object ‘status’ (XMLHttpRequest.status);</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">responseXML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The XML response (XMLHttpRequest.responseXML)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">responseText</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The text response (XMLHttpResponse.responseTxt)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">errorName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The error name taken from the Ajax response “error” element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">errorMessage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The error messages taken from the Ajax response “error” element.</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="a7009"><a class="anchor" href="#a7009"></a>14.4.2.1. Use Case</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">jsf.ajax.addOnError(handleError);
...
<span class="keyword">var</span> <span class="function">handleError</span> = <span class="keyword">function</span> <span class="function">handleError</span>(data) {
  ... <span class="keyword">do</span> something <span class="keyword">with</span> <span class="error">“</span>data payload<span class="error">”</span> ...
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="determining-an-applications-project-stage"><a class="anchor" href="#determining-an-applications-project-stage"></a>14.5. Determining An Application’s Project Stage</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">jsf.getProjectStage();</code></pre>
</div>
</div>
<div class="paragraph">
<p>[P1-start-projStage]This function must
return the constant representing the current state of the running
application in a typical product development lifecycle. The returned
value must be the value returned from the server side method
jakarta.faces.application.Application.getProjectStage(); Refer to
<a href="#a3455">ProjectStage Property</a> for more details
about this property.[P1-end]</p>
</div>
<div class="sect3">
<h4 id="a7020"><a class="anchor" href="#a7020"></a>14.5.1. Use Case</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">var</span> projectStage = jakarta.faces.Ajax.getProjectStage();
<span class="keyword">if</span> (projectStage == <span class="error">“</span>Production<span class="error">”</span>) {
  .... <span class="keyword">throw</span> exception
} <span class="keyword">else</span> <span class="keyword">if</span> (projectStage == <span class="error">“</span>Development<span class="error">”</span>) {
  .... send an alert <span class="keyword">for</span> debugging
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a7029"><a class="anchor" href="#a7029"></a>14.6. Script Chaining</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">jsf.util.chain(source, event, |&lt;script&gt;, &lt;script&gt;,...| )</code></pre>
</div>
</div>
<div class="paragraph">
<p>This utility function invokes an arbitrary
number of scripts in sequence. If any of the scripts return false,
subsequent scripst will not be executed. The arguments are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>source - The DOM element that triggered this
Ajax request, or an id string of the element to use as the triggering
element.</p>
</li>
<li>
<p>event - The DOM event that triggered this
Ajax request. A value does not have to be specified for this argument.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The variable number of script arguments
follow the source and event arguments. Refer to the JavaScript API
documentation in the source for more details.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a7037"><a class="anchor" href="#a7037"></a>Appendix A: Jakarta Faces Metadata</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The XML Schema Definition for Application
Configuration Resource files is included in a web browser optimized
format along with the Javadoc. That is the canonical location of the
schemas in the specification.</p>
</div>
<div class="sect2">
<h3 id="a7040"><a class="anchor" href="#a7040"></a>A.1. Required Handling of <em>*-extension</em> elements in the application configuration resources files</h3>
<div class="paragraph">
<p>As specified in the XML Schema for
Application Configuration Resources, many of the elements in the file
have <em>*-extension</em> elements declared in a similar fashion to this one
for the <em>faces-config-extension</em> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;xsd:complexType</span> <span class="attribute-name">name</span> =<span class="string"><span class="delimiter">&quot;</span><span class="content">faces-config-extensionType</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;xsd:annotation&gt;</span>
    <span class="tag">&lt;xsd:documentation&gt;</span>
      Extension element for faces-config. It may contain
      implementation specific content.
    <span class="tag">&lt;/xsd:documentation&gt;</span>
  <span class="tag">&lt;/xsd:annotation&gt;</span>
  <span class="tag">&lt;xsd:sequence&gt;</span>
    <span class="tag">&lt;xsd:any</span> <span class="attribute-name">namespace</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">##any</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">processContents</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">lax</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">minOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">maxOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unbounded</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;/xsd:sequence&gt;</span>
  <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:ID</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/xsd:complexType&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This section specifies the required handling
of such elements.</p>
</div>
<div class="paragraph">
<p>Note that it is normal for an application to
have several application configuration resources files. If multiple such
resource files have conflicting <em>*-extension</em> elements, the last element
processed takes precedence over preceding elements. Processing order can
be controlled as specified in <a href="UsingJSFInWebApplications.html#a6435">See Ordering
of Artifacts</a>.</p>
</div>
<div class="sect3">
<h4 id="faces-config-extension-handling"><a class="anchor" href="#faces-config-extension-handling"></a>A.1.1. <em>faces-config-extension</em> handling</h4>
<div class="paragraph">
<p>If an application configuration resource
contains a <em>faces-config-extension</em> element, the children of the element
must be inspected for containing well-formed XML conforming to the
syntax specified in the following subsection(s). DTD syntax is used for
convenience since the content of a <em>*-extension</em> element may not be
constrained due to its declaration as containing <em>&lt;xsd:any&gt;</em> .</p>
</div>
<div class="sect4">
<h5 id="a7061"><a class="anchor" href="#a7061"></a>A.1.1.1. The <em>facelets-processing</em> element</h5>
<div class="paragraph">
<p>DTD syntax..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!ELEMENT facelets-processing (file-extension, process-as) &gt;</span>
<span class="doctype">&lt;!ELEMENT file-extension ANY&gt;</span>
<span class="doctype">&lt;!ELEMENT process-as ANY&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>&lt;facelets-processing&gt;</em> element is used
to affect the processing of Facelets VDL files. Therefore, this setting
only applies to those requests that reach the Facelets
<em>ViewDeclarationLanguage</em> implementation, as specified to the runtime
via the <em>jakarta.faces.FACELETS_VIEW_MAPPINGS</em> and
<em>jakarta.faces.DEFAULT_SUFFIX</em> <em>&lt;context-param&gt;</em> entries. The
specification defines three processing modes for Facelets files:
Facelets XHTML syntax, XML View syntax, and Facelets JSPX syntax. This
last syntax is intended to ease the migration to Facelets for
applications already using the Jakarta Server Pages document syntax (also known as JSPX
syntax). The affect on the processing of files in each of these three
modes is specified in the following table.</p>
</div>
<table class="tableblock frame-topbot grid-rows stripes-even stretch">
<caption class="title">Table 28. Valid <em>&lt;process-as&gt;</em> values and their implications on the processing of Facelet VDL files.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><em>&lt;process-as&gt;html5&lt;/process-as&gt;<br>
HTML 5 (default)</em></th>
<th class="tableblock halign-left valign-top"><em>&lt;process-as&gt;xhtml&lt;/process-as&gt;<br>
Facelets XHTML</em></th>
<th class="tableblock halign-left valign-top">&lt;process-as&gt;xml&lt;/process-as&gt;<br>
XML View</th>
<th class="tableblock halign-left valign-top">&lt;process-as&gt;jspx&lt;/process-as&gt;<br>
Facelets JSPX</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML Doctype</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simplified to <em>&lt;!DOCTYPE html&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passed through</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>XML declaration</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passed through</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passed through</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Processing instructions</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passed through</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passed through</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>CDATA section start and end tags</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passed through</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passed through</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Escaping of inline text</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">escaped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">escaped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">escaped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not escaped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>XML Comments</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passed through</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passed through</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the preceding table, “passed through”
means that the content is passed through unmodified to the user agent.
“consumed” means the content is silently consumed on the server. Note
that for CDATA sections, the content of the CDATA section itself is
passed through, even if the start and end tags should be consumed.
“escaped” means that sensivite content in the response is automatically
escaped: <em>&amp;</em> becomes <em>&amp;</em> , for example. “not escaped” means that
such content is not escaped.</p>
</div>
<div class="paragraph">
<p>The content of the <em>&lt;file-extension&gt;</em> element
is particular to the file extension of the physical resource for the
Facelets VDL content, as specified in the
<em>jakarta.faces.FACELETS_VIEW_MAPPINGS</em> and <em>jakarta.faces.DEFAULT_SUFFIX</em>
<em>&lt;context-param&gt;</em> elements. Consider the following example
<em>faces-config.xml</em> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version='1.0' encoding='UTF-8'?&gt;</span>
<span class="tag">&lt;faces-config</span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span>
        <span class="content">http://java.sun.com/xml/ns/javaee/web-facesconfig_2_1.xsd</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;faces-config-extension&gt;</span>
    <span class="tag">&lt;facelets-processing&gt;</span>
      <span class="tag">&lt;file-extension&gt;</span>.jspx<span class="tag">&lt;/file-extension&gt;</span>
      <span class="tag">&lt;process-as&gt;</span>jspx<span class="tag">&lt;/process-as&gt;</span>
    <span class="tag">&lt;/facelets-processing&gt;</span>
    <span class="tag">&lt;facelets-processing&gt;</span>
      <span class="tag">&lt;file-extension&gt;</span>.view.xml<span class="tag">&lt;/file-extension&gt;</span>
      <span class="tag">&lt;process-as&gt;</span>xml<span class="tag">&lt;/process-as&gt;</span>
    <span class="tag">&lt;/facelets-processing&gt;</span>
  <span class="tag">&lt;/faces-config-extension&gt;</span>
<span class="tag">&lt;/faces-config&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And <em>web.xml</em> content</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;context-param&gt;</span>
  <span class="tag">&lt;param-name&gt;</span>jakarta.faces.FACELETS_VIEW_MAPPINGS<span class="tag">&lt;/param-name&gt;</span>
  <span class="tag">&lt;param-value&gt;</span>*.xhtml;*.view.xml;*.jspx<span class="tag">&lt;/param-value&gt;</span>
<span class="tag">&lt;/context-param&gt;</span>
<span class="tag">&lt;context-param&gt;</span>
  <span class="tag">&lt;param-name&gt;</span>jakarta.faces.DEFAULT_SUFFIX<span class="tag">&lt;/param-name&gt;</span>
  <span class="tag">&lt;param-value&gt;</span>.xhtml .view.xml .jsp .jspx<span class="tag">&lt;/param-value&gt;</span>
<span class="tag">&lt;/context-param&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration states that .xhtml,
.view.xml, and .jspx files must be treated as Facelets VDL files
declares the processing mode of .jspx files to be jspx and declares the
processing mode of .view.xml files to be xml.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a7134"><a class="anchor" href="#a7134"></a>A.2. XML Schema Definition For Facelet Taglib</h3>
<div class="paragraph">
<p>The XML Schema Definition for Facelet Taglib
is included in a web browser optimized format along with the Javadoc.
That is the canonical location of the schemas in the specification.</p>
</div>
<div class="paragraph">
<p>[P1_start_facelet_taglib_decl]To ease
migration for Facelet taglibraries declared using pre-JSF 2.0 versions
of Facelets, implementations must support loading facelet taglibrary
files that conform to the pre-JSF 2.0 Facelets DTD. Per DTD conventions,
Facelet taglibrary files declare conformance to this DTD by including
text similar to the following in at the top of their declaring file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE facelet-taglib PUBLIC
    &quot;-//Sun Microsystems, Inc.//DTD Facelet Taglib 1.0//EN&quot;
    &quot;http://java.sun.com/dtd/facelet-taglib_1_0.dtd&quot;&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Use of this DTD is officially
deprecated. This DTD is included for reference in
<a href="JSFMetadata.html#a7139">See Deprecated DTD for Facelet Taglibraries
Used by Versions of Facelets Prior to pre-Jakarta Faces JSF 2.0</a>. It is expected that
proper Jakarta Faces Facelet Taglibraries will declare conformance to the
following schema, rather than the deprecated
DTD.[P1_end_facelet_taglib_decl]</p>
</div>
<div class="sect3">
<h4 id="a7139"><a class="anchor" href="#a7139"></a>A.2.1. Deprecated DTD for Facelet Taglibraries Used by Versions of Facelets Prior to pre-Jakarta Faces JSF 2.0</h4>
<div class="paragraph">
<p>This DTD is deprecated and is included so
implementors will have a reference.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;!ELEMENT facelet-taglib (library-class|(namespace,(tag|function)+))&gt;
&lt;!ATTLIST facelet-taglib xmlns CDATA #FIXED "http://java.sun.com/JSF/Facelet"&gt;
&lt;!ELEMENT namespace (#PCDATA)&gt;
&lt;!ELEMENT library-class (#PCDATA)&gt;
&lt;!ELEMENT tag (tag-name,(handler-class|component|converter|validator|source))&gt;
&lt;!ELEMENT tag-name (#PCDATA)&gt;
&lt;!ELEMENT handler-class (#PCDATA)&gt;
&lt;!ELEMENT component (component-type,renderer-type?,handler-class?)&gt;
&lt;!ELEMENT component-type (#PCDATA)&gt;
&lt;!ELEMENT renderer-type (#PCDATA)&gt;
&lt;!ELEMENT converter (converter-id, handler-class?)&gt;
&lt;!ELEMENT converter-id (#PCDATA)&gt;
&lt;!ELEMENT validator (validator-id, handler-class?)&gt;
&lt;!ELEMENT validator-id (#PCDATA)&gt;
&lt;!ELEMENT source (#PCDATA)&gt;
&lt;!ELEMENT function (function-name,function-class,function-signature)&gt;
&lt;!ELEMENT function-name (#PCDATA)&gt;
&lt;!ELEMENT function-class (#PCDATA)&gt;
&lt;!ELEMENT function-signature (#PCDATA)&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="a7162"><a class="anchor" href="#a7162"></a>A.3. XML Schema Definition for Composite Components</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;xsd:schema</span>
    <span class="attribute-name">targetNamespace</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:javaee</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsd</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xml</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/XML/1998/namespace</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">elementFormDefault</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">qualified</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">attributeFormDefault</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unqualified</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.0</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

  <span class="tag">&lt;xsd:annotation&gt;</span>
    <span class="tag">&lt;xsd:documentation&gt;</span>
      $Id: web-facesuicomponent_2_0.xsd,v 1.1.8.2 2008/03/20 21:12:50 edburns Exp $
    <span class="tag">&lt;/xsd:documentation&gt;</span>
  <span class="tag">&lt;/xsd:annotation&gt;</span>

  <span class="tag">&lt;xsd:annotation&gt;</span>
    <span class="tag">&lt;xsd:documentation&gt;</span>
      Copyright 2007 Sun Microsystems, Inc.,
      901 San Antonio Road,
      Palo Alto, California 94303, U.S.A.
      All rights reserved.

      Sun Microsystems, Inc. has intellectual property
      rights relating to technology described in this document. In
      particular, and without limitation, these intellectual
      property rights may include one or more of the U.S. patents
      listed at http://www.sun.com/patents and one or more
      additional patents or pending patent applications in the
      U.S. and other countries.

      This document and the technology which it describes are
      distributed under licenses restricting their use, copying,
      distribution, and decompilation. No part of this document
      may be reproduced in any form by any means without prior
      written authorization of Sun and its licensors, if any.

      Third-party software, including font technology, is
      copyrighted and licensed from Sun suppliers.

      Sun, Sun Microsystems, the Sun logo, Solaris, Java, Java EE,
      JavaServer Pages, Enterprise JavaBeans and the Java Coffee
      Cup logo are trademarks or registered trademarks of Sun
      Microsystems, Inc. in the U.S. and other countries.

      Federal Acquisitions: Commercial Software - Government Users
      Subject to Standard License Terms and Conditions.

    <span class="tag">&lt;/xsd:documentation&gt;</span>
  <span class="tag">&lt;/xsd:annotation&gt;</span>

  <span class="tag">&lt;xsd:annotation&gt;</span>
    <span class="tag">&lt;xsd:documentation&gt;</span>
      <span class="inline-delimiter">&lt;![CDATA[</span>
      The XML Schema for a Jakarta Server Faces UIComponent (Version 2.0).

      The elements in this schema may be used in an XHTML page for
      a composite component, by pulling in the composite namespace:

&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;
      xmlns:composite=&quot;http://java.sun.com/jsf/composite&quot;&gt;

      &lt;composite:interface&gt;
        &lt;composite:attribute name=&quot;foo&quot; default=&quot;bar&quot; /&gt;
      &lt;/composite:/interface&gt;
      &lt;!-- the rest omitted --&gt;
&lt;/html&gt;

      The elements in this schema may also be used in a facelet taglibrary
      file in the same manner:

&lt;facelet-taglib xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;
                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
                xmlns:composite=&quot;http://java.sun.com/jsf/composite&quot;
                xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee
                http://java.sun.com/xml/ns/javaee/web-facelettaglibary_2_0.xsd&quot;
                version=&quot;2.0&quot;&gt;
  &lt;namespace&gt;http://domain.com/test_schema&lt;/namespace&gt;
  &lt;tag&gt;
    &lt;tag-name&gt;testSchema&lt;/tag-name&gt;
    &lt;component&gt;
      &lt;component-type&gt;jakarta.faces.Input&lt;/component-type&gt;
      &lt;renderer-type&gt;jakarta.faces.Text&lt;/renderer-type&gt;
      &lt;handler-class&gt;com.sun.faces.facelets.tag.jsf.ComponentHandler&lt;/handler-class&gt;
      &lt;component-extension&gt;
        &lt;composite:attribute name=&quot;foo&quot; default=&quot;bar&quot; /&gt;
      &lt;/component-extension&gt;
    &lt;/component&gt;
  &lt;/tag&gt;
&lt;/facelet-taglib&gt;

      The instance documents may indicate the published
      version of the schema using xsi:schemaLocation attribute
      for javaee namespace with the following location:

      http://java.sun.com/xml/ns/javaee/web-facesuicomponent_2_0.xsd

      <span class="inline-delimiter">]]&gt;</span>

    <span class="tag">&lt;/xsd:documentation&gt;</span>
  <span class="tag">&lt;/xsd:annotation&gt;</span>

  <span class="tag">&lt;xsd:include</span> <span class="attribute-name">schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">javaee_5.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="comment">&lt;!-- **************************************************** --&gt;</span>

  <span class="tag">&lt;xsd:element</span> <span class="attribute-name">name</span> = <span class="string"><span class="delimiter">&quot;</span><span class="content">attribute</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">javaee:uicomponent-attributeType</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;/xsd:element&gt;</span>

  <span class="comment">&lt;!-- **************************************************** --&gt;</span>

  <span class="tag">&lt;xsd:complexType</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">uicomponent-attributeType</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;xsd:annotation&gt;</span>
      <span class="tag">&lt;xsd:documentation&gt;</span>

        The &quot;attribute&quot; element declares an attribute of this
        ui component.

      <span class="tag">&lt;/xsd:documentation&gt;</span>
    <span class="tag">&lt;/xsd:annotation&gt;</span>

    <span class="tag">&lt;xsd:choice</span> <span class="attribute-name">minOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">maxOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unbounded</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;xsd:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">attribute</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">javaee:uicomponent-attributeType</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/xsd:choice&gt;</span>

    <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">displayName</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">optional</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">shortDescription</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">optional</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">default</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">optional</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">method-signature</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">optional</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;xsd:annotation&gt;</span>
        <span class="tag">&lt;xsd:documentation&gt;</span>
          <span class="inline-delimiter">&lt;![CDATA[</span>
            Provides the signature of the Java method. The syntax of
            the method-signature element is as follows (taken from
            function-signature in web-jsptaglibrary_2_1.xsd):

            MethodSignature ::= ReturnType S MethodName S?
                               '(' S? Parameters? S? ')'

            ReturnType ::= Type

            MethodName ::= Identifier

            Parameters ::= Parameter
                         | ( Parameter S? ',' S? Parameters )

            Parameter ::= Type
                Where:

                   * Type is a basic type or a fully qualified
                     Java class name (including package name),
                     as per the 'Type' production in the Java
                     Language Specification, Second Edition,
                     Chapter 18.

                   * Identifier is a Java identifier, as per
                     the 'Identifier' production in the Java
                     Language Specification, Second
                     Edition, Chapter 18.

                   Example:

                     java.lang.String nickName( java.lang.String, int )

          <span class="inline-delimiter">]]&gt;</span>
        <span class="tag">&lt;/xsd:documentation&gt;</span>
      <span class="tag">&lt;/xsd:annotation&gt;</span>
    <span class="tag">&lt;/xsd:attribute&gt;</span>

    <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">applyTo</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">optional</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:boolean</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">optional</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">preferred</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:boolean</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">optional</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;xsd:attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">expert</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:boolean</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">optional</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="tag">&lt;/xsd:complexType&gt;</span>

  <span class="comment">&lt;!-- **************************************************** --&gt;</span>

<span class="tag">&lt;/xsd:schema&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="change-log"><a class="anchor" href="#change-log"></a>Appendix B: Change Log</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Note: this refers to historic issues and titles using the term "JSF". This refers to the
pre-Jakarta Faces specification under the JCP.</p>
</div>
<div class="sect2">
<h3 id="changes-between-2-2-and-2-3"><a class="anchor" href="#changes-between-2-2-and-2-3"></a>B.1. Changes between 2.2 and 2.3</h3>
<div class="paragraph">
<p>This section gives the reader a survey of the changes between version 2.3
of the specification and version 2.2, using the categories from the issue
tracker at <a href="https://github.com/eclipse-ee4j/faces-api/issues/" class="bare">https://github.com/eclipse-ee4j/faces-api/issues/</a>.</p>
</div>
<div class="sect3">
<h4 id="big-ticket-features"><a class="anchor" href="#big-ticket-features"></a>B.1.1. Big Ticket Features</h4>
<div class="ulist">
<ul>
<li>
<p>WebSocket Integration<br>
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1396">1396</a><br>
See the VDLDocs for &lt;f:websocket /&gt; and
<a href="#a5904">&lt;f:websocket&gt;</a>.</p>
</li>
<li>
<p>Multi-field Validation<br>
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1">1</a><br>
See the VDLDocs for &lt;f:validateWholeBean /&gt;.</p>
</li>
<li>
<p>Java Time Support<br>
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1370">1370</a><br>
See the VDLDocs for &lt;f:convertDateTime /&gt;.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Use CDI for evaluation of JSF specific EL implicit Objects<br>
Issue ID
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1311">1311</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1322">1322</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1325">1325</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1327">1327</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1328">1328</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1334">1334</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1332">1332</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1331">1331</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1384">1384</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1385">1385</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1383">1383</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1386">1386</a> - <a href="https://github.com/eclipse-ee4j/faces-api/issues/1394">1394</a><br>
See <a href="#a3070">Expression Language Resolution</a></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1417">1417</a><br>
Deprecate javax.faces.bean.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Support @Inject on JSF specific artifacts<br>
Issue ID
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1316">1316</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/527">527</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1309">1309</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1323">1323</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1283">1283</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1353">1353</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1335">1335</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1333">1333</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1349">1349</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1351">1351</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1350">1350</a>,
<a href="https://github.com/eclipse-ee4j/faces-api/issues/1345">1345</a><br>
See <a href="#a3054">Jakarta Faces Objects Valid for @Inject Injection</a></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1364">1364</a><br>
UIData and &lt;ui:repeat&gt; supports Map and Iterable</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1102">1102</a><br>
ui:repeat condition check.<br></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1418">1418</a><br>
CDI Replacement for @ManagedProperty.
See javadocs for javax.faces.annotation.ManagedProperty.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1103">1103</a>, <a href="https://github.com/eclipse-ee4j/faces-api/issues/1364">1364</a><br>
See the Javadoc for javax.faces.component.UIData,
and javax.faces.model.IterableDataModel.</p>
</li>
<li>
<p>DataModel implementations can be registered<br>
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1078">1078</a><br>
See the javadoc for annotation javax.faces.model.FacesDataModel.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1412">1412</a><br>
See the javadoc for annotation
javax.faces.partialViewContext.getEvalScripts().</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/613">613</a><br>
Ajax Method Invocation. See vdldoc for &lt;h:commandScript&gt;.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1238">1238</a><br>
Enhanced component search facility.
See the javadoc for package javax.faces.component.search.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="other-features-by-functional-area"><a class="anchor" href="#other-features-by-functional-area"></a>B.1.2. Other Features, by Functional Area</h4>
<div class="sect4">
<h5 id="componentsrenderers"><a class="anchor" href="#componentsrenderers"></a>B.1.2.1. Components/Renderers</h5>
<div class="ulist">
<div class="title">Larger Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/217">217</a><br>
styleClass attribute added to h:column</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/329">329</a><br>
Add “group” attribute to &lt;h:selectOneRadio&gt;.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1423">1423</a>, <a href="https://github.com/eclipse-ee4j/faces-api/issues/1404">1404</a><br>
ResourceHandler.markResourceRendered(), and isResourceRendered(),
UIViewRoot.getComponentResources() enable the discovery of
dynamically added resources, even within Ajax requests.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1404">1404</a><br>
Add API to check if a resource has already been rendered.
See Javadoc for
javax.faces.application.ResourceHandler.markResourceRendered()
and isResourceRendered().</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1436">1436</a><br>
In <a href="#a457">Render Response</a>,
specify how Server Push is utilized.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Smaller Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1422">1422</a><br>
UISelectMany detects converter based on first item.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1007">1007</a><br>
Explicit support for dynamic component manipulation</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/819">819</a><br>
Add “disabled” attribute for h:button</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1300">1300</a><br>
UIViewRoot.getViewMap() and publishEvent().</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1229">1229</a><br>
Document UIData.setRowStatePreserved() in VDLDoc and RenderKit Doc.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1135">1135</a><br>
Add PostRenderViewEvent.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1258">1258</a><br>
Clarify text escaping for &lt;h:outputText&gt; or equivalent EL expressions.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/807">807</a><br>
Pass FacesContext to system event listeners.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1113">1113</a><br>
Remove onselect attribute from SELECT components.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1433">1433</a><br>
Add a context-param to enable forcing validation to happen even when
there is no parameter corresponding to the current component.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="lifecycle"><a class="anchor" href="#lifecycle"></a>B.1.2.2. Lifecycle</h5>
<div class="ulist">
<div class="title">Larger Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/790">790</a><br>
javax.faces.ViewState and ajax with cross form submit.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Smaller Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/473">473</a><br>
FacesEvent.getFacesContext().</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1241">1241</a><br>
faces-config supports client-window-factory.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1346">1346</a><br>
Simplify decoration of FaceletCacheFactory.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1361">1361</a><br>
Correct oversight regarding re-entrancy of flow scoped beans.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/821">821</a><br>
Implement ExternalContext.getRealPath() on startup and shutdown.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1401">1401</a><br>
Explicitly prohibit using NavigationHandler from within ExceptionHandler invoked during RENDER RESPONSE.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1306">1306</a><br>
@FlowScoped should be @NormalScope(passivating=true).</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1382">1382</a><br>
Generify return from ExternalContext.getInitParameterMap().</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1329">1329</a><br>
@NotNull and &lt;f:viewParam&gt;.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1403">1403</a><br>
Allow entry into flow via &lt;f:viewAction&gt;.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1216">1216</a><br>
Improve consistency in handling PhaseListener instances
registered on UIViewRoot components.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1435">1435</a><br>
Add ResourceHandler.getViewResources() method.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="platform-integration"><a class="anchor" href="#platform-integration"></a>B.1.2.3. Platform Integration</h5>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1379">1379</a><br>
ExternalContext.getResponseCharacterEncoding() and Portlet 3.0.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="faceletsvdl"><a class="anchor" href="#faceletsvdl"></a>B.1.2.4. Facelets/VDL</h5>
<div class="ulist">
<div class="title">Larger Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1424">1424</a><br>
Add tag &lt;f:importConstants&gt;, see VDLDoc for that tag.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Smaller Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1362">1362</a><br>
Revisit some cardinality rules regarding &lt;tag&gt; and &lt;component&gt; elements.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/936">936</a><br>
Set FACELETS_REFRESH_PERIOD to -1 if ProjectStage is Production.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="spec-clarifications"><a class="anchor" href="#spec-clarifications"></a>B.1.2.5. Spec Clarifications</h5>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1254">1254</a><br>
Loosen language regarding the contracts attribute on &lt;f:view&gt;.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1338">1338</a><br>
Clarify pseudocode for resource libraries.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1279">1279</a><br>
Specify UIInput.isEmpty()</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1242">1242</a><br>
Remove mentione of OpenAjax hub.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1215">1215</a><br>
Additional warning on DelegatingMetaTagHandler.getTagHandlerDelegate.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1131">1131</a><br>
“name” attribute not required.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1270">1270</a><br>
TagDecorator spec namespace modifications.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1401">1401</a><br>
Advisory text for ExceptionHandler.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1402">1402</a><br>
Explicitly declare that flow eagerness not supported.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/677">677</a><br>
Document automatic UIPanel behavior for f:facet.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1095">1095</a><br>
Description for “rendered” attribute for repeat and fragment.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1066">1066</a><br>
Application.getNavigationHandler() and application element.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/803">803</a><br>
VisitHint.EXECUTE_LIFECYCLE clarifications.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1217">1217</a><br>
EnumConverter.getAsString() clarifications.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1356">1356</a><br>
UIInput.processValidators() clarifications.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1424">1424</a><br>
Public constants for source, behavior, and partial.event.
See the Javadocs for
javax.faces.component.behavior.ClientBehaviorContext, and javax.faces.conetxt.PartialViewContext.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1428">1428</a><br>
API constants for jsf.js and javax.faces in JavaScript.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1260">1260</a><br>
Support for exact mapping of FacesServlet.
See <a href="#a3913">ViewHandler Methods that Derive Information From the Incoming Request</a>
and <a href="#a3955">ViewHandler Methods Relating to Navigation</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1250">1250</a><br>
Fix entries in table
<a href="#a2541">Jakarta Faces Artifacts Eligible for Injection</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="resources"><a class="anchor" href="#resources"></a>B.1.2.6. Resources</h5>

</div>
<div class="sect4">
<h5 id="expression-language"><a class="anchor" href="#expression-language"></a>B.1.2.7. Expression Language</h5>

</div>
<div class="sect4">
<h5 id="configuration-and-bootstrapping"><a class="anchor" href="#configuration-and-bootstrapping"></a>B.1.2.8. Configuration and Bootstrapping</h5>

</div>
<div class="sect4">
<h5 id="miscellaneous"><a class="anchor" href="#miscellaneous"></a>B.1.2.9. Miscellaneous</h5>
<div class="ulist">
<div class="title">Smaller Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1225">1225</a><br>
Clarify requirements to support BCP-47 regarding localization.
See <a href="#a554">Determining the active <em>Locale</em></a></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1429">1429</a><br>
Add constructor to make wrapping easier.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1430">1430</a><br>
Leverage Java SE 8 repeatable annotations where appropriate.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="backward-compatibility-with-previous-versions-2"><a class="anchor" href="#backward-compatibility-with-previous-versions-2"></a>B.1.3. Backward Compatibility with Previous Versions</h4>
<div class="paragraph">
<p>JSF 2.3 is fully backward compatible with previous releases of JSF,
unless any of the following context-parameter values are specified.
See <a href="UsingJSFInWebApplications.html#a6088">UsingJSFInWebApplications.html</a> for details.</p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>javax.faces.ALWAYS_PERFORM_VALIDATION_WHEN_REQUIRED_IS_TRUE</p>
</li>
<li>
<p>javax.faces.DISABLE_FACESSERVLET_TO_XHTML</p>
</li>
<li>
<p>javax.faces.VIEWROOT_PHASE_LISTENER_QUEUES_EXCEPTIONS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>JSF 2.3 is fully backward compatible with previous releases of JSF
unless a CDI managed bean is included in the application
with the annotation @javax.faces.annotation.FacesConfig.
See the javadocs for that annotation for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="breakages-in-backward-compatibility"><a class="anchor" href="#breakages-in-backward-compatibility"></a>B.1.4. Breakages in Backward Compatibility</h4>

</div>
</div>
<div class="sect2">
<h3 id="changes-between-2-1-and-2-2"><a class="anchor" href="#changes-between-2-1-and-2-2"></a>B.2. Changes between 2.1 and 2.2</h3>
<div class="paragraph">
<p>This section gives the reader a survey of the
changes between this version of the specification and the previous
version, using the categories from the issue tracker at &lt;
<a href="https://github.com/eclipse-ee4j/faces-api/issues/" class="bare">https://github.com/eclipse-ee4j/faces-api/issues/</a> &gt;.</p>
</div>
<div class="sect3">
<h4 id="big-ticket-features-2"><a class="anchor" href="#big-ticket-features-2"></a>B.2.1. Big Ticket Features</h4>
<div class="ulist">
<ul>
<li>
<p>HTML5 Friendly Markup<br>
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1090">1090</a><br>
Start with
<a href="#a5581">HTML5 Friendly Markup</a></p>
</li>
<li>
<p>Resource Library Contracts<br>
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1142">1142</a><br>
Start with <a href="#a5526">Resource Library Contracts Background</a>.</p>
</li>
<li>
<p>Faces Flows<br>
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/730">730</a><br>
Start with <a href="#a3840">FlowHandler</a>.</p>
</li>
<li>
<p>Stateless Views<br>
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1055">1055</a><br>
Start with <a href="#a4126">Stateless Views</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="other-features-by-functional-area-2"><a class="anchor" href="#other-features-by-functional-area-2"></a>B.2.2. Other Features, by Functional Area</h4>
<div class="sect4">
<h5 id="componentsrenderers-2"><a class="anchor" href="#componentsrenderers-2"></a>B.2.2.1. Components/Renderers</h5>
<div class="ulist">
<div class="title">Larger Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/479">479</a><br>
UIData supports the Collection Interface rather than List.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1134">1134</a><br>
Add the "role" pass through attribute.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Smaller Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1080">1080</a><br>
Warn about some important corner cases when
<em>UIComponent.findComponent()</em> may not provide the expected results.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1068">1068</a><br>
New section describing what happens with
respect to partial processing during render response. See
<a href="#a480">Render Response Partial Processing</a>.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1067">1067</a><br>
Spec clarifications. See the VDLDoc for <em>cc:insertChildren</em> ,
<em>cc:insertFacet</em></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1061">1061</a><br>
Clarify that both
<em>Application.publishEvent()</em> and the manual traversal based delivery are
required for publishing the <em>PostRestoreStateEvent</em> .</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1030">1030</a><br>
Clarify docs for h:message h:messages</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1023">1023</a><br>
Modify JavaDoc to relax requirements for PostAddToViewEvent publishing</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1019">1019</a><br>
Modify spec for ResponseWriter.writeURIAttribute() to explicitly require
adherence to the W3C URI spec</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/997">997</a><br>
javax.faces.component.ComponentSystemEvent: Override
isAppropriateListener so that it first asks the listener, "are you a
ComponentSystemEventListener", then, if not, asks
super.isAppropriateListener()</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/984">984</a><br>
Component Context Manager, see
<em>javax.faces.component.visit.ComponentModificationManager</em> .</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/943">943</a><br>
See <em>javax.faces.view.ViewDeclarationLanguageWrapper</em></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/784">784</a><br>
Deprecate the CURRENT_COMPONENT and CURRENT_COMPOSITE_COMPONENT
attributes</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/599">599</a><br>
Make it possible to programmatically create components in the same way
as they are created by Facelets. See
<em>javax.faces.application.Application.createComponent(FacesContext,
String taglibUri, String tagName, Map attrs)</em></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/703">703</a><br>
Make "value" optional for @FacesComponent.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/585">585</a><br>
outputText and inputText do not render children by default</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/550">550</a><br>
OutputStylesheet "media" attribute</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1125">1125</a><br>
<em>javax.faces.application.Application</em> event subscription clarifications.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="lifecycle-2"><a class="anchor" href="#lifecycle-2"></a>B.2.2.2. Lifecycle</h5>
<div class="ulist">
<div class="title">Larger Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/949">949</a>, <a href="https://github.com/eclipse-ee4j/faces-api/issues/947">947</a><br>
Give JSF the ability to correctly handle browsing context (tab, browser
window, pop-up, etc). See <em>javax.faces.lifecycle.ClientWindow</em> .</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/758">758</a> and <a href="https://github.com/eclipse-ee4j/faces-api/issues/1042">1042</a></p>
<div class="paragraph">
<p>A jsf-api/src/main/java/javax/faces/component/UIViewAction.java</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>The heart of this changebundle, this class
came over from the JBoss Seam Faces Module, but I&#8217;ve rewritten most of
the javadoc.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>M jsf-api/src/main/java/javax/faces/event/PhaseId.java</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>new methods</p>
</li>
<li>
<p>public String getName()</p>
</li>
<li>
<p>public static PhaseId phaseIdValueOf(String
phase)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Change <a href="#a3571">Default NavigationHandler Algorithm</a> to account for UIViewAction</p>
</div>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1062">1062</a> and <a href="https://github.com/eclipse-ee4j/faces-api/issues/802">802</a><br>
File Upload</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/766">766</a><br>
Events from the flash</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1050">1050</a><br>
Add support for delay value in options for Ajax requests</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Smaller Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1129">1129</a><br>
In validate(), clarify that setSubmittedValue() null must be called if
validation succeeds.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1071">1071</a>
Add FlashFactory. See
<a href="UsingJSFInWebApplications.html#a6336">Delegating Implementation Support</a>.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1065">1065</a><br>
When calculating the locale for the
resource library prefix, if there is a UIViewRoot, use its locale first,
otherwise, just use the Applications’s ViewHandler’s calculateLocale()
method. See <a href="#a836">Libraries of Localized and
Versioned Resources</a></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1039">1039</a><br>
In ApplicationWrapper, mark things as deprecated</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1028">1028</a><br>
Deprecate StateManager, point to StateManagementStrategy. In
StateManagementStrategy, require the use of the visit API to perform the
saving.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/993">993</a><br>
Wrapper for ActionListener</p>
</li>
<li>
<p>Tweak circumstances for skipping intervening
lifecycle phases in the case of view metadata
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/762">762</a></p>
<div class="paragraph">
<p>Section 2.2.1. Now has this text.</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>Otherwise, call getViewMetadata() on the
ViewDeclarationLanguage instance. If the result is non-null, call
createMetadataView() on the ViewMetadata instance. Call
ViewMetadata.getViewParameters(). If the result is a non-empty
Collection, do not call facesContext.renderResponse(). If the result is
an empty collection, try to obtain the metadata facet of the UIViewRoot
by asking the UIViewRoot for the facet named
UIViewRoot.METADATA_FACET_NAME. This facet must exist. If the facet has
no children, call facesContext.renderResponse(). Otherwise, none of the
previous steps have yielded the discovery any of metadata, so call
facesContext.renderResponse().</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/566">566</a><br>
UIOutput.getValue() value returns.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/220">220</a><br>
In web-partialresponse_2_2.xsd, require that
the &lt;partial-response&gt; element has an “id” attribute whose value is the
return from <em>UIViewRoot.getContainerClientId()</em> .</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="platform-integration-2"><a class="anchor" href="#platform-integration-2"></a>B.2.2.3. Platform Integration</h5>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/763">763</a><br>
Change <a href="#a2536">Managed Bean Annotations</a> to account for new injectability requirements.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/976">976</a><br>
In Javadoc for “Faces Managed Bean Annotation Specification For
Containers Conforming to Servlet 2.5 and Beyond”, indicate that
<em>javax.faces.bean</em> will be deprecated in the next version.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1087">1087</a><br>
Introduce CDI based @ViewScoped annotation.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="faceletsvdl-2"><a class="anchor" href="#faceletsvdl-2"></a>B.2.2.4. Facelets/VDL</h5>
<div class="ulist">
<div class="title">Larger Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1001">1001</a><br>
Allow cc and non-cc components in one taglib</p>
<div class="paragraph">
<p>A jsf-api/doc/web-facelettaglibrary_2_2.xsd</p>
</div>
<div class="paragraph">
<p>First change to the facelet taglib schema in
2.2: introduce the ability to declare a resource which will be the
composite component for a tag. Now, before you get all excited about
what conventions we can use to make this easier, let me stop you right
there. Here is a summary of the ease of use story regarding taglib
files.</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>The 80/20 rule says we should make taglib
files optional most of the time. Here are the 80% cases.</p>
</li>
<li>
<p>Employs the cc naming convention
http://java.sun.com/jsf/composite/&lt;libraryName&gt;</p>
</li>
<li>
<p>The user employs a java component has a
@FacesComponent on it that declares the necessary metadata.
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/594">594</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Here are some of the cases where you must
have a taglib file, the 20% cases.</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>If you want to employ a cc with a namespace
other than http://java.sun.com/jsf/composite/&lt;libraryName&gt; you need to
have a taglib file that declares &lt;composite-library-name&gt;. Currently you
must not detlare any &lt;tag&gt; elements in such a taglib file. All the tags
in such a library must come from the same resource library.</p>
</li>
<li>
<p>If the user is not employs a java component
but is not using @FacesComponent.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>This patch introduces the following syntax.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;facelet-taglib</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/javaee</span>
    <span class="content">http://java.sun.com/xml/ns/javaee/web-facelettaglibary_2_2.xsd</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.2</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;namespace&gt;</span>test<span class="tag">&lt;/namespace&gt;</span>
  <span class="tag">&lt;tag&gt;</span>
    <span class="tag">&lt;tag-name&gt;</span>layout<span class="tag">&lt;/tag-name&gt;</span>
    <span class="tag">&lt;resource-id&gt;</span>myCC/whatever.xhtml<span class="tag">&lt;/resource-id&gt;</span>
  <span class="tag">&lt;/tag&gt;</span>
<span class="tag">&lt;/facelet-taglib&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <em>&lt;resource-id&gt;</em> is a valid resource
identifier as specified in section 2.6.1.3.</p>
</div>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/548">548</a><br>
Require additional check to handle the case
where, in one resource library, there are both localized and
non-localized resources. See <a href="#a836">See Libraries
of Localized and Versioned Resources</a>.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Smaller Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1038">1038</a><br>
Declare an annotation corresponding to the
<em>javax.faces.FACELETS_RESOURCE_RESOLVER</em> application configuration
parameter. See <a href="UsingJSFInWebApplications.html#a6598">See Requirements for scanning
of classes for annotations</a> and <a href="UsingJSFInWebApplications.html#a6088">See
Application Configuration Parameters</a>.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1082">1082</a><br>
Account for DOCTYPE discrepancy between
server side representation of Facelet VDL files, which are proper XHTML,
and processed files which are sent to the client, which now, by default,
are HTML5 HTML syntax files. See <a href="JSFMetadata.html#a7061">See The
facelets-processing element</a>.</p>
</li>
<li>
<p>Fix incorrect VDLDoc
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/967">967</a>
f:selectItems itemValue description incorrect.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/922">922</a><br>
Remove maxlength from f:viewParam</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/998">998</a><br>
Document that ui:fragment should not be bound to a bean with wider than
request scope, document that the type of the property must extend from
UIComponent.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/999">999</a><br>
Changes to "template" attribute requiredness for ui:decorate and
ui:composition</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/901">901</a><br>
Deprecate “targets” concept.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1088">1088</a><br>
add short-name to schema.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/746">746</a><br>
Missing <em>method-signature</em> element in taglib xsd.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="spec-clarifications-2"><a class="anchor" href="#spec-clarifications-2"></a>B.2.2.5. Spec Clarifications</h5>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1136">1136</a><br>
In <em>ExternalContext.dispatch()</em> , clarify what is to be done if
<em>getRequestDispatcher()</em> returns <em>null</em> .</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1132">1132</a><br>
Replace literal strings with symbolic constants where possible.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1127">1127</a><br>
State Saving Serializability concerns.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1114">1114</a><br>
<em>javax.faces.view.facelets.Facelet.apply()</em> spec version reference
error.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1100">1100</a>, <a href="https://github.com/eclipse-ee4j/faces-api/issues/1097">1097</a><br>
HTML5 id attribute sensitivity</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1064">1064</a><br>
In <a href="JSFMetadata.html#a7061">The
facelets-processing element</a>, clarify that in XML and JSPX modes, only
the CDATA section start and end tags, not the entire CDATA section and
contents, should be consumed.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1063">1063</a><br>
<em>javax.faces.component.UIViewParameter.getSubmittedValue()</em> return
value.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1058">1058</a><br>
ui:repeat tag size attribute</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1036">1036</a><br>
In <a href="#a911">ValueExpression properties</a>, clarify which attributes are expression
enabled,</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1035">1035</a><br>
Change section
<a href="#a3300">FacesMessage</a> to clarify the meaning of
having <em>FacesMessage</em> instances on the <em>FacesContext.</em></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1026">1026</a><br>
f:ajax event attribute is String (not VE)</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1014">1014</a></p>
<div class="paragraph">
<p>12.1.3</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>The specification for the context-param that
declares the list of TagDecorator implementations to the runtime should
have always been javax.faces.FACELETS_DECORATORS. Prior to this
revision, the name of this context param was incorrectly specified as
javax.faces.DECORATORS. The reference implementation has always used the
correct name, however.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1010">1010</a><br>
Check existing usages of the state saving method parameter to ensure
case insensitivity.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1004">1004</a></p>
<div class="paragraph">
<p>M usingFacesInWebapps.fm</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>12.1.3 Set default for
javax.faces.FACELETS_BUFFER_SIZE to be 1024.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/998">998</a><br>
Additional clarification about binding attribute in VDLdocs</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/915">915</a>, <a href="https://github.com/eclipse-ee4j/faces-api/issues/1015">1015</a><br>
Non-normative text about http methods and prefix mapping</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/2740">2740</a><br>
In <a href="#a923">Component Bindings</a>, clarify a corner
case regarding bean scope and component binding.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="resources-2"><a class="anchor" href="#resources-2"></a>B.2.2.6. Resources</h5>
<div class="ulist">
<div class="title">Larger Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/809">809</a><br>
This commit introduces a cleaner contract for allowing views to be
loaded from the Filesystem (including inside of JAR files). All VDL
resources must be loaded using ResourceHandler.createViewResource().</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Smaller Changes</div>
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/996">996</a><br>
Enable configuring the web app resources
directory. See <a href="UsingJSFInWebApplications.html#a6088">Application Configuration
Parameters</a>.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/719">719</a><br>
Method to map a viewId to a resourcePath</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1130">1130</a><br>
Modify <a href="#a4135">State Saving Alternatives and
Implications</a> to clarify there is no requirement to serialize server
state by default when state saving method is server. Introduce a context
parameter to this effect in <a href="UsingJSFInWebApplications.html#a6088">Application
Configuration Parameters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="expression-language-2"><a class="anchor" href="#expression-language-2"></a>B.2.2.7. Expression Language</h5>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1092">1092</a></p>
<div class="paragraph">
<p>Remove text from
MethodExpressionValueChangeListener and MethodExpressionActionListener
regarding wrapping any exception thrown by the invoked method being
wrapped in an AbortProcessingException. Such a requirement is incorrect
and should not have been introduced.</p>
</div>
<div class="paragraph">
<p>In section <a href="#a3253">See
ExceptionHandler</a>, add <em>AbortProcessingException</em> , to the list of
exceptions that do not get to the <em>ExceptionHandler</em> .</p>
</div>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1043">1043</a><br>
When publishing a ComponentSystemEvent, ensure the EL current component
is pushed correctly</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1164">1164</a><br>
If running in a container that supports EL 3.0, add the necessary
ELResolvers. See <a href="#a2966">See Stream, StaticField,
Map, List, Array, and Bean ELResolvers</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="configuration-and-bootstrapping-2"><a class="anchor" href="#configuration-and-bootstrapping-2"></a>B.2.2.8. Configuration and Bootstrapping</h5>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/533">533</a><br>
Modify <a href="UsingJSFInWebApplications.html#a6201">Application Startup Behavior</a> to account for requirement to call new API
when starting up.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="miscellaneous-2"><a class="anchor" href="#miscellaneous-2"></a>B.2.2.9. Miscellaneous</h5>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1169">1169</a></p>
<div class="paragraph">
<p>New XML Namespace for XSD files introduced in
JSF 2.2, and also for facelet tag libraries.</p>
</div>
<div class="paragraph">
<p>The following XSD files are new for JSF 2.2,
and each will be in the XML namespace
<em><a href="http://xmlns.jcp.org/xml/ns/javaee" class="bare">http://xmlns.jcp.org/xml/ns/javaee</a></em> .</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p><em>web-facelettaglibrary_2_2.xsd</em></p>
</li>
<li>
<p><em>web-facesconfig_2_2.xsd</em></p>
</li>
<li>
<p><em>web-partialresponse_2_2.xsd</em></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Facelet Tag Libraries will now respond to the
following URIs</p>
</div>
<div class="openblock">
<div class="content">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 24%;">
<col style="width: 38%;">
<col style="width: 38%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Library</th>
<th class="tableblock halign-left valign-top">Old URI</th>
<th class="tableblock halign-left valign-top">New URI</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Composite Components</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsf/composite" class="bare">http://java.sun.com/jsf/composite</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://xmlns.jcp.org/jsf/composite" class="bare">http://xmlns.jcp.org/jsf/composite</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Faces Core</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsf/core" class="bare">http://java.sun.com/jsf/core</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://xmlns.jcp.org/jsf/core" class="bare">http://xmlns.jcp.org/jsf/core</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTML_BASIC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsf/html" class="bare">http://java.sun.com/jsf/html</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://xmlns.jcp.org/jsf/html" class="bare">http://xmlns.jcp.org/jsf/html</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSTL Core</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://java.sun.com/jsp/jstl/core" class="bare">http://java.sun.com/jsp/jstl/core</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://xmlns.jcp.org/jsp/jstl/core" class="bare">http://xmlns.jcp.org/jsp/jstl/core</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSTL Functions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsp/jstl/functions" class="bare">http://java.sun.com/jsp/jstl/functions</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://xmlns.jcp.org/jsp/jstl/functions" class="bare">http://xmlns.jcp.org/jsp/jstl/functions</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Facelets Templating</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsf/facelets" class="bare">http://java.sun.com/jsf/facelets</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://xmlns.jcp.org/jsf/facelets" class="bare">http://xmlns.jcp.org/jsf/facelets</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pass Through Attributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsf/passthrough" class="bare">http://java.sun.com/jsf/passthrough</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://xmlns.jcp.org/jsf/passthrough" class="bare">http://xmlns.jcp.org/jsf/passthrough</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pass Through Elements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/jsf" class="bare">http://java.sun.com/jsf</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://xmlns.jcp.org/jsf" class="bare">http://xmlns.jcp.org/jsf</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="paragraph">
<p>Developers are requested to use the values
from the New URI column, though both columns will work.</p>
</div>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/997">997</a></p>
<div class="paragraph">
<p>M jsf-api/src/main/java/javax/faces/event/ComponentSystemEvent.java</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>Override isAppropriateListener so that it
first asks the listener, "are you a ComponentSystemEventListener", then,
if not, asks super.isAppropriateListener()</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>M jsf-api/src/main/java/javax/faces/event/SystemEvent.java</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>in isAppropriateListener(), document the
default implementation.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>M jsf-api/src/main/java/javax/faces/component/UIComponent.java</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>Make inner class
ComponentSystemEventListenerAdapter implement
ComponentSystemEventListener.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/917">917</a></p>
<div class="paragraph">
<p>javax.faces.application.ResourceWrapper:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>getContentType()</p>
</li>
<li>
<p>getLibraryName()</p>
</li>
<li>
<p>getResourceName()</p>
</li>
<li>
<p>setContentType(String)</p>
</li>
<li>
<p>setLibraryName(String)</p>
</li>
<li>
<p>setResourceName(String)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>javax.faces.context.ExternalContextWrapper:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>getSessionMaxInactiveInterval()</p>
</li>
<li>
<p>isSecure()</p>
</li>
<li>
<p>setSessionMaxInactiveInterval()</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>javax.faces.context.PartialViewContextWrapper</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>setPartialRequest(boolean)</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>12.1.3 add this text to the
javax.faces.STATE_SAVING_METHOD spec. When examining the value, the
runtime must ignore the case.</p>
</li>
<li>
<p>Add
ExternalContext.getApplicationContextPath()
Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1012">1012</a></p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/787">787</a><br>
restore ViewScope before templates are processed with buildView()</p>
</li>
<li>
<p>7.6.2.6 typo in spec for renderView(). Should be<br>
Return immediately if calling isRendered() on
the argument UIViewRoot returns false.</p>
</li>
<li>
<p>Per Matt Benson, remove duplicate
descriptions of the cc and component implicit object from the getValue()
specification for the composite component ELResolver in section 5.6.2.1.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/869">869</a></p>
<div class="paragraph">
<p>Specify Cross Site Request Forgery
protection.</p>
</div>
<div class="paragraph">
<p>Add text in <a href="#a404">Restore View</a> to describe how non-postback requests are inspected for
protection, if necessary.</p>
</div>
<div class="paragraph">
<p>Remove text for writeState() in
<a href="#a4288">ResponseStateManager</a>, point to the
JavaDocs.</p>
</div>
<div class="paragraph">
<p>Add View Protection methods to
<a href="#a3874">Overview</a> for ViewHandler.</p>
</div>
<div class="paragraph">
<p>Introduce subsections to
<a href="#a3910">Default ViewHandler Implementation</a> that
group the methods by their purpose. Add a new section
<a href="#a3997">ViewHandler Methods that relate to View
Protection</a>, which points to the javadocs. In
<a href="#a3955">ViewHandler Methods Relating to
Navigation</a>, in the spec for <em>getActionUrl()</em> , specify how view
protection is affected.</p>
</div>
</li>
<li>
<p>Remove tables in section
<a href="UsingJSFInWebApplications.html#a6598">Requirements for scanning of classes for
annotations</a><br>
The Javadoc tool lists annotations in a
separate section, making the tables that list JSF related annotations
redundant.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1082">1082</a><br>
Add new section
<a href="#a5635">DOCTYPE and XML Declaration</a>.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1141">1141</a><br>
In <a href="#a758">Resource
Identifiers</a>, declare that resourceName and resourceVersion, in addition
to the already listed other segments, are subject to the same
constraints.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1129">1129</a><br>
In <a href="#a480">Render
Response Partial Processing</a>, require calling <em>UIViewRoot.resetValues()</em>
if necessary.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="backward-compatibility-with-previous-versions-3"><a class="anchor" href="#backward-compatibility-with-previous-versions-3"></a>B.2.3. Backward Compatibility with Previous Versions</h4>
<div class="paragraph">
<p>Faces 2.2 is backwards compatible with Faces
2.1 and 2.0. This means that a web-application that was developed to run
with Faces 2.1 or 2.0 won’t require any modification when run with Faces
2.2 except in the cases described in the following section.</p>
</div>
</div>
<div class="sect3">
<h4 id="breakages-in-backward-compatibility-2"><a class="anchor" href="#breakages-in-backward-compatibility-2"></a>B.2.4. Breakages in Backward Compatibility</h4>
<div class="ulist">
<ul>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/1092">1092</a><br>
Due to an error in previous versions of the
specification, exceptions were silently being swallowed that now will
bubble up to the exception handler. Code that was relying on this
incorrect behavior may need to be modified to account for fixing this
problem.</p>
</li>
<li>
<p>Issue ID <a href="https://github.com/eclipse-ee4j/faces-api/issues/745">745</a></p>
<div class="paragraph">
<p>5.6.2.2 Table 5-11. Make the following
changes to the spec for Composite Component Attribute ELResoler</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>Modify getType() according to new
specification language.</p>
</li>
<li>
<p>Require the implementation of containsKey()
on the Map.</p>
<div class="ulist">
<ul>
<li>
<p>containsKey(): If the attributes map contains
the key, return true. Otherwise, if a default value has been declared
for the attribute, return true. Otherwise, return false.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p><a href="#a1671">Composite Component Metadata</a></p>
</div>
<div class="paragraph">
<p>New text dealing with &lt;cc:attribute&gt;</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p>Any additional attributes on
<em>&lt;composite:attribute/ &gt;</em> are exposed as attributes accessible from the
<em>getValue()</em> and <em>attributeNames()</em> methods on <em>PropertyDescriptor</em> .
The return type from getValue() must be a <em>ValueExpression</em> with the
exception of the <em>getValue(“type”)</em> . The return type from
<em>getValue(“type”)</em> must be <em>Class</em> . If the value specified for the
<em>type</em> attribute of <em>&lt;cc:attribute/&gt;</em> cannot be converted to an actual
<em>Class</em> , a <em>TagAttributeException</em> must be thrown, including the <em>Tag</em>
and <em>TagAttribute</em> instances in the constructor.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Yes, this is a backwards incompatible change,
but because the usecase is so specific, and the performance benefit so
substantial, it was judged to be worth the cost.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="changes-between-2-0-rev-a-and-2-1"><a class="anchor" href="#changes-between-2-0-rev-a-and-2-1"></a>B.3. Changes between 2.0 Rev a and 2.1</h3>
<div class="sect3">
<h4 id="facelet-tag-library-mechanism"><a class="anchor" href="#facelet-tag-library-mechanism"></a>B.3.1. <a href="#a5638">Facelet Tag Library mechanism</a></h4>
<div class="paragraph">
<p>Document that the unprefixed namespace must
pass through.</p>
</div>
</div>
<div class="sect3">
<h4 id="new-feature-facelets-processing"><a class="anchor" href="#new-feature-facelets-processing"></a>B.3.2. New feature: &lt;facelets-processing&gt;</h4>
<div class="paragraph">
<p><a href="JSFMetadata.html#a7040">See
Required Handling of *-extension elements in the application
configuration resources files</a></p>
</div>
</div>
<div class="sect3">
<h4 id="update-schema-for-2-1"><a class="anchor" href="#update-schema-for-2-1"></a>B.3.3. Update schema for 2.1</h4>
<div class="paragraph">
<p>The only new element is
&lt;facelet-cache-factory&gt;. See the full schema in the Javadoc section of
the documents.</p>
</div>
</div>
<div class="sect3">
<h4 id="change-restore-view-phase"><a class="anchor" href="#change-restore-view-phase"></a>B.3.4. Change Restore View Phase</h4>
<div class="paragraph">
<p>Change <a href="#a404">See
Restore View</a> to require a call to <em>ViewHandler.deriveLogicalViewId()</em>
before trying to find the <em>ViewDeclarationLanguage</em> .</p>
</div>
</div>
<div class="sect3">
<h4 id="default-viewhandler-implementation"><a class="anchor" href="#default-viewhandler-implementation"></a>B.3.5. <a href="#a3910">Default ViewHandler Implementation</a></h4>
<div class="paragraph">
<p>Document <em>deriveLogicalViewId().</em></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="changes-between-2-0-final-and-2-0-rev-a"><a class="anchor" href="#changes-between-2-0-final-and-2-0-rev-a"></a>B.4. Changes between 2.0 Final and 2.0 Rev a</h3>
<div class="sect3">
<h4 id="global-changes"><a class="anchor" href="#global-changes"></a>B.4.1. Global changes</h4>
<div class="sect4">
<h5 id="exceptionqueuedevent"><a class="anchor" href="#exceptionqueuedevent"></a>B.4.1.1. ExceptionQueuedEvent</h5>
<div class="paragraph">
<p>The specification incorrectly refers to the
ExceptionQueuedEvent as the ExceptionEvent. All instances should be
replaced, as there is no such class ExceptionEvent in JSF.</p>
</div>
</div>
<div class="sect4">
<h5 id="usage-of-the-term-page-in-the-jsf-2-0-spec"><a class="anchor" href="#usage-of-the-term-page-in-the-jsf-2-0-spec"></a>B.4.1.2. Usage of the term "page" in the JSF 2.0 spec</h5>
<div class="paragraph">
<p>This might be kind of nit-picky, but there
are several occurrences of the term "Facelet page" in the JSF 2.0 spec,
but I&#8217;d like to set forth the argument that the term "Facelet document"
or "Facelet view" would be more appropriate, depending on context.
Similarly, the spec uses the term "Composite component markup page"
which isn&#8217;t always appropriate either. Better to call it a "Composite
component markup document" or something like that.</p>
</div>
<div class="paragraph">
<p>All Facelet XHTML files are documents, but
not all Facelet XHTML files are pages. There is a built-in bias to the
word "page" that assumes the markup output will be rendered as a "web
page" which is not always the case. In the case of portlets, the
rendered output is a fragment of markup (normally a &lt;div&gt;&#8230;&#8203;&lt;/div&gt;). In
the case of a custom renderkit, the rendered output might be some mobile
device. In the case of ICEfaces, the rendered markup is a server-side
DOM tree. In the case of a composite component, a Facelet XHTML file is
not a page, but a "Composite Component markup document" (or definition)
file.</p>
</div>
<div class="paragraph">
<p>For example.. Instead of a "Facelet Page", I
think the following should be called a "Facelet Document" or a "Facelet
View" (since the f:view tag is optional, but implied)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:h</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/html</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:f</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/core</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:ez</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/composite/ezcomp</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:head&gt;</span>
    <span class="tag">&lt;title&gt;</span>A simple example of EZComp<span class="tag">&lt;/title&gt;</span>
  <span class="tag">&lt;/h:head&gt;</span>
  <span class="tag">&lt;h:body&gt;</span>
    <span class="tag">&lt;h:form&gt;</span>
    <span class="tag">&lt;/h:form&gt;</span>
  <span class="tag">&lt;/h:body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>But in the case of Portlets, the &lt;html&gt; ,
&lt;head&gt;, and &lt;body&gt; tags are forbidden. The equivalent "Facelet Document"
or "Facelet View" for portlets would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:view</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:h</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/html</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:f</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/core</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:ez</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/jsf/composite/ezcomp</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  ...
<span class="tag">&lt;/f:view&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="front-matter"><a class="anchor" href="#front-matter"></a>B.4.2. Front Matter</h4>
<div class="paragraph">
<p>Change Sun logo to Oracle Logo. Sun postal
address to Oracle postal address, and Sun phone number to Oracle phone
number</p>
</div>
<div class="paragraph">
<p>Update spec license.</p>
</div>
</div>
<div class="sect3">
<h4 id="chapter-2"><a class="anchor" href="#chapter-2"></a>B.4.3. Chapter 2</h4>
<div class="sect4">
<h5 id="restore-view"><a class="anchor" href="#restore-view"></a>B.4.3.1. <a href="#a404">Restore View</a></h5>
<div class="paragraph">
<p>Per Andy Schwartz recommendation, loosen the
spec requirements for the delivery of the PostRestoreStateEvent to be
"somewhere during RestoreView".</p>
</div>
</div>
<div class="sect4">
<h5 id="localized-application-messages"><a class="anchor" href="#localized-application-messages"></a>B.4.3.2. <a href="#a584">Localized Application Messages</a></h5>
<div class="paragraph">
<p>Suggestion: Change to</p>
</div>
<div class="paragraph">
<p>Validation Error: Length is less than
allowable minimum of 5.</p>
</div>
</div>
<div class="sect4">
<h5 id="jsr-303-bean-validation"><a class="anchor" href="#jsr-303-bean-validation"></a>B.4.3.3. <a href="#a710">JSR 303 Bean Validation</a></h5>
<div class="paragraph">
<p>Change "leas" to "least"</p>
</div>
</div>
<div class="sect4">
<h5 id="jsr-303-bean-validation-needs-to-reference-bean-validation-integration-section"><a class="anchor" href="#jsr-303-bean-validation-needs-to-reference-bean-validation-integration-section"></a>B.4.3.4. <a href="#a710">JSR 303 Bean Validation</a> needs to reference "Bean Validation Integration" section</h5>
<div class="paragraph">
<p>While reading section 2.5.7, one becomes very
disappointed with the limited about of information that it provides. But
section 3.5.6 provides more information, so the recommendation is that
these sections reference each other, or perhaps are combined in some way
if that makes sense.</p>
</div>
</div>
<div class="sect4">
<h5 id="resource-identifiers"><a class="anchor" href="#resource-identifiers"></a>B.4.3.5. <a href="#a758">Resource Identifiers</a></h5>
<div class="paragraph">
<p>Tighten spec for the localePrefix,
libraryName, and resourceVersion segments of the resource identifier.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="chapter-3"><a class="anchor" href="#chapter-3"></a>B.4.4. Chapter 3</h4>
<div class="sect4">
<h5 id="clarify-meaning-of-javax-faces-bean-in-bean-validator-activation"><a class="anchor" href="#clarify-meaning-of-javax-faces-bean-in-bean-validator-activation"></a>B.4.4.1. Clarify meaning of "javax.faces.bean" in <a href="#a1464">Bean Validator Activation</a></h5>
<div class="paragraph">
<p>Section 3.5.6.1 says:</p>
</div>
<div class="paragraph">
<p>"If Bean Validation is present in the runtime
environment, the system must ensure that the javax.faces.Bean standard
validator is added with a call to Application.addDefaultValidatorId()"</p>
</div>
<div class="paragraph">
<p>But the reader of the Spec has no idea what
the "javax.faces.Bean" standard validator is, within the context of this
paragraph. Recommend adding some verbiage that says that
javax.faces.Bean is the validatorId of the standard JSR 303 validator of
the JSF 2.0 API, which equates to the
javax.faces.validator.BeanValidator class as mentioned in Section
10.4.1.4.</p>
</div>
</div>
<div class="sect4">
<h5 id="need-to-be-consistent-between-declarative-listener-registration-of-the-jsf-2-0-spec-and-the-vdldoc-for-fevent"><a class="anchor" href="#need-to-be-consistent-between-declarative-listener-registration-of-the-jsf-2-0-spec-and-the-vdldoc-for-fevent"></a>B.4.4.2. Need to be consistent between <a href="#a1393">Declarative Listener Registration</a> of the JSF 2.0 Spec and the VDLDoc for f:event</h5>
<div class="paragraph">
<p>Section 3.4.3.4 of the JSF 2.0 Spec reads:</p>
</div>
<div class="paragraph">
<p>The method signature for the MethodExpression
pointed to by the listener attribute must match the signature of</p>
</div>
<div class="paragraph">
<p>javax.faces.event.ComponentSystemEventListener.processEvent().</p>
</div>
<div class="paragraph">
<p>And the VDLDocs for f:event read:</p>
</div>
<div class="paragraph">
<p>(signature must match public void
listener(javax.faces.event.ComponentSystemEvent event) throws
javax.faces.event.AbortProcessingException)</p>
</div>
<div class="paragraph">
<p>Both of these are true, and indeed saying the
same thing. But I think it would be helpful to say BOTH things, in BOTH
documents.</p>
</div>
</div>
<div class="sect4">
<h5 id="typo-in-declarative-listener-registration-of-the-jsf-2-0-spec-regarding-beforerender"><a class="anchor" href="#typo-in-declarative-listener-registration-of-the-jsf-2-0-spec-regarding-beforerender"></a>B.4.4.3. Typo in <a href="#a1393">Declarative Listener Registration</a> of the JSF 2.0 Spec regarding "beforeRender"</h5>
<div class="paragraph">
<p>Section 3.4.3.4 of the JSF 2.0 Spec has this
example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;h:inputText</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{myBean.text}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;f:event</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">beforeRender</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">listener</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#{myBean.beforeTextRender}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/h:inputText&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>But "beforeRender" is a typo. The correct
value is "preRenderComponent" as stated in the f:event VDLDocs.</p>
</div>
</div>
<div class="sect4">
<h5 id="validation-registration-what-does-it-mean-to-be-a-jsf-user-interface-component"><a class="anchor" href="#validation-registration-what-does-it-mean-to-be-a-jsf-user-interface-component"></a>B.4.4.4. <a href="#a1419">Validation Registration</a>, <a href="#a1518">What does it mean to be a JSF User Interface component?</a></h5>
<div class="paragraph">
<p>Remove references to UInput.encodeEnd(). Not
for a very long time has this method been used to instigate validation.</p>
</div>
</div>
<div class="sect4">
<h5 id="composite-component-metadata"><a class="anchor" href="#composite-component-metadata"></a>B.4.4.5. <a href="#a1671">Composite Component Metadata</a></h5>
<div class="paragraph">
<p>Section 3.6.2.1 of the Spec indicates that
the "hidden" property of the javax.bean.FeatureDescriptor is to appear
as an attribute for tags like composite:actionSource,
composite:attribute, composite:facet, and composite:interface but the
VDLDocs do not declare that the "hidden" property is available.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="chapter-4"><a class="anchor" href="#chapter-4"></a>B.4.5. Chapter 4</h4>
<div class="sect4">
<h5 id="events-30"><a class="anchor" href="#events-30"></a>B.4.5.1. <a href="#a2268">Events</a></h5>
<div class="paragraph">
<p>Remove text pertaining to
PostRestoreStateEvent, rely instead on text in setion 2.2.1.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="chapter-7"><a class="anchor" href="#chapter-7"></a>B.4.6. Chapter 7</h4>
<div class="sect4">
<h5 id="overview-7"><a class="anchor" href="#overview-7"></a>B.4.6.1. <a href="#a3562">Overview</a></h5>
<div class="paragraph">
<p>getNavigationCase should return
NavigationCase and not void.</p>
</div>
</div>
<div class="sect4">
<h5 id="default-navigationhandler-algorithm"><a class="anchor" href="#default-navigationhandler-algorithm"></a>B.4.6.2. <a href="#a3571">Default NavigationHandler Algorithm</a></h5>
<div class="paragraph">
<p>Add faces-include-view-params</p>
</div>
</div>
<div class="sect4">
<h5 id="default-viewhandler-implementation-2"><a class="anchor" href="#default-viewhandler-implementation-2"></a>B.4.6.3. <a href="#a3910">Default ViewHandler Implementation</a></h5>
<div class="paragraph">
<p>Fix typo the specified createView() should be
called in renderView() and restoreView().</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="chapter-9"><a class="anchor" href="#chapter-9"></a>B.4.7. Chapter 9</h4>
<div class="sect4">
<h5 id="factionlistener-of-spec-pdfmissing-for-attribute-of-factionlistener-in-spec-pdf"><a class="anchor" href="#factionlistener-of-spec-pdfmissing-for-attribute-of-factionlistener-in-spec-pdf"></a>B.4.7.1. <a href="#a4654">&lt;f:actionListener&gt; </a> of Spec PDF&#8201;&#8212;&#8201;Missing "for" attribute of f:actionListener in Spec PDF</h5>
<div class="paragraph">
<p>The example for f:selectItems includes a
noSelectionValue attribute, but that attribute isn&#8217;t documented. VDLDocs
for f:selectItems does not document the noSelectionValue attribute.</p>
</div>
<div class="paragraph">
<p>Actually, it does document it, but it only
looks like it doesn&#8217;t. It seems as though the itemLabelEscaped attribute
is documented twice, but really the second occurance is the
noSelectionValue.</p>
</div>
</div>
<div class="sect4">
<h5 id="factionlistener-and-fvaluechangelistener"><a class="anchor" href="#factionlistener-and-fvaluechangelistener"></a>B.4.7.2. <a href="IntegrationWithJSP.adoc..html#a4654">&lt;f:actionListener&gt; </a> and <a href="#a5282">&lt;f:valueChangeListener&gt; </a></h5>
<div class="paragraph">
<p>Add this non-normative text.</p>
</div>
<div class="paragraph">
<p>Note that if the binding attribute is used,
the scope of the ValueExpression must be chosen carefully so as not to
introduce undesireable results. In general, when using the binding
attribute, do not point to beans in request or narrower scope.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="chapter-10"><a class="anchor" href="#chapter-10"></a>B.4.8. Chapter 10</h4>
<div class="paragraph">
<p>Need to change "confirm with" to "conform
with".</p>
</div>
<div class="paragraph">
<p>Confusing verbiage in table 10-1 of JSF 2.0
spec regarding the word "template"</p>
</div>
<div class="paragraph">
<p>In table 10-1, it correctly says that "page
templating" is not a feature of JSP.</p>
</div>
<div class="paragraph">
<p>But later on in the table, it says
"Expressions in template text cause unexpected behavior when used in
JSP."</p>
</div>
<div class="paragraph">
<p>Somehow there needs to be an explanation of
the distinction of "page templating" and "template text" here. Right now
it kind of reads as a contradiction.</p>
</div>
<div class="sect4">
<h5 id="general-requirements"><a class="anchor" href="#general-requirements"></a>B.4.8.1. <a href="#a5632">General Requirements</a></h5>
<div class="paragraph">
<p>Add an assertion to section 10.3.1 stating
that EL expressions that appear in the facelet XHTML page must appear in
the rendered view as if they were the right hand side of the value
attribute of an at the same point in the page as the EL expression</p>
</div>
</div>
<div class="sect4">
<h5 id="facelet-tag-library-mechanism-2"><a class="anchor" href="#facelet-tag-library-mechanism-2"></a>B.4.8.2. <a href="#a5638">Facelet Tag Library mechanism</a></h5>
<div class="paragraph">
<p>Section 10.3.2. Correct xref to point to
section in appendix that includes the facelet taglib schema.</p>
</div>
<div class="paragraph">
<p>Correct xref to point to section in appendix
that includes the facelet taglib schema.</p>
</div>
</div>
<div class="sect4">
<h5 id="vdldocs-and-pdl-documentation"><a class="anchor" href="#vdldocs-and-pdl-documentation"></a>B.4.8.3. VDLDocs and PDL documentation</h5>
<div class="paragraph">
<p><a href="#a6043">See
Facelet Templating Tag Library</a>,
<a href="#a6043">See Facelet
Templating Tag Library</a>, and <a href="#a6047">See JSTL Core
and Function Tag Libraries</a> refer the reader to the "VDLDocs" for
Facelet, CC, and JSTL tag libraries respectively.</p>
</div>
<div class="paragraph">
<p>However, when one checks out the Mojarra
2.0.0 Beta 2 page, it talks about the "PDL" tag library documentation.
Also, when one clicks on the "PDL Documentation for Facelets2", it uses
the term "PDL" in several places.</p>
</div>
<div class="paragraph">
<p>So it looks like the View Declaration
Language (VDL) terminology hasn&#8217;t made its way into the tag library docs
yet.</p>
</div>
</div>
<div class="sect4">
<h5 id="possible-error-in-section-fajax-of-the-jsf-2-0-spec-regarding-fajax-and-hpanelgrid"><a class="anchor" href="#possible-error-in-section-fajax-of-the-jsf-2-0-spec-regarding-fajax-and-hpanelgrid"></a>B.4.8.4. Possible error in section <a href="#a1111">&lt;f:ajax&gt; </a> of the JSF 2.0 Spec regarding f:ajax and h:panelGrid</h5>
<div class="paragraph">
<p>Section 10.4.1.1, shows this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax&gt;</span>
  <span class="tag">&lt;h:panelGrid&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">˝</span><span class="attribute-value">text1</span><span class="error">˝</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">˝</span><span class="attribute-value">button1</span><span class="error">˝</span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/h:panelGrid&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And then has the following about the example:</p>
</div>
<div class="paragraph">
<p>&lt;h:panelGrid&gt; has no default event so in this
case a behavior would not be applied.</p>
</div>
<div class="paragraph">
<p>BUT the very next example is this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">˝</span><span class="attribute-value">click</span><span class="error">˝</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h:panelGrid</span> <span class="attribute-name">id</span>=<span class="error">˝</span><span class="attribute-value">grid1</span><span class="error">˝</span><span class="tag">&gt;</span>
    <span class="tag">&lt;h:inputText</span> <span class="attribute-name">id</span>=<span class="error">˝</span><span class="attribute-value">text1</span><span class="error">˝</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;h:commandButton</span> <span class="attribute-name">id</span>=<span class="error">˝</span><span class="attribute-value">button1</span><span class="error">˝</span><span class="tag">&gt;</span>
      <span class="tag">&lt;f:ajax</span> <span class="attribute-name">event</span>=<span class="error">˝</span><span class="attribute-value">mouseover</span><span class="error">˝</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/h:commandButton&gt;</span>
  <span class="tag">&lt;/h:panelGrid&gt;</span>
<span class="tag">&lt;/f:ajax&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And then has the following comment:</p>
</div>
<div class="paragraph">
<p>From this example, grid1˝ and text1˝ would
have ajax behavior applied for an onclick˝ event</p>
</div>
<div class="paragraph">
<p>So&#8230;&#8203; which is it? Does h:panelGrid get ajax
behavior or not? Can an HTML table have an "onclick" JavaScript event?</p>
</div>
</div>
<div class="sect4">
<h5 id="redundant-mentioning-of-facelets-in-fvalidatebean-of-the-jsf-2-0-spec"><a class="anchor" href="#redundant-mentioning-of-facelets-in-fvalidatebean-of-the-jsf-2-0-spec"></a>B.4.8.5. Redundant mentioning of Facelets in <a href="#a5828">&lt;f:validateBean&gt; </a> of the JSF 2.0 Spec</h5>
<div class="paragraph">
<p>Since the parent section (10.4.1) indicates
that sub-sections are Facelets-only in nature, then it is not necessary
to have (Facelets only) in the "Constraints" paragraph of Section
10.4.1.4 of the spec.</p>
</div>
</div>
<div class="sect4">
<h5 id="availability-of-fvalidatebean-and-fvalidaterequired-in-jakarta-server-pages"><a class="anchor" href="#availability-of-fvalidatebean-and-fvalidaterequired-in-jakarta-server-pages"></a>B.4.8.6. Availability of f:validateBean and f:validateRequired in Jakarta Server Pages</h5>
<div class="paragraph">
<p><a href="#a5691">See Standard
Facelet Tag Libraries</a> outlines the f: namespaced tags that are only
applicable to Facelets (and not Jakarta Server Pages). In that section, f:validateBean,
and f:validateRequired are listed. However, they are both listed as
working with Jakarta Server Pages as well (kind of like f:validateRegex), as can be seen
from the Jakarta Server Pages TLDDocs.</p>
</div>
<div class="paragraph">
<p>According to Dan Allen: "those tags only work
partially in Jakarta Server Pages. Yes, they work as single field validators. But the
branch validator capability does not work (wrapping the validator tag
around a branch). The later feature is Facelets only. So the validators
do have their feet in both ponds, but only Facelets has full support. I
suppose we could mention this tidbit in the Jakarta Server Pages section."</p>
</div>
<div class="paragraph">
<p>Dan is correct that it should be mentoned in
the Jakarta Server Pages section, but also, that f:validateBean and f:validateRequired
belong in both Section 10.4 and 9.4, with the limits of their
functionality described in each section.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="chapter-13"><a class="anchor" href="#chapter-13"></a>B.4.9. Chapter 13</h4>
<div class="sect4">
<h5 id="redundancy-in-partial-view-processing-of-the-jsf-2-0-spec"><a class="anchor" href="#redundancy-in-partial-view-processing-of-the-jsf-2-0-spec"></a>B.4.9.1. Redundancy in <a href="#a6831">Partial View Processing</a> of the JSF 2.0 Spec</h5>
<div class="paragraph">
<p>Section 13.4.2 of the JSF 2.0 spec has this
sentence:</p>
</div>
<div class="paragraph">
<p>The request contains special parameters that
indicate the request is a partial execute request or a partial execute
request that was triggered using Ajax</p>
</div>
<div class="paragraph">
<p>This needs clarification&#8201;&#8212;&#8201;does this mean to
say:</p>
</div>
<div class="paragraph">
<p>partial execute request (not triggered by
Ajax) or a partial execute request (that was triggered using Ajax)</p>
</div>
</div>
<div class="sect4">
<h5 id="execute-portions-of-the-jsf-request-processing-lifecycle-in-the-jsf-2-0-spec"><a class="anchor" href="#execute-portions-of-the-jsf-request-processing-lifecycle-in-the-jsf-2-0-spec"></a>B.4.9.2. "Execute portions" of the JSF request processing lifecycle in the JSF 2.0 Spec</h5>
<div class="paragraph">
<p>Section 13.4.2 reads:</p>
</div>
<div class="paragraph">
<p>Although the diagram in Section 13.4 Partial
View Traversal˝ depicts the execute˝ portion as encompassing everything
except the Render Response Phase˝, it really is the Apply Request Values
Phase˝, Update Model Values Phase˝ and Process Validations Phase˝.</p>
</div>
<div class="paragraph">
<p>Why does the diagram include the
INVOKE_APPLICATION phase if it&#8217;s not "really" considered to be part of
the execute portions?</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="chapter-14"><a class="anchor" href="#chapter-14"></a>B.4.10. Chapter 14</h4>
<div class="sect4">
<h5 id="initiating-an-ajax-request-typo-in-table-14-2-2-of-the-jsf-2-0-spec"><a class="anchor" href="#initiating-an-ajax-request-typo-in-table-14-2-2-of-the-jsf-2-0-spec"></a>B.4.10.1. <a href="#a6856">Initiating an Ajax Request</a> Typo in table 14.2.2 of the JSF 2.0 Spec</h5>
<div class="paragraph">
<p>Table 14.2.2 reads:</p>
</div>
<div class="paragraph">
<p>"execute" phase</p>
</div>
<div class="paragraph">
<p>But in order to be consistent with the rest
of the spec, it should read:</p>
</div>
<div class="paragraph">
<p>"execute" portion</p>
</div>
<div class="paragraph">
<p>Also, the same goes for "render" in that the
word "portion" should be used instead of "phase".</p>
</div>
</div>
<div class="sect4">
<h5 id="requestresponse-event-handling-table-14-4-1"><a class="anchor" href="#requestresponse-event-handling-table-14-4-1"></a>B.4.10.2. <a href="#a6933">Request/Response Event Handling</a> Table 14.4.1</h5>
<div class="paragraph">
<p>Change responseTxt to responseText.</p>
</div>
<div class="paragraph">
<p>Table 14.3: Reorder rows</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="appendix-a-metadata"><a class="anchor" href="#appendix-a-metadata"></a>B.4.11. Appendix A Metadata</h4>
<div class="paragraph">
<p>Update schema to remove partial-traversal, as
well as fixing 768.</p>
</div>
<div class="sect4">
<h5 id="deprecated-dtd-for-facelet-taglibraries-used-by-versions-of-facelets-prior-to-jsf-2-0"><a class="anchor" href="#deprecated-dtd-for-facelet-taglibraries-used-by-versions-of-facelets-prior-to-jsf-2-0"></a>B.4.11.1. <a href="JSFMetadata.adoc.html.html#a7139">Deprecated DTD for Facelet Taglibraries Used by Versions of Facelets Prior to JSF 2.0</a></h5>
<div class="paragraph">
<p>To ease migration for Facelet taglibraries
declared using pre-JSF 2.0 versions of Facelets, implementations must
support loading facelet taglibrary files that conform to the pre-JSF 2.0
Facelets DTD. Per DTD conventions, Facelet taglibrary files declare
conformance to this DTD by including text similar to the following in at
the top of their declaring file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!DOCTYPE facelet-taglib PUBLIC
    &quot;-//Sun Microsystems, Inc.//DTD Facelet Taglib 1.0//EN&quot;
    &quot;http://java.sun.com/dtd/facelet-taglib_1_0.dtd&quot;&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Use of this DTD is officially deprecated.
This DTD is included for reference in Section 1.2.1 "Deprecated DTD for
Facelet Taglibraries Used by Versions of Facelets Prior to JSF 2.0". It
is expected that proper JSF 2.0 Facelet Taglibraries will declare
conformance to the following schema, rather than the deprecated DTD.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="vdldoc-changes"><a class="anchor" href="#vdldoc-changes"></a>B.4.12. VDLDoc changes</h4>
<div class="sect4">
<h5 id="typo-in-fselectitems-vdldocs"><a class="anchor" href="#typo-in-fselectitems-vdldocs"></a>B.4.12.1. Typo in f:selectItems VDLDocs</h5>
<div class="paragraph">
<p>Change "mest" to "must"</p>
</div>
</div>
<div class="sect4">
<h5 id="need-clarification-on-execute-attribute-of-fajax"><a class="anchor" href="#need-clarification-on-execute-attribute-of-fajax"></a>B.4.12.2. Need clarification on execute attribute of f:ajax</h5>
<div class="paragraph">
<p>The VDLDocs for f:ajax say "Identifiers of
components" but, for some reason, it wasn&#8217;t obvious to me that this term
referred to the "id" attributes of components. The recommendation isthat
this be clarified to say "list of &lt;b&gt;id&lt;/b&gt; attribute values" instead.
Also, the value of an id attribute like "mycomponent" or something
should be added to an example that includes a keyword&#8230;&#8203; something like
this: "@this componentone componenttwo"</p>
</div>
</div>
<div class="sect4">
<h5 id="spelling-error-in-vdldocs-for-fajax"><a class="anchor" href="#spelling-error-in-vdldocs-for-fajax"></a>B.4.12.3. Spelling error in VDLDocs for f:ajax</h5>
<div class="paragraph">
<p>This one from Lincoln:</p>
</div>
<div class="paragraph">
<p>See the "onerror" attribute</p>
</div>
<div class="paragraph">
<p>There is an extra 'e' &#8594; "oneerror"</p>
</div>
</div>
<div class="sect4">
<h5 id="need-clarification-on-required-attribute-in-vdldocs-for-tags-that-got-a-new-for-attribute-in-jsf-2-0"><a class="anchor" href="#need-clarification-on-required-attribute-in-vdldocs-for-tags-that-got-a-new-for-attribute-in-jsf-2-0"></a>B.4.12.4. Need clarification on required attribute in VDLDocs for tags that got a new "for" attribute in JSF 2.0</h5>
<div class="paragraph">
<p>The VDLDocs correctly have green for the new
"for" attribute, but the "required" column says false, when that&#8217;s not
always the case.</p>
</div>
<div class="paragraph">
<p>For example, with f:actionListener the
VDLDocs say that that it is not required. However, when the tag is used
as a child of a Composite Component, then the for attribute is indeed
required. This would be true of all tags like that, such as
f:convertDateTime, f:convertNumber, etc.</p>
</div>
</div>
<div class="sect4">
<h5 id="uppercase-typo-in-vdldocs-for-fevent"><a class="anchor" href="#uppercase-typo-in-vdldocs-for-fevent"></a>B.4.12.5. Uppercase typo in VDLDocs for f:event</h5>
<div class="paragraph">
<p>Change uppercase "P" to lowercase for:
PostAddToView for the f:event VDLDocs</p>
</div>
</div>
<div class="sect4">
<h5 id="need-to-change-jsp-to-facelets-in-body-content-of-vdldocs"><a class="anchor" href="#need-to-change-jsp-to-facelets-in-body-content-of-vdldocs"></a>B.4.12.6. Need to change "JSP" to "Facelets" in "Body Content" of VDLDocs</h5>
<div class="paragraph">
<p>Search for "JSP" on the f:event VDLDocs [1].
My suspicion is that this is a problem across the board.</p>
</div>
</div>
<div class="sect4">
<h5 id="need-clarification-in-vdldocs-for-fmetadata"><a class="anchor" href="#need-clarification-in-vdldocs-for-fmetadata"></a>B.4.12.7. Need clarification in VDLDocs for f:metadata</h5>
<div class="paragraph">
<p>In the VDLDocs for f:metadata, recommend
changing:</p>
</div>
<div class="paragraph">
<p>"This tag must reside within the top level
XHTML file for the given viewId, not in a template"</p>
</div>
<div class="paragraph">
<p>to this:</p>
</div>
<div class="paragraph">
<p>"This tag must reside within the top level
Facelet view, or in a template-client, but not in a template"</p>
</div>
<div class="paragraph">
<p>Also, it needs to be clarified that the
page01.xhtml example is a template-client. So recommend changing this:</p>
</div>
<div class="paragraph">
<p>"viewId XHTML page, page01.xhtml"</p>
</div>
<div class="paragraph">
<p>to this:</p>
</div>
<div class="paragraph">
<p>"template-client XHTML page, page01.xhtml"</p>
</div>
</div>
<div class="sect4">
<h5 id="missing-description-in-vdldocs-for-name-attribute-of-fviewparam"><a class="anchor" href="#missing-description-in-vdldocs-for-name-attribute-of-fviewparam"></a>B.4.12.8. Missing description in VDLDocs for name attribute of f:viewParam</h5>
<div class="paragraph">
<p>The VDLDocs for f:viewParam are missing
documentation of the "name" attribute, which is pretty important since
it is required.</p>
</div>
</div>
<div class="sect4">
<h5 id="vlddocs-on-for-attribute-of-fviewparam-claim-it-can-be-used-in-a-cc"><a class="anchor" href="#vlddocs-on-for-attribute-of-fviewparam-claim-it-can-be-used-in-a-cc"></a>B.4.12.9. VLDDocs on "for" attribute of f:viewParam claim it can be used in a CC</h5>
<div class="paragraph">
<p>The VDLDocs for f:viewParam claim that the
"for" attribute is supported. I just checked Mojarra&#8217;s jsf-api and
UIViewParameter.java does not support the "for" attribute, since it does
not have a getter/setter for "for" like HtmlOutputLabel does. There are
restrictions on f:viewParam such that it may only be used inside of
f:metadata, and f:metadata may only be used inside of f:view. So that
disqualifies the f:viewParam tag from being able to be used inside of a
Composite Component. Therefore I recommend that the documentation of the
"for" attribute be totally removed.</p>
</div>
</div>
<div class="sect4">
<h5 id="miscellaneous-vdldoc-items"><a class="anchor" href="#miscellaneous-vdldoc-items"></a>B.4.12.10. Miscellaneous VDLDoc items</h5>
<div class="ulist">
<ul>
<li>
<p>VDLDocs for "execute" attribute of f:ajax say
(must evaluate to java.lang.Object) but then say "Evaluates to
Collection"</p>
</li>
<li>
<p>VDLDocs f:selectItem lists the new JSF 2.0
"noSelectionOption" but is not colored green to indicate "new in JSF
2.0" and the link for f:selectItem in the navigation frame needs to be
orange</p>
</li>
<li>
<p>VDLDocs for f:validateBean should have all of
its attributes in green to indicate "new in JSF 2.0" since it is a new
tag.</p>
</li>
<li>
<p>VDLDocs for f:validateRegex has a typo in the
description which reads "RegexpValidator" rather than "RegexValidator"</p>
</li>
<li>
<p>In spec, the "Changes between 1.2 and EDR2"
section refers the reader to section 3.5.2 for the addition of
"javax.faces.RegularExpressionValidator" but actually it should be
section 3.5.5</p>
</li>
<li>
<p>VDLDocs for h:button say that the outcome
attribute is not required, but really it should be required otherwise
there is no purpose of f:button&#8201;&#8212;&#8201;you would end up navigating back to
the current view. The whole point of f:button is to perform navigation
to a different view that potentially contains view parameters. Why have
a bookmarkable URL back to itself?</p>
</li>
<li>
<p>VDLDocs for h:button don&#8217;t mention a disabled
attribute, but the h:link one does have the disabled attribute. My guess
would be that both should have this attribute?</p>
</li>
<li>
<p>VDLDocs for h:outputScript and
h:outputStylesheet should indicate that even though the UIOutput class
implements the ValueHolder interface, the coverter and value attributes
are basically ignored by the renderers, since the value attribute has no
meaning. This is basically a design flaw&#8201;&#8212;&#8201;a new class named
UIOutputResource should have been created instead of UIOutput being
reused.</p>
</li>
<li>
<p>VDLDocs for h:outputScript and
h:outputStylesheet should indicate that the "name" attribute is
required, since section 2.6.1.3 implies that this is the case with the
following resource pattern:</p>
</li>
<li>
<p>VDLDocs for h:outputScript needs to have all
the possible values for the target attribute documented. I think the
only valid values are "head", "body", and "form"</p>
</li>
<li>
<p>VDLDocs for h:graphicImage has a dead
hyperlink to "Common Algorithm for Obtaining A Resource to Render</p>
</li>
<li>
<p>VDLDocs for h:selectManyCheckbox indicate
orange for the collectionType and hideNoSelectionOption attributes but
they should be green to indicate "new in JSF 2.0"</p>
</li>
<li>
<p>VDLDocs for h:selectManyCheckbox says that
the return type must evaluate to a String, but that&#8217;s not entirely true.
It can also evaluate to a concrete class that implements
java.util.Collection</p>
</li>
<li>
<p>VDLDocs for ui:param have two "name"
attributes specified. The second one should be the "value" attribute</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="should-tlddocs-now-be-vdldocs"><a class="anchor" href="#should-tlddocs-now-be-vdldocs"></a>B.4.12.11. Should TLDDocs now be VDLDocs?</h5>
<div class="paragraph">
<p>The Spec introduces this term VDLDocs (which
as I said in the other email, was formerly PDLDocs), but it also refers
the reader to the TLDDocs. Should we just settle on VDLDocs as the
standard term throughout the Spec?</p>
</div>
</div>
<div class="sect4">
<h5 id="typo-in-vdldocs-for-fevent"><a class="anchor" href="#typo-in-vdldocs-for-fevent"></a>B.4.12.12. Typo in VDLDocs for f:event.</h5>
<div class="paragraph">
<p>The VDLDocs for f:event specify a "name"
attribute, but the Description column of the page talks about a "type"
column (not "name"), which would be consistent with Section 3.4.3.4 of
the Spec which talks about a "type" column.</p>
</div>
<div class="paragraph">
<p>Jim Driscoll verified that there is a doc bug
in the VDLDocs for f:event and that the "name" attribute is actually
"type"</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="accepted-changes-from-jcp-change-log-for-jsf-2-0-rev-a"><a class="anchor" href="#accepted-changes-from-jcp-change-log-for-jsf-2-0-rev-a"></a>B.4.13. Accepted Changes from JCP Change Log for JSF 2.0 Rev a</h4>
<div class="paragraph">
<p>The referenced spec public issue number can
be found in the issue tracker at<br>
<a href="https://github.com/eclipse-ee4j/faces-api/issues/" class="bare">https://github.com/eclipse-ee4j/faces-api/issues/</a></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7%;">
<col style="width: 10%;">
<col style="width: 56%;">
<col style="width: 15%;">
<col style="width: 12%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed in Source Code Repository of
Specification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issue</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C002</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section 5.6.2.2 is out of sync with the
current resolver implementation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/848">Issue ID:848</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RenderKitDoc for <em>OutcomeTarget</em> Renderers
are incorrect with respect to intended design. Refer to
<em><a href="appendixB-changelog.html#UNKNOWN" class="bare">appendixB-changelog.html#UNKNOWN</a>ChangeC006</em> in the
footnotes section below.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/823">Issue ID:823</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C007</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section JSF.11.4.7 Ordering. After the
sentence "The &lt;others /&gt; element must be handled as follows" add a
bullet point: "The &lt;others /&gt; element represents a set of application
configuration resources. This set is described as the set of all
application configuration resources discovered in the application minus
the one currently being processed, minus the application configuration
resources mentioned by name in the &lt;ordering /&gt; section. If this set is
the empty set, at the time the application configuration resources are
being processed, the &lt;others &gt; element must be ignored."</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/824">Issue ID:824</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C008</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">taglib docs for composite:interface are
missing documentation for <em>componentType</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/849">Issue ID:849</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section JSF.3.6.2.1 Composite Component
Metadata Specification. Add <em>BehaviorHolderAttachedObjectTarget</em> after
iii. <em>ActionSource2AttachedObjectTarget</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/825">Issue ID:825</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Javadocs for
<em>ResourceHandler.createResource(String resourceId)</em> need to me ammended
to state that if there is an error in argument resourceId, null must be
returned by this method.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/851">Issue ID:851</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C013</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDL DOCS: f:event listener attribute
clarification:Change description to: "A method expression that JSF
invokes when an event occurs. That event is specified with the name
attribute."</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/586">Issue ID:586</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C015</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UIViewRoot.setBeforePhaseListeners()</em>
removed the statement that all phases including <em>RestoreView</em> will have
their <em>beforePhaseListeners</em> called. Reverted to the way it was in 1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/826">Issue ID:826</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C016</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section 2.6.2.1 Relocatable Resources: code
snippet: &lt;f:view&#8230;&#8203;./&gt; should be &lt;f:view&#8230;&#8203;&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/565">Issue ID:565</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C017</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UISelectItem</em> doesn&#8217;t mention
<em>itemEscaped</em> .</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/430">Issue ID:430</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C018</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ViewDeclarationLanguage.retargetAttachedObjects()</em> misses talking about
Behaviors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/827">Issue ID:827</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C021</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ui:insert missing existing "name" attribute,
implemented, tested, but not documented</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/667">Issue ID:667</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C022</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>f:valueChangeListener</em> missing "for"
attribute. Implemented, tested, but not documented</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/828">Issue ID:828</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C023</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in facelets VDLdoc, mark f:verbatim and
f:subview as deprecated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/852">Issue ID:852</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C024</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add an assertion to section 10.3.1 stating
that EL expressions that appear in the facelet XHTML page must appear in
the rendered view as if they were the right hand side of the value
attribute of an <em>&lt;h:outputText&gt;</em> at the same point in the page as the EL
expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/829">Issue ID:829</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C027</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">web-facelettaglibrary_2_0.xsd type incorrect
for composite-library-name. Should be <strong><strong>javae:string</strong></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/854">Issue ID:854</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C028</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ui:remove</em> VDLDoc has attribute with no
name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/842">Issue ID:842</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C029</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ui:param</em> has attribute duplicated. One of
them should be "value"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/855">Issue ID:855</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C030</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RenderKit Docs <em>javax.faces.CompositeFacet</em>
change " The implementation of <em>encodeBegin()</em> , must obtain " to be "
The implementation of <em>encodeChildren()</em> , must obtain "</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/843">Issue ID:843</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C031</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VDL docs state that <em>composite:attribute</em>
has a target attribute with <em>required=true</em> . This attribute is not
really required on <em>composite:attribute</em> .</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/644">Issue ID:644</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C032</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mention in spec that Objects put in view
scope may need to be Serializable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/830">Issue ID:830</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C033</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modify the javadoc for <em>ResourceHandler</em> to
state that for resources residing at
<em>META-INF/resources/&lt;resourceidentifier&gt;</em> . The implementation is not
required to support the optional <em>libraryVersion</em> and <em>resourceVersion</em>
segments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/844">Issue ID:844</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C034</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modify table 5-10 to state that implicit
object cc returns the current composite component, relative to the
composite component markup page in which the expression appears</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/831">Issue ID:831</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C035</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.6.2.1 Modify composite component metadata
specification to state that, within the <em>cc:interface</em> element, the
following attributes are not available unless <em>ProjectStage</em> is
<em>Development</em> : displayName, expert, hidden, preferred, shortDescription</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/832">Issue ID:832</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C037</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UIComponent.restoreState()</em> javadocs must
be changed to <strong><strong>say</strong></strong> NPE is thrown if context is null, but no action
is taken if state argument is null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/845">Issue ID:845</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C040</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VDLDocs for <em>f:metadata</em> . Don&#8217;t mention
<em>f:view</em> . State, "This tag must reside within the top level facelet
page whose filename corresponds ot the <em>viewid</em> being loaded."</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/856">Issue ID:856</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C043</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Document <em>SEPARATOR_CHAR</em> in section 11.1.3
where all the other context-params are documented</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/833">Issue ID:833</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C044</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section 11.4.6 doesn&#8217;t include
<em>ViewDeclarationLanguage</em> , <em>VisitContextFactory</em> ,
<em>ExceptionHandlerFactory</em> , <em>PartialViewContext</em> ,
<em>TagHandlerDelegateFactory</em> as decoratable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/834">Issue ID:834</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C046</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section 10.4.1.1 specifies the use of
<em>AjaxBehaviors pushBehavior</em> but <em>AjaxBehaviors</em> is an implementation
detail (the class exists under com package)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/836">Issue ID:836</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C047</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add "defaults" for "execute", "render"
<em>AjaxBehavior</em> in vdldocs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/568">Issue ID:568</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C048</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSP should not have <em>f:viewParam</em> . Facelets
<em>f:viewParam</em> must have <em>name</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/656">Issue ID:656</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C049</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec section 3.2.5 is empty. Fix that</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/835">Issue ID:835</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C050</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec for <em>UIComponent.setParent()</em>
incomplete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/837">Issue ID:837</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C054</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>f:event name</em> attribute should be type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/639">Issue ID:639</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C058</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section 14.4.1: Table 14-4: responseTxt
should be responseText. Table 14-4: Add <em>status</em> property; Table 14-4:
There is no "name" property. Table 14-3: reorder "status" values to be
in chronological order. Section 14.4.1.1: Fix use case.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/642">Issue ID:642</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C060</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace the last sentence in the javadoc for
<em>FacesServlet.service()</em> to say "The implementation must make it so
<em>FacesContext.release()</em> is called within a finally block as late as
possible in the processing for the JSF related portion of this request".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/846">Issue ID:846</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C061</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-normatively document that JavaBeans
PropertyEditors will be used for EL Coercion. Mention this in the
context of JSF converters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/838">Issue ID:838</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C062</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In 3.1.5, explicitly mention not to use view
scope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/839">Issue ID:839</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C063</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.4.1 Clarify that, in the case of
navigation actions, an empty string should be treated the same way as
null: stay on the same page.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/747">Issue ID:747</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C064</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correct <em>StateHolder.setTransient</em> JavaDoc
(specified backwards)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/840">Issue ID:840</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C065</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correct typos in <em>Composite.tld</em> (for
pdldocs). Specifically, quotes around <em>actionListener</em> ,
<em>method-signature</em> (spelling). Also clarify the default value "false"
for "required" attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/841">Issue ID:841</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C066</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify that the Component Resource
container facet must be marked transient. Specifically, the JavaDocs for
<em>UIViewRoot.getComponentResources</em> should include: "Set the transient
property of the facet to true."</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/800">Issue ID:800</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C068</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modify the facelet taglib xsd so that older
versions of taglibs are acceptable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/744">Issue ID:744</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C069</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make sure vdldocs for <em>f:event</em> list event
all possible event types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/712">Issue ID:712</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C072</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neither applyNextHandler of
DelegatingMetaTagHandler or nextHandler of TagHandler are documented.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/780">Issue ID:780</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C073</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify f:ajax execute/render id behavior in
vdldocs (as outlined in Section 10.4.1.1 of the spec).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/567">Issue ID:567</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C074</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;view-param&gt; has no business being a child
of &lt;redirect&gt; and should be renamed to &lt;redirect-param&gt;.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/698">Issue ID:698</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C075</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">includeViewParams implicit navigation flag
should be faces-include-view-params.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/699">Issue ID:699</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C077</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Event broadcasting should apply to Behaviors
(not just ClientBehaviors).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/798">Issue ID:798</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C078</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostAddToViewEvent delivery specification
needs clarification. Clarify UIComponent.getParent and getChildren for
consistency.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/805">Issue ID:805</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C079</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RenderKit Docs - TableRenderer:Clarification
- the docs say to render the footer the same as the header which causes
the problem.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/255">Issue ID:255</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C080</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RenderKit Docs - ButtonRenderer Encode
behavior w/r/t onclick attribute - should not be passthrough attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/257">Issue ID:257</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C081</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">h:message "for" attribute is
mis-specified:"for" attribute should be relative id (not clientid).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/266">Issue ID:266</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C082</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clarify whether expression of
binding-attribute of f:xxxxListener should be evaluated on postback.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/320">Issue ID:320</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C083</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option rendering, specifically when dealing
with SelectItemGroups, is too generic.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/420">Issue ID:420</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C084</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">submittedValue get/set methods
underspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/434">Issue ID:434</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C085</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current wording in renderkit docs leads to
double encoding of query parameters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/436">Issue ID:436</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C086</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SelectManyCheckBox Clarification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/466">Issue ID:466</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C087</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDL document for JSTL(Facelets) has the
incorrect URI for the NameSpace.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/509">Issue ID:509</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C088</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API docs missing for ExceptionEventContext.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/515">Issue ID:515</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C089</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">composite:attribute component documentation
for the attribute type should be for attribute method-signature.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/524">Issue ID:524</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C090</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The UML Diagram for javax.faces.event is out
of date.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/525">Issue ID:525</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C091</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor typo in the Interface BehaviorHolder
API.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/534">Issue ID:534</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C092</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two references to the itemLabelEscaped
attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/536">Issue ID:536</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C093</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Missing class description for
javax.faces.event.PostValidateEvent and
javax.faces.event.PreValidateEvent.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/537">Issue ID:537</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C094</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section 3.7.5 typo - ClientBehavorHolder
should be ClientBehaviorHolder.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/540">Issue ID:540</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C095</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section 4.1.3 typo - NamingContaier should
be NamingContainer.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/541">Issue ID:541</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API Docs: Application.publishEvent: Docs say
to throw NPE if any of the arguments is null. However, sourceBaseType
arg can be null.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/553">Issue ID:553</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C097</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Facelets TLD Docs: Missing "for" attribute
for "message" and "messages" tags.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/558">Issue ID:558</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C099</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ResourceHandler docs: Clarify that relative
paths are disallowed in library names.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/577">Issue ID:577</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renderkit Docs: h:link - Formatting - add
paragraphs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/588">Issue ID:588</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec Section 2.5.9: Fix Grammar: "The first
client behavior to provided by the JSF specification is the
AjaxBehavior." should be: "The first client behavior provided by the JSF
specification is the AjaxBehavior."</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/590">Issue ID:590</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C102</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec Section 9.4 doesn&#8217;t list all the
validation tags and it lists the validateDoubleRange tag twice.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/591">Issue ID:591</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C103</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vdldocs and Spec section 3.6.2.1 have
component:actionSource target attribute with commas as delimiters -
should be "space" as delimiter.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/592">Issue ID:592</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C104</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec Section 7.4.1: getNavigationCase should
return NavigationCase and not void.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/605">Issue ID:605</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C105</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec Section 10.4.1.4 says: f:validateBean
should extend validateHandler. Should be ValidatorHandler.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/615">Issue ID:615</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C106</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typo: Pages in the TLD docs says "JSF 2.0
Page Decraration Language". Should be "Declaration".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/617">Issue ID:617</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C107</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typos: Table 14-1, 14-2, page 14-3.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/629">Issue ID:629</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C108</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIData.invokeOnComponent docs need to be
updated to include handling of column level facets.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/632">Issue ID:632</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C109</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec Section 3.5.6.1 needs to be corrected
to state that default validators are added during tag execution time.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/635">Issue ID:635</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C110</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">validateBean and validateRequired tags need
to be removed from the Jakarta Server Pages PDL documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/645">Issue ID:645</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jsf.ajax.response update element
clarification needed in JavaScript docs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/646">Issue ID:646</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C112</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec Section 10.4.1.1: Clarify what happens
when nesting and wrapping f:ajax tags collide.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/652">Issue ID:652</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C113</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typo: Spec Section 8.3.1: "renderkit-id"
should be "render-kit-id" and "renderkit" should be "render-kit".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/660">Issue ID:660</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C114</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add "rendered" attribute to VDL docs for
ui:component and ui:fragment.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/661">Issue ID:661</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C115</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JavaDocs for UIComponent.processValidators
is incomplete. It should mention <em>popComponentFromEL</em> .</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/664">Issue ID:664</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C116</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dead link in VDL docs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/666">Issue ID:666</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C117</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec Section 2.5.2.4: Standard messages for
LengthValidator are confusing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/668">Issue ID:668</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C118</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec/pdldocs don&#8217;t say what the default is
for "target" in h:outputScript.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/673">Issue ID:673</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">partial-view-context-factory is only
mentioned in the schema part of the spec. Houls be added to Spec Section
13.4.2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/705">Issue ID:705</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C120</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specification edits needed - see:
<em><a href="http://docs.google.com/Doc?docid=0AW2H0u_g8JuTZGYycDZzdmhfMTRmOHo3ZmJncQ&amp;hl=en">here</a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/714">Issue ID:714</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C121</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typo - Spec Section 7.5.2: "ViewHanlder"
should be "ViewHandler"; "renderView" and "restoreView" methods should
call "ViewDeclarationLanguage.renderView" and
"ViewDeclarationLanguage.restoreView".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/729">Issue ID:729</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C122</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec Section 2.6.1.3: Specify that a
libraryName or resourceName contains only XML NameChar, but not a colon;
a libraryName or resourceName does not match the regex
"[0-9]+(_[0-9]+)* or [A-Za-z]{2}(_[A-Za-z]{2}(_[A- Za-z]+)*)?"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/740">Issue ID:740</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C123</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typos in PDLDocs for ui:repeat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/743">Issue ID:743</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C124</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove "partial-traversal" application
element from the spec as it does not exist in the schema.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/767">Issue ID:767</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C125</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add mssing ID attributes to schema for:
faces-config-orderingType,faces-config-ordering-orderingType,faces-config-absoluteOrderingType,faces-config-default-valueType,faces-config-from-view-idType,faces-config-client-behavior-rendererType,faces-config-behaviorType,faces-config-value-classType,faces-config-rendererType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/768">Issue ID:768</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C126</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIInput JavaDocs: Specify the handling of
conversion failures.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/775">Issue ID:775</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C127</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EditableValueHodler JavaDocs: Missing
"@Since 2.0" for "resetValue" method.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/779">Issue ID:779</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VDL documentation for f:selectItem
references the "escape" attribute. It should be "itemEscaped".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/788">Issue ID:788</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C129</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify description for "f:param" "disabled"
attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/794">Issue ID:794</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C130</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Errata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simplify PostRestoreStateEvent delivery
requirements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/eclipse-ee4j/faces-api/issues/806">Issue ID:806</a></em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="changes-in-versions-below-2-0-final"><a class="anchor" href="#changes-in-versions-below-2-0-final"></a>B.5. Changes in versions below 2.0 Final</h3>
<div class="paragraph">
<p>See the JavaServer Faces specification document for these changes. The change log items are removed from this
document in Jakarta Server Faces specification version 3.0.</p>
</div>
<hr>
<div class="paragraph">
<p>[.footnoteNumber]# 1.# <a id="a9083"></a>Typically, component
selection will be driven by the occurrence of special markup (such as
the existence of a Jakarta Server Pages custom tag) in the template text associated with
the component tree.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 2.# <a id="a9084"></a>For example, this
technique is used when custom tags in Jakarta Server Pages pages are utilized as the
rendering technology, as described in <a href="#a4406">Integration with Jakarta Server Pages</a>.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 3.# <a id="a9085"></a>The default
<em>ViewHandler</em> implementation performs a <em>RequestDispatcher.forward</em> call
to the web application resource that will actually perform the
rendering, so it expects the tree identifier to be the context-relative
path (starting with a <em>/</em> character) of the web application resource</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 4.# <a id="a9086"></a>In a Jakarta Server Pages environment,
these steps are performed by a custom tag extending ConverterTag.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 5.# <a id="a9087"></a>Accessing attributes
via this Map will cause the creation of a session associated with this
request, if none currently exists.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 6.# <a id="a9088"></a>Converters can also be
requested based on the object class of the value to be converted.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 7.# <a id="a9089"></a>It is an error to
specify more than one &lt;navigation-case&gt;, nested within one or more
&lt;navigation-rule&gt; elements with the same &lt;from-view-id&gt; matching
pattern, that have exactly the same combination of &lt;from-xxx&gt;, unless
each is discriminated by a unique &lt;if&gt; element.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 8.# <a id="a9090"></a>The presence of the
&lt;if&gt; element in the absense of the &lt;from-outcome&gt; element is
characterized as an alternate, contextual means of obtai</p>
</div>
<div class="paragraph">
<p>ning a logical outcome and thus the
navigation case is checked even when the application action returns a a
null (or void) outcome value.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 9.# <a id="a9092"></a>Note that multiple
conditions can be checked using the built-in operators and grouping
provided by the Expression Language (e.g., and, or, not).</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 10.# <a id="a9093"></a>Or, equivalently,
with no <em>&lt;from-view-id&gt;</em> element at all.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 11.# <a id="a9094"></a>The implementation
classes for attached object must include a public zero-arguments
constructor.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 12.# <a id="a9095"></a>The actual <em>Method</em>
selected for execution must be selected as if by calling
Class.getMethod() and passing the method name and the parameters
signature specified in the createMethodBinding() call.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 13.# <a id="a9096"></a>If this extension is
used, it must be declared in the web application deployment descriptor,
as described in the Jakarta Server Pages 2.0 (or later) specification.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 14.# <a id="a9097"></a>This example
illustrates a non-normative convention for naming custom actions based
on a combination of the component name and the renderer type. This
convention is useful, but not required; custom actions may be given any
desired custom action name; however the convention is rigorously
followed in the Standard HTML RenderKit Tag Library.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 15.# <a id="a9098"></a>Consistent with the
way that namespace prefixes work in XML, the actual prefix used is
totally up to the page author, and has no semantic meaning. However, the
values shown above are the suggested defaults, which are used
consistently in tag library examples throughout this specification.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 16.# <a id="a9099"></a>If you need multiple
components in a facet, nest them inside a &lt;h:panelGroup&gt; custom action
that is the value of the facet.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 17.# <a id="a9100"></a>In a Jakarta Server Pages 2.0 or later
environment, the same effect can be accomplished by using
&lt;include-prelude&gt; and &lt;include-coda&gt; elements in the &lt;jsp-config&gt;
element in the web application deployment descriptor.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 18.# <a id="a9101"></a>This component has no
associated Renderer, so the getRendererType() method must return null
instead of a renderer type.</p>
</div>
<div class="paragraph">
<p>[.footnoteNumber]# 19.# <a id="a9102"></a>Identified by XPath
selection expressions.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
 3.0<br>
Last updated 2020-09-22 20:25:43 +0200
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</body>
</html>