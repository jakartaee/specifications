<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) -->
<title>DatabaseIdentityStoreDefinition (Jakarta EE Platform API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: module: jakarta.security, package: jakarta.security.enterprise.identitystore, annotation type: DatabaseIdentityStoreDefinition">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>Jakarta EE Platform API v11.0.0-M2</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DatabaseIdentityStoreDefinition.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li>Required</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">jakarta.security</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.security.enterprise.identitystore</a></div>
<h1 title="Annotation Interface DatabaseIdentityStoreDefinition" class="title">Annotation Interface DatabaseIdentityStoreDefinition</h1>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#TYPE" title="class or interface in java.lang.annotation" class="external-link">TYPE</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">DatabaseIdentityStoreDefinition</span></div>
<div class="block">Annotation used to define a container-provided <a href="IdentityStore.html" title="interface in jakarta.security.enterprise.identitystore"><code>IdentityStore</code></a> that
 stores caller credentials and identity attributes in a relational database,
 and make that implementation available as an enabled CDI bean.
 <p>
 The container-provided <code>IdentityStore</code> must support validating <a href="../credential/UsernamePasswordCredential.html" title="class in jakarta.security.enterprise.credential"><code>UsernamePasswordCredential</code></a>,
 and may support validating other credential types.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#callerQuery()" class="member-name-link">callerQuery</a></code></div>
<div class="col-last even-row-color">
<div class="block">SQL query to validate the {caller, password} pair.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#dataSourceLookup()" class="member-name-link">dataSourceLookup</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Full JNDI name of the data source that provides access to the data base
 where the caller identities are stored.</div>
</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#groupsQuery()" class="member-name-link">groupsQuery</a></code></div>
<div class="col-last even-row-color">
<div class="block">SQL query to retrieve the groups associated with the caller when
 authentication succeeds.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a><wbr>&lt;? extends <a href="PasswordHash.html" title="interface in jakarta.security.enterprise.identitystore">PasswordHash</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#hashAlgorithm()" class="member-name-link">hashAlgorithm</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A <a href="PasswordHash.html" title="interface in jakarta.security.enterprise.identitystore"><code>PasswordHash</code></a> implementation used to verify plaintext passwords
 by generating a hash of the password and comparing it against the hashed
 value returned from the database via the <a href="#callerQuery()"><code>callerQuery()</code></a>.</div>
</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second even-row-color"><code><a href="#hashAlgorithmParameters()" class="member-name-link">hashAlgorithmParameters</a></code></div>
<div class="col-last even-row-color">
<div class="block">Used to specify algorithm-specific parameters.</div>
</div>
<div class="col-first odd-row-color"><code>int</code></div>
<div class="col-second odd-row-color"><code><a href="#priority()" class="member-name-link">priority</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Determines the order in case multiple IdentityStores are found.</div>
</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#priorityExpression()" class="member-name-link">priorityExpression</a></code></div>
<div class="col-last even-row-color">
<div class="block">Allow <code>priority</code> to be specified as a Jakarta Expression Language expression.</div>
</div>
<div class="col-first odd-row-color"><code><a href="IdentityStore.ValidationType.html" title="enum class in jakarta.security.enterprise.identitystore">IdentityStore.ValidationType</a>[]</code></div>
<div class="col-second odd-row-color"><code><a href="#useFor()" class="member-name-link">useFor</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Determines what the identity store is used for</div>
</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#useForExpression()" class="member-name-link">useForExpression</a></code></div>
<div class="col-last even-row-color">
<div class="block">Allow <code>useFor</code> to be specified as an Jakarta Expression Language expression.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="dataSourceLookup()">
<h3>dataSourceLookup</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">dataSourceLookup</span></div>
<div class="block">Full JNDI name of the data source that provides access to the data base
 where the caller identities are stored.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Full JNDI name of the data source</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>"java:comp/DefaultDataSource"</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="callerQuery()">
<h3>callerQuery</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">callerQuery</span></div>
<div class="block">SQL query to validate the {caller, password} pair.

 Only needed when <a href="#useFor()"><code>useFor()</code></a> contains
 <a href="IdentityStore.ValidationType.html#VALIDATE"><code>IdentityStore.ValidationType.VALIDATE</code></a>.

 <p>
 The name of the caller that is to be authenticated has to be set as the
 one and only placeholder. The (hashed) password should be in the first
 column of the result.

 <p>
 Example query:
 <pre>
 <code>
 select password from callers where name = ?
 </code>
 </pre></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>SQL query to validate</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="groupsQuery()">
<h3>groupsQuery</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">groupsQuery</span></div>
<div class="block">SQL query to retrieve the groups associated with the caller when
 authentication succeeds.

 Only needed when <a href="#useFor()"><code>useFor()</code></a> contains
 <a href="IdentityStore.ValidationType.html#PROVIDE_GROUPS"><code>IdentityStore.ValidationType.PROVIDE_GROUPS</code></a>.

 <p>
 The name of the caller that has been authenticated has to be set as the
 one and only placeholder. The group name should be in the first column of
 the result.

 <p>
 Example query:
 <pre>
 <code>
 select group_name from caller_groups where caller_name = ?
 </code>
 </pre></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>SQL query to retrieve the groups</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="hashAlgorithm()">
<h3>hashAlgorithm</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;? extends <a href="PasswordHash.html" title="interface in jakarta.security.enterprise.identitystore">PasswordHash</a>&gt;</span>&nbsp;<span class="element-name">hashAlgorithm</span></div>
<div class="block">A <a href="PasswordHash.html" title="interface in jakarta.security.enterprise.identitystore"><code>PasswordHash</code></a> implementation used to verify plaintext passwords
 by generating a hash of the password and comparing it against the hashed
 value returned from the database via the <a href="#callerQuery()"><code>callerQuery()</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The password hash used to verify plaintext passwords.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>jakarta.security.enterprise.identitystore.Pbkdf2PasswordHash.class</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="hashAlgorithmParameters()">
<h3>hashAlgorithmParameters</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">hashAlgorithmParameters</span></div>
<div class="block">Used to specify algorithm-specific parameters.
 <p>
 Parameters are specified as a list of name/value pairs, using the format below:
 <blockquote><pre>
<i>parameterName=parameterValue</i>
 </pre></blockquote>
 <p>
 For example:
 <blockquote><pre>
 <i>Algorithm.param1="value"</i>
 <i>Algorithm.param2=32</i>
 </pre></blockquote>
 <p>
 This attribute supports immediate Jakarta Expression Language expressions (${} syntax) for both the
 <code>parameterValue</code> as well as for a full array element. If an EL
 expression is used for a full array element, the expression must evaluate
 to either a single string, a string array or a string <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link"><code>Stream</code></a> where
 in each case every string must adhere to the above specified format.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The algorithm parameters.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>{}</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="priority()">
<h3>priority</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">priority</span></div>
<div class="block">Determines the order in case multiple IdentityStores are found.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the priority.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>70</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="priorityExpression()">
<h3>priorityExpression</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">priorityExpression</span></div>
<div class="block">Allow <code>priority</code> to be specified as a Jakarta Expression Language expression.
 If set, overrides any value set with <code>priority</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <code>priority</code> Jakarta Expression Language expression</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="useFor()">
<h3>useFor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="IdentityStore.ValidationType.html" title="enum class in jakarta.security.enterprise.identitystore">IdentityStore.ValidationType</a>[]</span>&nbsp;<span class="element-name">useFor</span></div>
<div class="block">Determines what the identity store is used for</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the type the identity store is used for</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>{VALIDATE, PROVIDE_GROUPS}</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="useForExpression()">
<h3>useForExpression</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">useForExpression</span></div>
<div class="block">Allow <code>useFor</code> to be specified as an Jakarta Expression Language expression.
 If set, overrides any value set with useFor.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <code>useFor</code> Jakarta Expression Language expression</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><p align="left">Copyright &#169; 2018, 2024 Eclipse Foundation.<br>Use is subject to
<a href="../../../../../doc-files/speclicense.html" target="_top">license terms</a>.</small></p>
</footer>
</body>
</html>
