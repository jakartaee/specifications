<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) -->
<title>ManagedExecutorDefinition (Jakarta EE Platform API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: module: jakarta.concurrency, package: jakarta.enterprise.concurrent, annotation type: ManagedExecutorDefinition">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>Jakarta EE Platform API v11.0.0-M2</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ManagedExecutorDefinition.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-required-element-summary">Required</a></li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-required-element-summary">Required</a>&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">jakarta.concurrency</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.enterprise.concurrent</a></div>
<h1 title="Annotation Interface ManagedExecutorDefinition" class="title">Annotation Interface ManagedExecutorDefinition</h1>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Repeatable.html" title="class or interface in java.lang.annotation" class="external-link">@Repeatable</a>(<a href="ManagedExecutorDefinition.List.html" title="annotation interface in jakarta.enterprise.concurrent">ManagedExecutorDefinition.List</a>.class)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#TYPE" title="class or interface in java.lang.annotation" class="external-link">TYPE</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">ManagedExecutorDefinition</span></div>
<div class="block"><p>Defines a <a href="ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a>
 to be injected into
 <a href="ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a> injection points
 including any required <a href="../../../../jakarta.inject/jakarta/inject/Qualifier.html" title="annotation interface in jakarta.inject"><code>Qualifier</code></a> annotations specified by <a href="#qualifiers()"><code>qualifiers()</code></a>
 and registered in JNDI by the container
 under the JNDI name that is specified in the
 <a href="#name()"><code>name()</code></a> attribute.</p>

 <p>Application components can refer to this JNDI name in the
 <a href="../../../../jakarta.annotation/jakarta/annotation/Resource.html#lookup()"><code>lookup</code></a> attribute of a
 <a href="../../../../jakarta.annotation/jakarta/annotation/Resource.html" title="annotation interface in jakarta.annotation"><code>Resource</code></a> annotation,</p>

 <pre>
 @ManagedExecutorDefinition(
     name = "java:module/concurrent/MyExecutor",
     qualifiers = MyQualifier.class,
     context = "java:module/concurrent/MyExecutorContext",
     hungTaskThreshold = 120000,
     maxAsync = 5)
 @ContextServiceDefinition(
     name = "java:module/concurrent/MyExecutorContext",
     propagated = { SECURITY, APPLICATION })
 public class MyServlet extends HttpServlet {
     @Inject
     @MyQualifier
     ManagedExecutorService myExecutor1;

     @Resource(lookup = "java:module/concurrent/MyExecutor",
               name = "java:module/concurrent/env/MyExecutorRef")
     ManagedExecutorService myExecutor2;
     ...

 @Qualifier
 @Retention(RetentionPolicy.RUNTIME)
 @Target({ ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.TYPE })
 public @interface MyQualifier {}
 </pre>

 <p>Resource environment references in a deployment descriptor
 can similarly specify the <code>lookup-name</code>,</p>

 <pre>
 &lt;resource-env-ref&gt;
    &lt;resource-env-ref-name&gt;java:module/env/concurrent/MyExecutorRef&lt;/resource-env-ref-name&gt;
    &lt;resource-env-ref-type&gt;jakarta.enterprise.concurrent.ManagedExecutorService&lt;/resource-env-ref-type&gt;
    &lt;lookup-name&gt;java:module/concurrent/MyExecutor&lt;/lookup-name&gt;
 &lt;/resource-env-ref&gt;
 </pre>

 You can also define a <code>ManagedExecutorService</code> with the
 <code>&lt;managed-executor&gt;</code> deployment descriptor element.
 For example,

 <pre>
 &lt;managed-executor&gt;
    &lt;name&gt;java:module/concurrent/MyExecutor&lt;/name&gt;
    &lt;context-service-ref&gt;java:module/concurrent/MyExecutorContext&lt;/context-service-ref&gt;
    &lt;hung-task-threshold&gt;120000&lt;/hung-task-threshold&gt;
    &lt;max-async&gt;5&lt;/max-async&gt;
 &lt;/managed-executor&gt;
 </pre>

 If a <code>managed-executor</code> and <code>ManagedExecutorDefinition</code>
 have the same name, their attributes are merged to define a single
 <code>ManagedExecutorService</code> definition, with each attribute that is specified
 in the <code>managed-executor</code> deployment descriptor entry taking
 precedence over the corresponding attribute of the annotation.
 If any qualifier elements are specified, the set of qualifier elements
 replaces the qualifiers attribute of the annotation.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>3.0</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static @interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ManagedExecutorDefinition.List.html" class="type-name-link" title="annotation interface in jakarta.enterprise.concurrent">ManagedExecutorDefinition.List</a></code></div>
<div class="col-last even-row-color">
<div class="block">Enables multiple <code>ManagedExecutorDefinition</code>
 annotations on the same type.</div>
</div>
</div>
</section>
</li>
<!-- =========== ANNOTATION INTERFACE REQUIRED MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-required-element-summary">
<h2>Required Element Summary</h2>
<div class="caption"><span>Required Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Required Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#name()" class="member-name-link">name</a></code></div>
<div class="col-last even-row-color">
<div class="block">JNDI name of the <a href="ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a> instance.</div>
</div>
</div>
</section>
</li>
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#context()" class="member-name-link">context</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of a <a href="ContextService.html" title="interface in jakarta.enterprise.concurrent"><code>ContextService</code></a> instance which
 determines how context is applied to tasks and actions that
 run on this executor.</div>
</div>
<div class="col-first odd-row-color"><code>long</code></div>
<div class="col-second odd-row-color"><code><a href="#hungTaskThreshold()" class="member-name-link">hungTaskThreshold</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The amount of time in milliseconds that a task or action
 can execute before it is considered hung.</div>
</div>
<div class="col-first even-row-color"><code>int</code></div>
<div class="col-second even-row-color"><code><a href="#maxAsync()" class="member-name-link">maxAsync</a></code></div>
<div class="col-last even-row-color">
<div class="block">Upper bound on contextual tasks and actions that this executor
 will simultaneously execute asynchronously.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</code></div>
<div class="col-second odd-row-color"><code><a href="#qualifiers()" class="member-name-link">qualifiers</a></code></div>
<div class="col-last odd-row-color">
<div class="block">List of required <a href="../../../../jakarta.inject/jakarta/inject/Qualifier.html" title="annotation interface in jakarta.inject"><code>qualifier annotations</code></a>.</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#virtual()" class="member-name-link">virtual</a></code></div>
<div class="col-last even-row-color">
<div class="block">Indicates whether this executor is requested to
 create virtual <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link"><code>threads</code></a>
 for tasks that do not run inline.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">name</span></div>
<div class="block">JNDI name of the <a href="ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a> instance.
 The JNDI name must be in a valid Jakarta EE namespace,
 such as,
 <ul>
 <li>java:comp</li>
 <li>java:module</li>
 <li>java:app</li>
 <li>java:global</li>
 </ul></div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>ManagedExecutorService</code> JNDI name.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="qualifiers()">
<h3>qualifiers</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</span>&nbsp;<span class="element-name">qualifiers</span></div>
<div class="block"><p>List of required <a href="../../../../jakarta.inject/jakarta/inject/Qualifier.html" title="annotation interface in jakarta.inject"><code>qualifier annotations</code></a>.</p>

 <p>A <a href="ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a> injection point
 with these qualifier annotations injects a bean that is
 produced by this <code>ManagedExecutorDefinition</code>.</p>

 <p>The default value is an empty list, indicating that this
 <code>ManagedExecutorDefinition</code> does not automatically produce
 bean instances for any injection points.</p>

 <p>When the qualifiers list is non-empty, the container creates
 a <a href="ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a> instance and registers
 an <a href="../../../../jakarta.cdi/jakarta/enterprise/context/ApplicationScoped.html" title="annotation interface in jakarta.enterprise.context"><code>ApplicationScoped</code></a> bean for it with the specified
 required qualifiers and required type of <code>ManagedExecutorService</code>.
 The life cycle of the bean aligns with the life cycle of the application
 and the bean is not accessible from outside of the application.
 Applications must not configure a <code>java:global</code> <a href="#name()"><code>name</code></a>
 if also configuring a non-empty list of qualifiers.</p>

 <p>Applications can define their own <a href="../../../../jakarta.cdi/jakarta/enterprise/inject/spi/Producer.html" title="interface in jakarta.enterprise.inject.spi"><code>Producers</code></a>
 for <a href="ManagedExecutorService.html" title="interface in jakarta.enterprise.concurrent"><code>ManagedExecutorService</code></a> injection points as long as the
 qualifier annotations on the producer do not conflict with the
 non-empty <a href="#qualifiers()"><code>qualifiers()</code></a> list of a
 <code>ManagedExecutorDefinition</code>.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>list of qualifiers.</dd>
<dt>Since:</dt>
<dd>3.1</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>{}</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="context()">
<h3>context</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">context</span></div>
<div class="block">The name of a <a href="ContextService.html" title="interface in jakarta.enterprise.concurrent"><code>ContextService</code></a> instance which
 determines how context is applied to tasks and actions that
 run on this executor.
 <p>
 The name can be the name of a <a href="ContextServiceDefinition.html" title="annotation interface in jakarta.enterprise.concurrent"><code>ContextServiceDefinition</code></a> or
 the name of a <code>context-service</code> deployment descriptor element
 or the JNDI name of the Jakarta EE default <code>ContextService</code>
 instance, <code>java:comp/DefaultContextService</code>.
 <p>
 The name of the <code>ContextService</code> must be no more granular
 than the name of this <code>ManagedExecutorDefinition</code>. For example,
 if this <code>ManagedExecutorDefinition</code> has a name in <code>java:app</code>,
 the <code>ContextService</code> can be in <code>java:app</code> or <code>java:global</code>,
 but not in <code>java:module</code> which would be ambiguous as to which
 module's <code>ContextService</code> definition should be used.
 <p>
 The default value, <code>java:comp/DefaultContextService</code>, is the
 JNDI name of the Jakarta EE default <code>ContextService</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>name of the <code>ContextService</code> for
         capturing and propagating or clearing context.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>"java:comp/DefaultContextService"</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="hungTaskThreshold()">
<h3>hungTaskThreshold</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">hungTaskThreshold</span></div>
<div class="block"><p>The amount of time in milliseconds that a task or action
 can execute before it is considered hung.</p>

 <p>The default value of <code>-1</code> indicates unlimited.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>number of milliseconds after which a task or action
         is considered hung.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>-1L</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="maxAsync()">
<h3>maxAsync</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">maxAsync</span></div>
<div class="block"><p>Upper bound on contextual tasks and actions that this executor
 will simultaneously execute asynchronously. This constraint does
 not apply to tasks and actions that the executor runs inline,
 such as when a thread requests
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture.join()</code></a> and the
 action runs inline if it has not yet started.
 This constraint does not apply to tasks that are scheduled
 via <a href="Asynchronous.html#runAt()"><code>Asynchronous.runAt()</code></a>.</p>

 <p>The default value of <code>-1</code> indicates unbounded,
 although still subject to resource constraints of the system.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>upper limit on asynchronous execution.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>-1</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="virtual()">
<h3>virtual</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">virtual</span></div>
<div class="block"><p>Indicates whether this executor is requested to
 create virtual <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link"><code>threads</code></a>
 for tasks that do not run inline.
 Virtual threads are discussed in the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link"><code>Thread</code></a> JavaDoc
 under the section that is titled <i><b>Virtual threads</b></i>.</p>

 <p>When <code>true</code>, the executor can create
 virtual threads if it is capable of doing so
 and if the request is not overridden by vendor-specific
 configuration that restricts the use of virtual threads.</p>

 <p>The default is <code>false</code>, indicating that the
 executor must not create virtual threads.</p>

 <p>It should be noted that some tasks, such as
 completion stage actions, can run inline on an existing
 thread in response to events such as the completion of
 another stage or a join operation on the completion stage.
 In situations such as these, the executor does not control
 the type of thread that is used to run the task.</p>

 <p>When running on Java SE 17, the <code>true</code> value
 behaves the same as the <code>false</code> value and results in
 platform threads being created rather than virtual threads.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the executor can create virtual threads,
         otherwise <code>false</code>.</dd>
<dt>Since:</dt>
<dd>3.1</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>false</code></dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><p align="left">Copyright &#169; 2018, 2024 Eclipse Foundation.<br>Use is subject to
<a href="../../../../doc-files/speclicense.html" target="_top">license terms</a>.</small></p>
</footer>
</body>
</html>
