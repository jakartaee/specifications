<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>ViewScoped (Jakarta EE Platform API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: jakarta.faces.view, annotation type: ViewScoped">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>Jakarta EE Platform API v11.0.0</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ViewScoped.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Optional&nbsp;|&nbsp;</li>
<li>Required</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.faces.view</a></div>
<h1 title="Annotation Interface ViewScoped" class="title">Annotation Interface ViewScoped</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="../../enterprise/context/NormalScope.html" title="annotation interface in jakarta.enterprise.context">@NormalScope</a>(<a href="../../enterprise/context/NormalScope.html#passivating()">passivating</a>=true)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Inherited.html" title="class or interface in java.lang.annotation" class="external-link">@Inherited</a>
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>({<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#TYPE" title="class or interface in java.lang.annotation" class="external-link">TYPE</a>,<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#FIELD" title="class or interface in java.lang.annotation" class="external-link">FIELD</a>,<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>})
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">ViewScoped</span></div>
<div class="block"><p class="changed_added_2_2">
 When this annotation, along with <code>
 jakarta.inject.Named</code> is found on a class, the runtime must place the bean in a CDI scope such that it remains active
 as long as <a href="../application/NavigationHandler.html#handleNavigation(jakarta.faces.context.FacesContext,java.lang.String,java.lang.String)"><code>NavigationHandler.handleNavigation(jakarta.faces.context.FacesContext, java.lang.String, java.lang.String)</code></a> does not cause a navigation to a view
 with a viewId that is different than the viewId of the current view. Any injections and notifications required by CDI
 and the Jakarta EE platform must occur as usual at the expected time.
 </p>

 <div class="changed_added_2_2">

 <p>
 If <code>ProjectStage</code> is not <code>ProjectStage.Production</code>, verify that the current
 <a href="../component/UIViewRoot.html" title="class in jakarta.faces.component"><code>UIViewRoot</code></a> does not have its <code>transient</code> property set to <code>true</code>. If so,
 add a <code>FacesMessage</code> for the current <code>viewId</code> to the <code>FacesContext</code> stating
 <code>@ViewScoped</code> beans cannot work if the view is marked as transient. Also log a <code>Level.WARNING</code>
 message to the log. If <code>ProjectStage</code> <strong>is</strong> <code>ProjectStage.Production</code>, do not do
 this verification.
 </p>

 <p>
 The bean must be stored in the map returned from <a href="../component/UIViewRoot.html#getViewMap(boolean)"><code>UIViewRoot.getViewMap(boolean)</code></a>.
 </p>

 <p>
 Use of this annotation requires that any beans stored in view scope must be serializable and proxyable as defined in
 the CDI specification.
 </p>

 <p>
 The runtime must ensure that any methods on the bean annotated with <code>PostConstruct</code> or <code>PreDestroy</code> are
 called when the scope begins and ends, respectively. Two circumstances can cause the scope to end.
 </p>

 <ul>

 <li>
 <p>
 <a href="../context/FacesContext.html#setViewRoot(jakarta.faces.component.UIViewRoot)"><code>FacesContext.setViewRoot(jakarta.faces.component.UIViewRoot)</code></a> is called with the new <code>UIViewRoot</code> being different than
 the current one.
 </p>
 </li>

 <li>
 <p>
 The session, that happened to be active when the bean was created, expires. If no session existed when the bean was
 created, then this circumstance does not apply.
 </p>
 </li>

 </ul>

 <p>
 In the session expiration case, the runtime must ensure that
 <a href="../context/FacesContext.html#getCurrentInstance()"><code>FacesContext.getCurrentInstance()</code></a> returns a valid instance if it is called during the
 processing of the <code>@PreDestroy</code> annotated method. The set of methods on <code>
 FacesContext</code> that are valid to call in this circumstance is identical to those documented as "valid to call this
 method during application startup or shutdown". On the <a href="../context/ExternalContext.html" title="class in jakarta.faces.context"><code>ExternalContext</code></a> returned from
 that <code>
 FacesContext</code>, all of the methods documented as "valid to call this method during application startup or shutdown"
 are valid to call. In addition, the method <a href="../context/ExternalContext.html#getSessionMap()"><code>ExternalContext.getSessionMap()</code></a> is also valid
 to call.
 </p>



 </div>
 
 <p class="changed_added_4_1">
 Events with qualifiers  <code>@Initialized</code>, <code>@BeforeDestroyed</code>, and <code>@Destroyed</code> as defined by the CDI specification  must fire for this built-in scope. 
 </p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.2</dd>
</dl>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><p align="left">Copyright &#169; 2018, 2025 Eclipse Foundation.<br>Use is subject to <a href="../../../doc-files/speclicense.html" target="_top">license terms</a>.</small></p>
</footer>
</div>
</div>
</body>
</html>
