<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) -->
<title>Select (Jakarta Data API documentation)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jakarta.data, package: jakarta.data.repository, annotation type: Select">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>Jakarta Data API v1.1</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Select.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-required-element-summary">Required</a></li>
<li>Optional</li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-required-element-summary">Required</a>&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">jakarta.data</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.data.repository</a></div>
<h1 title="Annotation Interface Select" class="title">Annotation Interface Select</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Repeatable.html" title="class or interface in java.lang.annotation" class="external-link">@Repeatable</a>(<a href="Select.List.html" title="annotation interface in jakarta.data.repository">List.class</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>({<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>,<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#RECORD_COMPONENT" title="class or interface in java.lang.annotation" class="external-link">RECORD_COMPONENT</a>})
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">Select</span></div>
<div class="block"><p>Determines the attribute or attributes of an entity which are returned
 by a <a href="Find.html" title="annotation interface in jakarta.data.repository">parameter-based</a> or <a href="Query.html" title="annotation interface in jakarta.data.repository">annotated</a> query
 method. The subset of entity attributes is referred to as a projection.</p>

 <p>This annotation may be applied to a repository method annotated
 <code>@Find</code> or to a component of a record type.</p>

 <ul>
 <li>At most one <code>@Select</code> annotation may be applied to a <code>@Find</code>
 method that returns an entity attribute type.</li>
 <li>Multiple <code>@Select</code> annotations may be applied to a <code>@Find</code>
 method which returns a record type, one annotation for each component of
 the record type. The number and order of <code>@Select</code> annotations must
 match the number and order of record components.</li>
 <li>At most one <code>@Select</code> annotation may be applied to a component
 of a record type. When applied to a record component, the <code>Select</code>
 annotation affects:<ul>
 <li>every <a href="Find.html" title="annotation interface in jakarta.data.repository"><code>@Find</code></a> method which returns the record type and
     which does not have a <code>@Select</code> annotation, and</li>
 <li>every <a href="Query.html" title="annotation interface in jakarta.data.repository"><code>@Query</code></a> method which returns the record type
     and does not have an explicit <code>SELECT</code> clause.</li>
 </ul></li>
 </ul>

 <p>This annotation must not be used in other locations.</p>

 <p>Sort criteria for a repository method that returns a projection
 can include any of the returned entity attributes that are of sortable type.
 </p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.1</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Find.html" title="annotation interface in jakarta.data.repository"><code>Find</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static @interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Select.List.html" class="type-name-link" title="annotation interface in jakarta.data.repository">Select.List</a></code></div>
<div class="col-last even-row-color">
<div class="block">Enables multiple <a href="Select.html" title="annotation interface in jakarta.data.repository"><code>Select</code></a> annotations on a repository <a href="Find.html" title="annotation interface in jakarta.data.repository"><code>Find</code></a>
 method that returns a Java record type.</div>
</div>
</div>
</section>
</li>
<!-- =========== ANNOTATION INTERFACE REQUIRED MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-required-element-summary">
<h2>Required Element Summary</h2>
<div class="caption"><span>Required Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Required Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#value()" class="member-name-link">value</a></code></div>
<div class="col-last even-row-color">
<div class="block">Name of an entity attribute that has a single-valued
 basic type.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="value()">
<h3>value</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">value</span></div>
<div class="block"><p>Name of an entity attribute that has a single-valued
 basic type. Multiple-valued types such as collections, arrays, and
 associations cannot be retrieved independently of the entity.</p>

 <p>The <code>Select</code> annotation can be used with repository methods
 that return a single entity attribute or multiple entity attributes.</p>

 <h4 id="method-that-returns-single-entity-attributes-heading">Method that returns Single Entity Attributes</h4>

 <p>Place the <code>Select</code> annotation on a repository find method and
 assign the annotation value to be the name of a single entity attribute.
 The result type that is used in the method return type must be the type
 of the entity attribute.</p>

 <p>For example, to return only the <code>price</code> attribute of the
 <code>Car</code> entity that has the supplied <code>vin</code> attribute
 value,</p>

 <pre>
 &#64;Repository
 public interface Cars extends BasicRepository&lt;Car, String&gt; {
     &#64;Find
     &#64;Select(_Car.PRICE)
     Optional&lt;Float&gt; getPrice(@By(_Car.VIN) String vehicleIdNum);
 }
 </pre>

 <h4 id="method-that-returns-java-records-heading">Method that returns Java Records</h4>

 <p>A repository method can return a projection by having the result type
 be a Java record. The <code>Select</code> annotation can be used in the
 following ways to accommodate this.</p>

 <h5 id="annotating-a-repository-method-heading">Annotating a Repository Method</h5>

 <p>Place one or more <code>Select</code> annotations on a repository find
 method and assign the annotation values to be the names of entity
 attributes, corresponding to the order and types of the components
 of the Java record that is used for the result type.</p>

 <p>For example, to return only the <code>model</code>, <code>make</code>, and
 <code>year</code> attributes of a <code>Car</code> entity that has the supplied
 <code>vin</code> attribute value,</p>

 <pre>
 &#64;Repository
 public interface Cars extends BasicRepository&lt;Car, String&gt; {
     record ModelInfo(String model,
                      String manufacturer,
                      int designYear) {}

     &#64;Find
     &#64;Select(_Car.MODEL)
     &#64;Select(_Car.MAKE)
     &#64;Select(_Car.YEAR)
     Optional&lt;ModelInfo&gt; getModelInfo(@By(_Car.VIN) String vehicleIdNum);
 }
 </pre>

 <h5 id="annotating-a-record-component-heading">Annotating a Record Component</h5>

 <p>Place the <code>Select</code> annotation on each record component of the
 Java record that is used as the result type of the repository method.
 Assign the annotation value to be the name of an entity attribute that
 has the same type as the record component.</p>

 <pre>
 &#64;Repository
 public interface Cars extends BasicRepository&lt;Car, String&gt; {
     record ModelInfo(&#64;Select(_Car.MODEL) String model,
                      &#64;Select(_Car.MAKE) String manufacturer,
                      &#64;Select(_Car.YEAR) int designYear) {}

     &#64;Find
     Optional&lt;ModelInfo&gt; getModelInfo(@By(_Car.VIN) String vehicleIdNum);
 }
 </pre>

 <p>For more concise code, the <code>Select</code> annotation can be omitted
 from a record component that has the same name as the entity attribute,
 such as <code>model</code> in the above example.</p>

 <p>The examples above use the
 <a href="../metamodel/package-summary.html">static metamodel</a>, to
 avoid hard coding String values for the entity attribute names.</p></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Comments to: <a href="mailto:data-dev@eclipse.org">data-dev@eclipse.org</a>.<br>Copyright &#169; 2024 Eclipse Foundation. All rights reserved.<br>Use is subject to <a href="../../../../doc-files/speclicense.html" target="_top">license terms</a>.</small></p>
</footer>
</div>
</div>
</body>
</html>
