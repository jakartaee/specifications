<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>Save (Jakarta Data API 1.0.0-M2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jakarta.data, package: jakarta.data.repository, annotation type: Save">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Save.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li>Required</li>
<li>Optional</li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Element</li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">jakarta.data</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.data.repository</a></div>
<h1 title="Annotation Interface Save" class="title">Annotation Interface Save</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">Save</span></div>
<div class="block"><p>Annotates a repository method that updates entities if found in the database
 and inserts entities into the database that are not found.
 This method must have a single parameter whose type must be one of the following:
 </p>
 <ul>
     <li>The entity to be saved.</li>
     <li>An <code>Iterable</code> of entities to be saved.</li>
     <li>An array of entities to be saved.</li>
 </ul>
 <p>The return type of an annotated method that requires a single entity as the parameter
 must have a return type that is <code>void</code>, <code>Void</code>, or the same type as the parameter.
 The return type of an annotated method that accepts an <code>Iterable</code> or array of entities
 as the parameter must have a return type that is <code>void</code>, <code>Void</code>,
 or an <code>Iterable</code> or array of the entity.
 </p>
 <p>Saving an entity involves persisting it in the database. If the entity has an ID or key that already exists
 in the database, the method will update the existing record. If the entity does not exist in the database or has a
 null ID, this method will insert a new record. The entity instance returned by this method will be updated with
 any automatically generated or incremented values that changed due to the save operation.
 </p>
 <p>Entities that are returned by the annotated method must include all values that were
 written to the database, including all automatically generated values and incremented values
 that changed due to the save. The position of entities within an <code>Iterable</code> or array return value
 must correspond to the position of entities in the parameter based on the unique identifier of the entity.</p>
 <p>After invoking this method, avoid using the entity value that was supplied as a parameter, because it might not accurately
 reflect the changes made during the save process. If the entity uses optimistic locking and its version differs from
 the version in the database, an <a href="../exceptions/OptimisticLockingFailureException.html" title="class in jakarta.data.exceptions"><code>OptimisticLockingFailureException</code></a> will be thrown.
 </p>

 <p>For example, consider an interface representing a garage:</p>
 <pre>
 <code>@Repository</code>
 interface Garage {
     <code>@Save</code>
     Car park(Car car);
 }
 </pre>
 <p>The <code>@Save</code> annotation can be used to indicate that the <code>park(Car)</code> method is responsible
 for updating the entity in the database if it already exists there and otherwise inserting
 a car entity into a database.
 </p>

 <p>If this annotation is combined with other operation annotations (e.g., <code>@Update</code>, <code>@Delete</code>,
  <code>@Insert</code>), it will throw an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link"><code>UnsupportedOperationException</code></a> because only one operation type can be specified.
  A Jakarta Data provider implementation must detect (and report) this error at compile time or at runtime.</p></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../exceptions/OptimisticLockingFailureException.html" title="class in jakarta.data.exceptions"><code>OptimisticLockingFailureException</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="details" id="annotation-interface-element-detail"></section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2017&#x2013;2020 <a href="https://www.eclipse.org">Eclipse Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
