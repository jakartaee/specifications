<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Update (Jakarta Data API 1.0.0-M1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jakarta.data, package: jakarta.data.repository, annotation type: Update">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Update.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Optional&nbsp;|&nbsp;</li>
<li>Required</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">jakarta.data</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jakarta.data.repository</a></div>
<h1 title="Annotation Interface Update" class="title">Annotation Interface Update</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">Update</span></div>
<div class="block"><p>The <code>Update</code> annotation indicates that the annotated repository method requests that one or more entities
 be updated if found in the database. This method must have a single parameter whose type must be one of the following:
 </p>
 <ul>
     <li>The entity to be updated.</li>
     <li>An <code>Iterable</code> of entities to be updated.</li>
     <li>An array of entities to be updated.</li>
 </ul>
 <p>The return type of the annotated method must be <code>void</code>, <code>boolean</code>, a numeric primitive type
 (such as <code>int</code>), a corresponding primitive wrapper type (such as <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link"><code>Integer</code></a>), or the same type as the parameter.
 </p>
 <p>
 A boolean return type indicates whether a matching entity was found in the database to update.
 A numeric return type indicates how many matching entities were found in the database to update.
 An entity return type indicates the updated entity if found in the database. If the entity is not found
 in the database or has a non-matching version, then <code>null</code> is returned.
 An <code>Iterable</code> or array return type includes all matching entities that are found in the database,
 skipping over entities that are not present in the database or have a non-matching version.
 For example, if the method is annotated with <code>@Update</code> and takes a parameter of type <code>Car car</code>,
 the return type can be <code>Car</code>.
 Similarly, if the parameter is an <code>Iterable&lt;Car&gt;</code> or an array of <code>Car</code>, the return type can be
 <code>Iterable&lt;Car&gt;</code>.
 Entities that are returned by the annotated method must include all values that were
 written to the database, including all automatically generated values, updated versions and incremented values
 that changed due to the update. The order of entities within an <code>Iterable</code> or array return value
 must correspond to the position of entities in the parameter based on the unique identifier of the entity,
 leaving out those that did not match the unique identifier and version that is in the database.
 </p>
 <p>Updating an entity involves modifying its existing data in the database. The method will search for the entity
 in the database using its ID (and version, if versioned) and then update the corresponding record with the new data. After invoking
 this method, do not continue to use the entity value that is supplied as a parameter, as it may not accurately
 reflect the changes made during the update process.
 </p>
 <p>If the entity does not exist in the database or it is versioned and its version differs from the version in the database,
 no update is made and no error is raised.
 </p>
<p>
 In databases that use an append model to write data or follow the BASE model, this method
 behaves the same as the <code>@Insert</code> method.
  </p>
 <p>For example, consider an interface representing a garage:</p>
 <pre>
 &#64;Repository
 interface Garage {
     @Update
     Car update(Car car);
 }
 </pre>
 <p>If this annotation is combined with other operation annotations (e.g., <code>@Insert</code>, <code>@Delete</code>,
 <code>@Save</code>), it will throw an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link"><code>UnsupportedOperationException</code></a> because only one operation type can be specified.
 A Jakarta Data provider implementation must detect (and report) this error at compile time or at runtime.</p></div>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2017&#x2013;2020 <a href="https://www.eclipse.org">Eclipse Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
