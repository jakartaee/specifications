<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.17) on Thu Dec 29 09:31:43 BRT 2022 -->
<title>KeysetAwareSlice (Jakarta Data API 1.0.0-b1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2022-12-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KeysetAwareSlice (Jakarta Data API 1.0.0-b1 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KeysetAwareSlice.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="moduleLabelInType">Module</span>&nbsp;<a href="../../../module-summary.html">jakarta.data.api</a></div>
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">jakarta.data.repository</a></div>
<h2 title="Interface KeysetAwareSlice" class="title">Interface KeysetAwareSlice&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of elements in this slice</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;T&gt;</code>, <code><a href="Slice.html" title="interface in jakarta.data.repository">Slice</a>&lt;T&gt;</code>, <code><a href="Streamable.html" title="interface in jakarta.data.repository">Streamable</a>&lt;T&gt;</code></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="KeysetAwarePage.html" title="interface in jakarta.data.repository">KeysetAwarePage</a>&lt;T&gt;</code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">KeysetAwareSlice&lt;T&gt;</span>
extends <a href="Slice.html" title="interface in jakarta.data.repository">Slice</a>&lt;T&gt;</pre>
<div class="block"><p>Keyset pagination is a form of pagination that aims to reduce the
 possibility of missed or duplicate results by making the request for
 each subsequent page relative to the observed values of entity properties
 from the current page. This list of values is referred to as the keyset
 and only includes values of entity properties that are in the sort criteria
 of the repository method. The combination of sort criteria must uniquely
 identify each entity. The keyset values can be from the last entity
 (for pagination in a forward direction) or first entity on the page
 (if requesting pages in a reverse direction),
 or can be any other desired list of values which serve as a new starting
 point. Keyset pagination also has the potential to improve performance
 by avoiding the fetching and ordering of results from prior pages
 because these become non-matching.</p>

 <p>To use keyset pagination, define a repository method with return value of
 <a href="KeysetAwareSlice.html" title="interface in jakarta.data.repository"><code>KeysetAwareSlice</code></a> or <a href="KeysetAwarePage.html" title="interface in jakarta.data.repository"><code>KeysetAwarePage</code></a> and which accepts a
 special parameter (after the normal query parameters) that is a
 <a href="Pageable.html" title="interface in jakarta.data.repository"><code>Pageable</code></a>. For example,</p>

 <pre>
 &#64;OrderBy("lastName")
 &#64;OrderBy("firstName")
 &#64;OrderBy("id")
 KeysetAwareSlice&lt;Employee&gt; findByHoursWorkedGreaterThan(int hours, Pageable pagination);
 </pre>

 <p>You can use a normal <a href="Pageable.html" title="interface in jakarta.data.repository"><code>Pageable</code></a> to request an initial page,</p>

 <pre>
 page = employees.findByHoursWorkedGreaterThan(1500, Pageable.ofSize(50));
 </pre>

 <p>For subsequent pages, you can request pagination relative to the
 end of the current page as follows,</p>

 <pre>
 page = employees.findByHoursWorkedGreaterThan(1500, page.nextPageable());
 </pre>

 <p>Because the page is keyset aware, the <a href="Pageable.html" title="interface in jakarta.data.repository"><code>Pageable</code></a>
 that it returns from the call to <a href="#nextPageable()"><code>nextPageable()</code></a>
 above is based upon a keyset from that page to use as a starting point
 after which the results for the next page are to be found.</p>

 <p>You can also construct a <a href="Pageable.html" title="interface in jakarta.data.repository"><code>Pageable</code></a> with a <a href="Pageable.Cursor.html" title="interface in jakarta.data.repository"><code>Cursor</code></a> directly, which
 allows you to make it relative to a specific list of values. The number and
 order of values must match that of the <a href="OrderBy.html" title="annotation in jakarta.data.repository"><code>OrderBy</code></a> annotations,
 <a href="Pageable.html#sortBy(jakarta.data.repository.Sort...)"><code>Pageable.sortBy(Sort...)</code></a> or <a href="Pageable.html#sortBy(java.lang.Iterable)"><code>Pageable.sortBy(Iterable)</code></a> parameters,
 or <code>OrderBy</code> name pattern of the repository method.
 For example,</p>

 <pre>
 Employee emp = ...
 Pageable pagination = Pageable.ofSize(50).afterKeyset(emp.lastName, emp.firstName, emp.id);
 page = employees.findByHoursWorkedGreaterThan(1500, pagination);
 </pre>

 <p>By making the query for the next page relative to observed values,
 not a numerical position, keyset pagination is less vulnerable to changes
 that are made to data in between page requests. Adding or removing entities
 is possible without causing unexpected missed or duplicate results.
 Keyset pagination does not prevent misses and duplicates if the entity
 properties which are the sort criteria for existing entities are modified
 or if an entity is re-added with different sort criteria after having
 previously been removed.</p>

 <h2>Keyset Pagination with &#64;Query</h2>

 <p>Keyset pagination involves generating and appending to the query
 additional query conditions for the keyset properties. In order for that to
 be possible, a user-provided
 <a href="https://eclipse-ee4j.github.io/jakartaee-tutorial/#full-query-language-syntax">JPQL</a>
 query must end with a
 <code>WHERE</code> clause to which additional conditions can be appended.
 Enclose the entire conditional expression of the <code>WHERE</code> clause
 in parenthesis.
 Sort criteria must be specified independently from the user-provided query,
 either with the <a href="OrderBy.html" title="annotation in jakarta.data.repository"><code>OrderBy</code></a> annotation or
 <a href="Pageable.html#sortBy(jakarta.data.repository.Sort...)"><code>Pageable.sortBy(Sort...)</code></a> or <a href="Pageable.html#sortBy(java.lang.Iterable)"><code>Pageable.sortBy(Iterable)</code></a> parameters.
 For example,</p>

 <pre>
 &#64;Query("SELECT o FROM Customer o WHERE (o.ordersPlaced &gt;= ?1 OR o.totalSpent &gt;= ?2)")
 &#64;OrderBy("zipcode")
 &#64;OrderBy("birthYear")
 &#64;OrderBy("id")
 KeysetAwareSlice&lt;Customer&gt; getTopBuyers(int minOrders, float minSpent, Pageable pagination);
 </pre>

 <h2>Page Numbers and Totals</h2>

 <p>Page numbers, total numbers of elements across all pages, and total
 count of pages are not accurate when keyset pagination is used and should
 not be relied upon.</p>

 <h2>Database Support for Keyset Pagination</h2>

 <p>A repository method with return type of <code>KeysetAwareSlice</code> or
 <a href="KeysetAwarePage.html" title="interface in jakarta.data.repository"><code>KeysetAwarePage</code></a> must raise <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>UnsupportedOperationException</code></a>
 if the database is incapable of keyset pagination.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="Pageable.Cursor.html" title="interface in jakarta.data.repository">Pageable.Cursor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKeysetCursor(int)">getKeysetCursor</a></span>&#8203;(int&nbsp;index)</code></th>
<td class="colLast">
<div class="block">Returns a <a href="Pageable.Cursor.html" title="interface in jakarta.data.repository"><code>Cursor</code></a> for keyset values at the
 specified position.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="Pageable.html" title="interface in jakarta.data.repository">Pageable</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nextPageable()">nextPageable</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns pagination information for requesting the next page
 in a forward direction from the current page.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="Pageable.html" title="interface in jakarta.data.repository">Pageable</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#previousPageable()">previousPageable</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns pagination information for requesting the previous page
 in a reverse direction from the current page.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Iterable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html?is-external=true#forEach(java.util.function.Consumer)" title="class or interface in java.lang" class="externalLink">forEach</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html?is-external=true#iterator()" title="class or interface in java.lang" class="externalLink">iterator</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html?is-external=true#spliterator()" title="class or interface in java.lang" class="externalLink">spliterator</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.jakarta.data.repository.Slice">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;jakarta.data.repository.<a href="Slice.html" title="interface in jakarta.data.repository">Slice</a></h3>
<code><a href="Slice.html#content()">content</a>, <a href="Slice.html#hasContent()">hasContent</a>, <a href="Slice.html#numberOfElements()">numberOfElements</a>, <a href="Slice.html#pageable()">pageable</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.jakarta.data.repository.Streamable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;jakarta.data.repository.<a href="Streamable.html" title="interface in jakarta.data.repository">Streamable</a></h3>
<code><a href="Streamable.html#stream()">stream</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getKeysetCursor(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeysetCursor</h4>
<pre class="methodSignature"><a href="Pageable.Cursor.html" title="interface in jakarta.data.repository">Pageable.Cursor</a>&nbsp;getKeysetCursor&#8203;(int&nbsp;index)</pre>
<div class="block">Returns a <a href="Pageable.Cursor.html" title="interface in jakarta.data.repository"><code>Cursor</code></a> for keyset values at the
 specified position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - position (0 is first) of a result on the page.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>cursor for keyset values at the specified position.</dd>
</dl>
</li>
</ul>
<a id="nextPageable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextPageable</h4>
<pre class="methodSignature"><a href="Pageable.html" title="interface in jakarta.data.repository">Pageable</a>&nbsp;nextPageable()</pre>
<div class="block"><p>Returns pagination information for requesting the next page
 in a forward direction from the current page. This method computes a
 keyset from the last entity of the current page and includes the
 keyset in the pagination information so that it can be used to
 obtain the next slice in a forward direction according to the
 sort criteria and relative to that entity.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Slice.html#nextPageable()">nextPageable</a></code>&nbsp;in interface&nbsp;<code><a href="Slice.html" title="interface in jakarta.data.repository">Slice</a>&lt;<a href="KeysetAwareSlice.html" title="type parameter in KeysetAwareSlice">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>pagination information for requesting the next page, or
         <code>null</code> if the current page is empty
         or if it is known that there is not a next page.</dd>
</dl>
</li>
</ul>
<a id="previousPageable()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>previousPageable</h4>
<pre class="methodSignature"><a href="Pageable.html" title="interface in jakarta.data.repository">Pageable</a>&nbsp;previousPageable()</pre>
<div class="block"><p>Returns pagination information for requesting the previous page
 in a reverse direction from the current page. This method computes a
 keyset from the first entity of the current page and includes the
 keyset in the pagination information so that it can be used to
 obtain the previous slice in a reverse direction to the sort criteria
 and relative to that entity. Within a single page, results are not
 reversed and remain ordered according to the sort criteria.</p>

 <p>Page numbers are not accurate and should not be relied upon when
 using keyset pagination. Jakarta Data providers should aim to at least
 avoid returning negative or <code>0</code> as page numbers when
 traversing pages in the reverse direction (this might otherwise occur
 when matching entities are added prior to the first page and the
 previous page is requested) by assigning a page number of <code>1</code>
 to such pages. This means that there can be multiple consecutive pages
 numbered <code>1</code> and that
 <code>currentPage.previousPageable().next().page()</code>
 cannot be relied upon to return a page number that is equal to the
 current page number.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>pagination information for requesting the previous page, or
         <code>null</code> if the current page is empty
         or if it is known that there is not a previous page.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KeysetAwareSlice.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2017&#x2013;2022 <a href="https://www.eclipse.org">Eclipse Foundation</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
